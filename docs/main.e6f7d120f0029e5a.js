"use strict";(self.webpackChunkInvFurniture=self.webpackChunkInvFurniture||[]).push([[179],{6217:(Gt,Ge,k)=>{k.d(Ge,{nm:()=>gi});var p=k(4976);k(4650),k(259);var fe=k(5861),tt=k(6881),Ce=k(4859),ot=k(2090),Ze=k(1877);const Ie=new Map,It={activated:!1,tokenObservers:[]},qt={initialized:!1,enabled:!1};function _t(be){return Ie.get(be)||Object.assign({},It)}function Rt(){return qt}class st{constructor(_e,Oe,ut,Tt,Tn){if(this.operation=_e,this.retryPolicy=Oe,this.getWaitDuration=ut,this.lowerBound=Tt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(_e){var Oe=this;return(0,fe.Z)(function*(){Oe.stop();try{Oe.pending=new ot.BH,yield function ct(be){return new Promise(_e=>{setTimeout(_e,be)})}(Oe.getNextRun(_e)),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new ot.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(ut){Oe.retryPolicy(ut)?Oe.process(!1).catch(()=>{}):Oe.stop()}})()}getNextRun(_e){if(_e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const Vt=new ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zt(be){if(!_t(be).activated)throw Vt.create("use-before-activation",{appName:be.name})}function zn(be,_e){return tr.apply(this,arguments)}function tr(){return(tr=(0,fe.Z)(function*({url:be,body:_e},Oe){const ut={"Content-Type":"application/json"},Tt=Oe.getImmediate({optional:!0});if(Tt){const kr=yield Tt.getHeartbeatsHeader();kr&&(ut["X-Firebase-Client"]=kr)}const Tn={method:"POST",body:JSON.stringify(_e),headers:ut};let qn,Zn;try{qn=yield fetch(be,Tn)}catch(kr){throw Vt.create("fetch-network-error",{originalErrorMessage:kr?.message})}if(200!==qn.status)throw Vt.create("fetch-status-error",{httpStatus:qn.status});try{Zn=yield qn.json()}catch(kr){throw Vt.create("fetch-parse-error",{originalErrorMessage:kr?.message})}const Pn=Zn.ttl.match(/^([\d.]+)(s)$/);if(!Pn||!Pn[2]||isNaN(Number(Pn[1])))throw Vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zn.ttl}`});const $i=1e3*Number(Pn[1]),Ni=Date.now();return{token:Zn.token,expireTimeMillis:Ni+$i,issuedAtTimeMillis:Ni}})).apply(this,arguments)}function $t(be,_e){const{projectId:Oe,appId:ut,apiKey:Tt}=be.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Oe}/apps/${ut}:exchangeDebugToken?key=${Tt}`,body:{debug_token:_e}}}const cr="firebase-app-check-store";let An=null;function hn(){return An||(An=new Promise((be,_e)=>{try{const Oe=indexedDB.open("firebase-app-check-database",1);Oe.onsuccess=ut=>{be(ut.target.result)},Oe.onerror=ut=>{var Tt;_e(Vt.create("storage-open",{originalErrorMessage:null===(Tt=ut.target.error)||void 0===Tt?void 0:Tt.message}))},Oe.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore(cr,{keyPath:"compositeKey"})}}catch(Oe){_e(Vt.create("storage-open",{originalErrorMessage:Oe?.message}))}}),An)}function an(){return(an=(0,fe.Z)(function*(be,_e){const ut=(yield hn()).transaction(cr,"readwrite"),Tn=ut.objectStore(cr).put({compositeKey:be,value:_e});return new Promise((qn,Zn)=>{Tn.onsuccess=Pn=>{qn()},ut.onerror=Pn=>{var $i;Zn(Vt.create("storage-set",{originalErrorMessage:null===($i=Pn.target.error)||void 0===$i?void 0:$i.message}))}})})).apply(this,arguments)}const hr=new Ze.Yd("@firebase/app-check");function un(be,_e){return(0,ot.hl)()?function jr(be,_e){return function _n(be,_e){return an.apply(this,arguments)}(function Rn(be){return`${be.options.appId}-${be.name}`}(be),_e)}(be,_e).catch(Oe=>{hr.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function zr(){return Rt().enabled}function Sn(){return bn.apply(this,arguments)}function bn(){return(bn=(0,fe.Z)(function*(){const be=Rt();if(be.enabled&&be.token)return be.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rr={error:"UNKNOWN_ERROR"};function sr(be){return ot.US.encodeString(JSON.stringify(be),!1)}function Xe(be){return K.apply(this,arguments)}function K(){return(K=(0,fe.Z)(function*(be,_e=!1){const Oe=be.app;Zt(Oe);const ut=_t(Oe);let Tn,Tt=ut.token;if(Tt&&!H(Tt)&&(ut.token=void 0,Tt=void 0),!Tt){const Pn=yield ut.cachedTokenPromise;Pn&&(H(Pn)?Tt=Pn:yield un(Oe,void 0))}if(!_e&&Tt&&H(Tt))return{token:Tt.token};let Zn,qn=!1;if(zr()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=zn($t(Oe,yield Sn()),be.heartbeatServiceProvider).finally(()=>{ut.exchangeTokenPromise=void 0}),qn=!0);const Pn=yield ut.exchangeTokenPromise;return yield un(Oe,Pn),ut.token=Pn,{token:Pn.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().finally(()=>{ut.exchangeTokenPromise=void 0}),qn=!0),Tt=yield _t(Oe).exchangeTokenPromise}catch(Pn){"appCheck/throttled"===Pn.code?hr.warn(Pn.message):hr.error(Pn),Tn=Pn}return Tt?Tn?Zn=H(Tt)?{token:Tt.token,internalError:Tn}:Ee(Tn):(Zn={token:Tt.token},ut.token=Tt,yield un(Oe,Tt)):Zn=Ee(Tn),qn&&q(Oe,Zn),Zn})).apply(this,arguments)}function Le(){return(Le=(0,fe.Z)(function*(be){const _e=be.app;Zt(_e);const{provider:Oe}=_t(_e);if(zr()){const ut=yield Sn(),{token:Tt}=yield zn($t(_e,ut),be.heartbeatServiceProvider);return{token:Tt}}{const{token:ut}=yield Oe.getToken();return{token:ut}}})).apply(this,arguments)}function ie(be,_e){const Oe=_t(be),ut=Oe.tokenObservers.filter(Tt=>Tt.next!==_e);0===ut.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Oe.tokenObservers=ut}function oe(be){const{app:_e}=be,Oe=_t(_e);let ut=Oe.tokenRefresher;ut||(ut=function Y(be){const{app:_e}=be;return new st((0,fe.Z)(function*(){let ut;if(ut=_t(_e).token?yield Xe(be,!0):yield Xe(be),ut.error)throw ut.error;if(ut.internalError)throw ut.internalError}),()=>!0,()=>{const Oe=_t(_e);if(Oe.token){let ut=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,Oe.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},3e4,96e4)}(be),Oe.tokenRefresher=ut),!ut.isRunning()&&Oe.isTokenAutoRefreshEnabled&&ut.start()}function q(be,_e){const Oe=_t(be).tokenObservers;for(const ut of Oe)try{"EXTERNAL"===ut.type&&null!=_e.error?ut.error(_e.error):ut.next(_e)}catch{}}function H(be){return be.expireTimeMillis-Date.now()>0}function Ee(be){return{token:sr(rr),error:be}}class rt{constructor(_e,Oe){this.app=_e,this.heartbeatServiceProvider=Oe}_delete(){const{tokenObservers:_e}=_t(this.app);for(const Oe of _e)ie(this.app,Oe.next);return Promise.resolve()}}const Bi="app-check-internal";!function Di(){(0,tt._registerComponent)(new Ce.wA("app-check",be=>function St(be,_e){return new rt(be,_e)}(be.getProvider("app").getImmediate(),be.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((be,_e,Oe)=>{be.getProvider(Bi).initialize()})),(0,tt._registerComponent)(new Ce.wA(Bi,be=>function Yt(be){return{getToken:_e=>Xe(be,_e),getLimitedUseToken:()=>function le(be){return Le.apply(this,arguments)}(be),addTokenListener:_e=>function wt(be,_e,Oe,ut){const{app:Tt}=be,Tn=_t(Tt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Oe,error:ut,type:_e}],Tn.token&&H(Tn.token)){const Zn=Tn.token;Promise.resolve().then(()=>{Oe({token:Zn.token}),oe(be)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>oe(be))}(be,"INTERNAL",_e),removeTokenListener:_e=>ie(be.app,_e)}}(be.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.8.0")}();class gi{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},1205:(Gt,Ge,k)=>{k.d(Ge,{zQ:()=>Dr,rT:()=>qt,f7:()=>xt,L6:()=>Ie,_Q:()=>It,lh:()=>_t,Qv:()=>Ze,nw:()=>Rt});var p=k(4650),U=k(7579),$=k(9646),me=k(9751),de=k(8996),Te=k(6451),Ae=k(5363),ue=k(3900),Ne=k(4004),re=k(6063);class ce extends U.x{constructor(Fe=1/0,Be=1/0,He=re.l){super(),this._bufferSize=Fe,this._windowTime=Be,this._timestampProvider=He,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Be===1/0,this._bufferSize=Math.max(1,Fe),this._windowTime=Math.max(1,Be)}next(Fe){const{isStopped:Be,_buffer:He,_infiniteTimeWindow:st,_timestampProvider:ct,_windowTime:Et}=this;Be||(He.push(Fe),!st&&He.push(ct.now()+Et)),this._trimBuffer(),super.next(Fe)}_subscribe(Fe){this._throwIfClosed(),this._trimBuffer();const Be=this._innerSubscribe(Fe),{_infiniteTimeWindow:He,_buffer:st}=this,ct=st.slice();for(let Et=0;Et<ct.length&&!Fe.closed;Et+=He?1:2)Fe.next(ct[Et]);return this._checkFinalizedStatuses(Fe),Be}_trimBuffer(){const{_bufferSize:Fe,_timestampProvider:Be,_buffer:He,_infiniteTimeWindow:st}=this,ct=(st?1:2)*Fe;if(Fe<1/0&&ct<He.length&&He.splice(0,He.length-ct),!st){const Et=Be.now();let Vt=0;for(let At=1;At<He.length&&He[At]<=Et;At+=2)Vt=At;Vt&&He.splice(0,Vt+1)}}}var ve=k(3099);function dt(Pe,Fe,Be){let He,st=!1;return Pe&&"object"==typeof Pe?({bufferSize:He=1/0,windowTime:Fe=1/0,refCount:st=!1,scheduler:Be}=Pe):He=Pe??1/0,(0,ve.B)({connector:()=>new ce(He,Fe,Be),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:st})}var it=k(590),We=k(576);function Mt(Pe,Fe){return(0,We.m)(Fe)?(0,ue.w)(()=>Pe,Fe):(0,ue.w)(()=>Pe)}var Ke=k(9468),ke=k(9300),bt=k(4976),vt=k(2011),fe=k(6895),tt=k(6217);k(9260);const Ze=new p.OlP("angularfire2.auth.use-emulator"),Ie=new p.OlP("angularfire2.auth.settings"),It=new p.OlP("angularfire2.auth.tenant-id"),qt=new p.OlP("angularfire2.auth.langugage-code"),_t=new p.OlP("angularfire2.auth.use-device-language"),xt=new p.OlP("angularfire.auth.persistence"),Rt=(Pe,Fe,Be,He,st,ct,Et,Vt)=>(0,vt.cc)(`${Pe.name}.auth`,"AngularFireAuth",Pe.name,()=>{const At=Fe.runOutsideAngular(()=>Pe.auth());if(Be&&At.useEmulator(...Be),He&&(At.tenantId=He),At.languageCode=st,ct&&At.useDeviceLanguage(),Et)for(const[Zt,ln]of Object.entries(Et))At.settings[Zt]=ln;return Vt&&At.setPersistence(Vt),At},[Be,He,st,ct,Et,Vt]);let Dr=(()=>{class Pe{constructor(Be,He,st,ct,Et,Vt,At,Zt,ln,yn,zn,tr){const jn=new U.x,Bn=(0,$.of)(void 0).pipe((0,Ae.Q)(Et.outsideAngular),(0,ue.w)(()=>ct.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,Ne.U)(()=>(0,vt.on)(Be,ct,He)),(0,Ne.U)($t=>Rt($t,ct,Vt,Zt,ln,yn,At,zn)),dt({bufferSize:1,refCount:!1}));if((0,fe.PM)(st))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Bn.pipe((0,it.P)()).subscribe();const Wn=Bn.pipe((0,ue.w)(Ct=>Ct.getRedirectResult().then(An=>An,()=>null)),bt.iC,dt({bufferSize:1,refCount:!1})),Cr=Bn.pipe((0,ue.w)(Ct=>new me.y(An=>({unsubscribe:ct.runOutsideAngular(()=>Ct.onAuthStateChanged(hn=>An.next(hn),hn=>An.error(hn),()=>An.complete()))})))),cr=Bn.pipe((0,ue.w)(Ct=>new me.y(An=>({unsubscribe:ct.runOutsideAngular(()=>Ct.onIdTokenChanged(hn=>An.next(hn),hn=>An.error(hn),()=>An.complete()))}))));this.authState=Wn.pipe(Mt(Cr),(0,Ke.R)(Et.outsideAngular),(0,Ae.Q)(Et.insideAngular)),this.user=Wn.pipe(Mt(cr),(0,Ke.R)(Et.outsideAngular),(0,Ae.Q)(Et.insideAngular)),this.idToken=this.user.pipe((0,ue.w)(Ct=>Ct?(0,de.D)(Ct.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,ue.w)(Ct=>Ct?(0,de.D)(Ct.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Te.T)(Wn,jn,this.authState.pipe((0,ke.h)(Ct=>!Ct))).pipe((0,Ne.U)(Ct=>Ct?.user?Ct:null),(0,Ke.R)(Et.outsideAngular),(0,Ae.Q)(Et.insideAngular))}return(0,vt.pX)(this,Bn,ct,{spy:{apply:($t,Wn,Cr)=>{($t.startsWith("signIn")||$t.startsWith("createUser"))&&Cr.then(cr=>jn.next(cr))}}})}}return Pe.\u0275fac=function(Be){return new(Be||Pe)(p.LFG(vt.Dh),p.LFG(vt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(bt.HU),p.LFG(Ze,8),p.LFG(Ie,8),p.LFG(It,8),p.LFG(qt,8),p.LFG(_t,8),p.LFG(xt,8),p.LFG(tt.nm,8))},Pe.\u0275prov=p.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"any"}),Pe})()},33:(Gt,Ge,k)=>{k.d(Ge,{ST:()=>rr,yb:()=>sr});var p=k(4650),U=k(4986),$=k(9751),me=k(8996),de=k(9646),Te=k(4976),Ae=k(8675),ue=k(4482),Ne=k(5403);function re(){return(0,ue.e)((Xe,K)=>{let le,Le=!1;Xe.subscribe((0,Ne.x)(K,wt=>{const ie=le;le=wt,Le&&K.next([ie,wt]),Le=!0}))})}var ce=k(4004),ve=k(5026),dt=k(4671);function We(Xe,K){return Xe===K}var Mt=k(9300),Ke=k(2011),ke=k(6895),vt=(k(9568),k(3942)),fe=k(2810),tt=k(2090),Ce=k(4859);function Ie(Xe,K){if(void 0===K)return{merge:!1};if(void 0!==K.mergeFields&&void 0!==K.merge)throw new fe.WA("invalid-argument",`Invalid options passed to function ${Xe}(): You cannot specify both "merge" and "mergeFields".`);return K}function It(){if(typeof Uint8Array>"u")throw new fe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function qt(){if(!(0,fe.Me)())throw new fe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _t{constructor(K){this._delegate=K}static fromBase64String(K){return qt(),new _t(fe.Jj.fromBase64String(K))}static fromUint8Array(K){return It(),new _t(fe.Jj.fromUint8Array(K))}toBase64(){return qt(),this._delegate.toBase64()}toUint8Array(){return It(),this._delegate.toUint8Array()}isEqual(K){return this._delegate.isEqual(K._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xt(Xe){return function Rt(Xe,K){if("object"!=typeof Xe||null===Xe)return!1;const le=Xe;for(const Le of K)if(Le in le&&"function"==typeof le[Le])return!0;return!1}(Xe,["next","error","complete"])}class Dr{enableIndexedDbPersistence(K,le){return(0,fe.ST)(K._delegate,{forceOwnership:le})}enableMultiTabIndexedDbPersistence(K){return(0,fe.fH)(K._delegate)}clearIndexedDbPersistence(K){return(0,fe.Fc)(K._delegate)}}class qe{constructor(K,le,Le){this._delegate=le,this._persistenceProvider=Le,this.INTERNAL={delete:()=>this.terminate()},K instanceof fe.l7||(this._appCompat=K)}get _databaseId(){return this._delegate._databaseId}settings(K){const le=this._delegate._getSettings();!K.merge&&le.host!==K.host&&(0,fe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),K.merge&&delete(K=Object.assign(Object.assign({},le),K)).merge,this._delegate._setSettings(K)}useEmulator(K,le,Le={}){(0,fe.at)(this._delegate,K,le,Le)}enableNetwork(){return(0,fe.Ix)(this._delegate)}disableNetwork(){return(0,fe.TF)(this._delegate)}enablePersistence(K){let le=!1,Le=!1;return K&&(le=!!K.synchronizeTabs,Le=!!K.experimentalForceOwningTab,(0,fe.Wi)("synchronizeTabs",le,"experimentalForceOwningTab",Le)),le?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Le)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,fe.Mx)(this._delegate)}onSnapshotsInSync(K){return(0,fe.sc)(this._delegate,K)}get app(){if(!this._appCompat)throw new fe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(K){try{return new jn(this,(0,fe.hJ)(this._delegate,K))}catch(le){throw Et(le,"collection()","Firestore.collection()")}}doc(K){try{return new ct(this,(0,fe.JU)(this._delegate,K))}catch(le){throw Et(le,"doc()","Firestore.doc()")}}collectionGroup(K){try{return new yn(this,(0,fe.B$)(this._delegate,K))}catch(le){throw Et(le,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(K){return(0,fe.i3)(this._delegate,le=>K(new Be(this,le)))}batch(){return(0,fe.qY)(this._delegate),new He(new fe.PU(this._delegate,K=>(0,fe.GL)(this._delegate,K)))}loadBundle(K){return(0,fe.Pb)(this._delegate,K)}namedQuery(K){return(0,fe.L$)(this._delegate,K).then(le=>le?new yn(this,le):null)}}class Pe extends fe.u7{constructor(K){super(),this.firestore=K}convertBytes(K){return new _t(new fe.Jj(K))}convertReference(K){const le=this.convertDocumentKey(K,this.firestore._databaseId);return ct.forKey(le,this.firestore,null)}}class Be{constructor(K,le){this._firestore=K,this._delegate=le,this._userDataWriter=new Pe(K)}get(K){const le=Bn(K);return this._delegate.get(le).then(Le=>new Zt(this._firestore,new fe.xU(this._firestore._delegate,this._userDataWriter,Le._key,Le._document,Le.metadata,le.converter)))}set(K,le,Le){const wt=Bn(K);return Le?(Ie("Transaction.set",Le),this._delegate.set(wt,le,Le)):this._delegate.set(wt,le),this}update(K,le,Le,...wt){const ie=Bn(K);return 2===arguments.length?this._delegate.update(ie,le):this._delegate.update(ie,le,Le,...wt),this}delete(K){const le=Bn(K);return this._delegate.delete(le),this}}class He{constructor(K){this._delegate=K}set(K,le,Le){const wt=Bn(K);return Le?(Ie("WriteBatch.set",Le),this._delegate.set(wt,le,Le)):this._delegate.set(wt,le),this}update(K,le,Le,...wt){const ie=Bn(K);return 2===arguments.length?this._delegate.update(ie,le):this._delegate.update(ie,le,Le,...wt),this}delete(K){const le=Bn(K);return this._delegate.delete(le),this}commit(){return this._delegate.commit()}}class st{constructor(K,le,Le){this._firestore=K,this._userDataWriter=le,this._delegate=Le}fromFirestore(K,le){const Le=new fe.$q(this._firestore._delegate,this._userDataWriter,K._key,K._document,K.metadata,null);return this._delegate.fromFirestore(new ln(this._firestore,Le),le??{})}toFirestore(K,le){return le?this._delegate.toFirestore(K,le):this._delegate.toFirestore(K)}static getInstance(K,le){const Le=st.INSTANCES;let wt=Le.get(K);wt||(wt=new WeakMap,Le.set(K,wt));let ie=wt.get(le);return ie||(ie=new st(K,new Pe(K),le),wt.set(le,ie)),ie}}st.INSTANCES=new WeakMap;class ct{constructor(K,le){this.firestore=K,this._delegate=le,this._userDataWriter=new Pe(K)}static forPath(K,le,Le){if(K.length%2!=0)throw new fe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${K.canonicalString()} has ${K.length}`);return new ct(le,new fe.my(le._delegate,Le,new fe.Ky(K)))}static forKey(K,le,Le){return new ct(le,new fe.my(le._delegate,Le,K))}get id(){return this._delegate.id}get parent(){return new jn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(K){try{return new jn(this.firestore,(0,fe.hJ)(this._delegate,K))}catch(le){throw Et(le,"collection()","DocumentReference.collection()")}}isEqual(K){return(K=(0,tt.m9)(K))instanceof fe.my&&(0,fe.Eo)(this._delegate,K)}set(K,le){le=Ie("DocumentReference.set",le);try{return le?(0,fe.pl)(this._delegate,K,le):(0,fe.pl)(this._delegate,K)}catch(Le){throw Et(Le,"setDoc()","DocumentReference.set()")}}update(K,le,...Le){try{return 1===arguments.length?(0,fe.r7)(this._delegate,K):(0,fe.r7)(this._delegate,K,le,...Le)}catch(wt){throw Et(wt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,fe.oe)(this._delegate)}onSnapshot(...K){const le=Vt(K),Le=At(K,wt=>new Zt(this.firestore,new fe.xU(this.firestore._delegate,this._userDataWriter,wt._key,wt._document,wt.metadata,this._delegate.converter)));return(0,fe.cf)(this._delegate,le,Le)}get(K){let le;return le="cache"===K?.source?(0,fe.kl)(this._delegate):"server"===K?.source?(0,fe.Xk)(this._delegate):(0,fe.QT)(this._delegate),le.then(Le=>new Zt(this.firestore,new fe.xU(this.firestore._delegate,this._userDataWriter,Le._key,Le._document,Le.metadata,this._delegate.converter)))}withConverter(K){return new ct(this.firestore,this._delegate.withConverter(K?st.getInstance(this.firestore,K):null))}}function Et(Xe,K,le){return Xe.message=Xe.message.replace(K,le),Xe}function Vt(Xe){for(const K of Xe)if("object"==typeof K&&!xt(K))return K;return{}}function At(Xe,K){var le,Le;let wt;return wt=xt(Xe[0])?Xe[0]:xt(Xe[1])?Xe[1]:"function"==typeof Xe[0]?{next:Xe[0],error:Xe[1],complete:Xe[2]}:{next:Xe[1],error:Xe[2],complete:Xe[3]},{next:ie=>{wt.next&&wt.next(K(ie))},error:null===(le=wt.error)||void 0===le?void 0:le.bind(wt),complete:null===(Le=wt.complete)||void 0===Le?void 0:Le.bind(wt)}}class Zt{constructor(K,le){this._firestore=K,this._delegate=le}get ref(){return new ct(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(K){return this._delegate.data(K)}get(K,le){return this._delegate.get(K,le)}isEqual(K){return(0,fe.qK)(this._delegate,K._delegate)}}class ln extends Zt{data(K){const le=this._delegate.data(K);return(0,fe.K9)(void 0!==le,"Document in a QueryDocumentSnapshot should exist"),le}}class yn{constructor(K,le){this.firestore=K,this._delegate=le,this._userDataWriter=new Pe(K)}where(K,le,Le){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.ar)(K,le,Le)))}catch(wt){throw Et(wt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(K,le){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.Xo)(K,le)))}catch(Le){throw Et(Le,/(orderBy|where)\(\)/,"Query.$1()")}}limit(K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.b9)(K)))}catch(le){throw Et(le,"limit()","Query.limit()")}}limitToLast(K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.vh)(K)))}catch(le){throw Et(le,"limitToLast()","Query.limitToLast()")}}startAt(...K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.e0)(...K)))}catch(le){throw Et(le,"startAt()","Query.startAt()")}}startAfter(...K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.TQ)(...K)))}catch(le){throw Et(le,"startAfter()","Query.startAfter()")}}endBefore(...K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.Lx)(...K)))}catch(le){throw Et(le,"endBefore()","Query.endBefore()")}}endAt(...K){try{return new yn(this.firestore,(0,fe.IO)(this._delegate,(0,fe.Wu)(...K)))}catch(le){throw Et(le,"endAt()","Query.endAt()")}}isEqual(K){return(0,fe.iE)(this._delegate,K._delegate)}get(K){let le;return le="cache"===K?.source?(0,fe.UQ)(this._delegate):"server"===K?.source?(0,fe.zN)(this._delegate):(0,fe.PL)(this._delegate),le.then(Le=>new tr(this.firestore,new fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Le._snapshot)))}onSnapshot(...K){const le=Vt(K),Le=At(K,wt=>new tr(this.firestore,new fe.W(this.firestore._delegate,this._userDataWriter,this._delegate,wt._snapshot)));return(0,fe.cf)(this._delegate,le,Le)}withConverter(K){return new yn(this.firestore,this._delegate.withConverter(K?st.getInstance(this.firestore,K):null))}}class zn{constructor(K,le){this._firestore=K,this._delegate=le}get type(){return this._delegate.type}get doc(){return new ln(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tr{constructor(K,le){this._firestore=K,this._delegate=le}get query(){return new yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(K=>new ln(this._firestore,K))}docChanges(K){return this._delegate.docChanges(K).map(le=>new zn(this._firestore,le))}forEach(K,le){this._delegate.forEach(Le=>{K.call(le,new ln(this._firestore,Le))})}isEqual(K){return(0,fe.qK)(this._delegate,K._delegate)}}class jn extends yn{constructor(K,le){super(K,le),this.firestore=K,this._delegate=le}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const K=this._delegate.parent;return K?new ct(this.firestore,K):null}doc(K){try{return new ct(this.firestore,void 0===K?(0,fe.JU)(this._delegate):(0,fe.JU)(this._delegate,K))}catch(le){throw Et(le,"doc()","CollectionReference.doc()")}}add(K){return(0,fe.ET)(this._delegate,K).then(le=>new ct(this.firestore,le))}isEqual(K){return(0,fe.Eo)(this._delegate,K._delegate)}withConverter(K){return new jn(this.firestore,this._delegate.withConverter(K?st.getInstance(this.firestore,K):null))}}function Bn(Xe){return(0,fe.Cf)(Xe,fe.my)}class $t{constructor(...K){this._delegate=new fe.Lz(...K)}static documentId(){return new $t(fe.Xb.keyField().canonicalString())}isEqual(K){return(K=(0,tt.m9)(K))instanceof fe.Lz&&this._delegate._internalPath.isEqual(K._internalPath)}}class Wn{constructor(K){this._delegate=K}static serverTimestamp(){const K=(0,fe.Bt)();return K._methodName="FieldValue.serverTimestamp",new Wn(K)}static delete(){const K=(0,fe.AK)();return K._methodName="FieldValue.delete",new Wn(K)}static arrayUnion(...K){const le=(0,fe.vr)(...K);return le._methodName="FieldValue.arrayUnion",new Wn(le)}static arrayRemove(...K){const le=(0,fe.Ab)(...K);return le._methodName="FieldValue.arrayRemove",new Wn(le)}static increment(K){const le=(0,fe.nP)(K);return le._methodName="FieldValue.increment",new Wn(le)}isEqual(K){return this._delegate.isEqual(K._delegate)}}const Cr={Firestore:qe,GeoPoint:fe.F8,Timestamp:fe.EK,Blob:_t,Transaction:Be,WriteBatch:He,DocumentReference:ct,DocumentSnapshot:Zt,Query:yn,QueryDocumentSnapshot:ln,QuerySnapshot:tr,CollectionReference:jn,FieldPath:$t,FieldValue:Wn,setLogLevel:function Fe(Xe){(0,fe.Ub)(Xe)},CACHE_SIZE_UNLIMITED:fe.IX};!function Ct(Xe){(function cr(Xe,K){Xe.INTERNAL.registerComponent(new Ce.wA("firestore-compat",le=>{const Le=le.getProvider("app-compat").getImmediate(),wt=le.getProvider("firestore").getImmediate();return K(Le,wt)},"PUBLIC").setServiceProps(Object.assign({},Cr)))})(Xe,(K,le)=>new qe(K,le,new Dr)),Xe.registerVersion("@firebase/firestore-compat","0.3.12")}(vt.Z);var An=k(1205),hn=k(6217),Jn=k(9260);function $r(Xe,K){return function jr(Xe,K=U.z){return new $.y(le=>{let Le;return null!=K?K.schedule(()=>{Le=Xe.onSnapshot({includeMetadataChanges:!0},le)}):Le=Xe.onSnapshot({includeMetadataChanges:!0},le),()=>{Le?.()}})}(Xe,K)}function _n(Xe,K){return $r(Xe,K).pipe((0,ce.U)(le=>({payload:le,type:"query"})))}function an(Xe,K){return _n(Xe,K).pipe((0,Ae.O)(void 0),re(),(0,ce.U)(([le,Le])=>{const wt=Le.payload.docChanges(),ie=wt.map(oe=>({type:oe.type,payload:oe}));return le&&JSON.stringify(le.payload.metadata)!==JSON.stringify(Le.payload.metadata)&&Le.payload.docs.forEach((oe,Y)=>{const q=wt.find(Ee=>Ee.doc.ref.isEqual(oe.ref)),H=le?.payload.docs.find(Ee=>Ee.ref.isEqual(oe.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(oe.metadata)||!q&&H&&JSON.stringify(H.metadata)===JSON.stringify(oe.metadata)||ie.push({type:"modified",payload:{oldIndex:Y,newIndex:Y,type:"modified",doc:oe}})}),ie}))}function Ht(Xe,K,le){return an(Xe,le).pipe((0,ve.R)((Le,wt)=>function Jt(Xe,K,le){return K.forEach(Le=>{le.indexOf(Le.type)>-1&&(Xe=function hr(Xe,K){switch(K.type){case"added":if(!Xe[K.newIndex]||!Xe[K.newIndex].doc.ref.isEqual(K.doc.ref))return Rn(Xe,K.newIndex,0,K);break;case"modified":if(null==Xe[K.oldIndex]||Xe[K.oldIndex].doc.ref.isEqual(K.doc.ref)){if(K.oldIndex!==K.newIndex){const le=Xe.slice();return le.splice(K.oldIndex,1),le.splice(K.newIndex,0,K),le}return Rn(Xe,K.newIndex,1,K)}break;case"removed":if(Xe[K.oldIndex]&&Xe[K.oldIndex].doc.ref.isEqual(K.doc.ref))return Rn(Xe,K.oldIndex,1)}return Xe}(Xe,Le))}),Xe}(Le,wt.map(ie=>ie.payload),K),[]),function it(Xe,K=dt.y){return Xe=Xe??We,(0,ue.e)((le,Le)=>{let wt,ie=!0;le.subscribe((0,Ne.x)(Le,oe=>{const Y=K(oe);(ie||!Xe(wt,Y))&&(ie=!1,wt=Y,Le.next(oe))}))})}(),(0,ce.U)(Le=>Le.map(wt=>({type:wt.type,payload:wt}))))}function Rn(Xe,K,le,...Le){const wt=Xe.slice();return wt.splice(K,le,...Le),wt}function nr(Xe){return(!Xe||0===Xe.length)&&(Xe=["added","removed","modified"]),Xe}class fr{constructor(K,le,Le){this.ref=K,this.query=le,this.afs=Le}stateChanges(K){let le=an(this.query,this.afs.schedulers.outsideAngular);return K&&K.length>0&&(le=le.pipe((0,ce.U)(Le=>Le.filter(wt=>K.indexOf(wt.type)>-1)))),le.pipe((0,Ae.O)(void 0),re(),(0,Mt.h)(([Le,wt])=>wt.length>0||!Le),(0,ce.U)(([Le,wt])=>wt),Te.iC)}auditTrail(K){return this.stateChanges(K).pipe((0,ve.R)((le,Le)=>[...le,...Le],[]))}snapshotChanges(K){const le=nr(K);return Ht(this.query,le,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(K={}){return _n(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(le=>le.payload.docs.map(Le=>K.idField?Object.assign(Object.assign({},Le.data()),{[K.idField]:Le.id}):Le.data())),Te.iC)}get(K){return(0,me.D)(this.query.get(K)).pipe(Te.iC)}add(K){return this.ref.add(K)}doc(K){return new un(this.ref.doc(K),this.afs)}}class un{constructor(K,le){this.ref=K,this.afs=le}set(K,le){return this.ref.set(K,le)}update(K){return this.ref.update(K)}delete(){return this.ref.delete()}collection(K,le){const Le=this.ref.collection(K),{ref:wt,query:ie}=Pt(Le,le);return new fr(wt,ie,this.afs)}snapshotChanges(){return function dr(Xe,K){return $r(Xe,K).pipe((0,Ae.O)(void 0),re(),(0,ce.U)(([le,Le])=>Le.exists?le?.exists?{payload:Le,type:"modified"}:{payload:Le,type:"added"}:{payload:Le,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(K={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:le})=>K.idField?Object.assign(Object.assign({},le.data()),{[K.idField]:le.id}):le.data()))}get(K){return(0,me.D)(this.ref.get(K)).pipe(Te.iC)}}class gr{constructor(K,le){this.query=K,this.afs=le}stateChanges(K){return K&&0!==K.length?an(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(le=>le.filter(Le=>K.indexOf(Le.type)>-1)),(0,Mt.h)(le=>le.length>0),Te.iC):an(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(K){return this.stateChanges(K).pipe((0,ve.R)((le,Le)=>[...le,...Le],[]))}snapshotChanges(K){const le=nr(K);return Ht(this.query,le,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(K={}){return _n(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(Le=>Le.payload.docs.map(wt=>K.idField?Object.assign({[K.idField]:wt.id},wt.data()):wt.data())),Te.iC)}get(K){return(0,me.D)(this.query.get(K)).pipe(Te.iC)}}const wn=new p.OlP("angularfire2.enableFirestorePersistence"),zr=new p.OlP("angularfire2.firestore.persistenceSettings"),Sn=new p.OlP("angularfire2.firestore.settings"),bn=new p.OlP("angularfire2.firestore.use-emulator");function Pt(Xe,K=(le=>le)){return{query:K(Xe),ref:Xe}}let rr=(()=>{class Xe{constructor(le,Le,wt,ie,oe,Y,q,H,Ee,rt,St,Yt,te,se,X,Se,je){this.schedulers=q;const Nt=(0,Ke.on)(le,Y,Le),tn=Ee;rt&&(0,An.nw)(Nt,Y,St,te,se,X,Yt,Se),[this.firestore,this.persistenceEnabled$]=(0,Ke.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const xe=Y.runOutsideAngular(()=>Nt.firestore());if(ie&&xe.settings(ie),tn&&xe.useEmulator(...tn),wt&&!(0,ke.PM)(oe)){const Re=()=>{try{return(0,me.D)(xe.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),(0,de.of)(!1)}};return[xe,Y.runOutsideAngular(Re)]}return[xe,(0,de.of)(!1)]},[ie,tn,wt])}collection(le,Le){let wt;wt="string"==typeof le?this.firestore.collection(le):le;const{ref:ie,query:oe}=Pt(wt,Le),Y=this.schedulers.ngZone.run(()=>ie);return new fr(Y,oe,this)}collectionGroup(le,Le){const wt=Le||(oe=>oe),ie=this.firestore.collectionGroup(le);return new gr(wt(ie),this)}doc(le){let Le;Le="string"==typeof le?this.firestore.doc(le):le;const wt=this.schedulers.ngZone.run(()=>Le);return new un(wt,this)}createId(){return this.firestore.collection("_").doc().id}}return Xe.\u0275fac=function(le){return new(le||Xe)(p.LFG(Ke.Dh),p.LFG(Ke.xv,8),p.LFG(wn,8),p.LFG(Sn,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Te.HU),p.LFG(zr,8),p.LFG(bn,8),p.LFG(An.zQ,8),p.LFG(An.Qv,8),p.LFG(An.L6,8),p.LFG(An._Q,8),p.LFG(An.rT,8),p.LFG(An.lh,8),p.LFG(An.f7,8),p.LFG(hn.nm,8))},Xe.\u0275prov=p.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"any"}),Xe})(),sr=(()=>{class Xe{constructor(){Jn.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(le){return{ngModule:Xe,providers:[{provide:wn,useValue:!0},{provide:zr,useValue:le}]}}}return Xe.\u0275fac=function(le){return new(le||Xe)},Xe.\u0275mod=p.oAB({type:Xe}),Xe.\u0275inj=p.cJS({providers:[rr]}),Xe})()},2011:(Gt,Ge,k)=>{k.d(Ge,{Dh:()=>ue,GT:()=>Te,cc:()=>it,hO:()=>dt,on:()=>re,pX:()=>de,xv:()=>Ne});var p=k(4650),U=k(9260),$=k(4976);Gt=k.hmd(Gt);const me=["ngOnDestroy"],de=(ke,bt,vt,fe={})=>new Proxy(ke,{get:(tt,Ce)=>vt.runOutsideAngular(()=>{var ot;if(ke[Ce])return!(null===(ot=fe?.spy)||void 0===ot)&&ot.get&&fe.spy.get(Ce,ke[Ce]),ke[Ce];if(me.indexOf(Ce)>-1)return()=>{};const Ze=bt.toPromise().then(Ie=>{const It=Ie&&Ie[Ce];return"function"==typeof It?It.bind(Ie):It&&It.then?It.then(qt=>vt.run(()=>qt)):vt.run(()=>It)});return new Proxy(()=>{},{get:(Ie,It)=>Ze[It],apply:(Ie,It,qt)=>Ze.then(_t=>{var xt;const Rt=_t&&_t(...qt);return!(null===(xt=fe?.spy)||void 0===xt)&&xt.apply&&fe.spy.apply(Ce,qt,Rt),Rt})})})}),Te=(ke,bt)=>{bt.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(fe=>{Object.defineProperty(ke.prototype,fe,Object.getOwnPropertyDescriptor(vt.prototype||vt,fe))})})};class Ae{constructor(bt){return bt}}const ue=new p.OlP("angularfire2.app.options"),Ne=new p.OlP("angularfire2.app.name");function re(ke,bt,vt){const tt="object"==typeof vt&&vt||{};tt.name=tt.name||"string"==typeof vt&&vt||"[DEFAULT]";const ot=U.Z.apps.filter(Ze=>Ze&&Ze.name===tt.name)[0]||bt.runOutsideAngular(()=>U.Z.initializeApp(ke,tt));try{JSON.stringify(ke)!==JSON.stringify(ot.options)&&ce("error",`${ot.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(ot)}const ce=(ke,...bt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ke](...bt)},ve={provide:Ae,useFactory:re,deps:[ue,p.R0b,[new p.FiY,Ne]]};let dt=(()=>{class ke{constructor(vt){U.Z.registerVersion("angularfire",$.q4.full,"core"),U.Z.registerVersion("angularfire",$.q4.full,"app-compat"),U.Z.registerVersion("angular",p.q4F.full,vt.toString())}static initializeApp(vt,fe){return{ngModule:ke,providers:[{provide:ue,useValue:vt},{provide:Ne,useValue:fe}]}}}return ke.\u0275fac=function(vt){return new(vt||ke)(p.LFG(p.Lbi))},ke.\u0275mod=p.oAB({type:ke}),ke.\u0275inj=p.cJS({providers:[ve]}),ke})();function it(ke,bt,vt,fe,tt){const[,Ce,ot]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ke)||[];if(Ce)return function We(ke,bt){try{return ke.toString()===bt.toString()}catch{return ke===bt}}(tt,ot)||(Ke("error",`${bt} was already initialized on the ${vt} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:tt,was:ot})),Ce;{const Ze=fe();return globalThis.\u0275AngularfireInstanceCache.push([ke,Ze,tt]),Ze}}const Mt=!!Gt.hot,Ke=(ke,...bt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ke](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Gt,Ge,k)=>{k.d(Ge,{q4:()=>ka,iC:()=>ll,HU:()=>td,vb:()=>pu,JM:()=>al});var p=k(4650),U=k(259),$=k(5861),me=k(6881),de=k(2090),Te=k(4859),Ae=k(1877);let Ne,re;const dt=new WeakMap,it=new WeakMap,We=new WeakMap,Mt=new WeakMap,Ke=new WeakMap;let vt={get(w,A,B){if(w instanceof IDBTransaction){if("done"===A)return it.get(w);if("objectStoreNames"===A)return w.objectStoreNames||We.get(w);if("store"===A)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return ot(w[A])},set:(w,A,B)=>(w[A]=B,!0),has:(w,A)=>w instanceof IDBTransaction&&("done"===A||"store"===A)||A in w};function Ce(w){return"function"==typeof w?function tt(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...A){return w.apply(Ze(this),A),ot(dt.get(this))}:function(...A){return ot(w.apply(Ze(this),A))}:function(A,...B){const ee=w.call(Ze(this),A,...B);return We.set(ee,A.sort?A.sort():[A]),ot(ee)}}(w):(w instanceof IDBTransaction&&function bt(w){if(it.has(w))return;const A=new Promise((B,ee)=>{const pe=()=>{w.removeEventListener("complete",De),w.removeEventListener("error",nt),w.removeEventListener("abort",nt)},De=()=>{B(),pe()},nt=()=>{ee(w.error||new DOMException("AbortError","AbortError")),pe()};w.addEventListener("complete",De),w.addEventListener("error",nt),w.addEventListener("abort",nt)});it.set(w,A)}(w),((w,A)=>A.some(B=>w instanceof B))(w,function ce(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,vt):w)}function ot(w){if(w instanceof IDBRequest)return function ke(w){const A=new Promise((B,ee)=>{const pe=()=>{w.removeEventListener("success",De),w.removeEventListener("error",nt)},De=()=>{B(ot(w.result)),pe()},nt=()=>{ee(w.error),pe()};w.addEventListener("success",De),w.addEventListener("error",nt)});return A.then(B=>{B instanceof IDBCursor&&dt.set(B,w)}).catch(()=>{}),Ke.set(A,w),A}(w);if(Mt.has(w))return Mt.get(w);const A=Ce(w);return A!==w&&(Mt.set(w,A),Ke.set(A,w)),A}const Ze=w=>Ke.get(w),qt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],xt=new Map;function Rt(w,A){if(!(w instanceof IDBDatabase)||A in w||"string"!=typeof A)return;if(xt.get(A))return xt.get(A);const B=A.replace(/FromIndex$/,""),ee=A!==B,pe=_t.includes(B);if(!(B in(ee?IDBIndex:IDBObjectStore).prototype)||!pe&&!qt.includes(B))return;const De=function(){var nt=(0,$.Z)(function*(zt,...Ut){const fn=this.transaction(zt,pe?"readwrite":"readonly");let mn=fn.store;return ee&&(mn=mn.index(Ut.shift())),(yield Promise.all([mn[B](...Ut),pe&&fn.done]))[0]});return function(Ut){return nt.apply(this,arguments)}}();return xt.set(A,De),De}!function fe(w){vt=w(vt)}(w=>({...w,get:(A,B,ee)=>Rt(A,B)||w.get(A,B,ee),has:(A,B)=>!!Rt(A,B)||w.has(A,B)}));const Dr="@firebase/installations",Fe="w:0.6.4",Be="FIS_v2",At=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Zt(w){return w instanceof de.ZR&&w.code.includes("request-failed")}function ln({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function yn(w){return{token:w.token,requestStatus:2,expiresIn:Cr(w.expiresIn),creationTime:Date.now()}}function zn(w,A){return tr.apply(this,arguments)}function tr(){return(tr=(0,$.Z)(function*(w,A){const ee=(yield A.json()).error;return At.create("request-failed",{requestName:w,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function jn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Bn(w,{refreshToken:A}){const B=jn(w);return B.append("Authorization",function cr(w){return`${Be} ${w}`}(A)),B}function $t(w){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,$.Z)(function*(w){const A=yield w();return A.status>=500&&A.status<600?w():A})).apply(this,arguments)}function Cr(w){return Number(w.replace("s","000"))}function Ct(w,A){return An.apply(this,arguments)}function An(){return(An=(0,$.Z)(function*({appConfig:w,heartbeatServiceProvider:A},{fid:B}){const ee=ln(w),pe=jn(w),De=A.getImmediate({optional:!0});if(De){const fn=yield De.getHeartbeatsHeader();fn&&pe.append("x-firebase-client",fn)}const zt={method:"POST",headers:pe,body:JSON.stringify({fid:B,authVersion:Be,appId:w.appId,sdkVersion:Fe})},Ut=yield $t(()=>fetch(ee,zt));if(Ut.ok){const fn=yield Ut.json();return{fid:fn.fid||B,registrationStatus:2,refreshToken:fn.refreshToken,authToken:yn(fn.authToken)}}throw yield zn("Create Installation",Ut)})).apply(this,arguments)}function hn(w){return new Promise(A=>{setTimeout(A,w)})}const jr=/^[cdef][\w-]{21}$/;function dr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const B=function _n(w){return function Jn(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return jr.test(B)?B:""}catch{return""}}function an(w){return`${w.appName}!${w.appId}`}const Ht=new Map;function Jt(w,A){const B=an(w);nr(B,A),function fr(w,A){const B=function gr(){return!un&&"BroadcastChannel"in self&&(un=new BroadcastChannel("[Firebase] FID Change"),un.onmessage=w=>{nr(w.data.key,w.data.fid)}),un}();B&&B.postMessage({key:w,fid:A}),function wn(){0===Ht.size&&un&&(un.close(),un=null)}()}(B,A)}function nr(w,A){const B=Ht.get(w);if(B)for(const ee of B)ee(A)}let un=null;const bn="firebase-installations-store";let Pt=null;function rr(){return Pt||(Pt=function Ie(w,A,{blocked:B,upgrade:ee,blocking:pe,terminated:De}={}){const nt=indexedDB.open(w,A),zt=ot(nt);return ee&&nt.addEventListener("upgradeneeded",Ut=>{ee(ot(nt.result),Ut.oldVersion,Ut.newVersion,ot(nt.transaction))}),B&&nt.addEventListener("blocked",()=>B()),zt.then(Ut=>{De&&Ut.addEventListener("close",()=>De()),pe&&Ut.addEventListener("versionchange",()=>pe())}).catch(()=>{}),zt}("firebase-installations-database",1,{upgrade:(w,A)=>{0===A&&w.createObjectStore(bn)}})),Pt}function sr(w,A){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,$.Z)(function*(w,A){const B=an(w),pe=(yield rr()).transaction(bn,"readwrite"),De=pe.objectStore(bn),nt=yield De.get(B);return yield De.put(A,B),yield pe.done,(!nt||nt.fid!==A.fid)&&Jt(w,A.fid),A})).apply(this,arguments)}function K(w){return le.apply(this,arguments)}function le(){return(le=(0,$.Z)(function*(w){const A=an(w),ee=(yield rr()).transaction(bn,"readwrite");yield ee.objectStore(bn).delete(A),yield ee.done})).apply(this,arguments)}function Le(w,A){return wt.apply(this,arguments)}function wt(){return(wt=(0,$.Z)(function*(w,A){const B=an(w),pe=(yield rr()).transaction(bn,"readwrite"),De=pe.objectStore(bn),nt=yield De.get(B),zt=A(nt);return void 0===zt?yield De.delete(B):yield De.put(zt,B),yield pe.done,zt&&(!nt||nt.fid!==zt.fid)&&Jt(w,zt.fid),zt})).apply(this,arguments)}function ie(w){return oe.apply(this,arguments)}function oe(){return(oe=(0,$.Z)(function*(w){let A;const B=yield Le(w.appConfig,ee=>{const pe=Y(ee),De=q(w,pe);return A=De.registrationPromise,De.installationEntry});return""===B.fid?{installationEntry:yield A}:{installationEntry:B,registrationPromise:A}})).apply(this,arguments)}function Y(w){return te(w||{fid:dr(),registrationStatus:0})}function q(w,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(At.create("app-offline"))};const B={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},ee=function H(w,A){return Ee.apply(this,arguments)}(w,B);return{installationEntry:B,registrationPromise:ee}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:rt(w)}:{installationEntry:A}}function Ee(){return(Ee=(0,$.Z)(function*(w,A){try{const B=yield Ct(w,A);return sr(w.appConfig,B)}catch(B){throw Zt(B)&&409===B.customData.serverCode?yield K(w.appConfig):yield sr(w.appConfig,{fid:A.fid,registrationStatus:0}),B}})).apply(this,arguments)}function rt(w){return St.apply(this,arguments)}function St(){return(St=(0,$.Z)(function*(w){let A=yield Yt(w.appConfig);for(;1===A.registrationStatus;)yield hn(100),A=yield Yt(w.appConfig);if(0===A.registrationStatus){const{installationEntry:B,registrationPromise:ee}=yield ie(w);return ee||B}return A})).apply(this,arguments)}function Yt(w){return Le(w,A=>{if(!A)throw At.create("installation-not-found");return te(A)})}function te(w){return function se(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function X(w,A){return Se.apply(this,arguments)}function Se(){return(Se=(0,$.Z)(function*({appConfig:w,heartbeatServiceProvider:A},B){const ee=je(w,B),pe=Bn(w,B),De=A.getImmediate({optional:!0});if(De){const fn=yield De.getHeartbeatsHeader();fn&&pe.append("x-firebase-client",fn)}const zt={method:"POST",headers:pe,body:JSON.stringify({installation:{sdkVersion:Fe,appId:w.appId}})},Ut=yield $t(()=>fetch(ee,zt));if(Ut.ok)return yn(yield Ut.json());throw yield zn("Generate Auth Token",Ut)})).apply(this,arguments)}function je(w,{fid:A}){return`${ln(w)}/${A}/authTokens:generate`}function Nt(w){return tn.apply(this,arguments)}function tn(){return(tn=(0,$.Z)(function*(w,A=!1){let B;const ee=yield Le(w.appConfig,De=>{if(!vn(De))throw At.create("not-registered");const nt=De.authToken;if(!A&&Nn(nt))return De;if(1===nt.requestStatus)return B=xe(w,A),De;{if(!navigator.onLine)throw At.create("app-offline");const zt=xn(De);return B=ft(w,zt),zt}});return B?yield B:ee.authToken})).apply(this,arguments)}function xe(w,A){return Re.apply(this,arguments)}function Re(){return(Re=(0,$.Z)(function*(w,A){let B=yield ht(w.appConfig);for(;1===B.authToken.requestStatus;)yield hn(100),B=yield ht(w.appConfig);const ee=B.authToken;return 0===ee.requestStatus?Nt(w,A):ee})).apply(this,arguments)}function ht(w){return Le(w,A=>{if(!vn(A))throw At.create("not-registered");return function Zr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function ft(w,A){return pn.apply(this,arguments)}function pn(){return(pn=(0,$.Z)(function*(w,A){try{const B=yield X(w,A),ee=Object.assign(Object.assign({},A),{authToken:B});return yield sr(w.appConfig,ee),B}catch(B){if(!Zt(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const ee=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield sr(w.appConfig,ee)}else yield K(w.appConfig);throw B}})).apply(this,arguments)}function vn(w){return void 0!==w&&2===w.registrationStatus}function Nn(w){return 2===w.requestStatus&&!function Nr(w){const A=Date.now();return A<w.creationTime||w.creationTime+w.expiresIn<A+36e5}(w)}function xn(w){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:A})}function Qr(){return(Qr=(0,$.Z)(function*(w){const A=w,{installationEntry:B,registrationPromise:ee}=yield ie(A);return ee?ee.catch(console.error):Nt(A).catch(console.error),B.fid})).apply(this,arguments)}function Vi(){return(Vi=(0,$.Z)(function*(w,A=!1){const B=w;return yield Vn(B),(yield Nt(B,A)).token})).apply(this,arguments)}function Vn(w){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,$.Z)(function*(w){const{registrationPromise:A}=yield ie(w);A&&(yield A)})).apply(this,arguments)}function Lr(w){return At.create("missing-app-config-values",{valueName:w})}const Tr="installations",Ri=w=>{const A=w.getProvider("app").getImmediate(),B=function gi(w){if(!w||!w.options)throw Lr("App Configuration");if(!w.name)throw Lr("App Name");const A=["projectId","apiKey","appId"];for(const B of A)if(!w.options[B])throw Lr(B);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(A);return{app:A,appConfig:B,heartbeatServiceProvider:(0,me._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ps=w=>{const A=w.getProvider("app").getImmediate(),B=(0,me._getProvider)(A,Tr).getImmediate();return{getId:()=>function Yr(w){return Qr.apply(this,arguments)}(B),getToken:pe=>function Fr(w){return Vi.apply(this,arguments)}(B,pe)}};(function Or(){(0,me._registerComponent)(new Te.wA(Tr,Ri,"PUBLIC")),(0,me._registerComponent)(new Te.wA("installations-internal",Ps,"PRIVATE"))})(),(0,me.registerVersion)(Dr,"0.6.4"),(0,me.registerVersion)(Dr,"0.6.4","esm2017");const ji="@firebase/remote-config",ar=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(A,B,ee,pe){this.client=A,this.storage=B,this.storageCache=ee,this.logger=pe}isCachedDataFresh(A,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-B,pe=ee<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${pe}.`),pe}fetch(A){var B=this;return(0,$.Z)(function*(){const[ee,pe]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(pe&&B.isCachedDataFresh(A.cacheMaxAgeMillis,ee))return pe;A.eTag=pe&&pe.eTag;const De=yield B.client.fetch(A),nt=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&nt.push(B.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(nt),De})()}}function Os(w=navigator){return w.languages&&w.languages[0]||w.language}class sa{constructor(A,B,ee,pe,De,nt){this.firebaseInstallations=A,this.sdkVersion=B,this.namespace=ee,this.projectId=pe,this.apiKey=De,this.appId=nt}fetch(A){var B=this;return(0,$.Z)(function*(){const[ee,pe]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ut={sdk_version:B.sdkVersion,app_instance_id:ee,app_instance_id_token:pe,app_id:B.appId,language_code:Os()},fn={method:"POST",headers:zt,body:JSON.stringify(Ut)},mn=fetch(nt,fn),kn=new Promise((co,La)=>{A.signal.addEventListener(()=>{const yu=new Error("The operation was aborted.");yu.name="AbortError",La(yu)})});let vs;try{yield Promise.race([mn,kn]),vs=yield mn}catch(co){let La="fetch-client-network";throw"AbortError"===co?.name&&(La="fetch-timeout"),ar.create(La,{originalErrorMessage:co?.message})}let fi=vs.status;const Li=vs.headers.get("ETag")||void 0;let ba,mu;if(200===vs.status){let co;try{co=yield vs.json()}catch(La){throw ar.create("fetch-client-parse",{originalErrorMessage:La?.message})}ba=co.entries,mu=co.state}if("INSTANCE_STATE_UNSPECIFIED"===mu?fi=500:"NO_CHANGE"===mu?fi=304:("NO_TEMPLATE"===mu||"EMPTY_CONFIG"===mu)&&(ba={}),304!==fi&&200!==fi)throw ar.create("fetch-status",{httpStatus:fi});return{status:fi,eTag:Li,config:ba}})()}}class Ro{constructor(A,B){this.client=A,this.storage=B}fetch(A){var B=this;return(0,$.Z)(function*(){const ee=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(A,ee)})()}attemptFetch(A,{throttleEndTimeMillis:B,backoffCount:ee}){var pe=this;return(0,$.Z)(function*(){yield function ds(w,A){return new Promise((B,ee)=>{const pe=Math.max(A-Date.now(),0),De=setTimeout(B,pe);w.addEventListener(()=>{clearTimeout(De),ee(ar.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,B);try{const De=yield pe.client.fetch(A);return yield pe.storage.deleteThrottleMetadata(),De}catch(De){if(!function zo(w){if(!(w instanceof de.ZR&&w.customData))return!1;const A=Number(w.customData.httpStatus);return 429===A||500===A||503===A||504===A}(De))throw De;const nt={throttleEndTimeMillis:Date.now()+(0,de.$s)(ee),backoffCount:ee+1};return yield pe.storage.setThrottleMetadata(nt),pe.attemptFetch(A,nt)}})()}}class Js{constructor(A,B,ee,pe,De){this.app=A,this._client=B,this._storageCache=ee,this._storage=pe,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hr(w,A){const B=w.target.error||void 0;return ar.create(A,{originalErrorMessage:B&&B?.message})}const ci="app_namespace_store";class oa{constructor(A,B,ee,pe=function Ma(){return new Promise((w,A)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ee=>{A(Hr(ee,"storage-open"))},B.onsuccess=ee=>{w(ee.target.result)},B.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(ci,{keyPath:"compositeKey"})}}catch(B){A(ar.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=A,this.appName=B,this.namespace=ee,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var B=this;return(0,$.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((pe,De)=>{const zt=ee.transaction([ci],"readonly").objectStore(ci),Ut=B.createCompositeKey(A);try{const fn=zt.get(Ut);fn.onerror=mn=>{De(Hr(mn,"storage-get"))},fn.onsuccess=mn=>{const kn=mn.target.result;pe(kn?kn.value:void 0)}}catch(fn){De(ar.create("storage-get",{originalErrorMessage:fn?.message}))}})})()}set(A,B){var ee=this;return(0,$.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((De,nt)=>{const Ut=pe.transaction([ci],"readwrite").objectStore(ci),fn=ee.createCompositeKey(A);try{const mn=Ut.put({compositeKey:fn,value:B});mn.onerror=kn=>{nt(Hr(kn,"storage-set"))},mn.onsuccess=()=>{De()}}catch(mn){nt(ar.create("storage-set",{originalErrorMessage:mn?.message}))}})})()}delete(A){var B=this;return(0,$.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((pe,De)=>{const zt=ee.transaction([ci],"readwrite").objectStore(ci),Ut=B.createCompositeKey(A);try{const fn=zt.delete(Ut);fn.onerror=mn=>{De(Hr(mn,"storage-delete"))},fn.onsuccess=()=>{pe()}}catch(fn){De(ar.create("storage-delete",{originalErrorMessage:fn?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Er{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,$.Z)(function*(){const B=A.storage.getLastFetchStatus(),ee=A.storage.getLastSuccessfulFetchTimestampMillis(),pe=A.storage.getActiveConfig(),De=yield B;De&&(A.lastFetchStatus=De);const nt=yield ee;nt&&(A.lastSuccessfulFetchTimestampMillis=nt);const zt=yield pe;zt&&(A.activeConfig=zt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Wr(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,$.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let zi,di;!function hs(){(0,me._registerComponent)(new Te.wA("remote-config",function w(A,{instanceIdentifier:B}){const ee=A.getProvider("app").getImmediate(),pe=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ar.create("registration-window");if(!(0,de.hl)())throw ar.create("indexed-db-unavailable");const{projectId:De,apiKey:nt,appId:zt}=ee.options;if(!De)throw ar.create("registration-project-id");if(!nt)throw ar.create("registration-api-key");if(!zt)throw ar.create("registration-app-id");const Ut=new oa(zt,ee.name,B=B||"firebase"),fn=new Er(Ut),mn=new Ae.Yd(ji);mn.logLevel=Ae.in.ERROR;const kn=new sa(pe,me.SDK_VERSION,B,De,nt,zt),vs=new Ro(kn,Ut),fi=new Es(vs,Ut,fn,mn),Li=new Js(ee,fi,fn,Ut,mn);return function qn(w){const A=(0,de.m9)(w);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Li),Li},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(ji,"0.4.4"),(0,me.registerVersion)(ji,"0.4.4","esm2017")}();const eo=new WeakMap,Xr=new WeakMap,Kr=new WeakMap,to=new WeakMap,En=new WeakMap;let aa={get(w,A,B){if(w instanceof IDBTransaction){if("done"===A)return Xr.get(w);if("objectStoreNames"===A)return w.objectStoreNames||Kr.get(w);if("store"===A)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return Ci(w[A])},set:(w,A,B)=>(w[A]=B,!0),has:(w,A)=>w instanceof IDBTransaction&&("done"===A||"store"===A)||A in w};function _o(w){return"function"==typeof w?function Oi(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function No(){return di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...A){return w.apply(ua(this),A),Ci(eo.get(this))}:function(...A){return Ci(w.apply(ua(this),A))}:function(A,...B){const ee=w.call(ua(this),A,...B);return Kr.set(ee,A.sort?A.sort():[A]),Ci(ee)}}(w):(w instanceof IDBTransaction&&function Fs(w){if(Xr.has(w))return;const A=new Promise((B,ee)=>{const pe=()=>{w.removeEventListener("complete",De),w.removeEventListener("error",nt),w.removeEventListener("abort",nt)},De=()=>{B(),pe()},nt=()=>{ee(w.error||new DOMException("AbortError","AbortError")),pe()};w.addEventListener("complete",De),w.addEventListener("error",nt),w.addEventListener("abort",nt)});Xr.set(w,A)}(w),((w,A)=>A.some(B=>w instanceof B))(w,function vo(){return zi||(zi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,aa):w)}function Ci(w){if(w instanceof IDBRequest)return function ks(w){const A=new Promise((B,ee)=>{const pe=()=>{w.removeEventListener("success",De),w.removeEventListener("error",nt)},De=()=>{B(Ci(w.result)),pe()},nt=()=>{ee(w.error),pe()};w.addEventListener("success",De),w.addEventListener("error",nt)});return A.then(B=>{B instanceof IDBCursor&&eo.set(B,w)}).catch(()=>{}),En.set(A,w),A}(w);if(to.has(w))return to.get(w);const A=_o(w);return A!==w&&(to.set(w,A),En.set(A,w)),A}const ua=w=>En.get(w);function gt(w,A,{blocked:B,upgrade:ee,blocking:pe,terminated:De}={}){const nt=indexedDB.open(w,A),zt=Ci(nt);return ee&&nt.addEventListener("upgradeneeded",Ut=>{ee(Ci(nt.result),Ut.oldVersion,Ut.newVersion,Ci(nt.transaction))}),B&&nt.addEventListener("blocked",()=>B()),zt.then(Ut=>{De&&Ut.addEventListener("close",()=>De()),pe&&Ut.addEventListener("versionchange",()=>pe())}).catch(()=>{}),zt}function Un(w,{blocked:A}={}){const B=indexedDB.deleteDatabase(w);return A&&B.addEventListener("blocked",()=>A()),Ci(B).then(()=>{})}const no=["get","getKey","getAll","getAllKeys","count"],ro=["put","add","delete","clear"],Gr=new Map;function ei(w,A){if(!(w instanceof IDBDatabase)||A in w||"string"!=typeof A)return;if(Gr.get(A))return Gr.get(A);const B=A.replace(/FromIndex$/,""),ee=A!==B,pe=ro.includes(B);if(!(B in(ee?IDBIndex:IDBObjectStore).prototype)||!pe&&!no.includes(B))return;const De=function(){var nt=(0,$.Z)(function*(zt,...Ut){const fn=this.transaction(zt,pe?"readwrite":"readonly");let mn=fn.store;return ee&&(mn=mn.index(Ut.shift())),(yield Promise.all([mn[B](...Ut),pe&&fn.done]))[0]});return function(Ut){return nt.apply(this,arguments)}}();return Gr.set(A,De),De}!function Ar(w){aa=w(aa)}(w=>({...w,get:(A,B,ee)=>ei(A,B)||w.get(A,B,ee),has:(A,B)=>!!ei(A,B)||w.has(A,B)}));const Wi="/firebase-messaging-sw.js",es="/firebase-cloud-messaging-push-scope",Po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Is="google.c.a.c_id",Br="google.c.a.c_l",O="google.c.a.ts",R="google.c.a.e";var Z=(()=>{return(w=Z||(Z={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Z;var w})();function Ye(w){const A=new Uint8Array(w);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function en(w){const B=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(B),pe=new Uint8Array(ee.length);for(let De=0;De<ee.length;++De)pe[De]=ee.charCodeAt(De);return pe}const $n="fcm_token_details_db",Ki="fcm_token_object_Store";function bi(w){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,$.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes($n))return null;let A=null;return(yield gt($n,5,{upgrade:(ee=(0,$.Z)(function*(pe,De,nt,zt){var Ut;if(De<2||!pe.objectStoreNames.contains(Ki))return;const fn=zt.objectStore(Ki),mn=yield fn.index("fcmSenderId").get(w);if(yield fn.clear(),mn)if(2===De){const kn=mn;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;A={token:kn.fcmToken,createTime:null!==(Ut=kn.createTime)&&void 0!==Ut?Ut:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:Ye(kn.vapidKey)}}}else if(3===De){const kn=mn;A={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:Ye(kn.auth),p256dh:Ye(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:Ye(kn.vapidKey)}}}else if(4===De){const kn=mn;A={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:Ye(kn.auth),p256dh:Ye(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:Ye(kn.vapidKey)}}}}),function(De,nt,zt,Ut){return ee.apply(this,arguments)})})).close(),yield Un($n),yield Un("fcm_vapid_details_db"),yield Un("undefined"),Ls(A)?A:null;var ee}),Ds.apply(this,arguments)}function Ls(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:A}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const ki="firebase-messaging-store";let Vs=null;function xa(){return Vs||(Vs=gt("firebase-messaging-database",1,{upgrade:(w,A)=>{0===A&&w.createObjectStore(ki)}})),Vs}function wo(w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,$.Z)(function*(w){const A=la(w),ee=yield(yield xa()).transaction(ki).objectStore(ki).get(A);if(ee)return ee;{const pe=yield bi(w.appConfig.senderId);if(pe)return yield ko(w,pe),pe}})).apply(this,arguments)}function ko(w,A){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,$.Z)(function*(w,A){const B=la(w),pe=(yield xa()).transaction(ki,"readwrite");return yield pe.objectStore(ki).put(A,B),yield pe.done,A})).apply(this,arguments)}function Ti(w){return Us.apply(this,arguments)}function Us(){return(Us=(0,$.Z)(function*(w){const A=la(w),ee=(yield xa()).transaction(ki,"readwrite");yield ee.objectStore(ki).delete(A),yield ee.done})).apply(this,arguments)}function la({appConfig:w}){return w.appId}const ur=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(w,A){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,$.Z)(function*(w,A){const B=yield Bs(w),ee=ts(A),pe={method:"POST",headers:B,body:JSON.stringify(ee)};let De;try{De=yield(yield fetch(qo(w.appConfig),pe)).json()}catch(nt){throw ur.create("token-subscribe-failed",{errorInfo:nt?.toString()})}if(De.error)throw ur.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw ur.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function wr(w,A){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,$.Z)(function*(w,A){const B=yield Bs(w),ee=ts(A.subscriptionOptions),pe={method:"PATCH",headers:B,body:JSON.stringify(ee)};let De;try{De=yield(yield fetch(`${qo(w.appConfig)}/${A.token}`,pe)).json()}catch(nt){throw ur.create("token-update-failed",{errorInfo:nt?.toString()})}if(De.error)throw ur.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw ur.create("token-update-no-token");return De.token})).apply(this,arguments)}function ca(w,A){return qi.apply(this,arguments)}function qi(){return(qi=(0,$.Z)(function*(w,A){const ee={method:"DELETE",headers:yield Bs(w)};try{const De=yield(yield fetch(`${qo(w.appConfig)}/${A}`,ee)).json();if(De.error)throw ur.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(pe){throw ur.create("token-unsubscribe-failed",{errorInfo:pe?.toString()})}})).apply(this,arguments)}function qo({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Bs(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,$.Z)(function*({appConfig:w,installations:A}){const B=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function ts({p256dh:w,auth:A,endpoint:B,vapidKey:ee}){const pe={web:{endpoint:B,auth:A,p256dh:w}};return ee!==Po&&(pe.web.applicationPubKey=ee),pe}const Zo=6048e5;function ps(w){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,$.Z)(function*(w){const A=yield Lo(w.swRegistration,w.vapidKey),B={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:A.endpoint,auth:Ye(A.getKey("auth")),p256dh:Ye(A.getKey("p256dh"))},ee=yield wo(w.firebaseDependencies);if(ee){if(b(ee.subscriptionOptions,B))return Date.now()>=ee.createTime+Zo?io(w,{token:ee.token,createTime:Date.now(),subscriptionOptions:B}):ee.token;try{yield ca(w.firebaseDependencies,ee.token)}catch(pe){console.warn(pe)}return oo(w.firebaseDependencies,B)}return oo(w.firebaseDependencies,B)})).apply(this,arguments)}function yi(w){return ns.apply(this,arguments)}function ns(){return(ns=(0,$.Z)(function*(w){const A=yield wo(w.firebaseDependencies);A&&(yield ca(w.firebaseDependencies,A.token),yield Ti(w.firebaseDependencies));const B=yield w.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()})).apply(this,arguments)}function io(w,A){return so.apply(this,arguments)}function so(){return(so=(0,$.Z)(function*(w,A){try{const B=yield wr(w.firebaseDependencies,A),ee=Object.assign(Object.assign({},A),{token:B,createTime:Date.now()});return yield ko(w.firebaseDependencies,ee),B}catch(B){throw yield yi(w),B}})).apply(this,arguments)}function oo(w,A){return Do.apply(this,arguments)}function Do(){return(Do=(0,$.Z)(function*(w,A){const ee={token:yield mi(w,A),createTime:Date.now(),subscriptionOptions:A};return yield ko(w,ee),ee.token})).apply(this,arguments)}function Lo(w,A){return ou.apply(this,arguments)}function ou(){return(ou=(0,$.Z)(function*(w,A){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:en(A)})})).apply(this,arguments)}function b(w,A){return A.vapidKey===w.vapidKey&&A.endpoint===w.endpoint&&A.auth===w.auth&&A.p256dh===w.p256dh}function L(w){const A={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function M(w,A){if(!A.notification)return;w.notification={};const B=A.notification.title;B&&(w.notification.title=B);const ee=A.notification.body;ee&&(w.notification.body=ee);const pe=A.notification.image;pe&&(w.notification.image=pe);const De=A.notification.icon;De&&(w.notification.icon=De)}(A,w),function z(w,A){!A.data||(w.data=A.data)}(A,w),function ye(w,A){var B,ee,pe,De,nt;if(!(A.fcmOptions||null!==(B=A.notification)&&void 0!==B&&B.click_action))return;w.fcmOptions={};const zt=null!==(pe=null===(ee=A.fcmOptions)||void 0===ee?void 0:ee.link)&&void 0!==pe?pe:null===(De=A.notification)||void 0===De?void 0:De.click_action;zt&&(w.fcmOptions.link=zt);const Ut=null===(nt=A.fcmOptions)||void 0===nt?void 0:nt.analytics_label;Ut&&(w.fcmOptions.analyticsLabel=Ut)}(A,w),A}function Qe(w){return"object"==typeof w&&!!w&&Is in w}function lt(w,A){const B=[];for(let ee=0;ee<w.length;ee++)B.push(w.charAt(ee)),ee<A.length&&B.push(A.charAt(ee));return B.join("")}function or(w){return ur.create("missing-app-config-values",{valueName:w})}lt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hn{constructor(A,B,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function cn(w){if(!w||!w.options)throw or("App Configuration Object");if(!w.name)throw or("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:B}=w;for(const ee of A)if(!B[ee])throw or(ee);return{appName:w.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:pe,installations:B,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function mr(w){return gn.apply(this,arguments)}function gn(){return(gn=(0,$.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Wi,{scope:es}),w.swRegistration.update().catch(()=>{})}catch(A){throw ur.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Mr(w,A){return On.apply(this,arguments)}function On(){return(On=(0,$.Z)(function*(w,A){if(!A&&!w.swRegistration&&(yield mr(w)),A||!w.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");w.swRegistration=A}})).apply(this,arguments)}function ni(w,A){return js.apply(this,arguments)}function js(){return(js=(0,$.Z)(function*(w,A){A?w.vapidKey=A:w.vapidKey||(w.vapidKey=Po)})).apply(this,arguments)}function pr(){return(pr=(0,$.Z)(function*(w,A){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield ni(w,A?.vapidKey),yield Mr(w,A?.serviceWorkerRegistration),ps(w)})).apply(this,arguments)}function xr(w,A,B){return ao.apply(this,arguments)}function ao(){return(ao=(0,$.Z)(function*(w,A,B){const ee=Wt(A);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:B[Is],message_name:B[Br],message_time:B[O],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wt(w){switch(w){case Z.NOTIFICATION_CLICKED:return"notification_open";case Z.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function da(){return(da=(0,$.Z)(function*(w,A){const B=A.data;if(!B.isFirebaseMessaging)return;w.onMessageHandler&&B.messageType===Z.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(L(B)):w.onMessageHandler.next(L(B)));const ee=B.data;Qe(ee)&&"1"===ee[R]&&(yield xr(w,B.messageType,ee))})).apply(this,arguments)}const Bt="@firebase/messaging",yt=w=>{const A=new Hn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function nn(w,A){return da.apply(this,arguments)}(A,B)),A},oi=w=>{const A=w.getProvider("messaging").getImmediate();return{getToken:ee=>function mt(w,A){return pr.apply(this,arguments)}(A,ee)}};function za(){return xu.apply(this,arguments)}function xu(){return(xu=(0,$.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ga(){(0,me._registerComponent)(new Te.wA("messaging",yt,"PUBLIC")),(0,me._registerComponent)(new Te.wA("messaging-internal",oi,"PRIVATE")),(0,me.registerVersion)(Bt,"0.12.4"),(0,me.registerVersion)(Bt,"0.12.4","esm2017")}();const rn="analytics",Co="firebase_id",dn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$s="https://www.googletagmanager.com/gtag/js",In=new Ae.Yd("@firebase/analytics"),Xn=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jt(w){if(!w.startsWith($s)){const A=Xn.create("invalid-gtag-resource",{gtagURL:w});return In.warn(A.message),""}return w}function gs(w){return Promise.all(w.map(A=>A.catch(B=>B)))}function Qo(w,A){const B=function ga(w,A){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(w,A)),B}("firebase-js-sdk-policy",{createScriptURL:jt}),ee=document.createElement("script"),pe=`${$s}?l=${w}&id=${A}`;ee.src=B?B?.createScriptURL(pe):pe,ee.async=!0,document.head.appendChild(ee)}function Nu(w,A,B,ee,pe,De){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,$.Z)(function*(w,A,B,ee,pe,De){const nt=ee[pe];try{if(nt)yield A[nt];else{const Ut=(yield gs(B)).find(fn=>fn.measurementId===pe);Ut&&(yield A[Ut.appId])}}catch(zt){In.error(zt)}w("config",pe,De)})).apply(this,arguments)}function Vo(w,A,B,ee,pe){return ma.apply(this,arguments)}function ma(){return(ma=(0,$.Z)(function*(w,A,B,ee,pe){try{let De=[];if(pe&&pe.send_to){let nt=pe.send_to;Array.isArray(nt)||(nt=[nt]);const zt=yield gs(B);for(const Ut of nt){const fn=zt.find(kn=>kn.measurementId===Ut),mn=fn&&A[fn.appId];if(!mn){De=[];break}De.push(mn)}}0===De.length&&(De=Object.values(A)),yield Promise.all(De),w("event",ee,pe||{})}catch(De){In.error(De)}})).apply(this,arguments)}function Pu(w){const A=window.document.getElementsByTagName("script");for(const B of Object.values(A))if(B.src&&B.src.includes($s)&&B.src.includes(w))return B;return null}const ri=new class va{constructor(A={},B=1e3){this.throttleMetadata=A,this.intervalMillis=B}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,B){this.throttleMetadata[A]=B}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ve(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Jo(w){return uo.apply(this,arguments)}function uo(){return(uo=(0,$.Z)(function*(w){var A;const{appId:B,apiKey:ee}=w,pe={method:"GET",headers:Ve(ee)},De=dn.replace("{app-id}",B),nt=yield fetch(De,pe);if(200!==nt.status&&304!==nt.status){let zt="";try{const Ut=yield nt.json();null!==(A=Ut.error)&&void 0!==A&&A.message&&(zt=Ut.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:nt.status,responseMessage:zt})}return nt.json()})).apply(this,arguments)}function _a(w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,$.Z)(function*(w,A=ri,B){const{appId:ee,apiKey:pe,measurementId:De}=w.options;if(!ee)throw Xn.create("no-app-id");if(!pe){if(De)return{measurementId:De,appId:ee};throw Xn.create("no-api-key")}const nt=A.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},zt=new uu;return setTimeout((0,$.Z)(function*(){zt.abort()}),void 0!==B?B:6e4),Si({appId:ee,apiKey:pe,measurementId:De},nt,zt,A)})).apply(this,arguments)}function Si(w,A,B){return au.apply(this,arguments)}function au(){return(au=(0,$.Z)(function*(w,{throttleEndTimeMillis:A,backoffCount:B},ee,pe=ri){var De;const{appId:nt,measurementId:zt}=w;try{yield Hs(ee,A)}catch(Ut){if(zt)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:nt,measurementId:zt};throw Ut}try{const Ut=yield Jo(w);return pe.deleteThrottleMetadata(nt),Ut}catch(Ut){const fn=Ut;if(!Ra(fn)){if(pe.deleteThrottleMetadata(nt),zt)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:nt,measurementId:zt};throw Ut}const mn=503===Number(null===(De=fn?.customData)||void 0===De?void 0:De.httpStatus)?(0,de.$s)(B,pe.intervalMillis,30):(0,de.$s)(B,pe.intervalMillis),kn={throttleEndTimeMillis:Date.now()+mn,backoffCount:B+1};return pe.setThrottleMetadata(nt,kn),In.debug(`Calling attemptFetch again in ${mn} millis`),Si(w,kn,ee,pe)}})).apply(this,arguments)}function Hs(w,A){return new Promise((B,ee)=>{const pe=Math.max(A-Date.now(),0),De=setTimeout(B,pe);w.addEventListener(()=>{clearTimeout(De),ee(Xn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ra(w){if(!(w instanceof de.ZR&&w.customData))return!1;const A=Number(w.customData.httpStatus);return 429===A||500===A||503===A||504===A}class uu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Ou,ae;function ms(){return(ms=(0,$.Z)(function*(w,A,B,ee,pe){if(pe&&pe.global)w("event",B,ee);else{const De=yield A;w("event",B,Object.assign(Object.assign({},ee),{send_to:De}))}})).apply(this,arguments)}function he(w){ae=w}function et(w){Ou=w}function Lt(){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,$.Z)(function*(){if(!(0,de.hl)())return In.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(w){return In.warn(Xn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function Kn(){return(Kn=(0,$.Z)(function*(w,A,B,ee,pe,De,nt){var zt;const Ut=_a(w);Ut.then(fi=>{B[fi.measurementId]=fi.appId,w.options.measurementId&&fi.measurementId!==w.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>In.error(fi)),A.push(Ut);const fn=Lt().then(fi=>{if(fi)return ee.getId()}),[mn,kn]=yield Promise.all([Ut,fn]);Pu(De)||Qo(De,mn.measurementId),ae&&(pe("consent","default",ae),he(void 0)),pe("js",new Date);const vs=null!==(zt=nt?.config)&&void 0!==zt?zt:{};return vs.origin="firebase",vs.update=!0,null!=kn&&(vs[Co]=kn),pe("config",mn.measurementId,vs),Ou&&(pe("set",Ou),et(void 0)),mn.measurementId})).apply(this,arguments)}class Mi{constructor(A){this.app=A}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},Xo=[];const Gs={};let Na,Ts,Ea="dataLayer",lu=!1;function Fl(w,A,B){!function ku(){const w=[];if((0,de.ru)()&&w.push("This is a browser extension environment."),(0,de.zI)()||w.push("Cookies are not available."),w.length>0){const A=w.map((ee,pe)=>`(${pe+1}) ${ee}`).join(" "),B=Xn.create("invalid-analytics-context",{errorInfo:A});In.warn(B.message)}}();const ee=w.options.appId;if(!ee)throw Xn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Xn.create("no-api-key");In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[ee])throw Xn.create("already-exists",{id:ee});if(!lu){!function yr(w){let A=[];Array.isArray(window[w])?A=window[w]:window[w]=A}(Ea);const{wrappedGtag:De,gtagCore:nt}=function bs(w,A,B,ee,pe){let De=function(...nt){window[ee].push(arguments)};return window[pe]&&"function"==typeof window[pe]&&(De=window[pe]),window[pe]=function Ol(w,A,B,ee){function De(){return(De=(0,$.Z)(function*(nt,...zt){try{if("event"===nt){const[Ut,fn]=zt;yield Vo(w,A,B,Ut,fn)}else if("config"===nt){const[Ut,fn]=zt;yield Nu(w,A,B,ee,Ut,fn)}else if("consent"===nt){const[Ut]=zt;w("consent","update",Ut)}else if("get"===nt){const[Ut,fn,mn]=zt;w("get",Ut,fn,mn)}else if("set"===nt){const[Ut]=zt;w("set",Ut)}else w(nt,...zt)}catch(Ut){In.error(Ut)}})).apply(this,arguments)}return function pe(nt){return De.apply(this,arguments)}}(De,w,A,B),{gtagCore:De,wrappedGtag:window[pe]}}(ui,Xo,Gs,Ea,"gtag");Ts=De,Na=nt,lu=!0}return ui[ee]=function sn(w,A,B,ee,pe,De,nt){return Kn.apply(this,arguments)}(w,Xo,Gs,A,Na,Ea,B),new Mi(w)}function Yi(){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,$.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const sl="@firebase/analytics";!function _i(){(0,me._registerComponent)(new Te.wA(rn,(A,{options:B})=>Fl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,me._registerComponent)(new Te.wA("analytics-internal",function w(A){try{const B=A.getProvider(rn).getImmediate();return{logEvent:(ee,pe,De)=>function Bo(w,A,B,ee){w=(0,de.m9)(w),function kl(w,A,B,ee,pe){return ms.apply(this,arguments)}(Ts,ui[w.app.options.appId],A,B,ee).catch(pe=>In.error(pe))}(B,ee,pe,De)}}catch(B){throw Xn.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,me.registerVersion)(sl,"0.10.0"),(0,me.registerVersion)(sl,"0.10.0","esm2017")}();var du=k(4408),si=k(7565);const Fu=new class Oa extends si.v{}(class bo extends du.o{constructor(A,B){super(A,B),this.scheduler=A,this.work=B}schedule(A,B=0){return B>0?super.schedule(A,B):(this.delay=B,this.state=A,this.scheduler.flush(this),this)}execute(A,B){return B>0||this.closed?super.execute(A,B):this._execute(A,B)}requestAsyncId(A,B,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(A,B,ee):(A.flush(this),0)}});var ol=k(4986),Ul=k(8505),ta=k(9468),na=k(5363);const ka=new p.GfV("7.6.1"),lo="__angularfire_symbol__analyticsIsSupportedValue",To="__angularfire_symbol__analyticsIsSupported",Ia="__angularfire_symbol__remoteConfigIsSupportedValue",ra="__angularfire_symbol__remoteConfigIsSupported",hu="__angularfire_symbol__messagingIsSupportedValue",Ya="__angularfire_symbol__messagingIsSupported";function al(w,A,B){if(A){if(1===A.length)return A[0];const De=A.filter(nt=>nt.app===B);if(1===De.length)return De[0]}return B.container.getProvider(w).getImmediate({optional:!0})}globalThis[To]||(globalThis[To]=Yi().then(w=>globalThis[lo]=w).catch(()=>globalThis[lo]=!1)),globalThis[Ya]||(globalThis[Ya]=za().then(w=>globalThis[hu]=w).catch(()=>globalThis[hu]=!1)),globalThis[ra]||(globalThis[ra]=Wr().then(w=>globalThis[Ia]=w).catch(()=>globalThis[Ia]=!1));const pu=(w,A)=>{const B=A?[A]:(0,U.C6)(),ee=[];return B.forEach(pe=>{pe.container.getProvider(w).instances.forEach(nt=>{ee.includes(nt)||ee.push(nt)})}),ee};function gu(){}class ul{constructor(A,B=Fu){this.zone=A,this.delegate=B}now(){return this.delegate.now()}schedule(A,B,ee){const pe=this.zone;return this.delegate.schedule(function(nt){pe.runGuarded(()=>{A.apply(this,[nt])})},B,ee)}}class Uu{constructor(A){this.zone=A,this.task=null}call(A,B){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)),B.pipe((0,Ul.b)({next:ee,complete:ee,error:ee})).subscribe(A).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let td=(()=>{class w{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new ul(Zone.current)),this.insideAngular=B.run(()=>new ul(Zone.current,ol.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(B){return new(B||w)(p.LFG(p.R0b))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Da(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ll(w){return Da(),function qr(w){return function(B){return(B=B.lift(new Uu(w.ngZone))).pipe((0,ta.R)(w.outsideAngular),(0,na.Q)(w.insideAngular))}}(Da())(w)}},1389:(Gt,Ge,k)=>{k.d(Ge,{$:()=>Wi,A:()=>ce,D:()=>it,I:()=>Pr,J:()=>Ri,L:()=>li,N:()=>Le,P:()=>sn,Q:()=>oa,R:()=>ys,U:()=>fs,V:()=>Wr,W:()=>Gi,X:()=>mo,Y:()=>vo,Z:()=>No,_:()=>En,a:()=>ha,a0:()=>Po,a1:()=>Is,a2:()=>x,a3:()=>Ki,a4:()=>Ds,a5:()=>Eo,a6:()=>ki,a7:()=>xa,a8:()=>Wo,a9:()=>Ko,aA:()=>Ie,aB:()=>Ia,aC:()=>K,aD:()=>wt,aE:()=>ta,aF:()=>Vl,aG:()=>ii,aH:()=>br,aL:()=>fa,aO:()=>zi,aa:()=>Ti,ab:()=>la,ac:()=>Io,ad:()=>wr,ae:()=>ca,af:()=>qo,ai:()=>Zo,aj:()=>Zi,ak:()=>yi,an:()=>Oi,ao:()=>M,aq:()=>js,ar:()=>Bt,as:()=>qt,at:()=>te,au:()=>rt,av:()=>fe,aw:()=>vs,ax:()=>fu,ay:()=>se,az:()=>tt,b:()=>nl,c:()=>Ts,d:()=>Fl,e:()=>Fi,f:()=>sl,g:()=>Oa,h:()=>du,i:()=>rl,j:()=>ol,k:()=>co,l:()=>T,m:()=>Rf,p:()=>ue,r:()=>G,s:()=>E,u:()=>Lt});var p=k(5861),U=k(2090),$=k(6881),me=k(7582),de=k(1877),Te=k(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new de.Yd("@firebase/auth");function vt(_,...d){ke.logLevel<=de.in.ERROR&&ke.error(`Auth (${$.SDK_VERSION}): ${_}`,...d)}function fe(_,...d){throw Ze(_,...d)}function tt(_,...d){return Ze(_,...d)}function Ce(_,d,g){const I=Object.assign(Object.assign({},We()),{[d]:g});return new U.LL("auth","Firebase",I).create(d,{appName:_.name})}function ot(_,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&fe(_,"argument-error"),Ce(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(_,...d){if("string"!=typeof _){const g=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(g,...I)}return Mt.create(_,...d)}function Ie(_,d,...g){if(!_)throw Ze(d,...g)}function It(_){const d="INTERNAL ASSERTION FAILED: "+_;throw vt(d),new Error(d)}function qt(_,d){_||It(d)}function _t(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xt(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Pe{constructor(d,g){this.shortDelay=d,this.longDelay=g,qt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Dr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(_,d){qt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Be{static initialize(d,g,I){this.fetchImpl=d,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},st=new Pe(3e4,6e4);function ct(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Et(_,d,g,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(function*(_,d,g,I,j={}){return At(_,j,(0,p.Z)(function*(){let J={},Me={};I&&("GET"===d?Me=I:J={body:JSON.stringify(I)});const Je=(0,U.xO)(Object.assign({key:_.config.apiKey},Me)).slice(1),kt=yield _._getAdditionalHeaders();return kt["Content-Type"]="application/json",_.languageCode&&(kt["X-Firebase-Locale"]=_.languageCode),Be.fetch()(zn(_,_.config.apiHost,g,Je),Object.assign({method:d,headers:kt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function At(_,d,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(_,d,g){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},He),d);try{const j=new tr(_),J=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Me=yield J.json();if("needConfirmation"in Me)throw jn(_,"account-exists-with-different-credential",Me);if(J.ok&&!("errorMessage"in Me))return Me;{const Je=J.ok?Me.errorMessage:Me.error.message,[kt,Kt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw jn(_,"credential-already-in-use",Me);if("EMAIL_EXISTS"===kt)throw jn(_,"email-already-in-use",Me);if("USER_DISABLED"===kt)throw jn(_,"user-disabled",Me);const Dn=I[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw Ce(_,Dn,Kt);fe(_,Dn)}}catch(j){if(j instanceof U.ZR)throw j;fe(_,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function ln(_,d,g,I){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(_,d,g,I,j={}){const J=yield Et(_,d,g,I,j);return"mfaPendingCredential"in J&&fe(_,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function zn(_,d,g,I){const j=`${d}${g}?${I}`;return _.config.emulator?Fe(_.config,j):`${_.config.apiScheme}://${j}`}class tr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(tt(this.auth,"network-request-failed")),st.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(_,d,g){const I={appName:_.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const j=tt(_,d,I);return j.customData._tokenResponse=g,j}function $t(){return($t=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Wn(_,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function cr(_,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function An(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function jr(){return(jr=(0,p.Z)(function*(_,d=!1){const g=(0,U.m9)(_),I=yield g.getIdToken(d),j=dr(I);Ie(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const J="object"==typeof j.firebase?j.firebase:void 0,Me=J?.sign_in_provider;return{claims:j,token:I,authTime:An($r(j.auth_time)),issuedAtTime:An($r(j.iat)),expirationTime:An($r(j.exp)),signInProvider:Me||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function $r(_){return 1e3*Number(_)}function dr(_){const[d,g,I]=_.split(".");if(void 0===d||void 0===g||void 0===I)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,U.tV)(g);return j?JSON.parse(j):(vt("Failed to decode base64 JWT payload"),null)}catch(j){return vt("Caught error parsing JWT payload as JSON",j?.toString()),null}}function an(_,d){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(_,d,g=!1){if(g)return d;try{return yield d}catch(I){throw I instanceof U.ZR&&Jt(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}function Jt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Rn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),I)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class hr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(_){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(_){var d;const g=_.auth,I=yield _.getIdToken(),j=yield an(_,cr(g,{idToken:I}));Ie(j?.users.length,g,"internal-error");const J=j.users[0];_._notifyReloadListener(J);const Me=null!==(d=J.providerUserInfo)&&void 0!==d&&d.length?zr(J.providerUserInfo):[],Je=wn(_.providerData,Me),Dn=!!_.isAnonymous&&!(_.email&&J.passwordHash||Je?.length),lr={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Je,metadata:new hr(J.createdAt,J.lastLoginAt),isAnonymous:Dn};Object.assign(_,lr)})).apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(_){const d=(0,U.m9)(_);yield nr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function wn(_,d){return[..._.filter(I=>!d.some(j=>j.providerId===I.providerId)),...d]}function zr(_){return _.map(d=>{var{providerId:g}=d,I=(0,me._T)(d,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function bn(){return(bn=(0,p.Z)(function*(_,d){const g=yield At(_,{},(0,p.Z)(function*(){const I=(0,U.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:J}=_.config,Me=zn(_,j,"/v1/token",`key=${J}`),Je=yield _._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(Me,{method:"POST",headers:Je,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ie(d.idToken,"internal-error"),Ie(typeof d.idToken<"u","internal-error"),Ie(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function _n(_){const d=dr(_);return Ie(d,"internal-error"),Ie(typeof d.exp<"u","internal-error"),Ie(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var I=this;return(0,p.Z)(function*(){return Ie(!I.accessToken||I.refreshToken,d,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var I=this;return(0,p.Z)(function*(){const{accessToken:j,refreshToken:J,expiresIn:Me}=yield function Sn(_,d){return bn.apply(this,arguments)}(d,g);I.updateTokensAndExpiration(j,J,Number(Me))})()}updateTokensAndExpiration(d,g,I){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,g){const{refreshToken:I,accessToken:j,expirationTime:J}=g,Me=new Pt;return I&&(Ie("string"==typeof I,"internal-error",{appName:d}),Me.refreshToken=I),j&&(Ie("string"==typeof j,"internal-error",{appName:d}),Me.accessToken=j),J&&(Ie("number"==typeof J,"internal-error",{appName:d}),Me.expirationTime=J),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Pt,this.toJSON())}_performRefresh(){return It("not implemented")}}function rr(_,d){Ie("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class sr{constructor(d){var{uid:g,auth:I,stsTokenManager:j}=d,J=(0,me._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new hr(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const I=yield an(g,g.stsTokenManager.getToken(g.auth,d));return Ie(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(d){return function Jn(_){return jr.apply(this,arguments)}(this,d)}reload(){return function un(_){return gr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ie(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new sr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var I=this;return(0,p.Z)(function*(){let j=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),j=!0),g&&(yield nr(I)),yield I.auth._persistUserIfCurrent(I),j&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield an(d,function Bn(_,d){return $t.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var I,j,J,Me,Je,kt,Kt,Dn;const lr=null!==(I=g.displayName)&&void 0!==I?I:void 0,Ao=null!==(j=g.email)&&void 0!==j?j:void 0,zs=null!==(J=g.phoneNumber)&&void 0!==J?J:void 0,$l=null!==(Me=g.photoURL)&&void 0!==Me?Me:void 0,As=null!==(Je=g.tenantId)&&void 0!==Je?Je:void 0,Hl=null!==(kt=g._redirectEventId)&&void 0!==kt?kt:void 0,vu=null!==(Kt=g.createdAt)&&void 0!==Kt?Kt:void 0,od=null!==(Dn=g.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:ia,emailVerified:Sc,isAnonymous:$u,providerData:Ja,stsTokenManager:ad}=g;Ie(ia&&ad,d,"internal-error");const er=Pt.fromJSON(this.name,ad);Ie("string"==typeof ia,d,"internal-error"),rr(lr,d.name),rr(Ao,d.name),Ie("boolean"==typeof Sc,d,"internal-error"),Ie("boolean"==typeof $u,d,"internal-error"),rr(zs,d.name),rr($l,d.name),rr(As,d.name),rr(Hl,d.name),rr(vu,d.name),rr(od,d.name);const ud=new sr({uid:ia,auth:d,email:Ao,emailVerified:Sc,displayName:lr,isAnonymous:$u,photoURL:$l,phoneNumber:zs,tenantId:As,stsTokenManager:er,createdAt:vu,lastLoginAt:od});return Ja&&Array.isArray(Ja)&&(ud.providerData=Ja.map(dh=>Object.assign({},dh))),Hl&&(ud._redirectEventId=Hl),ud}static _fromIdTokenResponse(d,g,I=!1){return(0,p.Z)(function*(){const j=new Pt;j.updateFromServerResponse(g);const J=new sr({uid:g.localId,auth:d,stsTokenManager:j,isAnonymous:I});return yield nr(J),J})()}}const Xe=new Map;function K(_){qt(_ instanceof Function,"Expected a class definition");let d=Xe.get(_);return d?(qt(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Xe.set(_,d),d)}const Le=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,I){var j=this;return(0,p.Z)(function*(){j.storage[g]=I})()}_get(g){var I=this;return(0,p.Z)(function*(){const j=I.storage[g];return void 0===j?null:j})()}_remove(g){var I=this;return(0,p.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return _.type="NONE",_})();function wt(_,d,g){return`firebase:${_}:${d}:${g}`}class ie{constructor(d,g,I){this.persistence=d,this.auth=g,this.userKey=I;const{config:j,name:J}=this.auth;this.fullUserKey=wt(this.userKey,j.apiKey,J),this.fullPersistenceKey=wt("persistence",j.apiKey,J),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?sr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,I="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ie(K(Le),d,I);const j=(yield Promise.all(g.map(function(){var Kt=(0,p.Z)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let J=j[0]||K(Le);const Me=wt(I,d.config.apiKey,d.name);let Je=null;for(const Kt of g)try{const Dn=yield Kt._get(Me);if(Dn){const lr=sr._fromJSON(d,Dn);Kt!==J&&(Je=lr),J=Kt;break}}catch{}const kt=j.filter(Kt=>Kt._shouldAllowMigration);return J._shouldAllowMigration&&kt.length?(J=kt[0],Je&&(yield J._set(Me,Je.toJSON())),yield Promise.all(g.map(function(){var Kt=(0,p.Z)(function*(Dn){if(Dn!==J)try{yield Dn._remove(Me)}catch{}});return function(Dn){return Kt.apply(this,arguments)}}())),new ie(J,d,I)):new ie(J,d,I)})()}}function oe(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ee(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Y(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(St(d))return"Blackberry";if(Yt(d))return"Webos";if(q(d))return"Safari";if((d.includes("chrome/")||H(d))&&!d.includes("edge/"))return"Chrome";if(rt(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Y(_=(0,U.z$)()){return/firefox\//i.test(_)}function q(_=(0,U.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function H(_=(0,U.z$)()){return/crios\//i.test(_)}function Ee(_=(0,U.z$)()){return/iemobile/i.test(_)}function rt(_=(0,U.z$)()){return/android/i.test(_)}function St(_=(0,U.z$)()){return/blackberry/i.test(_)}function Yt(_=(0,U.z$)()){return/webos/i.test(_)}function te(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function se(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function je(_=(0,U.z$)()){return te(_)||rt(_)||Yt(_)||St(_)||/windows phone/i.test(_)||Ee(_)}function tn(_,d=[]){let g;switch(_){case"Browser":g=oe((0,U.z$)());break;case"Worker":g=`${oe((0,U.z$)())}-${_}`;break;default:g=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${$.SDK_VERSION}/${I}`}function Re(){return(Re=(0,p.Z)(function*(_){return(yield Et(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ht(_,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,p.Z)(function*(_,d){return Et(_,"GET","/v2/recaptchaConfig",ct(_,d))})).apply(this,arguments)}function pn(_){return void 0!==_&&void 0!==_.getResponse}function vn(_){return void 0!==_&&void 0!==_.enterprise}class Nn{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function xn(_){return new Promise((d,g)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=j=>{const J=tt("internal-error");J.customData=j,g(J)},I.type="text/javascript",I.charset="UTF-8",function Nr(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}function Zr(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Vi{constructor(d){this.type="recaptcha-enterprise",this.auth=br(d)}verify(d="verify",g=!1){var I=this;return(0,p.Z)(function*(){function J(){return J=(0,p.Z)(function*(Je){if(!g){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var kt=(0,p.Z)(function*(Kt,Dn){ht(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lr=>{if(void 0!==lr.recaptchaKey){const Ao=new Nn(lr);return null==Je.tenantId?Je._agentRecaptchaConfig=Ao:Je._tenantRecaptchaConfigs[Je.tenantId]=Ao,Kt(Ao.siteKey)}Dn(new Error("recaptcha Enterprise site key undefined"))}).catch(lr=>{Dn(lr)})});return function(Kt,Dn){return kt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Me(Je,kt,Kt){const Dn=window.grecaptcha;vn(Dn)?Dn.enterprise.ready(()=>{Dn.enterprise.execute(Je,{action:d}).then(lr=>{kt(lr)}).catch(()=>{kt("NO_RECAPTCHA")})}):Kt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,kt)=>{(function j(Je){return J.apply(this,arguments)})(I.auth).then(Kt=>{if(!g&&vn(window.grecaptcha))Me(Kt,Je,kt);else{if(typeof window>"u")return void kt(new Error("RecaptchaVerifier is only supported in browser"));xn("https://www.google.com/recaptcha/enterprise.js?render="+Kt).then(()=>{Me(Kt,Je,kt)}).catch(Dn=>{kt(Dn)})}}).catch(Kt=>{kt(Kt)})})})()}}function Vn(_,d,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(_,d,g,I=!1){const j=new Vi(_);let J;try{J=yield j.verify(g)}catch{J=yield j.verify(g,!0)}const Me=Object.assign({},d);return Object.assign(Me,I?{captchaResp:J}:{captchaResponse:J}),Object.assign(Me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Me})).apply(this,arguments)}class Zs{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const I=J=>new Promise((Me,Je)=>{try{Me(d(J))}catch(kt){Je(kt)}});I.onAbort=g,this.queue.push(I);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const I=[];try{for(const j of g.queue)yield j(d),j.onAbort&&I.push(j.onAbort)}catch(j){I.reverse();for(const J of I)try{J()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class pi{constructor(d,g,I,j){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new Zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(d,g){var I=this;return g&&(this._popupRedirectResolver=K(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var j,J;if(!I._deleted&&(I.persistenceManager=yield ie.create(I,d),!I._deleted)){if(null!==(j=I._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(J=I.currentUser)||void 0===J?void 0:J.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var I;const j=yield g.assertedPersistence.getCurrentUser();let J=j,Me=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Je=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,kt=J?._redirectEventId,Kt=yield g.tryRedirectSignIn(d);(!Je||Je===kt)&&Kt?.user&&(J=Kt.user,Me=!0)}if(!J)return g.directlySetCurrentUser(null);if(!J._redirectEventId){if(Me)try{yield g.beforeStateQueue.runMiddleware(J)}catch(Je){J=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Je))}return J?g.reloadAndSetCurrentUserOrClear(J):g.directlySetCurrentUser(null)}return Ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===J._redirectEventId?g.directlySetCurrentUser(J):g.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield nr(d)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const I=d?(0,U.m9)(d):null;return I&&Ie(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(d,g=!1){var I=this;return(0,p.Z)(function*(){if(!I._deleted)return d&&Ie(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,p.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(K(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield ht(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Nn(g);null==d.tenantId?d._agentRecaptchaConfig=I:d._tenantRecaptchaConfigs[d.tenantId]=I,I.emailPasswordEnabled&&new Vi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new U.LL("auth","Firebase",d())}onAuthStateChanged(d,g,I){return this.registerStateListener(this.authStateSubscription,d,g,I)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,I){return this.registerStateListener(this.idTokenSubscription,d,g,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var I=this;return(0,p.Z)(function*(){const j=yield I.getOrInitRedirectPersistenceManager(g);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const I=d&&K(d)||g._popupRedirectResolver;Ie(I,g,"argument-error"),g.redirectPersistenceManager=yield ie.create(g,[K(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var I,j;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===d?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,I,j){if(this._deleted)return()=>{};const J="function"==typeof g?g:g.next.bind(g),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(Me,this,"internal-error"),Me.then(()=>J(this.currentUser)),"function"==typeof g?d.addObserver(g,I,j):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();j&&(I["X-Firebase-Client"]=j);const J=yield d._getAppCheckToken();return J&&(I["X-Firebase-AppCheck"]=J),I})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const I=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function bt(_,...d){ke.logLevel<=de.in.WARN&&ke.warn(`Auth (${$.SDK_VERSION}): ${_}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function br(_){return(0,U.m9)(_)}class Bi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pr(_,d,g){const I=br(_);Ie(I._canInitEmulator,I,"emulator-config-failed"),Ie(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const j=!!g?.disableWarnings,J=gi(d),{host:Me,port:Je}=function Lr(_){const d=gi(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(I);if(j){const J=j[1];return{host:J,port:Tr(I.substr(J.length+1))}}{const[J,Me]=I.split(":");return{host:J,port:Tr(Me)}}}(d);I.config.emulator={url:`${J}//${Me}${null===Je?"":`:${Je}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Me,port:Je,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Ns(){function _(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function gi(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Tr(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class Ri{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return It("not implemented")}_getIdTokenResponse(d){return It("not implemented")}_linkToIdToken(d,g){return It("not implemented")}_getReauthenticationResolver(d){return It("not implemented")}}function Ps(_,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:resetPassword",ct(_,d))})).apply(this,arguments)}function ji(_,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xo(_,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:update",ct(_,d))})).apply(this,arguments)}function Ha(_,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithPassword",ct(_,d))})).apply(this,arguments)}function ho(_,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:sendOobCode",ct(_,d))})).apply(this,arguments)}function po(_,d){return be.apply(this,arguments)}function be(){return(be=(0,p.Z)(function*(_,d){return ho(_,d)})).apply(this,arguments)}function _e(_,d){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,p.Z)(function*(_,d){return ho(_,d)})).apply(this,arguments)}function ut(_,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,p.Z)(function*(_,d){return ho(_,d)})).apply(this,arguments)}function Tn(_,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(function*(_,d){return ho(_,d)})).apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithEmailLink",ct(_,d))})).apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithEmailLink",ct(_,d))})).apply(this,arguments)}class kr extends Ri{constructor(d,g,I,j=null){super("password",I),this._email=d,this._password=g,this._tenantId=j}static _fromEmailAndPassword(d,g){return new kr(d,g,"password")}static _fromEmailAndCode(d,g,I=null){return new kr(d,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var I;switch(g.signInMethod){case"password":const j={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=d._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const J=yield Vn(d,j,"signInWithPassword");return Ha(d,J)}return Ha(d,j).catch(function(){var J=(0,p.Z)(function*(Me){if("auth/missing-recaptcha-token"===Me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Vn(d,j,"signInWithPassword");return Ha(d,Je)}return Promise.reject(Me)});return function(Me){return J.apply(this,arguments)}}());case"emailLink":return function Zn(_,d){return Pn.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:fe(d,"internal-error")}})()}_linkToIdToken(d,g){var I=this;return(0,p.Z)(function*(){switch(I.signInMethod){case"password":return ji(d,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function $i(_,d){return Ni.apply(this,arguments)}(d,{idToken:g,email:I._email,oobCode:I._password});default:fe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Yn(_,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithIdp",ct(_,d))})).apply(this,arguments)}class li extends Ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new li(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):fe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:j}=g,J=(0,me._T)(g,["providerId","signInMethod"]);if(!I||!j)return null;const Me=new li(I,j);return Me.idToken=J.idToken||void 0,Me.accessToken=J.accessToken||void 0,Me.secret=J.secret,Me.nonce=J.nonce,Me.pendingToken=J.pendingToken||null,Me}_getIdTokenResponse(d){return Yn(d,this.buildRequest())}_linkToIdToken(d,g){const I=this.buildRequest();return I.idToken=g,Yn(d,I)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Yn(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,U.xO)(g)}return d}}function Es(_,d){return Os.apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:sendVerificationCode",ct(_,d))})).apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithPhoneNumber",ct(_,d))})).apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(_,d){const g=yield ln(_,"POST","/v1/accounts:signInWithPhoneNumber",ct(_,d));if(g.temporaryProof)throw jn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Qs={USER_NOT_FOUND:"user-not-found"};function Js(){return(Js=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithPhoneNumber",ct(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Qs)})).apply(this,arguments)}class Hr extends Ri{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Hr({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Hr({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function sa(_,d){return ds.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function zo(_,d){return Ro.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Pi(_,d){return Js.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:I,verificationCode:j}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:I,code:j}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:I,phoneNumber:j,temporaryProof:J}=d;return I||g||j||J?new Hr({verificationId:g,verificationCode:I,phoneNumber:j,temporaryProof:J}):null}}class Xs{constructor(d){var g,I,j,J,Me,Je;const kt=(0,U.zd)((0,U.pd)(d)),Kt=null!==(g=kt.apiKey)&&void 0!==g?g:null,Dn=null!==(I=kt.oobCode)&&void 0!==I?I:null,lr=function ci(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=kt.mode)&&void 0!==j?j:null);Ie(Kt&&Dn&&lr,"argument-error"),this.apiKey=Kt,this.operation=lr,this.code=Dn,this.continueUrl=null!==(J=kt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Me=kt.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(Je=kt.tenantId)&&void 0!==Je?Je:null}static parseLink(d){const g=function go(_){const d=(0,U.zd)((0,U.pd)(_)).link,g=d?(0,U.zd)((0,U.pd)(d)).deep_link_id:null,I=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(I?(0,U.zd)((0,U.pd)(I)).link:null)||I||g||d||_}(d);try{return new Xs(g)}catch{return null}}}let oa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,I){return kr._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const j=Xs.parseLink(I);return Ie(j,"argument-error"),kr._fromEmailAndCode(g,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Er{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class hs extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class mo extends hs{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return Ie("providerId"in g&&"signInMethod"in g,"argument-error"),li._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ie(d.idToken||d.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return mo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return mo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:j,pendingToken:J,nonce:Me,providerId:Je}=d;if(!I&&!j&&!g&&!J||!Je)return null;try{return new mo(Je)._credential({idToken:g,accessToken:I,nonce:Me,pendingToken:J})}catch{return null}}}let fs=(()=>{class _ extends hs{constructor(){super("facebook.com")}static credential(g){return li._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Wr=(()=>{class _ extends hs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return li._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:j}=g;if(!I&&!j)return null;try{return _.credential(I,j)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Gi=(()=>{class _ extends hs{constructor(){super("github.com")}static credential(g){return li._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class zi extends Ri{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return Yn(d,this.buildRequest())}_linkToIdToken(d,g){const I=this.buildRequest();return I.idToken=g,Yn(d,I)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Yn(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:j,pendingToken:J}=g;return I&&j&&J&&I===j?new zi(I,J):null}static _create(d,g){return new zi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vo extends Er{constructor(d){Ie(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return vo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return vo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=zi.fromJSON(d);return Ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:I}=d;if(!g||!I)return null;try{return zi._create(I,g)}catch{return null}}}let No=(()=>{class _ extends hs{constructor(){super("twitter.com")}static credential(g,I){return li._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:j}=g;if(!I||!j)return null;try{return _.credential(I,j)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function eo(_,d){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signUp",ct(_,d))})).apply(this,arguments)}class Kr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,I,j=!1){return(0,p.Z)(function*(){const J=yield sr._fromIdTokenResponse(d,I,j),Me=to(I);return new Kr({user:J,providerId:Me,_tokenResponse:I,operationType:g})})()}static _forOperation(d,g,I){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const j=to(I);return new Kr({user:d,providerId:j,_tokenResponse:I,operationType:g})})()}}function to(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function En(_){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(_){var d;const g=br(_);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new Kr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield eo(g,{returnSecureToken:!0}),j=yield Kr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Fs extends U.ZR{constructor(d,g,I,j){var J;super(g.code,g.message),this.operationType=I,this.user=j,Object.setPrototypeOf(this,Fs.prototype),this.customData={appName:d.name,tenantId:null!==(J=d.tenantId)&&void 0!==J?J:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,g,I,j){return new Fs(d,g,I,j)}}function aa(_,d,g,I){return("reauthenticate"===d?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Fs._fromErrorAndOperation(_,J,d,I):J})}function Ar(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function Oi(_,d){return _o.apply(this,arguments)}function _o(){return(_o=(0,p.Z)(function*(_,d){const g=(0,U.m9)(_);yield gt(!0,g,d);const{providerUserInfo:I}=yield Wn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),j=Ar(I||[]);return g.providerData=g.providerData.filter(J=>j.has(J.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ci(_,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(_,d,g=!1){const I=yield an(_,d._linkToIdToken(_.auth,yield _.getIdToken()),g);return Kr._forOperation(_,"link",I)})).apply(this,arguments)}function gt(_,d,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(_,d,g){yield nr(d);const j=!1===_?"provider-already-linked":"no-such-provider";Ie(Ar(d.providerData).has(g)===_,d.auth,j)})).apply(this,arguments)}function no(_,d){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(_,d,g=!1){const{auth:I}=_,j="reauthenticate";try{const J=yield an(_,aa(I,j,d,_),g);Ie(J.idToken,I,"internal-error");const Me=dr(J.idToken);Ie(Me,I,"internal-error");const{sub:Je}=Me;return Ie(_.uid===Je,I,"user-mismatch"),Kr._forOperation(_,j,J)}catch(J){throw"auth/user-not-found"===J?.code&&fe(I,"user-mismatch"),J}})).apply(this,arguments)}function Gr(_,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(_,d,g=!1){const I="signIn",j=yield aa(_,I,d),J=yield Kr._fromIdTokenResponse(_,I,j);return g||(yield _._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Wi(_,d){return es.apply(this,arguments)}function es(){return(es=(0,p.Z)(function*(_,d){return Gr(br(_),d)})).apply(this,arguments)}function Po(_,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(_,d){const g=(0,U.m9)(_);return yield gt(!1,g,d.providerId),Ci(g,d)})).apply(this,arguments)}function Is(_,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(_,d){return no((0,U.m9)(_),d)})).apply(this,arguments)}function O(_,d){return R.apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(_,d){return ln(_,"POST","/v1/accounts:signInWithCustomToken",ct(_,d))})).apply(this,arguments)}function x(_,d){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(_,d){const g=br(_),I=yield O(g,{token:d,returnSecureToken:!0}),j=yield Kr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ye{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?en._fromServerResponse(d,g):"totpInfo"in g?$n._fromServerResponse(d,g):fe(d,"internal-error")}}class en extends Ye{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new en(g)}}class $n extends Ye{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new $n(g)}}function ti(_,d,g){var I;Ie((null===(I=g.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),Ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ie(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Ie(g.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function Ki(_,d,g){return bi.apply(this,arguments)}function bi(){return bi=(0,p.Z)(function*(_,d,g){var I;const j=br(_),J={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=j._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Me=yield Vn(j,J,"getOobCode",!0);g&&ti(j,Me,g),yield _e(j,Me)}else g&&ti(j,J,g),yield _e(j,J).catch(function(){var Me=(0,p.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const kt=yield Vn(j,J,"getOobCode",!0);g&&ti(j,kt,g),yield _e(j,kt)}});return function(Je){return Me.apply(this,arguments)}}())}),bi.apply(this,arguments)}function Ds(_,d,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,p.Z)(function*(_,d,g){yield Ps((0,U.m9)(_),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Eo(_,d){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(_,d){yield xo((0,U.m9)(_),{oobCode:d})})).apply(this,arguments)}function ki(_,d){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(_,d){const g=(0,U.m9)(_),I=yield Ps(g,{oobCode:d}),j=I.requestType;switch(Ie(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(I.mfaInfo,g,"internal-error");default:Ie(I.email,g,"internal-error")}let J=null;return I.mfaInfo&&(J=Ye._fromServerResponse(br(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:J},operation:j}})).apply(this,arguments)}function xa(_,d){return wo.apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(_,d){const{data:g}=yield ki((0,U.m9)(_),d);return g.email})).apply(this,arguments)}function Wo(_,d,g){return ko.apply(this,arguments)}function ko(){return ko=(0,p.Z)(function*(_,d,g){var I;const j=br(_),J={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Me;if(null!==(I=j._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Kt=yield Vn(j,J,"signUpPassword");Me=eo(j,Kt)}else Me=eo(j,J).catch(function(){var Kt=(0,p.Z)(function*(Dn){if("auth/missing-recaptcha-token"===Dn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lr=yield Vn(j,J,"signUpPassword");return eo(j,lr)}return Promise.reject(Dn)});return function(Dn){return Kt.apply(this,arguments)}}());const Je=yield Me.catch(Kt=>Promise.reject(Kt)),kt=yield Kr._fromIdTokenResponse(j,"signIn",Je);return yield j._updateCurrentUser(kt.user),kt}),ko.apply(this,arguments)}function Ko(_,d,g){return Wi((0,U.m9)(_),oa.credential(d,g))}function Ti(_,d,g){return Us.apply(this,arguments)}function Us(){return Us=(0,p.Z)(function*(_,d,g){var I;const j=br(_),J={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Me(Je,kt){Ie(kt.handleCodeInApp,j,"argument-error"),kt&&ti(j,Je,kt)}if(null!==(I=j._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Je=yield Vn(j,J,"getOobCode",!0);Me(Je,g),yield ut(j,Je)}else Me(J,g),yield ut(j,J).catch(function(){var Je=(0,p.Z)(function*(kt){if("auth/missing-recaptcha-token"!==kt.code)return Promise.reject(kt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kt=yield Vn(j,J,"getOobCode",!0);Me(Kt,g),yield ut(j,Kt)}});return function(kt){return Je.apply(this,arguments)}}())}),Us.apply(this,arguments)}function la(_,d){return"EMAIL_SIGNIN"===Xs.parseLink(d)?.operation}function Io(_,d,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_),j=oa.credentialWithLink(d,g||_t());return Ie(j._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Wi(I,j)})).apply(this,arguments)}function mi(_,d){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:createAuthUri",ct(_,d))})).apply(this,arguments)}function wr(_,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(_,d){const I={identifier:d,continueUri:xt()?_t():"http://localhost"},{signinMethods:j}=yield mi((0,U.m9)(_),I);return j||[]})).apply(this,arguments)}function ca(_,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(_,d){const g=(0,U.m9)(_),j={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&ti(g.auth,j,d);const{email:J}=yield po(g.auth,j);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function qo(_,d,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};g&&ti(I.auth,J,g);const{email:Me}=yield Tn(I.auth,J);Me!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cs(_,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(_,d){return Et(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Zo(_,d){return ps.apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(_,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const I=(0,U.m9)(_),J={idToken:yield I.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Me=yield an(I,Cs(I.auth,J));I.displayName=Me.displayName||null,I.photoURL=Me.photoUrl||null;const Je=I.providerData.find(({providerId:kt})=>"password"===kt);Je&&(Je.displayName=I.displayName,Je.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Me)})).apply(this,arguments)}function Zi(_,d){return ns((0,U.m9)(_),d,null)}function yi(_,d){return ns((0,U.m9)(_),null,d)}function ns(_,d,g){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(_,d,g){const{auth:I}=_,J={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(J.email=d),g&&(J.password=g);const Me=yield an(_,ji(I,J));yield _._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class oo{constructor(d,g,I={}){this.isNewUser=d,this.providerId=g,this.profile=I}}class Do extends oo{constructor(d,g,I,j){super(d,g,I),this.username=j}}class Lo extends oo{constructor(d,g){super(d,"facebook.com",g)}}class ou extends Do{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class b extends oo{constructor(d,g){super(d,"google.com",g)}}class L extends Do{constructor(d,g,I){super(d,"twitter.com",g,I)}}function M(_){const{user:d,_tokenResponse:g}=_;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function so(_){var d,g;if(!_)return null;const{providerId:I}=_,j=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},J=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&_?.idToken){const Me=null===(g=null===(d=dr(_.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Me)return new oo(J,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!I)return null;switch(I){case"facebook.com":return new Lo(J,j);case"github.com":return new ou(J,j);case"google.com":return new b(J,j);case"twitter.com":return new L(J,j,_.screenName||null);case"custom":case"anonymous":return new oo(J,null);default:return new oo(J,I,j)}}(g)}class On{constructor(d,g,I){this.type=d,this.credential=g,this.auth=I}static _fromIdtoken(d,g){return new On("enroll",d,g)}static _fromMfaPendingCredential(d){return new On("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,I;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return On._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(I=d.multiFactorSession)&&void 0!==I&&I.idToken)return On._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ni{constructor(d,g,I){this.session=d,this.hints=g,this.signInResolver=I}static _fromError(d,g){const I=br(d),j=g.customData._serverResponse,J=(j.mfaInfo||[]).map(Je=>Ye._fromServerResponse(I,Je));Ie(j.mfaPendingCredential,I,"internal-error");const Me=On._fromMfaPendingCredential(j.mfaPendingCredential);return new ni(Me,J,function(){var Je=(0,p.Z)(function*(kt){const Kt=yield kt._process(I,Me);delete j.mfaInfo,delete j.mfaPendingCredential;const Dn=Object.assign(Object.assign({},j),{idToken:Kt.idToken,refreshToken:Kt.refreshToken});switch(g.operationType){case"signIn":const lr=yield Kr._fromIdTokenResponse(I,g.operationType,Dn);return yield I._updateCurrentUser(lr.user),lr;case"reauthenticate":return Ie(g.user,I,"internal-error"),Kr._forOperation(g.user,g.operationType,Dn);default:fe(I,"internal-error")}});return function(kt){return Je.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function js(_,d){var g;const I=(0,U.m9)(_),j=d;return Ie(d.customData.operationType,I,"argument-error"),Ie(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),ni._fromError(I,j)}function mt(_,d){return Et(_,"POST","/v2/accounts/mfaEnrollment:start",ct(_,d))}class nn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>Ye._fromServerResponse(d.auth,I)))})}static _fromUser(d){return new nn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return On._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var I=this;return(0,p.Z)(function*(){const j=d,J=yield I.getSession(),Me=yield an(I.user,j._process(I.user.auth,J,g));return yield I.user._updateTokensIfNecessary(Me),I.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const I="string"==typeof d?d:d.uid,j=yield g.user.getIdToken();try{const J=yield an(g.user,function Wt(_,d){return Et(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(_,d))}(g.user.auth,{idToken:j,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Me})=>Me!==I),yield g.user._updateTokensIfNecessary(J),yield g.user.reload()}catch(J){throw J}})()}}const da=new WeakMap;function Bt(_){const d=(0,U.m9)(_);return da.has(d)||da.set(d,nn._fromUser(d)),da.get(d)}const ze="__sak";class yt{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ze,"1"),this.storage.removeItem(ze),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const nl=(()=>{class _ extends yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function oi(){const _=(0,U.z$)();return q(_)||te(_)}()&&function Nt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=je(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const j=this.storage.getItem(I),J=this.localCache[I];j!==J&&g(I,J,j)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((Je,kt,Kt)=>{this.notifyListeners(Je,Kt)});const j=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(j);if(g.newValue!==Je)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!I)return}const J=()=>{const Je=this.storage.getItem(j);!I&&this.localCache[j]===Je||this.notifyListeners(j,Je)},Me=this.storage.getItem(j);!function Se(){return(0,U.w1)()&&10===document.documentMode}()||Me===g.newValue||g.newValue===g.oldValue?J():setTimeout(J,10)}notifyListeners(g,I){this.localCache[g]=I;const j=this.listeners[g];if(j)for(const J of Array.from(j))J(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var j=()=>super._set,J=this;return(0,p.Z)(function*(){yield j().call(J,g,I),J.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,j=this;return(0,p.Z)(function*(){const J=yield I().call(j,g);return j.localCache[g]=JSON.stringify(J),J})()}_remove(g){var I=()=>super._remove,j=this;return(0,p.Z)(function*(){yield I().call(j,g),delete j.localCache[g]})()}}return _.type="LOCAL",_})(),ha=(()=>{class _ extends yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return _.type="SESSION",_})();let Pl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(J=>J.isListeningto(g));if(I)return I;const j=new _(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,p.Z)(function*(){const j=g,{eventId:J,eventType:Me,data:Je}=j.data,kt=I.handlersMap[Me];if(!kt?.size)return;j.ports[0].postMessage({status:"ack",eventId:J,eventType:Me});const Kt=Array.from(kt).map(function(){var lr=(0,p.Z)(function*(Ao){return Ao(j.origin,Je)});return function(Ao){return lr.apply(this,arguments)}}()),Dn=yield function Nl(_){return Promise.all(_.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return d.apply(this,arguments)}}()))}(Kt);j.ports[0].postMessage({status:"done",eventId:J,eventType:Me,response:Dn})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function fa(_="",d=10){let g="";for(let I=0;I<d;I++)g+=Math.floor(10*Math.random());return _+g}class Wa{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,I=50){var j=this;return(0,p.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Me,Je;return new Promise((kt,Kt)=>{const Dn=fa("",20);J.port1.start();const lr=setTimeout(()=>{Kt(new Error("unsupported_event"))},I);Je={messageChannel:J,onMessage(Ao){const zs=Ao;if(zs.data.eventId===Dn)switch(zs.data.status){case"ack":clearTimeout(lr),Me=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),kt(zs.data.response);break;default:clearTimeout(lr),clearTimeout(Me),Kt(new Error("invalid_response"))}}},j.handlers.add(Je),J.port1.addEventListener("message",Je.onMessage),j.target.postMessage({eventType:d,eventId:Dn,data:g},[J.port2])}).finally(()=>{Je&&j.removeMessageHandler(Je)})})()}}function ai(){return window}function Co(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Rr(){return(Rr=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const In="firebaseLocalStorageDb",Xn="firebaseLocalStorage",jt="fbase_key";class gs{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ga(_,d){return _.transaction([Xn],d?"readwrite":"readonly").objectStore(Xn)}function yr(){const _=indexedDB.open(In,1);return new Promise((d,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(Xn,{keyPath:jt})}catch(j){g(j)}}),_.addEventListener("success",(0,p.Z)(function*(){const I=_.result;I.objectStoreNames.contains(Xn)?d(I):(I.close(),yield function Qo(){const _=indexedDB.deleteDatabase(In);return new gs(_).toPromise()}(),d(yield yr()))}))})}function Nu(_,d,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(_,d,g){const I=ga(_,!0).put({[jt]:d,value:g});return new gs(I).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,p.Z)(function*(_,d){const g=ga(_,!1).get(d),I=yield new gs(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ol(_,d){const g=ga(_,!0).delete(d);return new gs(g).toPromise()}const rl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield yr()),g.db})()}_withRetries(g){var I=this;return(0,p.Z)(function*(){let j=0;for(;;)try{const J=yield I._openDb();return yield g(J)}catch(J){if(j++>3)throw J;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Co()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Pl._getInstance(function $s(){return Co()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,p.Z)(function*(j,J){return{keyProcessed:(yield g._poll()).includes(J.key)}});return function(j,J){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,p.Z)(function*(j,J){return["keyChanged"]});return function(j,J){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var I,j;if(g.activeServiceWorker=yield function Ru(){return Rr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wa(g.activeServiceWorker);const J=yield g.sender._send("ping",{},800);!J||(null===(I=J[0])||void 0===I?void 0:I.fulfilled)&&(null===(j=J[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,p.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function dn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield yr();return yield Nu(g,ze,"1"),yield Ol(g,ze),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,p.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var j=this;return(0,p.Z)(function*(){return j._withPendingWrite((0,p.Z)(function*(){return yield j._withRetries(J=>Nu(J,g,I)),j.localCache[g]=I,j.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,p.Z)(function*(){const j=yield I._withRetries(J=>function Vo(_,d){return ma.apply(this,arguments)}(J,g));return I.localCache[g]=j,j})()}_remove(g){var I=this;return(0,p.Z)(function*(){return I._withPendingWrite((0,p.Z)(function*(){return yield I._withRetries(j=>Ol(j,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const I=yield g._withRetries(Me=>{const Je=ga(Me,!1).getAll();return new gs(Je).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const j=[],J=new Set;for(const{fbase_key:Me,value:Je}of I)J.add(Me),JSON.stringify(g.localCache[Me])!==JSON.stringify(Je)&&(g.notifyListeners(Me,Je),j.push(Me));for(const Me of Object.keys(g.localCache))g.localCache[Me]&&!J.has(Me)&&(g.notifyListeners(Me,null),j.push(Me));return j})()}notifyListeners(g,I){this.localCache[g]=I;const j=this.listeners[g];if(j)for(const J of Array.from(j))J(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function va(_,d){return Et(_,"POST","/v2/accounts/mfaSignIn:start",ct(_,d))}const _a=1e12;class Ai{constructor(d){this.auth=d,this.counter=_a,this._widgets=new Map}render(d,g){const I=this.counter;return this._widgets.set(I,new Si(d,this.auth.name,g||{})),this.counter++,I}reset(d){var g;const I=d||_a;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(d){var g;return(null===(g=this._widgets.get(d||_a))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var I;return null===(I=g._widgets.get(d||_a))||void 0===I||I.execute(),""})()}}class Si{constructor(d,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof d?document.getElementById(d):d;Ie(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function au(_){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=Zr("rcb"),Ra=new Pe(3e4,6e4);class Ou{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ai().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return Ie(function kl(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&pn(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((I,j)=>{const J=ai().setTimeout(()=>{j(tt(d,"network-request-failed"))},Ra.get());ai()[Hs]=()=>{ai().clearTimeout(J),delete ai()[Hs];const Je=ai().grecaptcha;if(!Je||!pn(Je))return void j(tt(d,"internal-error"));const kt=Je.render;Je.render=(Kt,Dn)=>{const lr=kt(Kt,Dn);return this.counter++,lr},this.hostLanguage=g,I(Je)},xn(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Hs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(J),j(tt(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=ai().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ms{load(d){return(0,p.Z)(function*(){return new Ai(d)})()}clearedOneInstance(){}}const qa="recaptcha",Uo={theme:"light",type:"image"};class ys{constructor(d,g=Object.assign({},Uo),I){this.parameters=g,this.type=qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=br(I),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof d?document.getElementById(d):d;Ie(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ms:new Ou,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),I=d.getAssertedRecaptcha();return I.getResponse(g)||new Promise(J=>{const Me=Je=>{!Je||(d.tokenChangeListeners.delete(Me),J(Je))};d.tokenChangeListeners.add(Me),d.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof d)d(g);else if("string"==typeof d){const I=ai()[d];"function"==typeof I&&I(g)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){Ie(xt()&&!Co(),d.auth,"internal-error"),yield function vi(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function xe(_){return Re.apply(this,arguments)}(d.auth);Ie(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class v{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Hr._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function E(_,d,g){return y.apply(this,arguments)}function y(){return(y=(0,p.Z)(function*(_,d,g){const I=br(_),j=yield he(I,d,(0,U.m9)(g));return new v(j,J=>Wi(I,J))})).apply(this,arguments)}function T(_,d,g){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_);yield gt(!1,I,"phone");const j=yield he(I.auth,d,(0,U.m9)(g));return new v(j,J=>Po(I,J))})).apply(this,arguments)}function G(_,d,g){return ae.apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_),j=yield he(I.auth,d,(0,U.m9)(g));return new v(j,J=>Is(I,J))})).apply(this,arguments)}function he(_,d,g){return et.apply(this,arguments)}function et(){return(et=(0,p.Z)(function*(_,d,g){var I;const j=yield g.verify();try{let J;if(Ie("string"==typeof j,_,"argument-error"),Ie(g.type===qa,_,"argument-error"),J="string"==typeof d?{phoneNumber:d}:d,"session"in J){const Me=J.session;if("phoneNumber"in J)return Ie("enroll"===Me.type,_,"internal-error"),(yield mt(_,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Me.type,_,"internal-error");const Je=(null===(I=J.multiFactorHint)||void 0===I?void 0:I.uid)||J.multiFactorUid;return Ie(Je,_,"missing-multi-factor-info"),(yield va(_,{mfaPendingCredential:Me.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield Es(_,{phoneNumber:J.phoneNumber,recaptchaToken:j});return Me}}finally{g._reset()}})).apply(this,arguments)}function Lt(_,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(_,d){yield Ci((0,U.m9)(_),d)})).apply(this,arguments)}let sn=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=br(g)}verifyPhoneNumber(g,I){return he(this.auth,g,(0,U.m9)(I))}static credential(g,I){return Hr._fromVerification(g,I)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:j}=g;return I&&j?Hr._fromTokenResponse(I,j):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Kn(_,d){return d?K(d):(Ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Mi extends Ri{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Yn(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Yn(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Yn(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function ui(_){return Gr(_.auth,new Mi(_),_.bypassAuthState)}function Xo(_){const{auth:d,user:g}=_;return Ie(g,d,"internal-error"),no(g,new Mi(_),_.bypassAuthState)}function Gs(_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,p.Z)(function*(_){const{auth:d,user:g}=_;return Ie(g,d,"internal-error"),Ci(g,new Mi(_),_.bypassAuthState)})).apply(this,arguments)}class ea{constructor(d,g,I,j,J=!1){this.auth=d,this.resolver=I,this.user=j,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(I,j){d.pendingPromise={resolve:I,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(J){d.reject(J)}});return function(I,j){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:I,sessionId:j,postBody:J,tenantId:Me,error:Je,type:kt}=d;if(Je)return void g.reject(Je);const Kt={auth:g.auth,requestUri:I,sessionId:j,tenantId:Me||void 0,postBody:J||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(kt)(Kt))}catch(Dn){g.reject(Dn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ui;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return Xo;default:fe(this.auth,"internal-error")}}resolve(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Na=new Pe(2e3,1e4);function Ts(_,d,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(_,d,g){const I=br(_);ot(_,d,Er);const j=Kn(I,g);return new wa(I,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}function Fi(_,d,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_);ot(I.auth,d,Er);const j=Kn(I.auth,g);return new wa(I.auth,"reauthViaPopup",d,j,I).executeNotNull()})).apply(this,arguments)}function Fl(_,d,g){return il.apply(this,arguments)}function il(){return(il=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_);ot(I.auth,d,Er);const j=Kn(I.auth,g);return new wa(I.auth,"linkViaPopup",d,j,I).executeNotNull()})).apply(this,arguments)}let wa=(()=>{class _ extends ea{constructor(g,I,j,J,Me){super(g,I,J,Me),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const I=yield g.execute();return Ie(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,p.Z)(function*(){qt(1===g.filter.length,"Popup operations only handle one event");const I=fa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(tt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,j;this.pollId=null!==(j=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Na.get())};g()}}return _.currentPopupAction=null,_})();const Pa=new Map;class Za extends ea{constructor(d,g,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let I=Pa.get(g.auth._key());if(!I){try{const J=(yield function Ll(_,d){return vr.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;I=()=>Promise.resolve(J)}catch(j){I=()=>Promise.reject(j)}Pa.set(g.auth._key(),I)}return g.bypassAuthState||Pa.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,I=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(I,d);if("unknown"!==d.type){if(d.eventId){const j=yield I.auth._redirectUserForId(d.eventId);if(j)return I.user=j,g().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function vr(){return(vr=(0,p.Z)(function*(_,d){const g=rs(d),I=Bo(_);if(!(yield I._isAvailable()))return!1;const j="true"===(yield I._get(g));return yield I._remove(g),j})).apply(this,arguments)}function cu(_,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(_,d){return Bo(_)._set(rs(d),"true")})).apply(this,arguments)}function ii(){Pa.clear()}function Vl(_,d){Pa.set(_._key(),d)}function Bo(_){return K(_._redirectPersistence)}function rs(_){return wt("pendingRedirect",_.config.apiKey,_.name)}function sl(_,d,g){return function Tc(_,d,g){return _i.apply(this,arguments)}(_,d,g)}function _i(){return(_i=(0,p.Z)(function*(_,d,g){const I=br(_);ot(_,d,Er),yield I._initializationPromise;const j=Kn(I,g);return yield cu(j,I),j._openRedirect(I,d,"signInViaRedirect")})).apply(this,arguments)}function du(_,d,g){return function bo(_,d,g){return si.apply(this,arguments)}(_,d,g)}function si(){return(si=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_);ot(I.auth,d,Er),yield I.auth._initializationPromise;const j=Kn(I.auth,g);yield cu(j,I.auth);const J=yield ka(I);return j._openRedirect(I.auth,d,"reauthViaRedirect",J)})).apply(this,arguments)}function Oa(_,d,g){return function Fu(_,d,g){return Lu.apply(this,arguments)}(_,d,g)}function Lu(){return(Lu=(0,p.Z)(function*(_,d,g){const I=(0,U.m9)(_);ot(I.auth,d,Er),yield I.auth._initializationPromise;const j=Kn(I.auth,g);yield gt(!1,I,d.providerId),yield cu(j,I.auth);const J=yield ka(I);return j._openRedirect(I.auth,d,"linkViaRedirect",J)})).apply(this,arguments)}function ol(_,d){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,p.Z)(function*(_,d){return yield br(_)._initializationPromise,ta(_,d,!1)})).apply(this,arguments)}function ta(_,d){return na.apply(this,arguments)}function na(){return(na=(0,p.Z)(function*(_,d,g=!1){const I=br(_),j=Kn(I,d),Me=yield new Za(I,j,g).execute();return Me&&!g&&(delete Me.user._redirectEventId,yield I._persistUserIfCurrent(Me.user),yield I._setRedirectUser(null,d)),Me})).apply(this,arguments)}function ka(_){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(_){const d=fa(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class Ia{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(g=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ya(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hu(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var I;if(d.error&&!hu(d)){const j=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(tt(this.auth,j))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const I=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ra(d))}saveEventToCache(d){this.cachedEventUids.add(ra(d)),this.lastProcessedEventTime=Date.now()}}function ra(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function hu({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function fu(_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,p.Z)(function*(_,d={}){return Et(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ed=/^https?/;function pu(){return(pu=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield fu(_);for(const g of d)try{if(gu(g))return}catch{}fe(_,"unauthorized-domain")})).apply(this,arguments)}function gu(_){const d=_t(),{protocol:g,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const Me=new URL(_);return""===Me.hostname&&""===I?"chrome-extension:"===g&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Me.hostname===I}if(!ed.test(g))return!1;if(Fa.test(_))return I===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(I)}const ul=new Pe(3e4,6e4);function Uu(){const _=ai().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Da=null;function nd(_){return Da=Da||function td(_){return new Promise((d,g)=>{var I,j,J;function Me(){Uu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Uu(),g(tt(_,"network-request-failed"))},timeout:ul.get()})}if(null!==(j=null===(I=ai().gapi)||void 0===I?void 0:I.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(J=ai().gapi)||void 0===J||!J.load){const Je=Zr("iframefcb");return ai()[Je]=()=>{gapi.load?Me():g(tt(_,"network-request-failed"))},xn(`https://apis.google.com/js/api.js?onload=${Je}`).catch(kt=>g(kt))}Me()}}).catch(d=>{throw Da=null,d})}(_),Da}const Ca=new Pe(5e3,15e3),ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ss(_){const d=_.config;Ie(d.authDomain,_,"auth-domain-config-required");const g=d.emulator?Fe(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,I={apiKey:d.apiKey,appName:_.name,v:$.SDK_VERSION},j=qr.get(_.config.apiHost);j&&(I.eid=j);const J=_._getFrameworks();return J.length&&(I.fw=J.join(",")),`${g}?${(0,U.xO)(I).slice(1)}`}function w(){return w=(0,p.Z)(function*(_){const d=yield nd(_),g=ai().gapi;return Ie(g,_,"internal-error"),d.open({where:document.body,url:ss(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},I=>new Promise(function(){var j=(0,p.Z)(function*(J,Me){yield I.restyle({setHideOnLeave:!1});const Je=tt(_,"network-request-failed"),kt=ai().setTimeout(()=>{Me(Je)},Ca.get());function Kt(){ai().clearTimeout(kt),J(I)}I.ping(Kt).then(Kt,()=>{Me(Je)})});return function(J,Me){return j.apply(this,arguments)}}()))}),w.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nt{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kn=encodeURIComponent("fac");function vs(_,d,g,I,j,J){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(_,d,g,I,j,J){Ie(_.config.authDomain,_,"auth-domain-config-required"),Ie(_.config.apiKey,_,"invalid-api-key");const Me={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:I,v:$.SDK_VERSION,eventId:j};if(d instanceof Er){d.setDefaultLanguage(_.languageCode),Me.providerId=d.providerId||"",(0,U.xb)(d.getCustomParameters())||(Me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Dn,lr]of Object.entries(J||{}))Me[Dn]=lr}if(d instanceof hs){const Dn=d.getScopes().filter(lr=>""!==lr);Dn.length>0&&(Me.scopes=Dn.join(","))}_.tenantId&&(Me.tid=_.tenantId);const Je=Me;for(const Dn of Object.keys(Je))void 0===Je[Dn]&&delete Je[Dn];const kt=yield _._getAppCheckToken(),Kt=kt?`#${kn}=${encodeURIComponent(kt)}`:"";return`${Li(_)}?${(0,U.xO)(Je).slice(1)}${Kt}`})).apply(this,arguments)}function Li({config:_}){return _.emulator?Fe(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}const ba="webStorageSupport",co=class mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ha,this._completeRedirectFn=ta,this._overrideRedirectResult=Vl}_openPopup(d,g,I,j){var J=this;return(0,p.Z)(function*(){var Me;qt(null===(Me=J.eventManagers[d._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const Je=yield vs(d,g,I,_t(),j);return function zt(_,d,g,I=500,j=600){const J=Math.max((window.screen.availHeight-j)/2,0).toString(),Me=Math.max((window.screen.availWidth-I)/2,0).toString();let Je="";const kt=Object.assign(Object.assign({},A),{width:I.toString(),height:j.toString(),top:J,left:Me}),Kt=(0,U.z$)().toLowerCase();g&&(Je=H(Kt)?"_blank":g),Y(Kt)&&(d=d||"http://localhost",kt.scrollbars="yes");const Dn=Object.entries(kt).reduce((Ao,[zs,$l])=>`${Ao}${zs}=${$l},`,"");if(function X(_=(0,U.z$)()){var d;return te(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Kt)&&"_self"!==Je)return function Ut(_,d){const g=document.createElement("a");g.href=_,g.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(d||"",Je),new nt(null);const lr=window.open(d||"",Je,Dn);Ie(lr,_,"popup-blocked");try{lr.focus()}catch{}return new nt(lr)}(d,Je,fa())})()}_openRedirect(d,g,I,j){var J=this;return(0,p.Z)(function*(){return yield J._originValidation(d),function rn(_){ai().location.href=_}(yield vs(d,g,I,_t(),j)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:j,promise:J}=this.eventManagers[g];return j?Promise.resolve(j):(qt(J,"If manager is not set, promise should be"),J)}const I=this.initAndGetManager(d);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const I=yield function rd(_){return w.apply(this,arguments)}(d),j=new Ia(d);return I.register("authEvent",J=>(Ie(J?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:j},g.iframes[d._key()]=I,j})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(ba,{type:ba},j=>{var J;const Me=null===(J=j?.[0])||void 0===J?void 0:J[ba];void 0!==Me&&g(!!Me),fe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function al(_){return pu.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return je()||q()||te()}};class yu extends class La{constructor(d){this.factorId=d}_process(d,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,I);case"signin":return this._finalizeSignIn(d,g.credential);default:return It("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new yu(d)}_finalizeEnroll(d,g,I){return function pr(_,d){return Et(_,"POST","/v2/accounts/mfaEnrollment:finalize",ct(_,d))}(d,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function ri(_,d){return Et(_,"POST","/v2/accounts/mfaSignIn:finalize",ct(_,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rf=(()=>{class _{constructor(){}static assertion(g){return yu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var cl="@firebase/auth";class dl{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);!g||(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function sd(_){(0,$._registerComponent)(new Te.wA("auth",(d,{options:g})=>{const I=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),J=d.getProvider("app-check-internal"),{apiKey:Me,authDomain:Je}=I.options;Ie(Me&&!Me.includes(":"),"invalid-api-key",{appName:I.name});const kt={apiKey:Me,authDomain:Je,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tn(_)},Kt=new pi(I,j,J,kt);return function us(_,d){const g=d?.persistence||[],I=(Array.isArray(g)?g:[g]).map(K);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,d?.popupRedirectResolver)}(Kt,g),Kt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,I)=>{d.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Te.wA("auth-internal",d=>{const g=br(d.getProvider("auth").getImmediate());return new dl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(cl,"0.23.2",function lh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,$.registerVersion)(cl,"0.23.2","esm2017")}("Browser")},2810:(Gt,Ge,k)=>{k.d(Ge,{u7:()=>sg,Jj:()=>vc,IX:()=>Cm,my:()=>wi,xU:()=>Ic,Lz:()=>Sl,WA:()=>yt,F8:()=>yf,$q:()=>sh,W:()=>Dc,EK:()=>Rr,PU:()=>og,l7:()=>ta,Ky:()=>jt,Xb:()=>Xn,Cf:()=>Ir,K9:()=>da,Me:()=>Tc,yq:()=>xr,Wi:()=>Em,ET:()=>Cc,Ab:()=>Jv,vr:()=>my,Fc:()=>Tm,hJ:()=>Kp,B$:()=>qp,at:()=>qd,oe:()=>uy,AK:()=>py,TF:()=>Sm,JU:()=>Zp,ST:()=>Uv,fH:()=>Bv,Ix:()=>Am,Wu:()=>Km,Lx:()=>Wm,qY:()=>Ji,GL:()=>su,QT:()=>ey,kl:()=>ty,Xk:()=>ny,PL:()=>ry,UQ:()=>iy,zN:()=>sy,nP:()=>Xv,b9:()=>Df,vh:()=>rg,Pb:()=>Mm,L$:()=>xm,cf:()=>qv,sc:()=>Zv,Xo:()=>Hm,IO:()=>jm,iE:()=>Zd,Eo:()=>Im,i3:()=>fy,Bt:()=>gy,pl:()=>oy,Ub:()=>js,qK:()=>Xm,TQ:()=>zm,e0:()=>Gm,r7:()=>ay,Mx:()=>Jp,ar:()=>$m});var ue,p=k(5861),U=k(6881),$=k(4859),me=k(1877),de=k(2090),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Ne=Ne||{},re=Te||self;function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ve(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var it="closure_uid_"+(1e9*Math.random()>>>0),We=0;function Mt(i,e,t){return i.call.apply(i.bind,arguments)}function Ke(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function ke(i,e,t){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:Ke).apply(null,arguments)}function bt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function vt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[a].apply(s,f)}}function fe(){this.s=this.s,this.o=this.o}fe.prototype.s=!1,fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dt(i){Object.prototype.hasOwnProperty.call(i,it)&&i[it]||(i[it]=++We)}(this)},fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ce=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function ot(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Ze(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ce(s)){const a=i.length||0,c=s.length||0;i.length=a+c;for(let f=0;f<c;f++)i[a+f]=s[f]}else i.push(s)}}function Ie(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return i}();function qt(i){return/^[\s\xa0]*$/.test(i)}function _t(){var i=re.navigator;return i&&(i=i.userAgent)?i:""}function xt(i){return-1!=_t().indexOf(i)}function Rt(i){return Rt[" "](i),i}Rt[" "]=function(){};var Et,i,qe=xt("Opera"),Pe=xt("Trident")||xt("MSIE"),Fe=xt("Edge"),Be=Fe||Pe,He=xt("Gecko")&&!(-1!=_t().toLowerCase().indexOf("webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),st=-1!=_t().toLowerCase().indexOf("webkit")&&!xt("Edge");function ct(){var i=re.document;return i?i.documentMode:void 0}e:{var Vt="",At=(i=_t(),He?/rv:([^\);]+)(\)|;)/.exec(i):Fe?/Edge\/([\d\.]+)/.exec(i):Pe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):st?/WebKit\/(\S+)/.exec(i):qe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(At&&(Vt=At?At[1]:""),Pe){var Zt=ct();if(null!=Zt&&Zt>parseFloat(Vt)){Et=String(Zt);break e}}Et=Vt}var zn=re.document&&Pe&&(ct()||parseInt(Et,10))||void 0;function tr(i,e){if(Ie.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(He){e:{try{Rt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tr.$.h.call(this)}}vt(tr,Ie);var jn={2:"touch",3:"pen",4:"mouse"};tr.prototype.h=function(){tr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Wn(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++$t,this.fa=this.ia=!1}function Cr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function cr(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function An(i){const e={};for(const t in i)e[t]=i[t];return e}const hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jn(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let c=0;c<hn.length;c++)t=hn[c],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function jr(i){this.src=i,this.g={},this.h=0}function $r(i,e){var t=e.type;if(t in i.g){var c,s=i.g[t],a=Ce(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Cr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function dr(i,e,t,s){for(var a=0;a<i.length;++a){var c=i[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}jr.prototype.add=function(i,e,t,s,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=dr(i,e,s,a);return-1<f?(e=i[f],t||(e.ia=!1)):((e=new Wn(e,this.src,c,!!s,a)).ia=t,i.push(e)),e};var _n="closure_lm_"+(1e6*Math.random()|0),an={};function Ht(i,e,t,s,a){if(s&&s.once)return hr(i,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ht(i,e[c],t,s,a);return null}return t=Sn(t),i&&i[Bn]?i.O(e,t,ve(s)?!!s.capture:!!s,a):Jt(i,e,t,!1,s,a)}function Jt(i,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=ve(a)?!!a.capture:!!a,D=wn(i);if(D||(i[_n]=D=new jr(i)),(t=D.add(e,t,s,f,c)).proxy)return t;if(s=function Rn(){const e=gr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)It||(a=f),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(un(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function hr(i,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)hr(i,e[c],t,s,a);return null}return t=Sn(t),i&&i[Bn]?i.P(e,t,ve(s)?!!s.capture:!!s,a):Jt(i,e,t,!0,s,a)}function nr(i,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)nr(i,e[c],t,s,a);else s=ve(s)?!!s.capture:!!s,t=Sn(t),i&&i[Bn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=dr(c=i.g[e],t,s,a))&&(Cr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=wn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=dr(e,t,s,a)),(t=-1<i?e[i]:null)&&fr(t))}function fr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Bn])$r(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(un(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=wn(e))?($r(t,i),0==t.h&&(t.src=null,e[_n]=null)):Cr(i)}}}function un(i){return i in an?an[i]:an[i]="on"+i}function gr(i,e){if(i.fa)i=!0;else{e=new tr(e,this);var t=i.listener,s=i.la||i.src;i.ia&&fr(i),i=t.call(s,e)}return i}function wn(i){return(i=i[_n])instanceof jr?i:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(i){return"function"==typeof i?i:(i[zr]||(i[zr]=function(e){return i.handleEvent(e)}),i[zr])}function bn(){fe.call(this),this.i=new jr(this),this.S=this,this.J=null}function Pt(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ie(e,i);else if(e instanceof Ie)e.target=e.target||i;else{var a=e;Jn(e=new Ie(s,i),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=rr(f,s,!0,e)&&a}if(a=rr(f=e.g=i,s,!0,e)&&a,a=rr(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=rr(f=e.g=t[c],s,!1,e)&&a}function rr(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var D=f.listener,P=f.la||f.src;f.ia&&$r(i.i,f),a=!1!==D.call(P,s)&&a}}return a&&!s.defaultPrevented}vt(bn,fe),bn.prototype[Bn]=!0,bn.prototype.removeEventListener=function(i,e,t,s){nr(this,i,e,t,s)},bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Cr(t[s]);delete i.g[e],i.h--}}this.J=null},bn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},bn.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var sr=re.JSON.stringify;function K(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Le=new class Xe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wt,i=>i.reset());class wt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ie(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function oe(i){re.setTimeout(()=>{throw i},0)}let Y,q=!1,H=new class le{constructor(){this.h=this.g=null}add(e,t){const s=Le.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Ee=()=>{const i=re.Promise.resolve(void 0);Y=()=>{i.then(rt)}};var rt=()=>{for(var i;i=K();){try{i.h.call(i.g)}catch(t){oe(t)}var e=Le;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}q=!1};function St(i,e){bn.call(this),this.h=i||1,this.g=e||re,this.j=ke(this.qb,this),this.l=Date.now()}function Yt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function te(i,e,t){if("function"==typeof i)t&&(i=ke(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ke(i.handleEvent,i)}return 2147483647<Number(e)?-1:re.setTimeout(i,e||0)}function se(i){i.g=te(()=>{i.g=null,i.i&&(i.i=!1,se(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}vt(St,bn),(ue=St.prototype).ga=!1,ue.T=null,ue.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pt(this,"tick"),this.ga&&(Yt(this),this.start()))}},ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.N=function(){St.$.N.call(this),Yt(this),delete this.g};class X extends fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(i){fe.call(this),this.h=i,this.g={}}vt(Se,fe);var je=[];function Nt(i,e,t,s){Array.isArray(t)||(t&&(je[0]=t.toString()),t=je);for(var a=0;a<t.length;a++){var c=Ht(e,t[a],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function tn(i){cr(i.g,function(e,t){this.g.hasOwnProperty(t)&&fr(e)},i),i.g={}}function xe(){this.g=!0}function ft(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return sr(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Se.prototype.N=function(){Se.$.N.call(this),tn(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xe.prototype.Ea=function(){this.g=!1},xe.prototype.info=function(){};var Nn={},Nr=null;function xn(){return Nr=Nr||new bn}function Zr(i){Ie.call(this,Nn.Ta,i)}function Yr(i){const e=xn();Pt(e,new Zr(e))}function Qr(i,e){Ie.call(this,Nn.STAT_EVENT,i),this.stat=e}function Fr(i){const e=xn();Pt(e,new Qr(e,i))}function Vi(i,e){Ie.call(this,Nn.Ua,i),this.size=e}function Vn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){i()},e)}Nn.Ta="serverreachability",vt(Zr,Ie),Nn.STAT_EVENT="statevent",vt(Qr,Ie),Nn.Ua="timingevent",vt(Vi,Ie);var Ui={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pi(){}function Bi(){}pi.prototype.h=null;var gi,Di={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function us(){Ie.call(this,"d")}function Pr(){Ie.call(this,"c")}function Lr(){}function Tr(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new Se(this),this.P=Ri,this.V=new St(i=Be?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}vt(us,Ie),vt(Pr,Ie),vt(Lr,pi),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},gi=new Lr;var Ri=45e3,Ps={},Or={};function ji(i,e,t){i.L=1,i.v=cs(Pn(e)),i.s=t,i.S=!0,ls(i,null)}function ls(i,e){i.G=Date.now(),ar(i),i.A=Pn(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),ci(t.i,"t",s),i.C=0,t=i.l.J,i.h=new Ns,i.g=Wo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new X(ke(i.Pa,i,i.g),i.O)),Nt(i.U,i.g,"readystatechange",i.nb),e=i.I?An(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Yr(),function Re(i,e,t,s,a,c){i.info(function(){if(i.g)if(c)for(var f="",D=c.split("&"),P=0;P<D.length;P++){var V=D[P].split("=");if(1<V.length){var Q=V[0];V=V[1];var ge=Q.split("_");f=2<=ge.length&&"type"==ge[1]?f+(Q+"=")+V+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function xo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ys(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=Ha(i,t),a==Or){4==e&&(i.o=4,Fr(14),s=!1),ft(i.j,i.m,null,"[Incomplete Response]");break}if(a==Ps){i.o=4,Fr(15),ft(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ft(i.j,i.m,a,null),_e(i,a)}xo(i)&&a!=Or&&a!=Ps&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Fr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ds(e),e.M=!0,Fr(11))):(ft(i.j,i.m,t,"[Invalid Chunked Response]"),be(i),po(i))}function Ha(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Or:(t=Number(e.substring(t,s)),isNaN(t)?Ps:(s+=1)+t>e.length?Or:(e=e.slice(s,s+t),i.C=s+t,e))}function ar(i){i.Y=Date.now()+i.P,ho(i,i.P)}function ho(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Vn(ke(i.lb,i),e)}function fo(i){i.B&&(re.clearTimeout(i.B),i.B=null)}function po(i){0==i.l.H||i.J||Oo(i.l,i)}function be(i){fo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Yt(i.V),tn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function _e(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||fs(t.i,i)))if(!i.K&&fs(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Eo(t),R(t)}bi(t),Fr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Vn(ke(t.ib,t),6e3));if(1>=mo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Vs(t,11)}else if((i.K||t.g==i)&&Eo(t),!qt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let V=a[e];if(t.V=V[0],V=V[1],2==t.H)if("c"==V[0]){t.K=V[1],t.pa=V[2];const Q=V[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const ge=V[4];null!=ge&&(t.Ga=ge,t.l.info("SVER="+t.Ga));const Ue=V[5];null!=Ue&&"number"==typeof Ue&&0<Ue&&(t.L=s=1.5*Ue,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const at=i.g;if(at){const Ot=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ot){var c=s.i;c.g||-1==Ot.indexOf("spdy")&&-1==Ot.indexOf("quic")&&-1==Ot.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Wr(c,c.h),c.h=null))}if(s.F){const Xt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Xt&&(s.Da=Xt,Yn(s.I,s.F,Xt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=i;if((s=t).wa=wo(s,s.J?s.pa:null,s.Y),f.K){Gi(s.i,f);var D=f,P=s.L;P&&D.setTimeout(P),D.B&&(fo(D),ar(D)),s.g=f}else Ki(s);0<t.j.length&&Z(t)}else"stop"!=V[0]&&"close"!=V[0]||Vs(t,7);else 3==t.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?Vs(t,7):O(t):"noop"!=V[0]&&t.h&&t.h.Aa(V),t.A=0)}Yr()}catch{}}function Tt(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ut(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ce(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Oe(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],i)}(ue=Tr.prototype).setTimeout=function(i){this.P=i},ue.nb=function(i){i=i.target;const e=this.M;e&&3==ei(i)?e.l():this.Pa(i)},ue.Pa=function(i){try{if(i==this.g)e:{const Q=ei(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Be||this.g&&(this.h.h||this.g.ja()||Wi(this.g)))){this.J||4!=Q||7==e||Yr(),fo(this);var t=this.g.da();this.ca=t;t:if(xo(this)){var s=Wi(this.g);i="";var a=s.length,c=4==ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){be(this),po(this);var f="";break t}this.h.i=new re.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ht(i,e,t,s,a,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,P=this.g;if((D=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qt(D)){var V=D;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,Fr(12),be(this),po(this);break e}ft(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_e(this,t)}this.S?(Ys(this,Q,f),Be&&this.i&&3==Q&&(Nt(this.U,this.V,"tick",this.mb),this.V.start())):(ft(this.j,this.m,f,null),_e(this,f)),4==Q&&be(this),this.i&&!this.J&&(4==Q?Oo(this.l,this):(this.i=!1,ar(this)))}else(function es(i){const e={};i=(i.g&&2<=ei(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(qt(i[s]))continue;var t=ie(i[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function Ct(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),be(this),po(this)}}}catch{}},ue.mb=function(){if(this.g){var i=ei(this.g),e=this.g.ja();this.C<e.length&&(fo(this),Ys(this,i,e),this.i&&4!=i&&ar(this))}},ue.cancel=function(){this.J=!0,be(this)},ue.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function pn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yr(),Fr(17)),be(this),this.o=2,po(this)):ho(this,this.Y-i)};var Tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Zn){this.h=i.h,$i(this,i.j),this.s=i.s,this.g=i.g,Ni(this,i.m),this.l=i.l;var e=i.i,t=new Qs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kr(this,t),this.o=i.o}else i&&(e=String(i).match(Tn))?(this.h=!1,$i(this,e[1]||"",!0),this.s=Hi(e[2]||""),this.g=Hi(e[3]||"",!0),Ni(this,e[4]),this.l=Hi(e[5]||"",!0),kr(this,e[6]||"",!0),this.o=Hi(e[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}function Pn(i){return new Zn(i)}function $i(i,e,t){i.j=t?Hi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ni(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function kr(i,e,t){e instanceof Qs?(i.i=e,function Xs(i,e){e&&!i.j&&(Pi(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Js(this,s),ci(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=li(e,zo)),i.i=new Qs(e,i.h))}function Yn(i,e,t){i.i.set(e,t)}function cs(i){return Yn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Hi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function li(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Es),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Es(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Zn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(li(e,Os,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(li(e,Os,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(li(t,"/"==t.charAt(0)?ds:sa,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",li(t,Ro)),i.join("")};var Os=/[#\/\?@]/g,sa=/[#\?:]/g,ds=/[#\?]/g,zo=/[#\?@]/g,Ro=/#/g;function Qs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Pi(i){i.g||(i.g=new Map,i.h=0,i.i&&function qn(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var c=i[t].substring(0,s);a=i[t].substring(s+1)}else c=i[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Js(i,e){Pi(i),e=go(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Hr(i,e){return Pi(i),e=go(i,e),i.g.has(e)}function ci(i,e,t){Js(i,e),0<t.length&&(i.i=null,i.g.set(go(i,e),ot(t)),i.h+=t.length)}function go(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function oa(i){this.l=i||Er,i=re.PerformanceNavigationTiming?0<(i=re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ue=Qs.prototype).add=function(i,e){Pi(this),this.i=null,i=go(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(i,e){Pi(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},ue.ta=function(){Pi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ue.Z=function(i){Pi(this);let e=[];if("string"==typeof i)Hr(this,i)&&(e=e.concat(this.g.get(go(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ue.set=function(i,e){return Pi(this),this.i=null,Hr(this,i=go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ue.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),i.push(a)}}return this.i=i.join("&")};var Er=10;function hs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function mo(i){return i.h?1:i.g?i.g.size:0}function fs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Wr(i,e){i.g?i.g.add(e):i.h=e}function Gi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function yo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return ot(i.i)}function di(){this.g=new class{stringify(i){return re.JSON.stringify(i,void 0)}parse(i){return re.JSON.parse(i,void 0)}}}function vo(i,e,t){const s=t||"";try{Tt(i,function(a,c){let f=a;ve(a)&&(f=sr(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function eo(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Xr(i){this.l=i.fc||null,this.j=i.ob||!1}function Kr(i,e){bn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=to,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oa.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vt(Xr,pi),Xr.prototype.g=function(){return new Kr(this.l,this.j)},Xr.prototype.i=function(i){return function(){return i}}({}),vt(Kr,bn);var to=0;function En(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ks(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Fs(i)}function Fs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ue=Kr.prototype).open=function(i,e){if(this.readyState!=to)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Fs(this)},ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ks(this)),this.readyState=to},ue.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ue.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ks(this):Fs(this),3==this.readyState&&En(this)}},ue.Za=function(i){this.g&&(this.response=this.responseText=i,ks(this))},ue.Ya=function(i){this.g&&(this.response=i,ks(this))},ue.ka=function(){this.g&&ks(this)},ue.setRequestHeader=function(i,e){this.v.append(i,e)},ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var aa=re.JSON.parse;function Ar(i){bn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Oi,this.L=this.M=!1}vt(Ar,bn);var Oi="",_o=/^https?$/i,Ci=["POST","PUT"];function gt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Un(i),ro(i)}function Un(i){i.F||(i.F=!0,Pt(i,"complete"),Pt(i,"error"))}function no(i){if(i.h&&typeof Ne<"u"&&(!i.C[1]||4!=ei(i)||2!=i.da()))if(i.v&&4==ei(i))te(i.La,0,i);else if(Pt(i,"readystatechange"),4==ei(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(i.I).match(Tn)[1]||null;!a&&re.self&&re.self.location&&(a=re.self.location.protocol.slice(0,-1)),s=!_o.test(a?a.toLowerCase():"")}t=s}if(t)Pt(i,"complete"),Pt(i,"success");else{i.m=6;try{var c=2<ei(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",Un(i)}}finally{ro(i)}}}function ro(i,e){if(i.g){Gr(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Pt(i,"ready");try{t.onreadystatechange=s}catch{}}}function Gr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(re.clearTimeout(i.A),i.A=null)}function ei(i){return i.g?i.g.readyState:0}function Wi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Oi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(i){let e="";return cr(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function ws(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Po(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Yn(i,e,t))}function Is(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Br(i){this.Ga=0,this.j=[],this.l=new xe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Is("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Is("baseRetryDelayMs",5e3,i),this.hb=Is("retryDelaySeedMs",1e4,i),this.eb=Is("forwardChannelMaxRetries",2,i),this.xa=Is("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new oa(i&&i.concurrentRequestLimit),this.Ja=new di,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function O(i){if(x(i),3==i.H){var e=i.W++,t=Pn(i.I);if(Yn(t,"SID",i.K),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),$n(i,t),(e=new Tr(i,i.l,e)).L=2,e.v=cs(Pn(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=Wo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ar(e)}xa(i)}function R(i){i.g&&(Ds(i),i.g.cancel(),i.g=null)}function x(i){R(i),i.u&&(re.clearTimeout(i.u),i.u=null),Eo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&re.clearTimeout(i.m),i.m=null)}function Z(i){if(!hs(i.i)&&!i.m){i.m=!0;var e=i.Na;Y||Ee(),q||(Y(),q=!0),H.add(e,i),i.C=0}}function en(i,e){var t;t=e?e.m:i.W++;const s=Pn(i.I);Yn(s,"SID",i.K),Yn(s,"RID",t),Yn(s,"AID",i.V),$n(i,s),i.o&&i.s&&ws(s,i.o,i.s),t=new Tr(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ti(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Wr(i.i,t),ji(t,s,e)}function $n(i,e){i.na&&cr(i.na,function(t,s){Yn(e,s,t)}),i.h&&Tt({},function(t,s){Yn(e,s,t)})}function ti(i,e,t){t=Math.min(i.j.length,t);var s=i.h?ke(i.h.Va,i.h,i):null;e:{var a=i.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let P=0;P<t;P++){let V=a[P].g;const Q=a[P].map;if(V-=c,0>V)c=Math.max(0,a[P].g-100),D=!1;else try{vo(Q,f,"req"+V+"_")}catch{s&&s(Q)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function Ki(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Y||Ee(),q||(Y(),q=!0),H.add(e,i),i.A=0}}function bi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Vn(ke(i.Ma,i),ki(i,i.A)),i.A++,0))}function Ds(i){null!=i.B&&(re.clearTimeout(i.B),i.B=null)}function Ls(i){i.g=new Tr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Pn(i.wa);Yn(e,"RID","rpc"),Yn(e,"SID",i.K),Yn(e,"AID",i.V),Yn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Yn(e,"TO",i.qa),Yn(e,"TYPE","xmlhttp"),$n(i,e),i.o&&i.s&&ws(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=cs(Pn(e)),t.s=null,t.S=!0,ls(t,i)}function Eo(i){null!=i.v&&(re.clearTimeout(i.v),i.v=null)}function Oo(i,e){var t=null;if(i.g==e){Eo(i),Ds(i),i.g=null;var s=2}else{if(!fs(i.i,e))return;t=e.F,Gi(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Pt(s=xn(),new Vi(s,t)),Z(i)}else Ki(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Ye(i,e){return!(mo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Vn(ke(i.Na,i,e),ki(i,i.C)),i.C++,0)))}(i,e)||2==s&&bi(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:Vs(i,5);break;case 4:Vs(i,10);break;case 3:Vs(i,6);break;default:Vs(i,2)}}function ki(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Vs(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=ke(i.pb,i);t||(t=new Zn("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||$i(t,"https"),cs(t)),function No(i,e){const t=new xe;if(re.Image){const s=new Image;s.onload=bt(eo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=bt(eo,t,s,"TestLoadImage: error",!1,e),s.onabort=bt(eo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=bt(eo,t,s,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Fr(2);i.H=0,i.h&&i.h.za(e),xa(i),x(i)}function xa(i){if(i.H=0,i.ma=[],i.h){const e=yo(i.i);(0!=e.length||0!=i.j.length)&&(Ze(i.ma,e),Ze(i.ma,i.j),i.i.i.length=0,ot(i.j),i.j.length=0),i.h.ya()}}function wo(i,e,t){var s=t instanceof Zn?Pn(t):new Zn(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ni(s,s.m);else{var a=re.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Zn(null);s&&$i(c,s),e&&(c.g=e),a&&Ni(c,a),t&&(c.l=t),s=c}return e=i.Da,(t=i.F)&&e&&Yn(s,t,e),Yn(s,"VER",i.ra),$n(i,s),s}function Wo(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&i.Ha&&!i.va?new Xr({ob:!0}):i.va)).Oa(i.J),e}function ko(){}function Ko(){if(Pe&&!(10<=Number(zn)))throw Error("Environmental error: no available transport.")}function Ti(i,e){bn.call(this),this.g=new Br(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!qt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Io(this)}function Us(i){us.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function la(){Pr.call(this),this.status=1}function Io(i){this.g=i}function mi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sr(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=i.g[3],f=(e=i.g[0])+(c^(t=i.g[1])&((a=i.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+c&4294967295}function wr(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var c=0|i[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ue=Ar.prototype).Oa=function(i){this.M=i},ue.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gi.g(),this.C=function br(i){return i.h||(i.h=i.i())}(this.u?this.u:gi),this.g.onreadystatechange=ke(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void gt(this,c)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=re.FormData&&i instanceof re.FormData,!(0<=Ce(Ci,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gr(this),0<this.B&&((this.L=function ua(i){return Pe&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.ua,this)):this.A=te(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){gt(this,c)}},ue.ua=function(){typeof Ne<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Pt(this,"complete"),Pt(this,"abort"),ro(this))},ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ro(this,!0)),Ar.$.N.call(this)},ue.La=function(){this.s||(this.G||this.v||this.l?no(this):this.kb())},ue.kb=function(){no(this)},ue.isActive=function(){return!!this.g},ue.da=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),aa(e)}},ue.Ia=function(){return this.m},ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=Br.prototype).ra=8,ue.H=1,ue.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new Tr(this,this.l,i);let c=this.s;if(this.U&&(c?(c=An(c),Jn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ti(this,a,e),Yn(t=Pn(this.I),"RID",i),Yn(t,"CVER",22),this.F&&Yn(t,"X-HTTP-Session-Id",this.F),$n(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Po(c)))+"&"+e:this.o&&ws(t,this.o,c)),Wr(this.i,a),this.bb&&Yn(t,"TYPE","init"),this.P?(Yn(t,"$req",e),Yn(t,"SID","null"),a.aa=!0,ji(a,t,null)):ji(a,t,e),this.H=2}}else 3==this.H&&(i?en(this,i):0==this.j.length||hs(this.i)||en(this))},ue.Ma=function(){if(this.u=null,Ls(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Vn(ke(this.jb,this),i)}},ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fr(10),R(this),Ls(this))},ue.ib=function(){null!=this.v&&(this.v=null,R(this),bi(this),Fr(19))},ue.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Fr(2)):(this.l.info("Failed to ping google.com"),Fr(1))},ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(ue=ko.prototype).Ba=function(){},ue.Aa=function(){},ue.za=function(){},ue.ya=function(){},ue.isActive=function(){return!0},ue.Va=function(){},Ko.prototype.g=function(i,e){return new Ti(i,e)},vt(Ti,bn),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Fr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=wo(i,null,i.Y),Z(i)},Ti.prototype.close=function(){O(this.g)},Ti.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=sr(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Z(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,O(this.g),delete this.g,Ti.$.N.call(this)},vt(Us,us),vt(la,Pr),vt(Io,ko),Io.prototype.Ba=function(){Pt(this.g,"a")},Io.prototype.Aa=function(i){Pt(this.g,new Us(i))},Io.prototype.za=function(i){Pt(this.g,new la)},Io.prototype.ya=function(){Pt(this.g,"b")},vt(mi,function ur(){this.blockSize=-1}),mi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Sr(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[a++]=i.charCodeAt(c++),a==this.blockSize){Sr(this,s),a=0;break}}else for(;c<e;)if(s[a++]=i[c++],a==this.blockSize){Sr(this,s),a=0;break}}this.h=a,this.i+=e},mi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var Fo={};function ca(i){return-128<=i&&128>i?function Dr(i,e){var t=Fo;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new wr([0|e],0>e?-1:0)}):new wr([0|i],0>i?-1:0)}function qi(i){if(isNaN(i)||!isFinite(i))return Cs;if(0>i)return yi(qi(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Bs;return new wr(e,0)}var Bs=4294967296,Cs=ca(0),ts=ca(1),Zo=ca(16777216);function ps(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Zi(i){return-1==i.h}function yi(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new wr(t,~i.h).add(ts)}function ns(i,e){return i.add(yi(e))}function io(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function so(i,e){this.g=i,this.h=e}function oo(i,e){if(ps(e))throw Error("division by zero");if(ps(i))return new so(Cs,Cs);if(Zi(i))return e=oo(yi(i),e),new so(yi(e.g),yi(e.h));if(Zi(e))return e=oo(i,yi(e)),new so(yi(e.g),e.h);if(30<i.g.length){if(Zi(i)||Zi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ts,s=e;0>=s.X(i);)t=Do(t),s=Do(s);var a=Lo(t,1),c=Lo(s,1);for(s=Lo(s,2),t=Lo(t,2);!ps(s);){var f=c.add(s);0>=f.X(i)&&(a=a.add(t),c=f),s=Lo(s,1),t=Lo(t,1)}return e=ns(i,a.R(e)),new so(a,e)}for(a=Cs;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=qi(t)).R(e);Zi(f)||0<f.X(i);)f=(c=qi(t-=s)).R(e);ps(c)&&(c=ts),a=a.add(c),i=ns(i,f)}return new so(a,i)}function Do(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new wr(t,i.h)}function Lo(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?i.D(c+t)>>>e|i.D(c+t+1)<<32-e:i.D(c+t);return new wr(a,i.h)}(ue=wr.prototype).ea=function(){if(Zi(this))return-yi(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Bs+s)*e,e*=Bs}return i},ue.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ps(this))return"0";if(Zi(this))return"-"+yi(this).toString(i);for(var e=qi(Math.pow(i,6)),t=this,s="";;){var a=oo(t,e).g,c=((0<(t=ns(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(ps(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ue.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ue.X=function(i){return Zi(i=ns(this,i))?-1:ps(i)?0:1},ue.abs=function(){return Zi(this)?yi(this):this},ue.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&i.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new wr(t,-2147483648&t[t.length-1]?-1:0)},ue.R=function(i){if(ps(this)||ps(i))return Cs;if(Zi(this))return Zi(i)?yi(this).R(yi(i)):yi(yi(this).R(i));if(Zi(i))return yi(this.R(yi(i)));if(0>this.X(Zo)&&0>i.X(Zo))return qi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),D=i.D(a)>>>16,P=65535&i.D(a);t[2*s+2*a]+=f*P,io(t,2*s+2*a),t[2*s+2*a+1]+=c*P,io(t,2*s+2*a+1),t[2*s+2*a+1]+=f*D,io(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,io(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new wr(t,0)},ue.gb=function(i){return oo(this,i).h},ue.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new wr(t,this.h&i.h)},ue.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new wr(t,this.h|i.h)},ue.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new wr(t,this.h^i.h)},Ko.prototype.createWebChannel=Ko.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Zs.COMPLETE="complete",Bi.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",bn.prototype.listen=bn.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,mi.prototype.digest=mi.prototype.l,mi.prototype.reset=mi.prototype.reset,mi.prototype.update=mi.prototype.j,wr.prototype.add=wr.prototype.add,wr.prototype.multiply=wr.prototype.R,wr.prototype.modulo=wr.prototype.gb,wr.prototype.compare=wr.prototype.X,wr.prototype.toNumber=wr.prototype.ea,wr.prototype.toString=wr.prototype.toString,wr.prototype.getBits=wr.prototype.D,wr.fromNumber=qi,wr.fromString=function qo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return yi(qo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qi(Math.pow(e,8)),s=Cs,a=0;a<i.length;a+=8){var c=Math.min(8,i.length-a),f=parseInt(i.substring(a,a+c),e);8>c?(c=qi(Math.pow(e,c)),s=s.R(c).add(qi(f))):s=(s=s.R(t)).add(qi(f))}return s};var ou=Ae.createWebChannelTransport=function(){return new Ko},b=Ae.getStatEventTarget=function(){return xn()},L=Ae.ErrorCode=Ui,M=Ae.EventType=Zs,z=Ae.Event=Nn,ye=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qe=Ae.FetchXmlHttpFactory=Xr,lt=Ae.WebChannel=Bi,cn=Ae.XhrIo=Ar,or=Ae.Md5=mi,Hn=Ae.Integer=wr;const mr="@firebase/firestore";class gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Mr="9.23.0";const On=new me.Yd("@firebase/firestore");function ni(){return On.logLevel}function js(i){On.setLogLevel(i)}function mt(i,...e){if(On.logLevel<=me.in.DEBUG){const t=e.map(ao);On.debug(`Firestore (${Mr}): ${i}`,...t)}}function pr(i,...e){if(On.logLevel<=me.in.ERROR){const t=e.map(ao);On.error(`Firestore (${Mr}): ${i}`,...t)}}function xr(i,...e){if(On.logLevel<=me.in.WARN){const t=e.map(ao);On.warn(`Firestore (${Mr}): ${i}`,...t)}}function ao(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Wt(i="Unexpected state"){const e=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function nn(i,e){i||Wt()}function da(i,e){i||Wt()}function Bt(i,e){return i}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends de.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ga{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class xu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nl{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=V=>this.i!==a?(a=this.i,t(V)):Promise.resolve();let f=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new oi,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const V=f;e.enqueueRetryable((0,p.Z)(function*(){yield V.promise,yield c(s.currentUser)}))},P=V=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(V=>P(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?P(V):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new oi)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nn("string"==typeof s.accessToken),new Ga(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new gn(e)}}class Yo{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ha{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Yo(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nn("string"==typeof t.token),this.T=t.token,new Nl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class ai{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Wa(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function rn(i,e){return i<e?-1:i>e?1:0}function Co(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function Ru(i){return i+"\0"}class Rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Rr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new Rr(0,0))}static max(){return new dn(new Rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $s{constructor(e,t,s){void 0===t?t=0:t>e.length&&Wt(),void 0===s?s=e.length-t:s>e.length-t&&Wt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===$s.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class In extends $s{construct(e,t,s){return new In(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(ze.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new In(t)}static emptyPath(){return new In([])}}const pa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends $s{construct(e,t,s){return new Xn(e,t,s)}static isValidIdentifier(e){return pa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new yt(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new yt(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[a+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new yt(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=P,a+=2}else"`"===D?(f=!f,a++):"."!==D||f?(s+=D,a++):(c(),a++)}if(c(),f)throw new yt(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(In.fromString(e))}static fromName(e){return new jt(In.fromString(e).popFirst(5))}static empty(){return new jt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return In.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new In(e.slice()))}}class gs{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function ga(i){return i.fields.find(e=>2===e.kind)}function Qo(i){return i.fields.filter(e=>2!==e.kind)}gs.UNKNOWN_ID=-1;class Nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vo{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vo(0,bs.min())}}function ma(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=dn.fromTimestamp(1e9===s?new Rr(t+1,0):new Rr(t,s));return new bs(a,jt.empty(),e)}function Ol(i){return new bs(i.readTime,i.key,-1)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(dn.min(),jt.empty(),-1)}static max(){return new bs(dn.max(),jt.empty(),-1)}}function Pu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=jt.comparator(i.documentKey,e.documentKey),0!==t?t:rn(i.largestBatchId,e.largestBatchId))}const ya="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function va(i){return ri.apply(this,arguments)}function ri(){return ri=(0,p.Z)(function*(i){if(i.code!==ze.FAILED_PRECONDITION||i.message!==ya)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),ri.apply(this,arguments)}class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ve((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ve?t:Ve.resolve(t)}catch(t){return Ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.reject(t)}static resolve(e){return new Ve((t,s)=>{t(e)})}static reject(e){return new Ve((t,s)=>{s(e)})}static waitFor(e){return new Ve((t,s)=>{let a=0,c=0,f=!1;e.forEach(D=>{++a,D.next(()=>{++c,f&&c===a&&t()},P=>s(P))}),f=!0,c===a&&t()})}static or(e){let t=Ve.resolve(!1);for(const s of e)t=t.next(a=>a?Ve.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ve((s,a)=>{const c=e.length,f=new Array(c);let D=0;for(let P=0;P<c;P++){const V=P;t(e[V]).next(Q=>{f[V]=Q,++D,D===c&&s(f)},Q=>a(Q))}})}static doWhile(e,t){return new Ve((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class Jo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new oi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ai(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=uu(s.target.error);this.v.reject(new Ai(e,a))}}static open(e,t,s,a){try{return new Jo(t,e.transaction(a,s))}catch(c){throw new Ai(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new au(t)}}class uo{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===uo.S((0,de.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),Hs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,de.hl)())return!1;if(uo.C())return!0;const e=(0,de.z$)(),t=uo.S(e),s=0<t&&t<10,a=uo.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,p.Z)(function*(){return t.db||(mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{a(new Ai(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;a("VersionError"===D.name?new yt(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new yt(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ai(e,D))},c.onupgradeneeded=f=>{mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,p.Z)(function*(){const f="readonly"===t;let D=0;for(;;){++D;try{c.db=yield c.$(e);const P=Jo.open(c.db,e,f?"readonly":"readwrite",s),V=a(P).next(Q=>(P.P(),Q)).catch(Q=>(P.abort(Q),Ve.reject(Q))).toPromise();return V.catch(()=>{}),yield P.R,V}catch(P){const V=P,Q="FirebaseError"!==V.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",V.message,"Retrying:",Q),c.close(),!Q)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _a{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Hs(this.L.delete())}}class Ai extends yt{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Si(i){return"IndexedDbTransactionError"===i.name}class au{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Hs(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),Hs(this.store.add(e))}get(e){return Hs(this.store.get(e)).next(t=>(void 0===t&&(t=null),mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),Hs(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),Hs(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(f,D)=>{c.push(D)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ve((c,f)=>{a.onerror=D=>{f(D.target.error)},a.onsuccess=D=>{c(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ve((a,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{a(f.target.result)}})}J(e,t){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,f,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ve((s,a)=>{t.onerror=c=>{const f=uu(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}W(e,t){const s=[];return new Ve((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void a();const P=new _a(D),V=t(D.primaryKey,D.value,P);if(V instanceof Ve){const Q=V.catch(ge=>(P.done(),Ve.reject(ge)));s.push(Q)}P.isDone?a():null===P.K?D.continue():D.continue(P.K)}}).next(()=>Ve.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hs(i){return new Ve((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=uu(s.target.error);t(a)}})}let Ra=!1;function uu(i){const e=uo.S((0,de.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ra||(Ra=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ou{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Si(s)?mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield va(s)}yield t.et(6e4)}))}}class kl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ve.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return mt("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(D=>{a-=D,s.add(f)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(D=>(mt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>f.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const f=Ol(c);Pu(f,s)>0&&(s=f)}),new bs(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ms=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function qa(i){return null==i}function Uo(i){return 0===i&&1/i==-1/0}function ys(i){return"number"==typeof i&&Number.isInteger(i)&&!Uo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function vi(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=E(e)),e=v(i.get(t),e);return E(e)}function v(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function E(i){return i+"\x01\x01"}function y(i){const e=i.length;if(nn(e>=2),2===e)return nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),In.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const f=i.indexOf("\x01",c);switch((f<0||f>t)&&Wt(),i.charAt(f+1)){case"\x01":const D=i.substring(c,f);let P;0===a.length?P=D:(a+=D,P=a,a=""),s.push(P);break;case"\x10":a+=i.substring(c,f),a+="\0";break;case"\x11":a+=i.substring(c,f+1);break;default:Wt()}c=f+2}return new In(s)}const T=["userId","batchId"];function N(i,e){return[i,vi(e)]}function G(i,e,t){return[i,vi(e),t]}const ae={},he=["prefixPath","collectionGroup","readTime","documentId"],et=["prefixPath","collectionGroup","documentId"],Lt=["collectionGroup","readTime","prefixPath","documentId"],Mn=["canonicalId","targetId"],sn=["targetId","path"],Kn=["path","targetId"],Mi=["collectionId","parent"],ui=["indexId","uid"],Xo=["uid","sequenceNumber"],Gs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ea=["indexId","uid","orderedDocumentKey"],ea=["userId","collectionPath","documentId"],Na=["userId","collectionPath","largestBatchId"],Ts=["userId","collectionGroup","largestBatchId"],lu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fi=[...lu,"documentOverlays"],ku=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fl=ku,il=[...Fl,"indexConfiguration","indexState","indexEntries"];class wa extends rl{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Yi(i,e){const t=Bt(i);return uo.M(t.ht,e)}function Pa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Za(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ll(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vr{constructor(e,t){this.comparator=e,this.root=t||hi.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??hi.RED,this.left=a??hi.EMPTY,this.right=c??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new hi(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return hi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(i,e,t,s,a){return this}insert(i,e,t){return new hi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class Vl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bo(i){return i.hasNext()?i.getNext():void 0}class rs{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new rs([])}unionWith(e){let t=new ii(Xn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Tc(){return typeof atob<"u"}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sl("Invalid base64 string: "+a):a}}(e);return new _i(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(i){if(nn(!!i),"string"==typeof i){let e=0;const t=du.exec(i);if(nn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:si(i.seconds),nanos:si(i.nanos)}}function si(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Oa(i){return"string"==typeof i?_i.fromBase64String(i):_i.fromUint8Array(i)}function Fu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lu(i){const e=i.mapValue.fields.__previous_value__;return Fu(e)?Lu(e):e}function ol(i){const e=bo(i.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}class Ul{constructor(e,t,s,a,c,f,D,P,V){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=P,this.useFetchStreams=V}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ka={nullValue:"NULL_VALUE"};function lo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fu(i)?4:td(i)?9007199254740991:10:Wt()}function To(i,e){if(i===e)return!0;const t=lo(i);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ol(i).isEqual(ol(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=bo(s.timestampValue),f=bo(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,Oa(i.bytesValue).isEqual(Oa(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return si(s.geoPointValue.latitude)===si(a.geoPointValue.latitude)&&si(s.geoPointValue.longitude)===si(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return si(s.integerValue)===si(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=si(s.doubleValue),f=si(a.doubleValue);return c===f?Uo(c)===Uo(f):isNaN(c)&&isNaN(f)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Pa(c)!==Pa(f))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===f[D]||!To(c[D],f[D])))return!1;return!0}(i,e);default:return Wt()}var a}function Ia(i,e){return void 0!==(i.values||[]).find(t=>To(t,e))}function ra(i,e){if(i===e)return 0;const t=lo(i),s=lo(e);if(t!==s)return rn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return function(a,c){const f=si(a.integerValue||a.doubleValue),D=si(c.integerValue||c.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(i,e);case 3:return hu(i.timestampValue,e.timestampValue);case 4:return hu(ol(i),ol(e));case 5:return rn(i.stringValue,e.stringValue);case 6:return function(a,c){const f=Oa(a),D=Oa(c);return f.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),D=c.split("/");for(let P=0;P<f.length&&P<D.length;P++){const V=rn(f[P],D[P]);if(0!==V)return V}return rn(f.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const f=rn(si(a.latitude),si(c.latitude));return 0!==f?f:rn(si(a.longitude),si(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],D=c.values||[];for(let P=0;P<f.length&&P<D.length;++P){const V=ra(f[P],D[P]);if(V)return V}return rn(f.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===na.mapValue&&c===na.mapValue)return 0;if(a===na.mapValue)return 1;if(c===na.mapValue)return-1;const f=a.fields||{},D=Object.keys(f),P=c.fields||{},V=Object.keys(P);D.sort(),V.sort();for(let Q=0;Q<D.length&&Q<V.length;++Q){const ge=rn(D[Q],V[Q]);if(0!==ge)return ge;const Ue=ra(f[D[Q]],P[V[Q]]);if(0!==Ue)return Ue}return rn(D.length,V.length)}(i.mapValue,e.mapValue);default:throw Wt()}}function hu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rn(i,e);const t=bo(i),s=bo(e),a=rn(t.seconds,s.seconds);return 0!==a?a:rn(t.nanos,s.nanos)}function Ya(i){return fu(i)}function fu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=bo(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Oa(i.bytesValue).toBase64():"referenceValue"in i?jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=fu(f);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const D of a)f?f=!1:c+=",",c+=`${D}:${fu(s.fields[D])}`;return c+"}"}(i.mapValue):Wt();var e}function Fa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ed(i){return!!i&&"integerValue"in i}function al(i){return!!i&&"arrayValue"in i}function pu(i){return!!i&&"nullValue"in i}function gu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ul(i){return!!i&&"mapValue"in i}function Uu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Za(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Uu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function td(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Da(i){return"nullValue"in i?ka:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Fa(ta.empty(),jt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Wt()}function nd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Fa(ta.empty(),jt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?na:Wt()}function Ca(i,e){const t=ra(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bl(i,e){const t=ra(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ul(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Xn.emptyPath(),s={},a=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const P=this.getFieldsMap(t);this.applyChanges(P,s,a),s={},a=[],t=D.popLast()}f?s[D.lastSegment()]=Uu(f):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ul(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ul(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Za(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new is(Uu(this.value))}}function ll(i){const e=[];return Za(i.fields,(t,s)=>{const a=new Xn([t]);if(ul(s)){const c=ll(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new rs(e)}class qr{constructor(e,t,s,a,c,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new qr(e,0,dn.min(),dn.min(),dn.min(),is.empty(),0)}static newFoundDocument(e,t,s,a){return new qr(e,1,t,dn.min(),s,a,0)}static newNoDocument(e,t){return new qr(e,2,t,dn.min(),dn.min(),is.empty(),0)}static newUnknownDocument(e,t){return new qr(e,3,t,dn.min(),dn.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ss{constructor(e,t){this.position=e,this.inclusive=t}}function rd(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(s=c.field.isKeyField()?jt.comparator(jt.fromName(f.referenceValue),t.key):ra(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function w(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!To(i.position[t],e.position[t]))return!1;return!0}class A{constructor(e,t="asc"){this.field=e,this.dir=t}}function B(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ee{}class pe extends ee{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Li(e,t,s):"array-contains"===t?new La(e,s):"in"===t?new yu(e,s):"not-in"===t?new Rf(e,s):"array-contains-any"===t?new Nf(e,s):new pe(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ba(e,s):new mu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ra(t,this.value)):null!==t&&lo(this.value)===lo(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class De extends ee{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new De(e,t)}matches(e){return nt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function nt(i){return"and"===i.op}function zt(i){return"or"===i.op}function Ut(i){return fn(i)&&nt(i)}function fn(i){for(const e of i.filters)if(e instanceof De)return!1;return!0}function mn(i){if(i instanceof pe)return i.field.canonicalString()+i.op.toString()+Ya(i.value);if(Ut(i))return i.filters.map(e=>mn(e)).join(",");{const e=i.filters.map(t=>mn(t)).join(",");return`${i.op}(${e})`}}function kn(i,e){return i instanceof pe?(t=i,(s=e)instanceof pe&&t.op===s.op&&t.field.isEqual(s.field)&&To(t.value,s.value)):i instanceof De?function(t,s){return s instanceof De&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&kn(c,s.filters[f]),!0)}(i,e):void Wt();var t,s}function vs(i,e){const t=i.filters.concat(e);return De.create(t,i.op)}function fi(i){return i instanceof pe?`${(e=i).field.canonicalString()} ${e.op} ${Ya(e.value)}`:i instanceof De?function(e){return e.op.toString()+" {"+e.getFilters().map(fi).join(" ,")+"}"}(i):"Filter";var e}class Li extends pe{constructor(e,t,s){super(e,t,s),this.key=jt.fromName(s.referenceValue)}matches(e){const t=jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ba extends pe{constructor(e,t){super(e,"in",t),this.keys=co(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mu extends pe{constructor(e,t){super(e,"not-in",t),this.keys=co(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function co(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>jt.fromName(s.referenceValue))}class La extends pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return al(t)&&Ia(t.arrayValue,this.value)}}class yu extends pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ia(this.value.arrayValue,t)}}class Rf extends pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ia(this.value.arrayValue,t)}}class Nf extends pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!al(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ia(this.value.arrayValue,s))}}class id{constructor(e,t=null,s=[],a=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=D,this.dt=null}}function jl(i,e=null,t=[],s=[],a=null,c=null,f=null){return new id(i,e,t,s,a,c,f)}function Va(i){const e=Bt(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>mn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),qa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),e.dt=t}return e.dt}function cl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!B(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!kn(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w(i.startAt,e.startAt)&&w(i.endAt,e.endAt)}function Bu(i){return jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function dl(i,e){return i.filters.filter(t=>t instanceof pe&&t.field.isEqual(e))}function lh(i,e,t){let s=ka,a=!0;for(const c of dl(i,e)){let f=ka,D=!0;switch(c.op){case"<":case"<=":f=Da(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=ka}Ca({value:s,inclusive:a},{value:f,inclusive:D})<0&&(s=f,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=t.position[c];Ca({value:s,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}function sd(i,e,t){let s=na,a=!0;for(const c of dl(i,e)){let f=na,D=!0;switch(c.op){case">=":case">":f=nd(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=na}Bl({value:s,inclusive:a},{value:f,inclusive:D})>0&&(s=f,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=t.position[c];Bl({value:s,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(s=f,a=t.inclusive);break}return{value:s,inclusive:a}}class Qa{constructor(e,t=null,s=[],a=[],c=null,f="F",D=null,P=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=P,this.wt=null,this._t=null}}function hl(i,e,t,s,a,c,f,D){return new Qa(i,e,t,s,a,c,f,D)}function ju(i){return new Qa(i)}function ch(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ac(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function d(i){return null!==i.collectionGroup}function g(i){const e=Bt(i);if(null===e.wt){e.wt=[];const t=_(e),s=Ac(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new A(t)),e.wt.push(new A(Xn.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new A(Xn.keyField(),c))}}}return e.wt}function I(i){const e=Bt(i);if(!e._t)if("F"===e.limitType)e._t=jl(e.path,e.collectionGroup,g(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of g(e))t.push(new A(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new ss(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ss(e.startAt.position,e.startAt.inclusive):null;e._t=jl(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function j(i,e){e.getFirstInequalityField(),_(i);const t=i.filters.concat([e]);return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function J(i,e,t){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Me(i,e){return cl(I(i),I(e))&&i.limitType===e.limitType}function Je(i){return`${Va(I(i))}|lt:${i.limitType}`}function kt(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>fi(s)).join(", ")}]`),qa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),`Target(${t})`}(I(i))}; limitType=${i.limitType})`}function Kt(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):jt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of g(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,c,f){const D=rd(a,c,f);return a.inclusive?D<=0:D<0}(t.startAt,g(t),s)||t.endAt&&!function(a,c,f){const D=rd(a,c,f);return a.inclusive?D>=0:D>0}(t.endAt,g(t),s)));var t,s}function Dn(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function lr(i){return(e,t)=>{let s=!1;for(const a of g(i)){const c=Ao(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Ao(i,e,t){const s=i.field.isKeyField()?jt.comparator(e.key,t.key):function(a,c,f){const D=c.data.field(a),P=f.data.field(a);return null!==D&&null!==P?ra(D,P):Wt()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Wt()}}class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}}const $l=new vr(jt.comparator);function As(){return $l}const Hl=new vr(jt.comparator);function vu(...i){let e=Hl;for(const t of i)e=e.insert(t.key,t);return e}function od(i){let e=Hl;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ia(){return $u()}function Sc(){return $u()}function $u(){return new zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ja=new vr(jt.comparator),ad=new ii(jt.comparator);function er(...i){let e=ad;for(const t of i)e=e.add(t);return e}const ud=new ii(rn);function dh(){return ud}function ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(e)?"-0":e}}function fg(i){return{integerValue:""+i}}function Pf(i,e){return ys(e)?fg(e):ld(i,e)}class cd{constructor(){this._=void 0}}function pg(i,e,t){return i instanceof Hu?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Fu(a)&&(a=Lu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):i instanceof _u?Ff(i,e):i instanceof Gu?hh(i,e):function(s,a){const c=kf(s,a),f=Mc(c)+Mc(s.gt);return ed(c)&&ed(s.gt)?fg(f):ld(s.serializer,f)}(i,e)}function Of(i,e,t){return i instanceof _u?Ff(i,e):i instanceof Gu?hh(i,e):t}function kf(i,e){return i instanceof fl?ed(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Hu extends cd{}class _u extends cd{constructor(e){super(),this.elements=e}}function Ff(i,e){const t=gg(e);for(const s of i.elements)t.some(a=>To(a,s))||t.push(s);return{arrayValue:{values:t}}}class Gu extends cd{constructor(e){super(),this.elements=e}}function hh(i,e){let t=gg(e);for(const s of i.elements)t=t.filter(a=>!To(a,s));return{arrayValue:{values:t}}}class fl extends cd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mc(i){return si(i.integerValue||i.doubleValue)}function gg(i){return al(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class xc{constructor(e,t){this.field=e,this.transform=t}}class xy{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gl{}function fh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new pl(i.key,Ei.none()):new Nc(i.key,i.data,Ei.none());{const t=i.data,s=is.empty();let a=new ii(Xn.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Xa(i.key,s,new rs(a.toArray()),Ei.none())}}function zl(i,e,t){i instanceof Nc?function(s,a,c){const f=s.value.clone(),D=Lf(s.fieldTransforms,a,c.transformResults);f.setAll(D),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(i,e,t):i instanceof Xa?function(s,a,c){if(!Rc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Lf(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(mg(s)),D.setAll(f),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dd(i,e,t,s){return i instanceof Nc?function(a,c,f,D){if(!Rc(a.precondition,c))return f;const P=a.value.clone(),V=hd(a.fieldTransforms,D,c);return P.setAll(V),c.convertToFoundDocument(c.version,P).setHasLocalMutations(),null}(i,e,t,s):i instanceof Xa?function(a,c,f,D){if(!Rc(a.precondition,c))return f;const P=hd(a.fieldTransforms,D,c),V=c.data;return V.setAll(mg(a)),V.setAll(P),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(i,e,t,s):(f=t,Rc(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function Ry(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=kf(s.transform,a||null);null!=c&&(null===t&&(t=is.empty()),t.set(s.field,c))}return t||null}function Ny(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Co(t,s,(a,c)=>function My(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof _u&&s instanceof _u||t instanceof Gu&&s instanceof Gu?Co(t.elements,s.elements,To):t instanceof fl&&s instanceof fl?To(t.gt,s.gt):t instanceof Hu&&s instanceof Hu);var t,s}(a,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Nc extends Gl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xa extends Gl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Lf(i,e,t){const s=new Map;nn(i.length===t.length);for(let a=0;a<t.length;a++){const c=i[a],f=c.transform,D=e.data.field(c.field);s.set(c.field,Of(f,D,t[a]))}return s}function hd(i,e,t){const s=new Map;for(const a of i){const c=a.transform,f=t.data.field(a.field);s.set(a.field,pg(c,f,e))}return s}class pl extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ph extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gh{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zl(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Sc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=t.has(a.key)?null:D;const P=fh(f,D);null!==P&&s.set(a.key,P),f.isValidDocument()||f.convertToNoDocument(dn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>Ny(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>Ny(t,s))}}class mh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){nn(e.mutations.length===s.length);let a=Ja;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new mh(e,t,s,a)}}class yh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oy{constructor(e,t){this.count=e,this.unchangedNames=t}}var _s,Vr;function yg(i){switch(i){default:return Wt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function zu(i){if(void 0===i)return pr("GRPC error has no .code"),ze.UNKNOWN;switch(i){case _s.OK:return ze.OK;case _s.CANCELLED:return ze.CANCELLED;case _s.UNKNOWN:return ze.UNKNOWN;case _s.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case _s.INTERNAL:return ze.INTERNAL;case _s.UNAVAILABLE:return ze.UNAVAILABLE;case _s.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case _s.NOT_FOUND:return ze.NOT_FOUND;case _s.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case _s.ABORTED:return ze.ABORTED;case _s.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case _s.DATA_LOSS:return ze.DATA_LOSS;default:return Wt()}}(Vr=_s||(_s={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";class Wl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vh}static getOrCreateInstance(){return null===vh&&(vh=new Wl),vh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vh=null;function ky(){return new TextEncoder}const H_=new Hn([4294967295,4294967295],0);function Fy(i){const e=ky().encode(i),t=new or;return t.update(e),new Uint8Array(t.digest())}function Ly(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Hn([t,s],0),new Hn([a,c],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(s<0)throw new Pc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Pc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Hn.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Hn.fromNumber(s)));return 1===a.compare(H_)&&(a=new Hn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new vg(c,a,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fd(dn.min(),a,new vr(rn),As(),er())}}class pd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pd(s,t,er(),er(),er())}}class _h{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class _g{constructor(e,t){this.targetId=e,this.Vt=t}}class Eh{constructor(e,t,s=_i.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Eu{constructor(){this.St=0,this.Dt=Uf(),this.Ct=_i.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=er(),t=er(),s=er();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Wt()}}),new pd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Uf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=As(),this.zt=Vf(),this.Wt=new vr(rn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(Bu(f))if(0===a){const D=new jt(f.path);this.Yt(s,D,qr.newNoDocument(D,dn.min()))}else nn(1===a);else{const D=this.ie(s);if(D!==a){const P=this.re(e,D);0!==P&&(this.ee(s),this.Wt=this.Wt.insert(s,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Wl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(V,Q,ge){var Ue,at,Ot,Xt,on,ir;const Ur={localCacheCount:Q,existenceFilterCount:ge.count},_r=ge.unchangedNames;return _r&&(Ur.bloomFilter={applied:0===V,hashCount:null!==(Ue=_r?.hashCount)&&void 0!==Ue?Ue:0,bitmapLength:null!==(Xt=null===(Ot=null===(at=_r?.bits)||void 0===at?void 0:at.bitmap)||void 0===Ot?void 0:Ot.length)&&void 0!==Xt?Xt:0,padding:null!==(ir=null===(on=_r?.bits)||void 0===on?void 0:on.padding)&&void 0!==ir?ir:0}),Ur}(P,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:D=0}=s;let P,V;try{P=Oa(c).toUint8Array()}catch(Q){if(Q instanceof sl)return xr("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{V=new vg(P,f,D)}catch(Q){return xr(Q instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===V.It?1:a!==t-this.oe(e.targetId,V)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(D)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const D=this.se(f);if(D){if(c.current&&Bu(D.target)){const P=new jt(D.target.path);null!==this.jt.get(P)||this.ae(f,P)||this.Yt(f,P,qr.newNoDocument(P,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=er();this.zt.forEach((c,f)=>{let D=!0;f.forEachWhile(P=>{const V=this.se(P);return!V||"TargetPurposeLimboResolution"===V.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new fd(e,t,this.Wt,this.jt,s);return this.jt=As(),this.zt=Vf(),this.Wt=new vr(rn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Eu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ii(rn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Eu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new vr(jt.comparator)}function Uf(){return new vr(jt.comparator)}const Eg={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z_={and:"AND",or:"OR"};class W_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function md(i,e){return i.useProto3Json||qa(e)?e:{value:e}}function gl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function K_(i,e){return gl(i,e.toTimestamp())}function Qi(i){return nn(!!i),dn.fromTimestamp(function(e){const t=bo(e);return new Rr(t.seconds,t.nanos)}(i))}function Bf(i,e){return(t=i,new In(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wg(i){const e=In.fromString(i);return nn(Gf(e)),e}function yd(i,e){return Bf(i.databaseId,e.path)}function wu(i,e){const t=wg(e);if(t.get(1)!==i.databaseId.projectId)throw new yt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new yt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new jt(Ih(t))}function wh(i,e){return Bf(i.databaseId,e)}function vd(i){const e=wg(i);return 4===e.length?In.emptyPath():Ih(e)}function _d(i){return new In(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ih(i){return nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ig(i,e,t){return{name:yd(i,e),fields:t.value.mapValue.fields}}function os(i,e,t){const s=wu(i,e.name),a=Qi(e.updateTime),c=e.createTime?Qi(e.createTime):dn.min(),f=new is({mapValue:{fields:e.fields}}),D=qr.newFoundDocument(s,a,c,f);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Kl(i,e){let t;if(e instanceof Nc)t={update:Ig(i,e.key,e.value)};else if(e instanceof pl)t={delete:yd(i,e.key)};else if(e instanceof Xa)t={update:Ig(i,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof ph))return Wt();t={verify:yd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fl)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Wt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:K_(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Wt()),t;var a}function Dh(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Ei.updateTime(Qi(a.updateTime)):void 0!==a.exists?Ei.exists(a.exists):Ei.none():Ei.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let D=null;"setToServerValue"in f?(nn("REQUEST_TIME"===f.setToServerValue),D=new Hu):"appendMissingElements"in f?D=new _u(f.appendMissingElements.values||[]):"removeAllFromArray"in f?D=new Gu(f.removeAllFromArray.values||[]):"increment"in f?D=new fl(c,f.increment):Wt();const P=Xn.fromServerFormat(f.fieldPath);return new xc(P,D)}(i,a)):[];var a;if(e.update){const a=wu(i,e.update.name),c=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new rs((e.updateMask.fieldPaths||[]).map(V=>Xn.fromServerFormat(V)));return new Xa(a,c,f,t,s)}return new Nc(a,c,t,s)}if(e.delete){const a=wu(i,e.delete);return new pl(a,t)}if(e.verify){const a=wu(i,e.verify);return new ph(a,t)}return Wt()}function Dg(i,e){return{documents:[wh(i,e.path)]}}function jf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=wh(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wh(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(P){if(0!==P.length)return Hf(De.create(P,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(P){if(0!==P.length)return P.map(V=>{return{field:Wu((Q=V).field),direction:q_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=md(i,e.limit);var D,P;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(P=e.endAt).inclusive,values:P.position}),t}function Cg(i){let e=vd(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){nn(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const ge=Hy(Q);return ge instanceof De&&Ut(ge)?ge.getFilters():[ge]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new A(ql((ge=Q).field),function(Ue){switch(Ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let D=null;t.limit&&(D=function(Q){let ge;return ge="object"==typeof Q?Q.value:Q,qa(ge)?null:ge}(t.limit));let P=null;var Q;t.startAt&&(P=new ss((Q=t.startAt).values||[],!!Q.before));let V=null;return t.endAt&&(V=function(Q){return new ss(Q.values||[],!Q.before)}(t.endAt)),hl(e,a,f,c,D,"F",P,V)}function Hy(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ql(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ql(e.unaryFilter.field);return pe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ql(e.unaryFilter.field);return pe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ql(e.unaryFilter.field);return pe.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(i):void 0!==i.fieldFilter?pe.create(ql((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return De.create(e.compositeFilter.filters.map(t=>Hy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Wt()}}(e.compositeFilter.op))}(i):Wt();var e}function q_(i){return Eg[i]}function Ed(i){return G_[i]}function $f(i){return z_[i]}function Wu(i){return{fieldPath:i.canonicalString()}}function ql(i){return Xn.fromServerFormat(i.fieldPath)}function Hf(i){return i instanceof pe?function(e){if("=="===e.op){if(gu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(pu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(pu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:Ed(e.op),value:e.value}}}(i):i instanceof De?function(e){const t=e.getFilters().map(s=>Hf(s));return 1===t.length?t[0]:{compositeFilter:{op:$f(e.op),filters:t}}}(i):Wt()}function Gy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Iu{constructor(e,t,s,a,c=dn.min(),f=dn.min(),D=_i.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=P}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ch{constructor(e){this.fe=e}}function bg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Oc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:yd(a=i.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:gl(a,c.version.toTimestamp()),createTime:gl(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ml(e.version)};else{if(!e.isUnknownDocument())return Wt();s.unknownDocument={path:t.path.toArray(),version:ml(e.version)}}var a,c;return s}function Oc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ml(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(i){const e=new Rr(i.seconds,i.nanoseconds);return dn.fromTimestamp(e)}function Ta(i,e){const t=(e.baseMutations||[]).map(c=>Dh(i.fe,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Dh(i.fe,c)),a=Rr.fromMillis(e.localWriteTimeMs);return new gh(e.batchId,a,t,s)}function wd(i){const e=yl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?yl(i.lastLimboFreeSnapshotVersion):dn.min();let s;var a;return void 0!==i.query.documents?(nn(1===(a=i.query).documents.length),s=I(ju(vd(a.documents[0])))):s=I(Cg(i.query)),new Iu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,_i.fromBase64String(i.resumeToken))}function bh(i,e){const t=ml(e.snapshotVersion),s=ml(e.lastLimboFreeSnapshotVersion);let a;a=Bu(e.target)?Dg(i.fe,e.target):jf(i.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Va(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function kc(i){const e=Cg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?J(e,e.limit,"L"):e}function zf(i,e){return new yh(e.largestBatchId,Dh(i.fe,e.overlayMutation))}function Th(i,e){const t=e.path.lastSegment();return[i,vi(e.path.popLast()),t]}function Id(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ml(s.readTime),documentKey:vi(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zl{getBundleMetadata(e,t){return Wf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:yl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Wf(e).put({bundleId:(s=t).id,createTime:ml(Qi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ah(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:kc(a.bundledQuery),readTime:yl(a.readTime)};var a})}saveNamedQuery(e,t){return Ah(e).put({name:(s=t).name,readTime:ml(Qi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Wf(i){return Yi(i,"bundles")}function Ah(i){return Yi(i,"namedQueries")}class Sh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Sh(e,t.uid||"")}getOverlay(e,t){return Dd(e).get(Th(this.userId,t)).next(s=>s?zf(this.serializer,s):null)}getOverlays(e,t){const s=ia();return Ve.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,f)=>{const D=new yh(t,f);a.push(this.we(e,D))}),Ve.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(f=>a.add(vi(f.getCollectionPath())));const c=[];return a.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Dd(e).J("collectionPathOverlayIndex",D))}),Ve.waitFor(c)}getOverlaysForCollection(e,t,s){const a=ia(),c=vi(t),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Dd(e).j("collectionPathOverlayIndex",f).next(D=>{for(const P of D){const V=zf(this.serializer,P);a.set(V.getKey(),V)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=ia();let f;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dd(e).X({index:"collectionGroupOverlayIndex",range:D},(P,V,Q)=>{const ge=zf(this.serializer,V);c.size()<a||ge.largestBatchId===f?(c.set(ge.getKey(),ge),f=ge.largestBatchId):Q.done()}).next(()=>c)}we(e,t){return Dd(e).put(function(s,a,c){const[f,D,P]=Th(a,c.mutation.key);return{userId:a,collectionPath:D,documentId:P,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Kl(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Dd(i){return Yi(i,"documentOverlays")}class vl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(si(e.integerValue));else if("doubleValue"in e){const s=si(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Uo(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?td(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Wt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),jt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fc(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Tg(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Fc(255&t[a]);if(s+=c,8!==c)break}return s}(i);return Math.ceil(e/8)}vl.Ve=new vl;class zy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Wy{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ky{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Yl{constructor(){this.je=new zy,this.ze=new Wy(this.je),this.We=new Ky(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ql{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,s)}}function Ku(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ag(i.arrayValue,e.arrayValue),0!==t?t:(t=Ag(i.directionalValue,e.directionalValue),0!==t?t:jt.comparator(i.documentKey,e.documentKey)))}function Ag(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Sg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){nn(e.collectionGroup===this.collectionId);const t=ga(e);if(void 0!==t&&!this.en(t))return!1;const s=Qo(e);let a=new Set,c=0,f=0;for(;c<s.length&&this.en(s[c]);++c)a=a.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[c];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[f++],D))return!1}++c}for(;c<s.length;++c){const D=s[c];if(f>=this.Ye.length||!this.sn(this.Ye[f++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qy(i){var e,t;if(nn(i instanceof pe||i instanceof De),i instanceof pe){if(i instanceof yu){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>pe.create(i.field,"==",c)))||[];return De.create(a,"or")}return i}const s=i.filters.map(a=>qy(a));return De.create(s,i.op)}function Zy(i){if(0===i.getFilters().length)return[];const e=ec(qy(i));return nn(Xl(e)),Jl(e)||Kf(e)?[e]:e.getFilters()}function Jl(i){return i instanceof pe}function Kf(i){return i instanceof De&&Ut(i)}function Xl(i){return Jl(i)||Kf(i)||function(e){if(e instanceof De&&zt(e)){for(const t of e.getFilters())if(!Jl(t)&&!Kf(t))return!1;return!0}return!1}(i)}function ec(i){if(nn(i instanceof pe||i instanceof De),i instanceof pe)return i;if(1===i.filters.length)return ec(i.filters[0]);const e=i.filters.map(s=>ec(s));let t=De.create(e,i.op);return t=Cd(t),Xl(t)?t:(nn(t instanceof De),nn(nt(t)),nn(t.filters.length>1),t.filters.reduce((s,a)=>qf(s,a)))}function qf(i,e){let t;return nn(i instanceof pe||i instanceof De),nn(e instanceof pe||e instanceof De),t=i instanceof pe?e instanceof pe?De.create([i,e],"and"):Yy(i,e):e instanceof pe?Yy(e,i):function(s,a){if(nn(s.filters.length>0&&a.filters.length>0),nt(s)&&nt(a))return vs(s,a.getFilters());const c=zt(s)?s:a,f=zt(s)?a:s,D=c.filters.map(P=>qf(P,f));return De.create(D,"or")}(i,e),Cd(t)}function Yy(i,e){if(nt(e))return vs(e,i.getFilters());{const t=e.filters.map(s=>qf(i,s));return De.create(t,"or")}}function Cd(i){if(nn(i instanceof pe||i instanceof De),i instanceof pe)return i;const e=i.getFilters();if(1===e.length)return Cd(e[0]);if(fn(i))return i;const t=e.map(a=>Cd(a)),s=[];return t.forEach(a=>{a instanceof pe?s.push(a):a instanceof De&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:De.create(s,i.op)}class Qy{constructor(){this.rn=new Zf}addToCollectionParentIndex(e,t){return this.rn.add(t),Ve.resolve()}getCollectionParents(e,t){return Ve.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ve.resolve()}deleteFieldIndex(e,t){return Ve.resolve()}getDocumentsMatchingTarget(e,t){return Ve.resolve(null)}getIndexType(e,t){return Ve.resolve(0)}getFieldIndexes(e,t){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,t){return Ve.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Ve.resolve(bs.min())}updateCollectionGroup(e,t,s){return Ve.resolve()}updateIndexEntries(e,t){return Ve.resolve()}}class Zf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ii(In.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ii(In.comparator)).toArray()}}const Mh=new Uint8Array(0);class Mg{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Zf,this.un=new zs(s=>Va(s),(s,a)=>cl(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:vi(a)};return Yf(e).put(c)}return Ve.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ru(t),""],!1,!0);return Yf(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;s.push(y(f.parent))}return s})}addFieldIndex(e,t){const s=Lc(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var f;delete a.indexId;const c=s.add(a);if(t.indexState){const f=bd(e);return c.next(D=>{f.put(Id(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Lc(e),a=bd(e),c=tc(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=tc(e);let a=!0;const c=new Map;return Ve.forEach(this.cn(t),f=>this.an(e,f).next(D=>{a&&(a=!!D),c.set(f,D)})).next(()=>{if(a){let f=er();const D=[];return Ve.forEach(c,(P,V)=>{var Q;mt("IndexedDbIndexManager",`Using index ${Q=P,`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${Va(t)}`);const ge=function(_r,qs){const Rs=ga(qs);if(void 0===Rs)return null;for(const xi of dl(_r,Rs.fieldPath))switch(xi.op){case"array-contains-any":return xi.value.arrayValue.values||[];case"array-contains":return[xi.value]}return null}(V,P),Ue=function(_r,qs){const Rs=new Map;for(const xi of Qo(qs))for(const Go of dl(_r,xi.fieldPath))switch(Go.op){case"==":case"in":Rs.set(xi.fieldPath.canonicalString(),Go.value);break;case"not-in":case"!=":return Rs.set(xi.fieldPath.canonicalString(),Go.value),Array.from(Rs.values())}return null}(V,P),at=function(_r,qs){const Rs=[];let xi=!0;for(const Go of Qo(qs)){const Su=0===Go.kind?lh(_r,Go.fieldPath,_r.startAt):sd(_r,Go.fieldPath,_r.startAt);Rs.push(Su.value),xi&&(xi=Su.inclusive)}return new ss(Rs,xi)}(V,P),Ot=function(_r,qs){const Rs=[];let xi=!0;for(const Go of Qo(qs)){const Su=0===Go.kind?sd(_r,Go.fieldPath,_r.endAt):lh(_r,Go.fieldPath,_r.endAt);Rs.push(Su.value),xi&&(xi=Su.inclusive)}return new ss(Rs,xi)}(V,P),Xt=this.hn(P,V,at),on=this.hn(P,V,Ot),ir=this.ln(P,V,Ue),Ur=this.fn(P.indexId,ge,Xt,at.inclusive,on,Ot.inclusive,ir);return Ve.forEach(Ur,_r=>s.H(_r,t.limit).next(qs=>{qs.forEach(Rs=>{const xi=jt.fromSegments(Rs.documentKey);f.has(xi)||(f=f.add(xi),D.push(xi))})}))}).next(()=>D)}return Ve.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Zy(De.create(e.filters,"and")).map(s=>jl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,f,D){const P=(null!=t?t.length:1)*Math.max(s.length,c.length),V=P/(null!=t?t.length:1),Q=[];for(let ge=0;ge<P;++ge){const Ue=t?this.dn(t[ge/V]):Mh,at=this.wn(e,Ue,s[ge%V],a),Ot=this._n(e,Ue,c[ge%V],f),Xt=D.map(on=>this.wn(e,Ue,on,!0));Q.push(...this.createRange(at,Ot,Xt))}return Q}wn(e,t,s,a){const c=new Ql(e,jt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new Ql(e,jt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Sg(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const D of c)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,t){let s=2;const a=this.cn(t);return Ve.forEach(a,c=>this.an(e,c).next(f=>{f?0!==s&&f.fields.length<function(D){let P=new ii(Xn.comparator),V=!1;for(const Q of D.filters)for(const ge of Q.getFlattenedFilters())ge.field.isKeyField()||("array-contains"===ge.op||"array-contains-any"===ge.op?V=!0:P=P.add(ge.field));for(const Q of D.orderBy)Q.field.isKeyField()||(P=P.add(Q.field));return P.size+(V?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Yl;for(const a of Qo(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=s.He(a.kind);vl.Ve._e(c,f)}return s.Qe()}dn(e){const t=new Yl;return vl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Yl;return vl.Ve._e(Fa(this.databaseId,t),s.He(function(a){const c=Qo(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Yl);let c=0;for(const f of Qo(e)){const D=s[c++];for(const P of a)if(this.yn(t,f.fieldPath)&&al(D))a=this.pn(a,f,D);else{const V=P.He(f.kind);vl.Ve._e(D,V)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of a){const P=new Yl;P.seed(D.Qe()),vl.Ve._e(f,P.He(t.kind)),c.push(P)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof pe&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Lc(e),a=bd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const f=[];return Ve.forEach(c,D=>a.get([D.indexId,this.uid]).next(P=>{f.push(function(V,Q){const ge=Q?new Vo(Q.sequenceNumber,new bs(yl(Q.readTime),new jt(y(Q.documentKey)),Q.largestBatchId)):Vo.empty(),Ue=V.fields.map(([at,Ot])=>new Nu(Xn.fromServerFormat(at),Ot));return new gs(V.indexId,V.collectionGroup,Ue,ge)}(D,P))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:rn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Lc(e),c=bd(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>Ve.forEach(D,P=>c.put(Id(P.indexId,this.user,f,s)))))}updateIndexEntries(e,t){const s=new Map;return Ve.forEach(t,(a,c)=>{const f=s.get(a.collectionGroup);return(f?Ve.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),Ve.forEach(D,P=>this.En(e,a,P).next(V=>{const Q=this.An(c,P);return V.isEqual(Q)?Ve.resolve():this.vn(e,c,P,V,Q)}))))})}Rn(e,t,s,a){return tc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return tc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=tc(e);let c=new ii(Ku);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(f,D)=>{c=c.add(new Ql(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>c)}An(e,t){let s=new ii(Ku);const a=this.mn(t,e);if(null==a)return s;const c=ga(t);if(null!=c){const f=e.data.field(c.fieldPath);if(al(f))for(const D of f.arrayValue.values||[])s=s.add(new Ql(t.indexId,e.key,this.dn(D),a))}else s=s.add(new Ql(t.indexId,e.key,Mh,a));return s}vn(e,t,s,a,c){mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(D,P,V,Q,ge){const Ue=D.getIterator(),at=P.getIterator();let Ot=Bo(Ue),Xt=Bo(at);for(;Ot||Xt;){let on=!1,ir=!1;if(Ot&&Xt){const Ur=V(Ot,Xt);Ur<0?ir=!0:Ur>0&&(on=!0)}else null!=Ot?ir=!0:on=!0;on?(Q(Xt),Xt=Bo(at)):ir?(ge(Ot),Ot=Bo(Ue)):(Ot=Bo(Ue),Xt=Bo(at))}}(a,c,Ku,D=>{f.push(this.Rn(e,t,s,D))},D=>{f.push(this.Pn(e,t,s,D))}),Ve.waitFor(f)}Tn(e){let t=1;return bd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((f,D)=>Ku(f,D)).filter((f,D,P)=>!D||0!==Ku(f,P[D-1]));const a=[];a.push(e);for(const f of s){const D=Ku(f,e),P=Ku(f,t);if(0===D)a[0]=e.Je();else if(D>0&&P<0)a.push(f),a.push(f.Je());else if(P>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Mh,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Mh,[]]))}return c}bn(e,t){return Ku(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xh)}getMinOffset(e,t){return Ve.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||Wt())).next(xh)}}function Yf(i){return Yi(i,"collectionParents")}function tc(i){return Yi(i,"indexEntries")}function Lc(i){return Yi(i,"indexConfiguration")}function bd(i){return Yi(i,"indexState")}function xh(i){nn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;Pu(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new bs(e.readTime,e.documentKey,t)}const Vc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xg(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let D=0;const P=s.X({range:f},(Q,ge,Ue)=>(D++,Ue.delete()));c.push(P.next(()=>{nn(1===D)}));const V=[];for(const Q of t.mutations){const ge=G(e,Q.key.path,t.batchId);c.push(a.delete(ge)),V.push(Q.key)}return Ve.waitFor(c).next(()=>V)}function Rh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Wt();e=i.noDocument}return JSON.stringify(e).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class Nh{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){nn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Nh(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).X({index:"userMutationsIndex",range:s},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Uc(e),f=_l(e);return f.add({}).next(D=>{nn("number"==typeof D);const P=new gh(D,t,s,a),V=function(Ue,at,Ot){const Xt=Ot.baseMutations.map(ir=>Kl(Ue.fe,ir)),on=Ot.mutations.map(ir=>Kl(Ue.fe,ir));return{userId:at,batchId:Ot.batchId,localWriteTimeMs:Ot.localWriteTime.toMillis(),baseMutations:Xt,mutations:on}}(this.serializer,this.userId,P),Q=[];let ge=new ii((Ue,at)=>rn(Ue.canonicalString(),at.canonicalString()));for(const Ue of a){const at=G(this.userId,Ue.key.path,D);ge=ge.add(Ue.key.path.popLast()),Q.push(f.put(V)),Q.push(c.put(at,ae))}return ge.forEach(Ue=>{Q.push(this.indexManager.addToCollectionParentIndex(e,Ue))}),e.addOnCommittedListener(()=>{this.Vn[D]=P.keys()}),Ve.waitFor(Q).next(()=>P)})}lookupMutationBatch(e,t){return _l(e).get(t).next(s=>s?(nn(s.userId===this.userId),Ta(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Ve.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return _l(e).X({index:"userMutationsIndex",range:a},(f,D,P)=>{D.userId===this.userId&&(nn(D.batchId>=s),c=Ta(this.serializer,D)),P.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _l(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).j("userMutationsIndex",t).next(s=>s.map(a=>Ta(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=N(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Uc(e).X({range:a},(f,D,P)=>{const[V,Q,ge]=f,Ue=y(Q);if(V===this.userId&&t.path.isEqual(Ue))return _l(e).get(ge).next(at=>{if(!at)throw Wt();nn(at.userId===this.userId),c.push(Ta(this.serializer,at))});P.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ii(rn);const a=[];return t.forEach(c=>{const f=N(this.userId,c.path),D=IDBKeyRange.lowerBound(f),P=Uc(e).X({range:D},(V,Q,ge)=>{const[Ue,at,Ot]=V,Xt=y(at);Ue===this.userId&&c.path.isEqual(Xt)?s=s.add(Ot):ge.done()});a.push(P)}),Ve.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=N(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new ii(rn);return Uc(e).X({range:f},(P,V,Q)=>{const[ge,Ue,at]=P,Ot=y(Ue);ge===this.userId&&s.isPrefixOf(Ot)?Ot.length===a&&(D=D.add(at)):Q.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(_l(e).get(c).next(f=>{if(null===f)throw Wt();nn(f.userId===this.userId),s.push(Ta(this.serializer,f))}))}),Ve.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return xg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ve.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ve.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Uc(e).X({range:s},(c,f,D)=>{if(c[0]===this.userId){const P=y(c[1]);a.push(P)}else D.done()}).next(()=>{nn(0===a.length)})})}containsKey(e,t){return Rg(e,this.userId,t)}xn(e){return nc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rg(i,e,t){const s=N(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Uc(i).X({range:c,Y:!0},(D,P,V)=>{const[Q,ge,Ue]=D;Q===e&&ge===a&&(f=!0),V.done()}).next(()=>f)}function _l(i){return Yi(i,"mutations")}function Uc(i){return Yi(i,"documentMutations")}function nc(i){return Yi(i,"mutationQueues")}class jo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jo(0)}static Mn(){return new jo(-1)}}class Jy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new jo(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>dn.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(nn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Bc(e).X((f,D)=>{const P=wd(D);P.sequenceNumber<=t&&null===s.get(P.targetId)&&(a++,c.push(this.removeTargetData(e,P)))}).next(()=>Ve.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Bc(e).X((s,a)=>{const c=wd(a);t(c)})}$n(e){return Xy(e).get("targetGlobalKey").next(t=>(nn(null!==t),t))}On(e,t){return Xy(e).put("targetGlobalKey",t)}Fn(e,t){return Bc(e).put(bh(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Va(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).X({range:a,index:"queryTargetsIndex"},(f,D,P)=>{const V=wd(D);cl(t,V.target)&&(c=V,P.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=rc(e);return t.forEach(f=>{const D=vi(f.path);a.push(c.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,f))}),Ve.waitFor(a)}removeMatchingKeys(e,t,s){const a=rc(e);return Ve.forEach(t,c=>{const f=vi(c.path);return Ve.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=rc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rc(e);let c=er();return a.X({range:s,Y:!0},(f,D,P)=>{const V=y(f[1]),Q=new jt(V);c=c.add(Q)}).next(()=>c)}containsKey(e,t){const s=vi(t.path),a=IDBKeyRange.bound([s],[Ru(s)],!1,!0);let c=0;return rc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,D],P,V)=>{0!==f&&(c++,V.done())}).next(()=>c>0)}le(e,t){return Bc(e).get(t).next(s=>s?wd(s):null)}}function Bc(i){return Yi(i,"targets")}function Xy(i){return Yi(i,"targetGlobal")}function rc(i){return Yi(i,"targetDocuments")}function Qf([i,e],[t,s]){const a=rn(i,t);return 0===a?rn(e,s):a}class Y_{constructor(e){this.Ln=e,this.buffer=new ii(Qf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Qf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jf{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Si(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield va(s)}yield t.Qn(3e5)}))}}class Q_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ve.resolve(ms.ct);const s=new Y_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(Vc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vc):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,f,D,P,V;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),a=this.params.maximumSequenceNumbersToCollect):a=ge,f=Date.now(),this.nthSequenceNumber(e,a))).next(ge=>(s=ge,D=Date.now(),this.removeTargets(e,s,t))).next(ge=>(c=ge,P=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(V=Date.now(),ni()<=me.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Q}ms\n\tDetermined least recently used ${a} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(P-D)+`ms\n\tRemoved ${ge} documents in `+(V-P)+`ms\nTotal Duration: ${V-Q}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:ge})))}}class ev{constructor(e,t){this.db=e,this.garbageCollector=function Xf(i,e){return new Q_(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Td(e,s)}removeReference(e,t,s){return Td(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Td(e,t)}Xn(e,t){return function(s,a){let c=!1;return nc(s).Z(f=>Rg(s,f,a).next(D=>(D&&(c=!0),Ve.resolve(!D)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(f,D)=>{if(D<=t){const P=this.Xn(e,f).next(V=>{if(!V)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,dn.min()),rc(e).delete([0,vi(f.path)])))});a.push(P)}}).next(()=>Ve.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Td(e,t)}Yn(e,t){const s=rc(e);let a,c=ms.ct;return s.X({index:"documentTargetsIndex"},([f,D],{path:P,sequenceNumber:V})=>{0===f?(c!==ms.ct&&t(new jt(y(a)),c),c=V,a=P):c=ms.ct}).next(()=>{c!==ms.ct&&t(new jt(y(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Td(i,e){return rc(i).put((s=i.currentSequenceNumber,{targetId:0,path:vi(e.path),sequenceNumber:s}));var s}class Ng{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ve.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ic(e).put(s)}removeEntry(e,t,s){return ic(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Oc(c),f[f.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=qr.newInvalidDocument(t);return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:qr.newInvalidDocument(t)};return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s={document:this.ts(t,c),size:Rh(c)}}).next(()=>s)}getEntries(e,t){let s=As();return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);s=s.insert(a,f)}).next(()=>s)}ss(e,t){let s=As(),a=new vr(jt.comparator);return this.ns(e,t,(c,f)=>{const D=this.ts(c,f);s=s.insert(c,D),a=a.insert(c,Rh(f))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Ve.resolve();let a=new ii(Og);t.forEach(P=>a=a.add(P));const c=IDBKeyRange.bound(Ad(a.first()),Ad(a.last())),f=a.getIterator();let D=f.getNext();return ic(e).X({index:"documentKeyIndex",range:c},(P,V,Q)=>{const ge=jt.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;D&&Og(D,ge)<0;)s(D,null),D=f.getNext();D&&D.isEqual(ge)&&(s(D,V),D=f.hasNext()?f.getNext():null),D?Q.G(Ad(D)):Q.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Oc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).j(IDBKeyRange.bound(f,D,!0)).next(P=>{let V=As();for(const Q of P){const ge=this.ts(jt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);ge.isFoundDocument()&&(Kt(t,ge)||a.has(ge.key))&&(V=V.insert(ge.key,ge))}return V})}getAllFromCollectionGroup(e,t,s,a){let c=As();const f=Pg(t,s),D=Pg(t,bs.max());return ic(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(P,V,Q)=>{const ge=this.ts(jt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);c=c.insert(ge.key,ge),c.size===a&&Q.done()}).next(()=>c)}newChangeBuffer(e){return new nv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ep(e).get("remoteDocumentGlobalKey").next(t=>(nn(!!t),t))}Zn(e,t){return ep(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Z_(i,e){let t;if(e.document)t=os(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=jt.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=qr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Wt();{const s=jt.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=qr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Rr(s[0],s[1]);return dn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(dn.min()))return s}return qr.newInvalidDocument(e)}}function Ua(i){return new tv(i)}class nv extends Ng{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new zs(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new ii((c,f)=>rn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.us.get(c);if(t.push(this.os.removeEntry(e,c,D.readTime)),f.isValidDocument()){const P=bg(this.os.serializer,f);a=a.add(c.path.popLast()),s+=Rh(P)-D.size,t.push(this.os.addEntry(e,c,P))}else if(s-=D.size,this.trackRemovals){const P=bg(this.os.serializer,f.convertToNoDocument(dn.min()));t.push(this.os.addEntry(e,c,P))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),Ve.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,f)=>{this.us.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function ep(i){return Yi(i,"remoteDocumentGlobal")}function ic(i){return Yi(i,"remoteDocumentsV14")}function Ad(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Pg(i,e){const t=e.documentKey.path.toArray();return[i,Oc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Og(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=rn(t[c],s[c]),a)return a;return a=rn(t.length,s.length),a||(a=rn(t[t.length-2],s[s.length-2]),a||rn(t[t.length-1],s[s.length-1]))}class kg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&dd(s.mutation,a,rs.empty(),Rr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,er()).next(()=>s))}getLocalViewOfDocuments(e,t,s=er()){const a=ia();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=vu();return c.forEach((D,P)=>{f=f.insert(D,P.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,er()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,a){let c=As();const f=$u(),D=$u();return t.forEach((P,V)=>{const Q=s.get(V.key);a.has(V.key)&&(void 0===Q||Q.mutation instanceof Xa)?c=c.insert(V.key,V):void 0!==Q?(f.set(V.key,Q.mutation.getFieldMask()),dd(Q.mutation,V,Q.mutation.getFieldMask(),Rr.now())):f.set(V.key,rs.empty())}),this.recalculateAndSaveOverlays(e,c).next(P=>(P.forEach((V,Q)=>f.set(V,Q)),t.forEach((V,Q)=>{var ge;return D.set(V,new kg(Q,null!==(ge=f.get(V))&&void 0!==ge?ge:null))}),D))}recalculateAndSaveOverlays(e,t){const s=$u();let a=new vr((f,D)=>f-D),c=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(P=>{const V=t.get(P);if(null===V)return;let Q=s.get(P)||rs.empty();Q=D.applyToLocalView(V,Q),s.set(P,Q);const ge=(a.get(D.batchId)||er()).add(P);a=a.insert(D.batchId,ge)})}).next(()=>{const f=[],D=a.getReverseIterator();for(;D.hasNext();){const P=D.getNext(),V=P.key,Q=P.value,ge=Sc();Q.forEach(Ue=>{if(!c.has(Ue)){const at=fh(t.get(Ue),s.get(Ue));null!==at&&ge.set(Ue,at),c=c.add(Ue)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,ge))}return Ve.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return jt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):d(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ve.resolve(ia());let D=-1,P=c;return f.next(V=>Ve.forEach(V,(Q,ge)=>(D<ge.largestBatchId&&(D=ge.largestBatchId),c.get(Q)?Ve.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ue=>{P=P.insert(Q,Ue)}))).next(()=>this.populateOverlays(e,V,c)).next(()=>this.computeViews(e,P,V,er())).next(Q=>({batchId:D,changes:od(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jt(t)).next(s=>{let a=vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=vu();return this.indexManager.getCollectionParents(e,a).next(f=>Ve.forEach(f,D=>{const P=(V=t,Q=D.child(a),new Qa(Q,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,Q;return this.getDocumentsMatchingCollectionQuery(e,P,s).next(V=>{V.forEach((Q,ge)=>{c=c.insert(Q,ge)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,P)=>{const V=P.getKey();null===c.get(V)&&(c=c.insert(V,qr.newInvalidDocument(V)))});let f=vu();return c.forEach((D,P)=>{const V=a.get(D);void 0!==V&&dd(V.mutation,P,rs.empty(),Rr.now()),Kt(t,P)&&(f=f.insert(D,P))}),f})}}class rv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ve.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Qi(s.createTime)}),Ve.resolve()}getNamedQuery(e,t){return Ve.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:kc(s.bundledQuery),readTime:Qi(s.readTime)}),Ve.resolve();var s}}class iv{constructor(){this.overlays=new vr(jt.comparator),this.ls=new Map}getOverlay(e,t){return Ve.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return Ve.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Ve.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Ve.resolve()}getOverlaysForCollection(e,t,s){const a=ia(),c=t.length+1,f=new jt(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const P=D.getNext().value,V=P.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===c&&P.largestBatchId>s&&a.set(P.getKey(),P)}return Ve.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new vr((V,Q)=>V-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>s){let Q=c.get(V.largestBatchId);null===Q&&(Q=ia(),c=c.insert(V.largestBatchId,Q)),Q.set(V.getKey(),V)}}const D=ia(),P=c.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((V,Q)=>D.set(V,Q)),!(D.size()>=a)););return Ve.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yh(t,s));let c=this.ls.get(t);void 0===c&&(c=er(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class Qn{constructor(){this.fs=new ii(Ss.ds),this.ws=new ii(Ss._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Ss(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Ss(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new jt(new In([])),s=new Ss(t,e),a=new Ss(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new jt(new In([])),s=new Ss(t,e),a=new Ss(t,e+1);let c=er();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Ss(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ss{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return jt.comparator(e.key,t.key)||rn(e.As,t.As)}static _s(e,t){return rn(e.As,t.As)||jt.comparator(e.key,t.key)}}class Lg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ii(Ss.ds)}checkEmpty(e){return Ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new gh(c,t,s,a);this.mutationQueue.push(f);for(const D of a)this.Rs=this.Rs.add(new Ss(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Ve.resolve(f)}lookupMutationBatch(e,t){return Ve.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Ve.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ss(t,0),a=new Ss(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const D=this.Ps(f.As);c.push(D)}),Ve.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ii(rn);return t.forEach(a=>{const c=new Ss(a,0),f=new Ss(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],D=>{s=s.add(D.As)})}),Ve.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;jt.isDocumentKey(c)||(c=c.child(""));const f=new Ss(new jt(c),0);let D=new ii(rn);return this.Rs.forEachWhile(P=>{const V=P.key.path;return!!s.isPrefixOf(V)&&(V.length===a&&(D=D.add(P.As)),!0)},f),Ve.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){nn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ve.forEach(t.mutations,a=>{const c=new Ss(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Ss(t,0),a=this.Rs.firstAfterOrEqual(s);return Ve.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ve.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vg{constructor(e){this.Ds=e,this.docs=new vr(jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ve.resolve(s?s.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let s=As();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():qr.newInvalidDocument(a))}),Ve.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=As();const f=t.path,D=new jt(f.child("")),P=this.docs.getIteratorFrom(D);for(;P.hasNext();){const{key:V,value:{document:Q}}=P.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||Pu(Ol(Q),s)<=0||(a.has(Q.key)||Kt(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return Ve.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Wt()}Cs(e,t){return Ve.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new sv(this)}getSize(e){return Ve.resolve(this.size)}}class sv extends Ng{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Ve.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ov{constructor(e){this.persistence=e,this.xs=new zs(t=>Va(t),cl),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qn,this.targetCount=0,this.Ms=jo.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ve.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ve.resolve()}updateTargetData(e,t){return this.Fn(t),Ve.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Ve.waitFor(c).next(()=>a)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ve.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ve.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ve.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ve.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ve.resolve(s)}containsKey(e,t){return Ve.resolve(this.ks.containsKey(t))}}class Ph{constructor(e,t){this.$s={},this.overlays={},this.Os=new ms(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=new Vg(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ch(t),this.qs=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Lg(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){mt("MemoryPersistence","Starting transaction:",e);const a=new av(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Ve.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class av extends rl{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Qs=new Qn,this.js=null}static zs(e){return new Sd(e)}get Ws(){if(this.js)return this.js;throw Wt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ve.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ve.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ve.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.Ws,s=>{const a=jt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,dn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ve.or([()=>Ve.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uv{constructor(e){this.serializer=e}O(e,t,s,a){const c=new Jo("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0}),D.createObjectStore("documentMutations"),lv(e),function(D){D.createObjectStore("remoteDocuments")}(e));let f=Ve.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),lv(e)),f=f.next(()=>function(D){const P=D.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return P.put("targetGlobalKey",V)}(c))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(D,P){return P.store("mutations").j().next(V=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0});const Q=P.store("mutations"),ge=V.map(Ue=>Q.put(Ue));return Ve.waitFor(ge)})}(e,c))),f=f.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ys(c))),s<6&&a>=6&&(f=f.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(f=f.next(()=>this.Zs(c))),s<8&&a>=8&&(f=f.next(()=>this.ti(e,c))),s<9&&a>=9&&(f=f.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(f=f.next(()=>this.ei(c))),s<11&&a>=11&&(f=f.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(f=f.next(()=>{!function(D){const P=D.createObjectStore("documentOverlays",{keyPath:ea});P.createIndex("collectionPathOverlayIndex",Na,{unique:!1}),P.createIndex("collectionGroupOverlayIndex",Ts,{unique:!1})}(e)})),s<13&&a>=13&&(f=f.next(()=>function(D){const P=D.createObjectStore("remoteDocumentsV14",{keyPath:he});P.createIndex("documentKeyIndex",et),P.createIndex("collectionGroupIndex",Lt)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(f=f.next(()=>this.si(e,c))),s<15&&a>=15&&(f=f.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:ui}).createIndex("sequenceNumberIndex",Xo,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Gs}).createIndex("documentKeyIndex",Ea,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Rh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ve.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",f).next(D=>Ve.forEach(D,P=>{nn(P.userId===c.userId);const V=Ta(this.serializer,P);return xg(e,c.userId,V).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((f,D)=>{const P=new In(f),V=[0,vi(P)];c.push(t.get(V).next(Q=>Q?Ve.resolve():t.put({targetId:0,path:vi(P),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ve.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Mi});const s=t.store("collectionParents"),a=new Zf,c=f=>{if(a.add(f)){const D=f.lastSegment(),P=f.popLast();return s.put({collectionId:D,parent:vi(P)})}};return t.store("remoteDocuments").X({Y:!0},(f,D)=>{const P=new In(f);return c(P.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,D,P],V)=>{const Q=y(D);return c(Q.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=wd(a),f=bh(this.serializer,c);return t.put(f)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,f)=>{const D=t.store("remoteDocumentsV14"),P=(V=f,V.document?new jt(In.fromString(V.document.name).popFirst(5)):V.noDocument?jt.fromSegments(V.noDocument.path):V.unknownDocument?jt.fromSegments(V.unknownDocument.path):Wt()).path.toArray();var V;const Q={prefixPath:P.slice(0,P.length-2),collectionGroup:P[P.length-2],documentId:P[P.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(D.put(Q))}).next(()=>Ve.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Ua(this.serializer),c=new Ph(Sd.zs,this.serializer.fe);return s.j().next(f=>{const D=new Map;return f.forEach(P=>{var V;let Q=null!==(V=D.get(P.userId))&&void 0!==V?V:er();Ta(this.serializer,P).keys().forEach(ge=>Q=Q.add(ge)),D.set(P.userId,Q)}),Ve.forEach(D,(P,V)=>{const Q=new gn(V),ge=Sh.de(this.serializer,Q),Ue=c.getIndexManager(Q),at=Nh.de(Q,this.serializer,Ue,c.referenceDelegate);return new Fg(a,at,ge,Ue).recalculateAndSaveOverlaysForDocumentKeys(new wa(t,ms.ct),P).next()})})}}function lv(i){i.createObjectStore("targetDocuments",{keyPath:sn}).createIndex("documentTargetsIndex",Kn,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mn,{unique:!0}),i.createObjectStore("targetGlobal")}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fh{constructor(e,t,s,a,c,f,D,P,V,Q,ge=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=f,this.document=D,this.ri=V,this.oi=Q,this.ui=ge,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ue=>Promise.resolve(),!Fh.D())throw new yt(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ev(this,a),this.di=t+"main",this.serializer=new Ch(P),this.wi=new uo(this.di,this.ui,new uv(this.serializer)),this.Bs=new Jy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ua(this.serializer),this.qs=new Zl,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Q&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yt(ze.FAILED_PRECONDITION,kh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ms(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,p.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Si(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return eu(e).get("owner").next(t=>Ve.resolve(this.Ri(t)))}Pi(e){return Lh(e).delete(this.clientId)}bi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Yi(s,"clientMetadata");return a.j().next(c=>{const f=e.Si(c,18e5),D=c.filter(P=>-1===f.indexOf(P));return Ve.forEach(D,P=>a.delete(P.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ve.resolve(!0):eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new yt(ze.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new wa(t,ms.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Nh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mg(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Sh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){mt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.ui)?il:14===f?Fl:13===f?ku:12===f?Fi:11===f?lu:void Wt();var f;let D;return this.wi.runTransaction(e,a,c,P=>(D=new wa(P,this.Os?this.Os.next():ms.ct),"readwrite-primary"===t?this.Ti(D).next(V=>!!V||this.Ei(D)).next(V=>{if(!V)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new yt(ze.FAILED_PRECONDITION,ya);return s(D)}).next(V=>this.vi(D).next(()=>V)):this.Oi(D).next(()=>s(D)))).then(P=>(D.raiseOnCommittedEvent(),P))}Oi(e){return eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new yt(ze.FAILED_PRECONDITION,kh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(e).put("owner",t)}static D(){return uo.D()}Ai(e){const t=eu(e);return t.get("owner").next(s=>this.Ri(s)?(mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ve.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(pr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,de.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return pr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eu(i){return Yi(i,"owner")}function Lh(i){return Yi(i,"clientMetadata")}function Md(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class xd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=er(),a=er();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new xd(e,t.fromCache,s,a)}}class Ug{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(ch(t))return Ve.resolve(null);let s=I(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=J(t,null,"F"),s=I(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=er(...c);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(P=>{const V=this.ji(t,D);return this.zi(t,V,f,P.readTime)?this.Ki(e,J(t,null,"F")):this.Wi(e,V,t,P)}))})))}Gi(e,t,s,a){return ch(t)||a.isEqual(dn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(ni()<=me.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),kt(t)),this.Wi(e,f,t,ma(a,-1)))})}ji(e,t){let s=new ii(lr(e));return t.forEach((a,c)=>{Kt(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return ni()<=me.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",kt(t)),this.Ui.getDocumentsMatchingQuery(e,t,bs.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class J_{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new vr(rn),this.Yi=new zs(c=>Va(c),cl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cv(i,e,t,s){return new J_(i,e,t,s)}function dv(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,p.Z)(function*(i,e){const t=Bt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let P=er();for(const V of a){f.push(V.batchId);for(const Q of V.mutations)P=P.add(Q.key)}for(const V of c){D.push(V.batchId);for(const Q of V.mutations)P=P.add(Q.key)}return t.localDocuments.getDocuments(s,P).next(V=>({er:V,removedBatchIds:f,addedBatchIds:D}))})})}),tp.apply(this,arguments)}function Bg(i,e){const t=Bt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,P,V){const Q=P.batch,ge=Q.keys();let Ue=Ve.resolve();return ge.forEach(at=>{Ue=Ue.next(()=>V.getEntry(D,at)).next(Ot=>{const Xt=P.docVersions.get(at);nn(null!==Xt),Ot.version.compareTo(Xt)<0&&(Q.applyToRemoteDocument(Ot,P),Ot.isValidDocument()&&(Ot.setReadTime(P.commitVersion),V.addEntry(Ot)))})}),Ue.next(()=>f.mutationQueue.removeMutationBatch(D,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=er();for(let P=0;P<f.mutationResults.length;++P)f.mutationResults[P].transformResults.length>0&&(D=D.add(f.batch.mutations[P].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function hv(i){const e=Bt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function fv(i,e){const t=Bt(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((Q,ge)=>{const Ue=a.get(ge);if(!Ue)return;D.push(t.Bs.removeMatchingKeys(c,Q.removedDocuments,ge).next(()=>t.Bs.addMatchingKeys(c,Q.addedDocuments,ge)));let at=Ue.withSequenceNumber(c.currentSequenceNumber);var Ot,Xt,on;null!==e.targetMismatches.get(ge)?at=at.withResumeToken(_i.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):Q.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(Q.resumeToken,s)),a=a.insert(ge,at),Xt=at,on=Q,(0===(Ot=Ue).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-Ot.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(c,at))});let P=As(),V=er();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),D.push(sc(c,f,e.documentUpdates).next(Q=>{P=Q.nr,V=Q.sr})),!s.isEqual(dn.min())){const Q=t.Bs.getLastRemoteSnapshotVersion(c).next(ge=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(Q)}return Ve.waitFor(D).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,P,V)).next(()=>P)}).then(c=>(t.Ji=a,c))}function sc(i,e,t){let s=er(),a=er();return t.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=As();return t.forEach((D,P)=>{const V=c.get(D);P.isFoundDocument()!==V.isFoundDocument()&&(a=a.add(D)),P.isNoDocument()&&P.version.isEqual(dn.min())?(e.removeEntry(D,P.readTime),f=f.insert(D,P)):!V.isValidDocument()||P.version.compareTo(V.version)>0||0===P.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(P),f=f.insert(D,P)):mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",V.version," Watch version:",P.version)}),{nr:f,sr:a}})}function pv(i,e){const t=Bt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oc(i,e){const t=Bt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Ve.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new Iu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function qu(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,p.Z)(function*(i,e,t){const s=Bt(i),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Si(f))throw f;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),np.apply(this,arguments)}function Rd(i,e,t){const s=Bt(i);let a=dn.min(),c=er();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,P,V){const Q=Bt(D),ge=Q.Yi.get(V);return void 0!==ge?Ve.resolve(Q.Ji.get(ge)):Q.Bs.getTargetData(P,V)}(s,f,I(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(P=>{c=P})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:dn.min(),t?c:er())).next(D=>(Hg(s,Dn(e),D),{documents:D,ir:c})))}function jg(i,e){const t=Bt(i),s=Bt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(f=>f?f.target:null))}function $g(i,e){const t=Bt(i),s=t.Xi.get(e)||dn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,ma(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Hg(t,e,a),a))}function Hg(i,e,t){let s=i.Xi.get(e)||dn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Xi.set(e,s)}function rp(){return rp=(0,p.Z)(function*(i,e,t,s){const a=Bt(i);let c=er(),f=As();for(const V of t){const Q=e.rr(V.metadata.name);V.document&&(c=c.add(Q));const ge=e.ur(V);ge.setReadTime(e.cr(V.metadata.readTime)),f=f.insert(Q,ge)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),P=yield oc(a,(V=s,I(ju(In.fromString(`__bundle__/docs/${V}`)))));var V;return a.persistence.runTransaction("Apply bundle documents","readwrite",V=>sc(V,D,f).next(Q=>(D.apply(V),Q)).next(Q=>a.Bs.removeMatchingKeysForTargetId(V,P.targetId).next(()=>a.Bs.addMatchingKeys(V,c,P.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(V,Q.nr,Q.sr)).next(()=>Q.nr)))}),rp.apply(this,arguments)}function Gg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,p.Z)(function*(i,e,t=er()){const s=yield oc(i,I(kc(e.bundledQuery))),a=Bt(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Qi(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(c,e);const D=s.withResumeToken(_i.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(c,D).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),ip.apply(this,arguments)}function sp(i,e){return`firestore_clients_${i}_${e}`}function op(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Nd(i,e){return`firestore_targets_${i}_${e}`}class ap{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new yt(a.error.code,a.error.message))),f?new ap(e,t,a.state,c):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ac{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new yt(s.error.code,s.error.message))),c?new ac(e,s.state,a):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=dh();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=ys(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return a?new Vh(e,c):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zg(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class El{constructor(){this.activeTargetIds=dh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vr(rn),this.started=!1,this.yr=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=sp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new El),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(sp(e.persistenceKey,a));if(c){const f=Vh.ar(a,c);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Nd(this.persistenceKey,e));if(s){const a=ac.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nd(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mt("SharedClientState","READ",e,t),t}setItem(e,t){mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let f=ms.ct;if(null!=c)try{const D=JSON.parse(c);nn("number"==typeof D),f=D}catch(D){pr("SharedClientState","Failed to read sequence number from WebStorage",D)}return f}(s.newValue);a!==ms.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new ap(this.currentUser,e,t,s),c=op(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=op(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Nd(this.persistenceKey,e),c=new ac(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Vh.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return ap.ar(new gn(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return ac.ar(a,t)}br(e){return zg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),f=[],D=[];return c.forEach(P=>{a.has(P)||f.push(P)}),a.forEach(P=>{c.has(P)||D.push(P)}),this.syncEngine.Wr(f,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=dh();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class up{constructor(){this.Hr=new El,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new El,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bh{Yr(e){}shutdown(){}}class Ba{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pd=null;function lp(){return null===Pd?Pd=268435456+Math.round(2147483648*Math.random()):Pd++,"0x"+Pd.toString(16)}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ws="WebChannelConnection";class Wg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=lp(),D=this.To(e,t);mt("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const P={};return this.Eo(P,a,c),this.Ao(e,D,P,s).then(V=>(mt("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw xr("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",D,"request:",s),V})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=lp();return new Promise((f,D)=>{const P=new cn;P.setWithCredentials(!0),P.listenOnce(M.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case L.NO_ERROR:const Q=P.getResponseJson();mt(Ws,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case L.TIMEOUT:mt(Ws,`RPC '${e}' ${c} timed out`),D(new yt(ze.DEADLINE_EXCEEDED,"Request time out"));break;case L.HTTP_ERROR:const ge=P.getStatus();if(mt(Ws,`RPC '${e}' ${c} failed with status:`,ge,"response text:",P.getResponseText()),ge>0){let Ue=P.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const at=Ue?.error;if(at&&at.status&&at.message){const Ot=function(Xt){const on=Xt.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(on)>=0?on:ze.UNKNOWN}(at.status);D(new yt(Ot,at.message))}else D(new yt(ze.UNKNOWN,"Server responded with status "+P.getStatus()))}else D(new yt(ze.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{mt(Ws,`RPC '${e}' ${c} completed.`)}});const V=JSON.stringify(a);mt(Ws,`RPC '${e}' ${c} sending request:`,a),P.send(t,"POST",V,s,15)})}Ro(e,t,s){const a=lp(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ou(),D=b(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(P.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(P.xmlHttpFactory=new Qe({})),this.Eo(P.initMessageHeaders,t,s),P.encodeInitMessageHeaders=!0;const Q=c.join("");mt(Ws,`Creating RPC '${e}' stream ${a}: ${Q}`,P);const ge=f.createWebChannel(Q,P);let Ue=!1,at=!1;const Ot=new Zu({ro:on=>{at?mt(Ws,`Not sending because RPC '${e}' stream ${a} is closed:`,on):(Ue||(mt(Ws,`Opening RPC '${e}' stream ${a} transport.`),ge.open(),Ue=!0),mt(Ws,`RPC '${e}' stream ${a} sending:`,on),ge.send(on))},oo:()=>ge.close()}),Xt=(on,ir,Ur)=>{on.listen(ir,_r=>{try{Ur(_r)}catch(qs){setTimeout(()=>{throw qs},0)}})};return Xt(ge,lt.EventType.OPEN,()=>{at||mt(Ws,`RPC '${e}' stream ${a} transport opened.`)}),Xt(ge,lt.EventType.CLOSE,()=>{at||(at=!0,mt(Ws,`RPC '${e}' stream ${a} transport closed`),Ot.wo())}),Xt(ge,lt.EventType.ERROR,on=>{at||(at=!0,xr(Ws,`RPC '${e}' stream ${a} transport errored:`,on),Ot.wo(new yt(ze.UNAVAILABLE,"The operation could not be completed")))}),Xt(ge,lt.EventType.MESSAGE,on=>{var ir;if(!at){const Ur=on.data[0];nn(!!Ur);const _r=Ur,qs=_r.error||(null===(ir=_r[0])||void 0===ir?void 0:ir.error);if(qs){mt(Ws,`RPC '${e}' stream ${a} received error:`,qs);const Rs=qs.status;let xi=function(Su){const vy=_s[Su];if(void 0!==vy)return zu(vy)}(Rs),Go=qs.message;void 0===xi&&(xi=ze.INTERNAL,Go="Unknown error status: "+Rs+" with message "+qs.message),at=!0,Ot.wo(new yt(xi,Go)),ge.close()}else mt(Ws,`RPC '${e}' stream ${a} received:`,Ur),Ot._o(Ur)}}),Xt(D,z.STAT_EVENT,on=>{on.stat===ye.PROXY?mt(Ws,`RPC '${e}' stream ${a} detected buffering proxy`):on.stat===ye.NOPROXY&&mt(Ws,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ot.fo()},0),Ot}}function jh(){return typeof window<"u"?window:null}function dp(){return typeof document<"u"?document:null}function jc(i){return new W_(i,!0)}class Kg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Od{constructor(e,t,s,a,c,f,D,P){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=P,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,p.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,p.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,p.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===ze.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new yt(ze.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,p.Z)(function*(){e.state=0,e.start()}))}tu(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $h extends Od{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function By(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:Wt(),a=e.targetChange.targetIds||[],c=function(P,V){return P.useProto3Json?(nn(void 0===V||"string"==typeof V),_i.fromBase64String(V||"")):(nn(void 0===V||V instanceof Uint8Array),_i.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(P){const V=void 0===P.code?ze.UNKNOWN:zu(P.code);return new yt(V,P.message||"")}(f);t=new Eh(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=wu(i,s.document.name),c=Qi(s.document.updateTime),f=s.document.createTime?Qi(s.document.createTime):dn.min(),D=new is({mapValue:{fields:s.document.fields}}),P=qr.newFoundDocument(a,c,f,D);t=new _h(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const s=e.documentDelete,a=wu(i,s.document),c=s.readTime?Qi(s.readTime):dn.min(),f=qr.newNoDocument(a,c);t=new _h([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=wu(i,s.document);t=new _h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Wt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Oy(a,c);t=new _g(s.targetId,f)}}var P;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return dn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?dn.min():c.readTime?Qi(c.readTime):dn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=_d(this.serializer),t.addTarget=function(a,c){let f;const D=c.target;if(f=Bu(D)?{documents:Dg(a,D)}:{query:jf(a,D)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Vy(a,c.resumeToken);const P=md(a,c.expectedCount);null!==P&&(f.expectedCount=P)}else if(c.snapshotVersion.compareTo(dn.min())>0){f.readTime=gl(a,c.snapshotVersion.toTimestamp());const P=md(a,c.expectedCount);null!==P&&(f.expectedCount=P)}return f}(this.serializer,e);const s=function $y(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=_d(this.serializer),t.removeTarget=e,this.Wo(t)}}class hp extends Od{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jy(i,e){return i&&i.length>0?(nn(void 0!==e),i.map(t=>function(s,a){let c=Qi(s.updateTime?s.updateTime:a);return c.isEqual(dn.min())&&(c=Qi(a)),new xy(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.cu(s,t)}return nn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_d(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Kl(this.serializer,s))};this.Wo(t)}}class fp extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new yt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(ze.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ze.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class mv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(t),this.mu=!1):mt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(D=>{s.enqueueAndForget((0,p.Z)(function*(){var P;lc(f)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,p.Z)(function*(V){const Q=Bt(V);Q.vu.add(4),yield uc(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield kd(Q)}),function(V){return P.apply(this,arguments)})(f))}))}),this.bu=new mv(s,a)}}function kd(i){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(i){if(lc(i))for(const e of i.Ru)yield e(!0)}),gp.apply(this,arguments)}function uc(i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,p.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Zg.apply(this,arguments)}function Hh(i,e){const t=Bt(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Fd(t)?yp(t):Cl(t).Ko()&&zh(t,e))}function Gh(i,e){const t=Bt(i),s=Cl(t);t.Au.delete(e),s.Ko()&&mp(t,e),0===t.Au.size&&(s.Ko()?s.jo():lc(t)&&t.bu.set("Unknown"))}function zh(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(i).su(e)}function mp(i,e){i.Vu.qt(e),Cl(i).iu(e)}function yp(i){i.Vu=new gd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Cl(i).start(),i.bu.gu()}function Fd(i){return lc(i)&&!Cl(i).Uo()&&i.Au.size>0}function lc(i){return 0===Bt(i).vu.size}function vv(i){i.Vu=void 0}function X_(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,p.Z)(function*(i){i.Au.forEach((e,t)=>{zh(i,e)})}),Yg.apply(this,arguments)}function e0(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,p.Z)(function*(i,e){vv(i),Fd(i)?(i.bu.Iu(e),yp(i)):i.bu.set("Unknown")}),Qg.apply(this,arguments)}function t0(i,e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,p.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Eh&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(a,c){const f=c.cause;for(const D of c.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,f),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield vp(i,s)}else if(e instanceof _h?i.Vu.Ht(e):e instanceof _g?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(dn.min()))try{const s=yield hv(i.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((D,P)=>{if(D.resumeToken.approximateByteSize()>0){const V=a.Au.get(P);V&&a.Au.set(P,V.withResumeToken(D.resumeToken,c))}}),f.targetMismatches.forEach((D,P)=>{const V=a.Au.get(D);if(!V)return;a.Au.set(D,V.withResumeToken(_i.EMPTY_BYTE_STRING,V.snapshotVersion)),mp(a,D);const Q=new Iu(V.target,D,P,V.sequenceNumber);zh(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(i,t))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield vp(i,s)}var s}),Jg.apply(this,arguments)}function vp(i,e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,p.Z)(function*(i,e,t){if(!Si(e))throw e;i.vu.add(1),yield uc(i),i.bu.set("Offline"),t||(t=()=>hv(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield kd(i)}))}),Xg.apply(this,arguments)}function Yu(i,e){return e().catch(t=>vp(i,t,e))}function wl(i){return _p.apply(this,arguments)}function _p(){return _p=(0,p.Z)(function*(i){const e=Bt(i),t=tu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;em(e);)try{const a=yield pv(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ep(e,a)}catch(a){yield vp(e,a)}wp(e)&&Wh(e)}),_p.apply(this,arguments)}function em(i){return lc(i)&&i.Eu.length<10}function Ep(i,e){i.Eu.push(e);const t=tu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function wp(i){return lc(i)&&!tu(i).Uo()&&i.Eu.length>0}function Wh(i){tu(i).start()}function _v(i){return Du.apply(this,arguments)}function Du(){return Du=(0,p.Z)(function*(i){tu(i).hu()}),Du.apply(this,arguments)}function tm(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,p.Z)(function*(i){const e=tu(i);for(const t of i.Eu)e.uu(t.mutations)}),Ip.apply(this,arguments)}function Ev(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,p.Z)(function*(i,e,t){const s=i.Eu.shift(),a=mh.from(s,e,t);yield Yu(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield wl(i)}),Kh.apply(this,arguments)}function wv(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,p.Z)(function*(i,e){var t;e&&tu(i).ou&&(yield(t=(0,p.Z)(function*(s,a){if(yg(c=a.code)&&c!==ze.ABORTED){const f=s.Eu.shift();tu(s).Qo(),yield Yu(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield wl(s)}var c}),function(s,a){return t.apply(this,arguments)})(i,e)),wp(i)&&Wh(i)}),Dp.apply(this,arguments)}function Ld(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,p.Z)(function*(i,e){const t=Bt(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=lc(t);t.vu.add(3),yield uc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kd(t)}),Il.apply(this,arguments)}function Vd(i,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,p.Z)(function*(i,e){const t=Bt(i);e?(t.vu.delete(2),yield kd(t)):e||(t.vu.add(2),yield uc(t),t.bu.set("Unknown"))}),Dl.apply(this,arguments)}function Cl(i){return i.Su||(i.Su=function(e,t,s){const a=Bt(e);return a.fu(),new $h(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:X_.bind(null,i),ao:e0.bind(null,i),nu:t0.bind(null,i)}),i.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(i.Su.Qo(),Fd(i)?yp(i):i.bu.set("Unknown")):(yield i.Su.stop(),vv(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function tu(i){return i.Du||(i.Du=function(e,t,s){const a=Bt(e);return a.fu(),new hp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:_v.bind(null,i),ao:wv.bind(null,i),au:tm.bind(null,i),cu:Ev.bind(null,i)}),i.Ru.push(function(){var e=(0,p.Z)(function*(t){t?(i.Du.Qo(),yield wl(i)):(yield i.Du.stop(),i.Eu.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class qh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,D=new qh(e,t,f,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(i,e){if(pr("AsyncQueue",`${e}: ${i}`),Si(i))return new yt(ze.UNAVAILABLE,`${e}: ${i}`);throw i}class bl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||jt.comparator(t.key,s.key):(t,s)=>jt.comparator(t.key,s.key),this.keyedMap=vu(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new bl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new bl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Zh{constructor(){this.Cu=new vr(jt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Wt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class dc{constructor(e,t,s,a,c,f,D,P,V){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=P,this.hasCachedResults=V}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new dc(e,t,bl.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Me(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Cp{constructor(){this.Nu=void 0,this.listeners=[]}}class Iv{constructor(){this.queries=new zs(e=>Je(e),Me),this.onlineState="Unknown",this.ku=new Set}}function nm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,p.Z)(function*(i,e){const t=Bt(i),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new Cp),a)try{c.Nu=yield t.onListen(s)}catch(f){const D=cc(f,`Initialization of query '${kt(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Ap(t)}),bp.apply(this,arguments)}function Yh(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,p.Z)(function*(i,e){const t=Bt(i),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Tp.apply(this,arguments)}function rm(i,e){const t=Bt(i);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const D of f.listeners)D.$u(a)&&(s=!0);f.Nu=a}}s&&Ap(t)}function im(i,e,t){const s=Bt(i),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(i){i.ku.forEach(e=>{e.next()})}class $o{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new dc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sm{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class om{constructor(e){this.serializer=e}rr(e){return wu(this.serializer,e)}ur(e){return e.metadata.exists?os(this.serializer,e.document,!1):qr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Qi(e)}}class n0{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=am(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=In.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new om(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const f of a.metadata.queries){const D=(t.get(f)||er()).add(c);t.set(f,D)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function gv(i,e,t,s){return rp.apply(this,arguments)}(e.localStore,new om(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Gg(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function am(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Qh{constructor(e){this.key=e}}class Sp{constructor(e){this.key=e}}class um{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=er(),this.mutatedKeys=er(),this.tc=lr(e),this.ec=new bl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Zh,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,D=!1;const P="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,V="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,ge)=>{const Ue=a.get(Q),at=Kt(this.query,ge)?ge:null,Ot=!!Ue&&this.mutatedKeys.has(Ue.key),Xt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let on=!1;Ue&&at?Ue.data.isEqual(at.data)?Ot!==Xt&&(s.track({type:3,doc:at}),on=!0):this.rc(Ue,at)||(s.track({type:2,doc:at}),on=!0,(P&&this.tc(at,P)>0||V&&this.tc(at,V)<0)&&(D=!0)):!Ue&&at?(s.track({type:0,doc:at}),on=!0):Ue&&!at&&(s.track({type:1,doc:Ue}),on=!0,(P||V)&&(D=!0)),on&&(at?(f=f.add(at),c=Xt?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{ec:f,ic:s,zi:D,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((V,Q)=>function(ge,Ue){const at=Ot=>{switch(Ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return at(ge)-at(Ue)}(V.type,Q.type)||this.tc(V.doc,Q.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,P=D!==this.Xu;return this.Xu=D,0!==c.length||P?{snapshot:new dc(this.query,e.ec,a,c,e.mutatedKeys,0===D,P,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=er(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Sp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Qh(s))}),t}hc(e){this.Yu=e.ir,this.Zu=er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Cv{constructor(e){this.key=e,this.fc=!1}}class lm{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new zs(D=>Je(D),Me),this._c=new Map,this.mc=new Set,this.gc=new vr(jt.comparator),this.yc=new Map,this.Ic=new Qn,this.Tc={},this.Ec=new Map,this.Ac=jo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bv(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,p.Z)(function*(i,e){const t=uf(i);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield oc(t.localStore,I(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield Mp(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&Hh(t.remoteStore,f)}return a}),Jh.apply(this,arguments)}function Mp(i,e,t,s,a){return xp.apply(this,arguments)}function xp(){return xp=(0,p.Z)(function*(i,e,t,s,a){i.Rc=(ge,Ue,at)=>{return(Ot=(0,p.Z)(function*(Xt,on,ir,Ur){let _r=on.view.sc(ir);_r.zi&&(_r=yield Rd(Xt.localStore,on.query,!1).then(({documents:xi})=>on.view.sc(xi,_r)));const qs=Ur&&Ur.targetChanges.get(on.targetId),Rs=on.view.applyChanges(_r,Xt.isPrimaryClient,qs);return jd(Xt,on.targetId,Rs.cc),Rs.snapshot}),function(Xt,on,ir,Ur){return Ot.apply(this,arguments)})(i,ge,Ue,at);var Ot};const c=yield Rd(i.localStore,e,!0),f=new um(e,c.ir),D=f.sc(c.documents),P=pd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),V=f.applyChanges(D,i.isPrimaryClient,P);jd(i,t,V.cc);const Q=new Dv(e,t,f);return i.wc.set(e,Q),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),V.snapshot}),xp.apply(this,arguments)}function cm(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,p.Z)(function*(i,e){const t=Bt(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Me(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield qu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Gh(t.remoteStore,s.targetId),Qu(t,s.targetId)}).catch(va))):(Qu(t,s.targetId),yield qu(t.localStore,s.targetId,!0))}),Xh.apply(this,arguments)}function ja(){return ja=(0,p.Z)(function*(i,e,t){const s=Gd(i);try{const a=yield function(c,f){const D=Bt(c),P=Rr.now(),V=f.reduce((Ue,at)=>Ue.add(at.key),er());let Q,ge;return D.persistence.runTransaction("Locally write mutations","readwrite",Ue=>{let at=As(),Ot=er();return D.Zi.getEntries(Ue,V).next(Xt=>{at=Xt,at.forEach((on,ir)=>{ir.isValidDocument()||(Ot=Ot.add(on))})}).next(()=>D.localDocuments.getOverlayedDocuments(Ue,at)).next(Xt=>{Q=Xt;const on=[];for(const ir of f){const Ur=Ry(ir,Q.get(ir.key).overlayedDocument);null!=Ur&&on.push(new Xa(ir.key,Ur,ll(Ur.value.mapValue),Ei.exists(!0)))}return D.mutationQueue.addMutationBatch(Ue,P,on,f)}).next(Xt=>{ge=Xt;const on=Xt.applyToLocalDocumentSet(Q,Ot);return D.documentOverlayCache.saveOverlays(Ue,Xt.batchId,on)})}).then(()=>({batchId:ge.batchId,changes:od(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,D){let P=c.Tc[c.currentUser.toKey()];P||(P=new vr(rn)),P=P.insert(f,D),c.Tc[c.currentUser.toKey()]=P}(s,a.batchId,t),yield Cu(s,a.changes),yield wl(s.remoteStore)}catch(a){const c=cc(a,"Failed to persist write");t.reject(c)}}),ja.apply(this,arguments)}function ef(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,p.Z)(function*(i,e){const t=Bt(i);try{const s=yield fv(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(nn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?nn(f.fc):a.removedDocuments.size>0&&(nn(f.fc),f.fc=!1))}),yield Cu(t,s,e)}catch(s){yield va(s)}}),Rp.apply(this,arguments)}function dm(i,e,t){const s=Bt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const D=f.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(c,f){const D=Bt(c);D.onlineState=f;let P=!1;D.queries.forEach((V,Q)=>{for(const ge of Q.listeners)ge.Mu(f)&&(P=!0)}),P&&Ap(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function r0(i,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,p.Z)(function*(i,e,t){const s=Bt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new vr(jt.comparator);f=f.insert(c,qr.newNoDocument(c,dn.min()));const D=er().add(c),P=new fd(dn.min(),new Map,new vr(rn),f,D);yield ef(s,P),s.gc=s.gc.remove(c),s.yc.delete(e),nf(s)}else yield qu(s.localStore,e,!1).then(()=>Qu(s,e,t)).catch(va)}),tf.apply(this,arguments)}function Av(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,p.Z)(function*(i,e){const t=Bt(i),s=e.batch.batchId;try{const a=yield Bg(t.localStore,e);Bd(t,s,null),$c(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Cu(t,a)}catch(a){yield va(a)}}),Np.apply(this,arguments)}function Sv(i,e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,p.Z)(function*(i,e,t){const s=Bt(i);try{const a=yield function(c,f){const D=Bt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",P=>{let V;return D.mutationQueue.lookupMutationBatch(P,f).next(Q=>(nn(null!==Q),V=Q.keys(),D.mutationQueue.removeMutationBatch(P,Q))).next(()=>D.mutationQueue.performConsistencyCheck(P)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(P,V,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,V)).next(()=>D.localDocuments.getDocuments(P,V))})}(s.localStore,e);Bd(s,e,t),$c(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(s,a)}catch(a){yield va(a)}}),Ud.apply(this,arguments)}function Pp(){return Pp=(0,p.Z)(function*(i,e){const t=Bt(i);lc(t.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const f=Bt(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>f.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=cc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Pp.apply(this,arguments)}function $c(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Bd(i,e,t){const s=Bt(i);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Qu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||xv(i,s)})}function xv(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Gh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),nf(i))}function jd(i,e,t){for(const s of t)s instanceof Qh?(i.Ic.addReference(s.key,e),s0(i,s)):s instanceof Sp?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||xv(i,s.key)):Wt()}function s0(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(mt("SyncEngine","New document in limbo: "+t),i.mc.add(s),nf(i))}function nf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new jt(In.fromString(e)),s=i.Ac.next();i.yc.set(s,new Cv(t)),i.gc=i.gc.insert(t,s),Hh(i.remoteStore,new Iu(I(ju(t.path)),s,"TargetPurposeLimboResolution",ms.ct))}}function Cu(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,p.Z)(function*(i,e,t){const s=Bt(i),a=[],c=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,P)=>{f.push(s.Rc(P,e,t).then(V=>{if((V||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(P.targetId,V?.fromCache?"not-current":"current"),V){a.push(V);const Q=xd.Li(P.targetId,V);c.push(Q)}}))}),yield Promise.all(f),s.dc.nu(a),yield(D=(0,p.Z)(function*(P,V){const Q=Bt(P);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Ve.forEach(V,Ue=>Ve.forEach(Ue.Fi,at=>Q.persistence.referenceDelegate.addReference(ge,Ue.targetId,at)).next(()=>Ve.forEach(Ue.Bi,at=>Q.persistence.referenceDelegate.removeReference(ge,Ue.targetId,at)))))}catch(ge){if(!Si(ge))throw ge;mt("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of V){const Ue=ge.targetId;if(!ge.fromCache){const at=Q.Ji.get(Ue),Xt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);Q.Ji=Q.Ji.insert(Ue,Xt)}}}),function(P,V){return D.apply(this,arguments)})(s.localStore,c))}),rf.apply(this,arguments)}function hm(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,p.Z)(function*(i,e){const t=Bt(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield dv(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new yt(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cu(t,s.er)}var a}),$d.apply(this,arguments)}function Ju(i,e){const t=Bt(i),s=t.yc.get(e);if(s&&s.fc)return er().add(s.key);{let a=er();const c=t._c.get(e);if(!c)return a;for(const f of c){const D=t.wc.get(f);a=a.unionWith(D.view.nc)}return a}}function sf(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,p.Z)(function*(i,e){const t=Bt(i),s=yield Rd(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&jd(t,e.targetId,a.cc),a}),Hc.apply(this,arguments)}function Hd(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,p.Z)(function*(i,e){const t=Bt(i);return $g(t.localStore,e).then(s=>Cu(t,s))}),Op.apply(this,arguments)}function kp(i,e,t,s){return af.apply(this,arguments)}function af(){return af=(0,p.Z)(function*(i,e,t,s){const a=Bt(i),c=yield function(f,D){const P=Bt(f),V=Bt(P.mutationQueue);return P.persistence.runTransaction("Lookup mutation documents","readonly",Q=>V.Sn(Q,D).next(ge=>ge?P.localDocuments.getDocuments(Q,ge):Ve.resolve(null)))}(a.localStore,e);var D;null!==c?("pending"===t?yield wl(a.remoteStore):"acknowledged"===t||"rejected"===t?(Bd(a,e,s||null),$c(a,e),D=e,Bt(Bt(a.localStore).mutationQueue).Cn(D)):Wt(),yield Cu(a,c)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),af.apply(this,arguments)}function Fp(){return Fp=(0,p.Z)(function*(i,e){const t=Bt(i);if(uf(t),Gd(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gc(t,s.toArray());t.vc=!0,yield Vd(t.remoteStore,!0);for(const c of a)Hh(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(Qu(t,f),qu(t.localStore,f,!0))),Gh(t.remoteStore,f)}),yield a,yield Gc(t,s),function(c){const f=Bt(c);f.yc.forEach((D,P)=>{Gh(f.remoteStore,P)}),f.Ic.Ts(),f.yc=new Map,f.gc=new vr(jt.comparator)}(t),t.vc=!1,yield Vd(t.remoteStore,!1)}}),Fp.apply(this,arguments)}function Gc(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,p.Z)(function*(i,e,t){const s=Bt(i),a=[],c=[];for(const f of e){let D;const P=s._c.get(f);if(P&&0!==P.length){D=yield oc(s.localStore,I(P[0]));for(const V of P){const Q=s.wc.get(V),ge=yield sf(s,Q);ge.snapshot&&c.push(ge.snapshot)}}else{const V=yield jg(s.localStore,f);D=yield oc(s.localStore,V),yield Mp(s,Nv(V),f,!1,D.resumeToken)}a.push(D)}return s.dc.nu(c),a}),Lp.apply(this,arguments)}function Nv(i){return hl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Pv(i){const e=Bt(i);return Bt(Bt(e.localStore).persistence).$i()}function o0(i,e,t,s){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,p.Z)(function*(i,e,t,s){const a=Bt(i);if(a.vc)return void mt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield $g(a.localStore,Dn(c[0])),D=fd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_i.EMPTY_BYTE_STRING);yield Cu(a,f,D);break}case"rejected":yield qu(a.localStore,e,!0),Qu(a,e,s);break;default:Wt()}}),Vp.apply(this,arguments)}function Ov(i,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,p.Z)(function*(i,e,t){const s=uf(i);if(s.vc){for(const a of e){if(s._c.has(a)){mt("SyncEngine","Adding an already active target "+a);continue}const c=yield jg(s.localStore,a),f=yield oc(s.localStore,c);yield Mp(s,Nv(c),f.targetId,!1,f.resumeToken),Hh(s.remoteStore,f)}for(const a of t)s._c.has(a)&&(yield qu(s.localStore,a,!1).then(()=>{Gh(s.remoteStore,a),Qu(s,a)}).catch(va))}}),Up.apply(this,arguments)}function uf(i){const e=Bt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ef.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ju.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r0.bind(null,e),e.dc.nu=rm.bind(null,e.eventManager),e.dc.Pc=im.bind(null,e.eventManager),e}function Gd(i){const e=Bt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Av.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}class hc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=jc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createPersistence(e){return new Ph(Sd.zs,this.serializer)}createSharedClientState(e){return new up}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends hc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Gd(s.Vc.syncEngine),yield wl(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Jf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new kl(t,this.persistence);return new Ou(e.asyncQueue,s)}createPersistence(e){const t=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new Fh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,jh(),dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new up}}class fm extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Uh&&(s.sharedClientState.syncEngine={jr:kp.bind(null,a),zr:o0.bind(null,a),Wr:Ov.bind(null,a),$i:Pv.bind(null,a),Qr:Hd.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,p.Z)(function*(f){yield function Rv(i,e){return Fp.apply(this,arguments)}(s.Vc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jh();if(!Uh.D(t))throw new yt(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class zc{initialize(e,t){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>dm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=hm.bind(null,s.syncEngine),yield Vd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Iv}createDatastore(e){const t=jc(e.databaseInfo.databaseId),s=new Wg(e.databaseInfo);return new fp(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>dm(this.syncEngine,D,0),f=Ba.D()?new Ba:new Bh,new yv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,D,P,V){const Q=new lm(s,a,c,f,D,P);return V&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const s=Bt(t);mt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield uc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pm(i,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cf{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new oi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new sm(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,p.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class fc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new yt(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,p.Z)(function*(c,f){const D=Bt(c),P=_d(D.serializer)+"/documents",V={documents:f.map(at=>yd(D.serializer,at))},Q=yield D.vo("BatchGetDocuments",P,V,f.length),ge=new Map;Q.forEach(at=>{const Ot=function Uy(i,e){return"found"in e?function(t,s){nn(!!s.found);const a=wu(t,s.found.name),c=Qi(s.found.updateTime),f=s.found.createTime?Qi(s.found.createTime):dn.min(),D=new is({mapValue:{fields:s.found.fields}});return qr.newFoundDocument(a,c,f,D)}(i,e):"missing"in e?function(t,s){nn(!!s.missing),nn(!!s.readTime);const a=wu(t,s.missing),c=Qi(s.readTime);return qr.newNoDocument(a,c)}(i,e):Wt()}(D.serializer,at);ge.set(Ot.key.toString(),Ot)});const Ue=[];return f.forEach(at=>{const Ot=ge.get(at.toString());nn(!!Ot),Ue.push(Ot)}),Ue}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=jt.fromPath(a);e.mutations.push(new ph(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(a,c){const f=Bt(a),D=_d(f.serializer)+"/documents",P={writes:c.map(V=>Kl(f.serializer,V))};yield f.Io("Commit",D,P)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wt();t=dn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new yt(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dn.min())?Ei.exists(!1):Ei.updateTime(t):Ei.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dn.min()))throw new yt(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(t)}return Ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Kg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,p.Z)(function*(){const t=new fc(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!qa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yg(t)}return!1}}class zd{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=ai.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(mt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=cc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function df(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,p.Z)(function*(c){s.isEqual(c)||(yield dv(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),jp.apply(this,arguments)}function Wd(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield pc(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>Ld(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>Ld(e.remoteStore,c)),i._onlineComponents=e}),$p.apply(this,arguments)}function nu(i){return"FirebaseError"===i.name?i.code===ze.FAILED_PRECONDITION||i.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function pc(i){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,p.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield df(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!nu(t))throw t;xr("Error using user provided cache. Falling back to memory cache: "+t),yield df(i,new hc)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield df(i,new hc);return i._offlineComponents}),Ks.apply(this,arguments)}function bu(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,p.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wd(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield Wd(i,new zc))),i._onlineComponents}),Wc.apply(this,arguments)}function Aa(i){return pc(i).then(e=>e.persistence)}function Kc(i){return pc(i).then(e=>e.localStore)}function gc(i){return bu(i).then(e=>e.remoteStore)}function Tl(i){return bu(i).then(e=>e.syncEngine)}function ru(i){return Al.apply(this,arguments)}function Al(){return Al=(0,p.Z)(function*(i){const e=yield bu(i),t=e.eventManager;return t.onListen=bv.bind(null,e.syncEngine),t.onUnlisten=cm.bind(null,e.syncEngine),t}),Al.apply(this,arguments)}function yc(i,e,t={}){const s=new oi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,D,P){const V=new lf({next:ge=>{c.enqueueAndForget(()=>Yh(a,Q));const Ue=ge.docs.has(f);!Ue&&ge.fromCache?P.reject(new yt(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):Ue&&ge.fromCache&&D&&"server"===D.source?P.reject(new yt(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):P.resolve(ge)},error:ge=>P.reject(ge)}),Q=new $o(ju(f.path),V,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield ru(i),i.asyncQueue,e,t,s)})),s.promise}function Hp(i,e,t={}){const s=new oi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(a,c,f,D,P){const V=new lf({next:ge=>{c.enqueueAndForget(()=>Yh(a,Q)),ge.fromCache&&"server"===D.source?P.reject(new yt(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(ge)},error:ge=>P.reject(ge)}),Q=new $o(f,V,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield ru(i),i.asyncQueue,e,t,s)})),s.promise}function Gp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const zp=new Map;function hf(i,e,t){if(!t)throw new yt(ze.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Em(i,e,t,s){if(!0===e&&!0===s)throw new yt(ze.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wm(i){if(!jt.isDocumentKey(i))throw new yt(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(jt.isDocumentKey(i))throw new yt(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Wt()}function Ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yt(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new yt(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function pf(i,e){if(e<=0)throw new yt(ze.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gf{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new yt(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yt(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new yt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new yt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new yt(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yt(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new za;switch(t.type){case"firstParty":return new ha(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yt(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zp.get(e);t&&(mt("ComponentProvider","Removing Datastore"),zp.delete(e),t.terminate())}(this),Promise.resolve()}}function qd(i,e,t,s={}){var a;const c=(i=Ir(i,Kd))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let D,P;if("string"==typeof s.mockUserToken)D=s.mockUserToken,P=gn.MOCK_USER;else{D=(0,de.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new yt(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new gn(V)}i._authCredentials=new xu(new Ga(D,P))}}class wi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}}class Ms{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Tu extends Ms{constructor(e,t,s){super(e,t,ju(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new jt(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function Kp(i,e,...t){if(i=(0,de.m9)(i),hf("collection","path",e),i instanceof Kd){const s=In.fromString(e,...t);return Wp(s),new Tu(i,null,s)}{if(!(i instanceof wi||i instanceof Tu))throw new yt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(In.fromString(e,...t));return Wp(s),new Tu(i.firestore,null,s)}}function qp(i,e){if(i=Ir(i,Kd),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yt(ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ms(i,null,(t=e,new Qa(In.emptyPath(),t)));var t}function Zp(i,e,...t){if(i=(0,de.m9)(i),1===arguments.length&&(e=ai.A()),hf("doc","path",e),i instanceof Kd){const s=In.fromString(e,...t);return wm(s),new wi(i,null,new jt(s))}{if(!(i instanceof wi||i instanceof Tu))throw new yt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(In.fromString(e,...t));return wm(s),new wi(i.firestore,i instanceof Tu?i.converter:null,new jt(s))}}function Im(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),(i instanceof wi||i instanceof Tu)&&(e instanceof wi||e instanceof Tu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zd(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),i instanceof Ms&&e instanceof Ms&&i.firestore===e.firestore&&Me(i._query,e._query)&&i.converter===e.converter}class Dm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kg(this,"async_queue_retry"),this.Xc=()=>{const t=dp();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new oi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,p.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Si(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=qh.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Wt()}verifyOperationInProgress(){}sa(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class Yp{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Cm=-1;class Ii extends Kd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Dm,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qp(this),this._firestoreClient.terminate()}}function Ji(i){return i._firestoreClient||Qp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qp(i){var e,t,s;const a=i._freezeSettings(),c=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ul(i._databaseId,D,i._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,Gp(V.experimentalLongPollingOptions),V.useFetchStreams));var D,V;i._firestoreClient=new zd(i._authCredentials,i._appCheckCredentials,i._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uv(i,e){Xp(i=Ir(i,Ii));const t=Ji(i);if(t._uninitializedComponentsProvider)throw new yt(ze.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new zc;return bm(t,a,new Bp(a,s.cacheSizeBytes,e?.forceOwnership))}function Bv(i){Xp(i=Ir(i,Ii));const e=Ji(i);if(e._uninitializedComponentsProvider)throw new yt(ze.FAILED_PRECONDITION,"SDK cache is already specified.");xr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new zc;return bm(e,s,new fm(s,t.cacheSizeBytes))}function bm(i,e,t){const s=new oi;return i.asyncQueue.enqueue((0,p.Z)(function*(){try{yield df(i,t),yield Wd(i,e),s.resolve()}catch(a){const c=a;if(!nu(c))throw c;xr("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Tm(i){if(i._initialized&&!i._terminated)throw new yt(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(s){if(!uo.D())return Promise.resolve();const a=s+"main";yield uo.delete(a)}),function(s){return t.apply(this,arguments)})(Md(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Jp(i){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Mv(i,e){return Pp.apply(this,arguments)}(yield Tl(e),t)})),t.promise}(Ji(i=Ir(i,Ii)))}function Am(i){return function qc(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Aa(i),t=yield gc(i);return e.setNetworkEnabled(!0),function(s){const a=Bt(s);return a.vu.delete(0),kd(a)}(t)}))}(Ji(i=Ir(i,Ii)))}function Sm(i){return function Zc(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Aa(i),t=yield gc(i);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(a){const c=Bt(a);c.vu.add(0),yield uc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Ji(i=Ir(i,Ii)))}function Mm(i,e){const t=Ji(i=Ir(i,Ii)),s=new Yp;return function ym(i,e,t,s){const a=function(c,f){let D;return D="string"==typeof c?ky().encode(c):c,P=function(P,V){if(P instanceof Uint8Array)return pm(P,V);if(P instanceof ArrayBuffer)return pm(new Uint8Array(P),V);if(P instanceof ReadableStream)return P.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new cf(P,f);var P}(t,jc(e));i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function kv(i,e,t){const s=Bt(i);var a;(a=(0,p.Z)(function*(c,f,D){try{const P=yield f.getMetadata();if(yield function(Ue,at){const Ot=Bt(Ue),Xt=Qi(at.createTime);return Ot.persistence.runTransaction("hasNewerBundle","readonly",on=>Ot.qs.getBundleMetadata(on,at.id)).then(on=>!!on&&on.createTime.compareTo(Xt)>=0)}(c.localStore,P))return yield f.close(),D._completeWith({taskState:"Success",documentsLoaded:(Ue=P).totalDocuments,bytesLoaded:Ue.totalBytes,totalDocuments:Ue.totalDocuments,totalBytes:Ue.totalBytes}),Promise.resolve(new Set);D._updateProgress(am(P));const V=new n0(P,c.localStore,f.serializer);let Q=yield f.bc();for(;Q;){const Ue=yield V.zu(Q);Ue&&D._updateProgress(Ue),Q=yield f.bc()}const ge=yield V.complete();return yield Cu(c,ge.Ju,void 0),yield function(Ue,at){const Ot=Bt(Ue);return Ot.persistence.runTransaction("Save bundle","readwrite",Xt=>Ot.qs.saveBundleMetadata(Xt,at))}(c.localStore,P),D._completeWith(ge.progress),Promise.resolve(ge.Hu)}catch(P){return xr("SyncEngine",`Loading bundle failed with ${P}`),D._failWith(P),Promise.resolve(new Set)}var Ue}),function(c,f,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Tl(i),a,s)}))}(t,i._databaseId,e,s),s}function xm(i,e){return function vm(i,e){return i.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,s){const a=Bt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield Kc(i),e)}))}(Ji(i=Ir(i,Ii)),e).then(t=>t?new Ms(i,null,t.query):null)}function Xp(i){if(i._initialized||i._terminated)throw new yt(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(_i.fromBase64String(e))}catch(t){throw new yt(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vc(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yt(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ml{constructor(e){this._methodName=e}}class yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const xs=/^__.*__$/;class Nm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class Pm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Om(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class Yd{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Om(this.ca)&&xs.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $v{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jc(e)}ya(e,t,s,a=!1){return new Yd({ca:e,methodName:t,ga:s,path:Xn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(i){const e=i._freezeSettings(),t=jc(i._databaseId);return new $v(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qd(i,e,t,s,a,c={}){const f=i.ya(c.merge||c.mergeFields?2:0,e,t,a);$a("Data must be an object, but it was:",f,s);const D=Um(s,f);let P,V;if(c.merge)P=new rs(f.fieldMask),V=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const ge of c.mergeFields){const Ue=Ho(e,ge,t);if(!f.contains(Ue))throw new yt(ze.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);Bm(Q,Ue)||Q.push(Ue)}P=new rs(Q),V=f.fieldTransforms.filter(ge=>P.covers(ge.field))}else P=null,V=f.fieldTransforms;return new Nm(new is(D),P,V)}class Au extends Ml{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Au}}function km(i,e,t){return new Yd({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eg extends Ml{_toFieldTransform(e){return new xc(e.path,new Hu)}isEqual(e){return e instanceof eg}}class Fm extends Ml{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Mo(c,t)),a=new _u(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Hv extends Ml{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Mo(c,t)),a=new Gu(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Lm extends Ml{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fl(e.serializer,Pf(e.serializer,this.Ia));return new xc(e.path,t)}isEqual(e){return this===e}}function Vm(i,e,t,s){const a=i.ya(1,e,t);$a("Data must be an object, but it was:",a,s);const c=[],f=is.empty();Za(s,(P,V)=>{const Q=Jd(e,P,t);V=(0,de.m9)(V);const ge=a.da(Q);if(V instanceof Au)c.push(Q);else{const Ue=Mo(V,ge);null!=Ue&&(c.push(Q),f.set(Q,Ue))}});const D=new rs(c);return new Pm(f,D,a.fieldTransforms)}function vf(i,e,t,s,a,c){const f=i.ya(1,e,t),D=[Ho(e,s,t)],P=[a];if(c.length%2!=0)throw new yt(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<c.length;Ue+=2)D.push(Ho(e,c[Ue])),P.push(c[Ue+1]);const V=[],Q=is.empty();for(let Ue=D.length-1;Ue>=0;--Ue)if(!Bm(V,D[Ue])){const at=D[Ue];let Ot=P[Ue];Ot=(0,de.m9)(Ot);const Xt=f.da(at);if(Ot instanceof Au)V.push(at);else{const on=Mo(Ot,Xt);null!=on&&(V.push(at),Q.set(at,on))}}const ge=new rs(V);return new Pm(Q,ge,f.fieldTransforms)}function _f(i,e,t,s=!1){return Mo(t,i.ya(s?4:3,e))}function Mo(i,e){if(tg(i=(0,de.m9)(i)))return $a("Unsupported field value:",e,i),Um(i,e);if(i instanceof Ml)return function(t,s){if(!Om(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let D=Mo(f,s.wa(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,de.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pf(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Rr.fromDate(t);return{timestampValue:gl(s.serializer,a)}}if(t instanceof Rr){const a=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gl(s.serializer,a)}}if(t instanceof yf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vc)return{bytesValue:Vy(s.serializer,t._byteString)};if(t instanceof wi){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ff(t)}`)}(i,e)}function Um(i,e){const t={};return Ll(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(i,(s,a)=>{const c=Mo(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function tg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Rr||i instanceof yf||i instanceof vc||i instanceof wi||i instanceof Ml)}function $a(i,e,t){if(!tg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ff(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Ho(i,e,t){if((e=(0,de.m9)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return Jd(i,e);throw Xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const iu=new RegExp("[~\\*/\\[\\]]");function Jd(i,e,t){if(e.search(iu)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xd(i,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let P="";return(c||f)&&(P+=" (found",c&&(P+=` in field ${s}`),f&&(P+=` in document ${a}`),P+=")"),new yt(ze.INVALID_ARGUMENT,D+i+P)}function Bm(i,e){return i.some(t=>t.isEqual(e))}class eh{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gv extends eh{data(){return super.data()}}function Ef(i,e){return"string"==typeof e?Jd(i,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}function wf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new yt(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _c{}class th extends _c{}function jm(i,e,...t){let s=[];e instanceof _c&&s.push(e),s=s.concat(t),function(a){const c=a.filter(D=>D instanceof Ec).length,f=a.filter(D=>D instanceof nh).length;if(c>1||c>0&&f>0)throw new yt(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class nh extends th{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nh(e,t,s)}_apply(e){const t=this._parse(e);return Ym(e._query,t),new Ms(e.firestore,e.converter,j(e._query,t))}_parse(e){const t=xl(e.firestore);return function(a,c,f,D,P,V,Q){let ge;if(P.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new yt(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){Zm(Q,V);const Ue=[];for(const at of Q)Ue.push(qm(D,a,at));ge={arrayValue:{values:Ue}}}else ge=qm(D,a,Q)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||Zm(Q,V),ge=_f(f,"where",Q,"in"===V||"not-in"===V);return pe.create(P,V,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $m(i,e,t){const s=e,a=Ef("where",i);return nh._create(a,s,t)}class Ec extends _c{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:De.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const D of f)Ym(c,D),c=j(c,D)}(e._query,t),new Ms(e.firestore,e.converter,j(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class If extends th{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new If(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new yt(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new yt(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new A(a,c);return function(D,P){if(null===Ac(D)){const V=_(D);null!==V&&Qm(0,V,P.field)}}(s,f),f}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Qa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Hm(i,e="asc"){const t=e,s=Ef("orderBy",i);return If._create(s,t)}class Jc extends th{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jc(e,t,s)}_apply(e){return new Ms(e.firestore,e.converter,J(e._query,this._limit,this._limitType))}}function Df(i){return pf("limit",i),Jc._create("limit",i,"F")}function rg(i){return pf("limitToLast",i),Jc._create("limitToLast",i,"L")}class rh extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new rh(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Ms(e.firestore,e.converter,(a=t,new Qa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function Gm(...i){return rh._create("startAt",i,!0)}function zm(...i){return rh._create("startAfter",i,!1)}class ih extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ih(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Ms(e.firestore,e.converter,(a=t,new Qa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Wm(...i){return ih._create("endBefore",i,!1)}function Km(...i){return ih._create("endAt",i,!0)}function ig(i,e,t,s){if(t[0]=(0,de.m9)(t[0]),t[0]instanceof eh)return function(a,c,f,D,P){if(!D)throw new yt(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const V=[];for(const Q of g(a))if(Q.field.isKeyField())V.push(Fa(c,D.key));else{const ge=D.data.field(Q.field);if(Fu(ge))throw new yt(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ge){const Ue=Q.field.canonicalString();throw new yt(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ue}' (used as the orderBy) does not exist.`)}V.push(ge)}return new ss(V,P)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=xl(i.firestore);return function(c,f,D,P,V,Q){const ge=c.explicitOrderBy;if(V.length>ge.length)throw new yt(ze.INVALID_ARGUMENT,`Too many arguments provided to ${P}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ue=[];for(let at=0;at<V.length;at++){const Ot=V[at];if(ge[at].field.isKeyField()){if("string"!=typeof Ot)throw new yt(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${P}(), but got a ${typeof Ot}`);if(!d(c)&&-1!==Ot.indexOf("/"))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${P}() must be a plain document ID, but '${Ot}' contains a slash.`);const Xt=c.path.child(In.fromString(Ot));if(!jt.isDocumentKey(Xt))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${P}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const on=new jt(Xt);Ue.push(Fa(f,on))}else{const Xt=_f(D,P,Ot);Ue.push(Xt)}}return new ss(Ue,Q)}(i._query,i.firestore._databaseId,a,e,t,s)}}function qm(i,e,t){if("string"==typeof(t=(0,de.m9)(t))){if(""===t)throw new yt(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d(e)&&-1!==t.indexOf("/"))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(In.fromString(t));if(!jt.isDocumentKey(s))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fa(i,new jt(s))}if(t instanceof wi)return Fa(i,t._key);throw new yt(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function Zm(i,e){if(!Array.isArray(i)||0===i.length)throw new yt(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ym(i,e){if(e.isInequality()){const s=_(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Ac(i);null!==c&&Qm(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new yt(ze.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Qm(i,e,t){if(!t.isEqual(e))throw new yt(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sg{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Za(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new yf(si(e.latitude),si(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Lu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=bo(e);return new Rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=In.fromString(e);nn(Gf(s));const a=new ta(s.get(1),s.get(3)),c=new jt(s.popFirst(5));return a.isEqual(t)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Cf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class zv extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,t)}}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends eh{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sh extends Ic{data(e={}){return super.data(e)}}class Dc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new sh(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new sh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new wc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const D=new sh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new wc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let P=-1,V=-1;return 0!==f.type&&(P=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),V=c.indexOf(f.doc.key)),{type:Kv(f.type),doc:D,oldIndex:P,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function Xm(i,e){return i instanceof Ic&&e instanceof Ic?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Dc&&e instanceof Dc&&i._firestore===e._firestore&&Zd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ey(i){i=Ir(i,wi);const e=Ir(i.firestore,Ii);return yc(Ji(e),i._key).then(t=>ly(e,i,t))}class Xu extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,t)}}function ty(i){i=Ir(i,wi);const e=Ir(i.firestore,Ii),t=Ji(e),s=new Xu(e);return function Yc(i,e){const t=new oi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const D=yield function(P,V){const Q=Bt(P);return Q.persistence.runTransaction("read document","readonly",ge=>Q.localDocuments.getDocument(ge,V))}(a,c);D.isFoundDocument()?f.resolve(D):D.isNoDocument()?f.resolve(null):f.reject(new yt(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const P=cc(D,`Failed to get document '${c} from cache`);f.reject(P)}}),function(a,c,f){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._key).then(a=>new Ic(e,s,i._key,a,new wc(null!==a&&a.hasLocalMutations,!0),i.converter))}function ny(i){i=Ir(i,wi);const e=Ir(i.firestore,Ii);return yc(Ji(e),i._key,{source:"server"}).then(t=>ly(e,i,t))}function ry(i){i=Ir(i,Ms);const e=Ir(i.firestore,Ii),t=Ji(e),s=new Xu(e);return wf(i._query),Hp(t,i._query).then(a=>new Dc(e,s,i,a))}function iy(i){i=Ir(i,Ms);const e=Ir(i.firestore,Ii),t=Ji(e),s=new Xu(e);return function gm(i,e){const t=new oi;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(a,c,f){try{const D=yield Rd(a,c,!0),P=new um(c,D.ir),V=P.sc(D.documents),Q=P.applyChanges(V,!1);f.resolve(Q.snapshot)}catch(D){const P=cc(D,`Failed to execute query '${c} against cache`);f.reject(P)}}),function(a,c,f){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._query).then(a=>new Dc(e,s,i,a))}function sy(i){i=Ir(i,Ms);const e=Ir(i.firestore,Ii),t=Ji(e),s=new Xu(e);return Hp(t,i._query,{source:"server"}).then(a=>new Dc(e,s,i,a))}function oy(i,e,t){i=Ir(i,wi);const s=Ir(i.firestore,Ii),a=Cf(i.converter,e,t);return su(s,[Qd(xl(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,Ei.none())])}function ay(i,e,t,...s){i=Ir(i,wi);const a=Ir(i.firestore,Ii),c=xl(a);let f;return f="string"==typeof(e=(0,de.m9)(e))||e instanceof Sl?vf(c,"updateDoc",i._key,e,t,s):Vm(c,"updateDoc",i._key,e),su(a,[f.toMutation(i._key,Ei.exists(!0))])}function uy(i){return su(Ir(i.firestore,Ii),[new pl(i._key,Ei.none())])}function Cc(i,e){const t=Ir(i.firestore,Ii),s=Zp(i),a=Cf(i.converter,e);return su(t,[Qd(xl(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,Ei.exists(!1))]).then(()=>s)}function qv(i,...e){var t,s,a;i=(0,de.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||mf(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(mf(e[f])){const ge=e[f];e[f]=null===(t=ge.next)||void 0===t?void 0:t.bind(ge),e[f+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[f+2]=null===(a=ge.complete)||void 0===a?void 0:a.bind(ge)}let P,V,Q;if(i instanceof wi)V=Ir(i.firestore,Ii),Q=ju(i._key.path),P={next:ge=>{e[f]&&e[f](ly(V,i,ge))},error:e[f+1],complete:e[f+2]};else{const ge=Ir(i,Ms);V=Ir(ge.firestore,Ii),Q=ge._query;const Ue=new Xu(V);P={next:at=>{e[f]&&e[f](new Dc(V,Ue,ge,at))},error:e[f+1],complete:e[f+2]},wf(i._query)}return function(ge,Ue,at,Ot){const Xt=new lf(Ot),on=new $o(Ue,Xt,at);return ge.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return nm(yield ru(ge),on)})),()=>{Xt.Dc(),ge.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Yh(yield ru(ge),on)}))}}(Ji(V),Q,D,P)}function Zv(i,e){return function mm(i,e){const t=new lf(e);return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield ru(i),a=t,Bt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return s=yield ru(i),a=t,void Bt(s).ku.delete(a);var s,a}))}}(Ji(i=Ir(i,Ii)),mf(e)?e:{next:e})}function su(i,e){return function(t,s){const a=new oi;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Tv(i,e,t){return ja.apply(this,arguments)}(yield Tl(t),s,a)})),a.promise}(Ji(i),e)}function ly(i,e,t){const s=t.docs.get(e._key),a=new Xu(i);return new Ic(i,a,e._key,s,new wc(t.hasPendingWrites,t.fromCache),e.converter)}const _0={maxAttempts:5};class og{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,s){this._verifyNotCommitted();const a=el(e,this._firestore),c=Cf(a.converter,t,s),f=Qd(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,Ei.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=el(e,this._firestore);let f;return f="string"==typeof(t=(0,de.m9)(t))||t instanceof Sl?vf(this._dataReader,"WriteBatch.update",c._key,t,s,a):Vm(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,Ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=el(e,this._firestore);return this._mutations=this._mutations.concat(new pl(t._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function el(i,e){if((i=(0,de.m9)(i)).firestore!==e)throw new yt(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=el(e,this._firestore),s=new zv(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Wt();const c=a[0];if(c.isFoundDocument())return new eh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new eh(this._firestore,s,t._key,null,t.converter);throw Wt()})}set(e,t,s){const a=el(e,this._firestore),c=Cf(a.converter,t,s),f=Qd(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const c=el(e,this._firestore);let f;return f="string"==typeof(t=(0,de.m9)(t))||t instanceof Sl?vf(this._dataReader,"Transaction.update",c._key,t,s,a):Vm(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=el(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=el(e,this._firestore),s=new Xu(this._firestore);return super.get(e).then(a=>new Ic(this._firestore,s,t._key,a._document,new wc(!1,!1),t.converter))}}function fy(i,e,t){i=Ir(i,Ii);const s=Object.assign(Object.assign({},_0),t);return function(a){if(a.maxAttempts<1)throw new yt(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,f){const D=new oi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const P=yield function mc(i){return bu(i).then(e=>e.datastore)}(a);new a0(a.asyncQueue,P,f,c,D).run()})),D.promise}(Ji(i),a=>e(new Qv(i,a)),s)}function py(){return new Au("deleteField")}function gy(){return new eg("serverTimestamp")}function my(...i){return new Fm("arrayUnion",i)}function Jv(...i){return new Hv("arrayRemove",i)}function Xv(i){return new Lm("increment",i)}!function(i,e=!0){Mr=U.SDK_VERSION,(0,U._registerComponent)(new $.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Ii(new nl(t.getProvider("auth-internal")),new Pl(t.getProvider("app-check-internal")),function(D,P){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new yt(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(D.options.projectId,P)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,U.registerVersion)(mr,"3.13.0",i),(0,U.registerVersion)(mr,"3.13.0","esm2017")}()},2090:(Gt,Ge,k)=>{k.d(Ge,{$s:()=>K,BH:()=>Ce,G6:()=>Fe,L:()=>Ne,LL:()=>Vt,Pz:()=>tt,Sg:()=>ot,UG:()=>It,US:()=>Te,ZB:()=>ve,ZR:()=>Et,aH:()=>fe,b$:()=>xt,eu:()=>He,hl:()=>Be,jU:()=>qt,m9:()=>wt,ne:()=>an,pd:()=>dr,r3:()=>Wn,ru:()=>_t,tV:()=>re,uI:()=>Ie,vZ:()=>An,w1:()=>Dr,xO:()=>jr,xb:()=>cr,z$:()=>Ze,zI:()=>st,zd:()=>$r});const me=function(ie){const oe=[];let Y=0;for(let q=0;q<ie.length;q++){let H=ie.charCodeAt(q);H<128?oe[Y++]=H:H<2048?(oe[Y++]=H>>6|192,oe[Y++]=63&H|128):55296==(64512&H)&&q+1<ie.length&&56320==(64512&ie.charCodeAt(q+1))?(H=65536+((1023&H)<<10)+(1023&ie.charCodeAt(++q)),oe[Y++]=H>>18|240,oe[Y++]=H>>12&63|128,oe[Y++]=H>>6&63|128,oe[Y++]=63&H|128):(oe[Y++]=H>>12|224,oe[Y++]=H>>6&63|128,oe[Y++]=63&H|128)}return oe},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,oe){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let H=0;H<ie.length;H+=3){const Ee=ie[H],rt=H+1<ie.length,St=rt?ie[H+1]:0,Yt=H+2<ie.length,te=Yt?ie[H+2]:0;let Se=(15&St)<<2|te>>6,je=63&te;Yt||(je=64,rt||(Se=64)),q.push(Y[Ee>>2],Y[(3&Ee)<<4|St>>4],Y[Se],Y[je])}return q.join("")},encodeString(ie,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ie):this.encodeByteArray(me(ie),oe)},decodeString(ie,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ie):function(ie){const oe=[];let Y=0,q=0;for(;Y<ie.length;){const H=ie[Y++];if(H<128)oe[q++]=String.fromCharCode(H);else if(H>191&&H<224){const Ee=ie[Y++];oe[q++]=String.fromCharCode((31&H)<<6|63&Ee)}else if(H>239&&H<365){const Yt=((7&H)<<18|(63&ie[Y++])<<12|(63&ie[Y++])<<6|63&ie[Y++])-65536;oe[q++]=String.fromCharCode(55296+(Yt>>10)),oe[q++]=String.fromCharCode(56320+(1023&Yt))}else{const Ee=ie[Y++],rt=ie[Y++];oe[q++]=String.fromCharCode((15&H)<<12|(63&Ee)<<6|63&rt)}}return oe.join("")}(this.decodeStringToByteArray(ie,oe))},decodeStringToByteArray(ie,oe){this.init_();const Y=oe?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let H=0;H<ie.length;){const Ee=Y[ie.charAt(H++)],St=H<ie.length?Y[ie.charAt(H)]:0;++H;const te=H<ie.length?Y[ie.charAt(H)]:64;++H;const X=H<ie.length?Y[ie.charAt(H)]:64;if(++H,null==Ee||null==St||null==te||null==X)throw new Ae;q.push(Ee<<2|St>>4),64!==te&&(q.push(St<<4&240|te>>2),64!==X&&q.push(te<<6&192|X))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(ie){return function(ie){const oe=me(ie);return Te.encodeByteArray(oe,!0)}(ie).replace(/\./g,"")},re=function(ie){try{return Te.decodeString(ie,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ve(ie,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return oe}for(const Y in oe)!oe.hasOwnProperty(Y)||!dt(Y)||(ie[Y]=ve(ie[Y],oe[Y]));return ie}function dt(ie){return"__proto__"!==ie}const ke=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=ie&&re(ie[1]);return oe&&JSON.parse(oe)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},fe=()=>{var ie;return null===(ie=ke())||void 0===ie?void 0:ie.config},tt=ie=>{var oe;return null===(oe=ke())||void 0===oe?void 0:oe[`_${ie}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,Y)=>{this.resolve=oe,this.reject=Y})}wrapCallback(oe){return(Y,q)=>{Y?this.reject(Y):this.resolve(q),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(Y):oe(Y,q))}}}function ot(ie,oe){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=oe||"demo-project",H=ie.iat||0,Ee=ie.sub||ie.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:H,exp:H+3600,auth_time:H,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(rt)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function It(){var ie;const oe=null===(ie=ke())||void 0===ie?void 0:ie.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qt(){return"object"==typeof self&&self.self===self}function _t(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dr(){const ie=Ze();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function Fe(){return!It()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((ie,oe)=>{try{let Y=!0;const q="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(q);H.onsuccess=()=>{H.result.close(),Y||self.indexedDB.deleteDatabase(q),ie(!0)},H.onupgradeneeded=()=>{Y=!1},H.onerror=()=>{var Ee;oe((null===(Ee=H.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(Y){oe(Y)}})}function st(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(oe,Y,q){super(Y),this.code=oe,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(oe,Y,q){this.service=oe,this.serviceName=Y,this.errors=q}create(oe,...Y){const q=Y[0]||{},H=`${this.service}/${oe}`,Ee=this.errors[oe],rt=Ee?function At(ie,oe){return ie.replace(Zt,(Y,q)=>{const H=oe[q];return null!=H?String(H):`<${q}?>`})}(Ee,q):"Error";return new Et(H,`${this.serviceName}: ${rt} (${H}).`,q)}}const Zt=/\{\$([^}]+)}/g;function Wn(ie,oe){return Object.prototype.hasOwnProperty.call(ie,oe)}function cr(ie){for(const oe in ie)if(Object.prototype.hasOwnProperty.call(ie,oe))return!1;return!0}function An(ie,oe){if(ie===oe)return!0;const Y=Object.keys(ie),q=Object.keys(oe);for(const H of Y){if(!q.includes(H))return!1;const Ee=ie[H],rt=oe[H];if(hn(Ee)&&hn(rt)){if(!An(Ee,rt))return!1}else if(Ee!==rt)return!1}for(const H of q)if(!Y.includes(H))return!1;return!0}function hn(ie){return null!==ie&&"object"==typeof ie}function jr(ie){const oe=[];for(const[Y,q]of Object.entries(ie))Array.isArray(q)?q.forEach(H=>{oe.push(encodeURIComponent(Y)+"="+encodeURIComponent(H))}):oe.push(encodeURIComponent(Y)+"="+encodeURIComponent(q));return oe.length?"&"+oe.join("&"):""}function $r(ie){const oe={};return ie.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[H,Ee]=q.split("=");oe[decodeURIComponent(H)]=decodeURIComponent(Ee)}}),oe}function dr(ie){const oe=ie.indexOf("?");if(!oe)return"";const Y=ie.indexOf("#",oe);return ie.substring(oe,Y>0?Y:void 0)}function an(ie,oe){const Y=new Ht(ie,oe);return Y.subscribe.bind(Y)}class Ht{constructor(oe,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{oe(this)}).catch(q=>{this.error(q)})}next(oe){this.forEachObserver(Y=>{Y.next(oe)})}error(oe){this.forEachObserver(Y=>{Y.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,Y,q){let H;if(void 0===oe&&void 0===Y&&void 0===q)throw new Error("Missing Observer.");H=function Rn(ie,oe){if("object"!=typeof ie||null===ie)return!1;for(const Y of oe)if(Y in ie&&"function"==typeof ie[Y])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:Y,complete:q},void 0===H.next&&(H.next=hr),void 0===H.error&&(H.error=hr),void 0===H.complete&&(H.complete=hr);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),Ee}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,oe)}sendOne(oe,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{Y(this.observers[oe])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function K(ie,oe=1e3,Y=2){const q=oe*Math.pow(Y,ie),H=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+H)}function wt(ie){return ie&&ie._delegate?ie._delegate:ie}},4985:(Gt,Ge,k)=>{k.d(Ge,{O:()=>p});class p{constructor($,me,de,Te,Ae,ue,Ne){this.value=Ne,this.label=me,this.type=de,this.placeholder=$,this.classlist=Te||" ",this.ref=ue||void 0,this.valueCallback=Ae}constructor2($){Object.assign(this,$)}getValue(){this.value=this.ref?this.valueCallback(...this.ref.map($=>$.value)):this.valueCallback()}}},3651:(Gt,Ge,k)=>{k.d(Ge,{e:()=>Mt});var p=k(5861),U=k(1389),Ae=(k(2090),k(6881),k(1877),k(4859),k(3900)),ue=k(9646),Ne=k(5698),re=k(4004),ce=k(8505),ve=k(4650),dt=k(1205),it=k(33),We=k(9051);let Mt=(()=>{class Ke{constructor(bt,vt,fe,tt){this.afAuth=bt,this.afs=vt,this.router=fe,this.ngZone=tt,this.user$=this.afAuth.authState.pipe((0,Ae.w)(Ce=>Ce?this.afs.doc(`users/${Ce.uid}`).valueChanges():(0,ue.of)(null)))}isLoggedIn(){var bt=!1;return this.user$.pipe((0,Ne.q)(1),(0,re.U)(vt=>!!vt),(0,ce.b)(vt=>{vt&&(bt=!0)})),bt}googleSignin(){var bt=this;return(0,p.Z)(function*(){const vt=yield bt.afAuth.signInWithPopup(new U.V);return vt.user&&bt.router.navigate(["/home"]),bt.updateUserData(vt.user)})()}GoogleAuth(){return this.AuthLogin(new U.V)}AuthLogin(bt){var vt=this;return(0,p.Z)(function*(){return vt.afAuth.signInWithPopup(bt).then(fe=>{console.log("You have been successfully logged in!")}).catch(fe=>{console.log(fe)})})()}updateUserData(bt){return this.afs.doc(`users/${bt.uid}`).set({uid:bt.uid,email:bt.email,displayName:bt.displayName},{merge:!0})}signOut(){var bt=this;return(0,p.Z)(function*(){yield bt.afAuth.signOut(),bt.router.navigate(["/login"])})()}}return Ke.\u0275fac=function(bt){return new(bt||Ke)(ve.LFG(dt.zQ),ve.LFG(it.ST),ve.LFG(We.F0),ve.LFG(ve.R0b))},Ke.\u0275prov=ve.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})()},4466:(Gt,Ge,k)=>{k.d(Ge,{m:()=>me});var p=k(6895),U=k(433),$=k(4650);let me=(()=>{class de{}return de.\u0275fac=function(Ae){return new(Ae||de)},de.\u0275mod=$.oAB({type:de}),de.\u0275inj=$.cJS({imports:[p.ez,U.u5,U.UX,U.u5]}),de})()},2955:(Gt,Ge,k)=>{var p=k(1481),U=k(4650),$=k(9051),me=k(4985);let de=(()=>{class Ce{constructor(){this.formObj=[[new me.O("Nombre","fullname","text"),new me.O("Nombre de Usuario","username","text")],[new me.O("Correo Electronico","email","text")],[new me.O("Password","password","password"),new me.O("Confirmar Password","Confirm Password","password")]]}ngOnInit(){}submit(Ze){console.log(Ze)}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"container-fluid"],[1,"mx-auto","mt-3"]],template:function(Ze,Ie){1&Ze&&(U.TgZ(0,"div",0)(1,"h1",1),U._uU(2,"LOREM IPSUM"),U.qZA(),U.TgZ(3,"p",1),U._uU(4,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),U.qZA()())}}),Ce})();var Te=k(5698),Ae=k(4004),ue=k(8505),Ne=k(3651);const ve=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class Ce{constructor(Ze){this.authService=Ze}ngOnInit(){}authenticate(){this.authService.googleSignin()}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(U.Y36(Ne.e))},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"d-flex","text-center","text-bg-dark","h-100",2,"background-image","url(assets/img/bg.png)"],[1,"d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"my-auto"],["type","button",1,"btn","btn-lg","btn-outline-light","fw-bold","border-white","rounded-pill",3,"click"],[1,"ms-1"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(Ze,Ie){1&Ze&&(U.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),U._uU(4," IBM Furniture"),U.qZA(),U.TgZ(5,"button",3),U.NdJ("click",function(){return Ie.authenticate()}),U._uU(6," Iniciar Sesion con Google "),U.TgZ(7,"span",4),U.O4$(),U.TgZ(8,"svg",5),U._UZ(9,"path",6),U.qZA()()()()()())}}),Ce})()},{path:"home",component:de},{path:"clients",loadChildren:()=>Promise.all([k.e(592),k.e(783)]).then(k.bind(k,9783)).then(Ce=>Ce.ClientModule),canActivate:[(()=>{class Ce{constructor(Ze,Ie){this.auth=Ze,this.router=Ie}canActivate(Ze,Ie){return this.auth.user$.pipe((0,Te.q)(1),(0,Ae.U)(It=>!!It),(0,ue.b)(It=>{It||(console.log("access denied"),this.router.navigate(["/login"]))}))}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(U.LFG(Ne.e),U.LFG($.F0))},Ce.\u0275prov=U.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()]},{path:"materials",loadChildren:()=>Promise.all([k.e(107),k.e(592),k.e(412)]).then(k.bind(k,8783)).then(Ce=>Ce.MaterialModule)},{path:"products",loadChildren:()=>Promise.all([k.e(592),k.e(22)]).then(k.bind(k,22)).then(Ce=>Ce.ProductModule)},{path:"orders",loadChildren:()=>Promise.all([k.e(107),k.e(592),k.e(993)]).then(k.bind(k,6993)).then(Ce=>Ce.OrdersModule)},{path:"shop",loadChildren:()=>Promise.all([k.e(107),k.e(592),k.e(932)]).then(k.bind(k,2932)).then(Ce=>Ce.ShoppingModule)},{path:"history",loadChildren:()=>k.e(72).then(k.bind(k,2072)).then(Ce=>Ce.HistoryModule)}];let dt=(()=>{class Ce{}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)},Ce.\u0275mod=U.oAB({type:Ce}),Ce.\u0275inj=U.cJS({imports:[$.Bz.forRoot(ve),$.Bz]}),Ce})();var it=k(2011),We=k(33),Mt=k(6895);let Ke=(()=>{class Ce{constructor(Ze){this.auth=Ze,this.signOut=()=>this.auth.signOut()}ngOnInit(){}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(U.Y36(Ne.e))},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-navbar"]],decls:36,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["height","30","src","/assets/img/ibmFurniture_logo.png","alt","","srcset","",1,"rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["routerLink","products",1,"nav-link"],["routerLink","clients",1,"nav-link"],["routerLink","materials",1,"nav-link"],["routerLink","orders",1,"nav-link"],["routerLink","shop",1,"nav-link"],["routerLink","history",1,"nav-link"],[1,"navbar-nav"],[1,"fs-3","nav-link","me-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"]],template:function(Ze,Ie){1&Ze&&(U.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),U._UZ(3,"img",3),U._uU(4," IBM Furniture "),U.qZA(),U.TgZ(5,"button",4),U._UZ(6,"span",5),U.qZA(),U.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),U._uU(11,"Inicio"),U.qZA()(),U.TgZ(12,"li",8)(13,"a",10),U._uU(14,"Productos"),U.qZA()(),U.TgZ(15,"li",8)(16,"a",11),U._uU(17,"Clientes"),U.qZA()(),U.TgZ(18,"li",8)(19,"a",12),U._uU(20,"Materiales"),U.qZA()(),U.TgZ(21,"li",8)(22,"a",13),U._uU(23,"Ordenes"),U.qZA()(),U.TgZ(24,"li",8)(25,"a",14),U._uU(26,"Compras"),U.qZA()(),U.TgZ(27,"li",8)(28,"a",15),U._uU(29,"Historial"),U.qZA()()(),U.TgZ(30,"ul",16)(31,"li",8)(32,"a",17),U.NdJ("click",function(){return Ie.signOut()}),U.O4$(),U.TgZ(33,"svg",18),U._UZ(34,"path",19)(35,"path",20),U.qZA()()()()()()())},dependencies:[$.yS]}),Ce})();function ke(Ce,ot){1&Ce&&U._UZ(0,"app-navbar")}let bt=(()=>{class Ce{constructor(Ze){this.auth=Ze,this.title="IBMFurniture"}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(U.Y36(Ne.e))},Ce.\u0275cmp=U.Xpm({type:Ce,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"vh-100"]],template:function(Ze,Ie){1&Ze&&(U.YNc(0,ke,1,0,"app-navbar",0),U.ALo(1,"async"),U.TgZ(2,"div",1),U._UZ(3,"router-outlet"),U.qZA()),2&Ze&&U.Q6J("ngIf",U.lcZ(1,1,Ie.auth.user$))},dependencies:[Mt.O5,$.lC,Ke,Mt.Ov]}),Ce})();const vt_firebase={apiKey:"AIzaSyCmya1htVh_wLXOc0zUSpurtnKYROqfSoU",authDomain:"ibmfurniture.firebaseapp.com",projectId:"ibmfurniture",storageBucket:"ibmfurniture.appspot.com",messagingSenderId:"313012116484",appId:"1:313012116484:web:1b535bfdb657c90b742951"};var fe=k(4466);let tt=(()=>{class Ce{}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)},Ce.\u0275mod=U.oAB({type:Ce,bootstrap:[bt]}),Ce.\u0275inj=U.cJS({imports:[p.b2,dt,it.hO.initializeApp(vt_firebase),We.yb,fe.m]}),Ce})();(0,U.G48)(),p.q6().bootstrapModule(tt).catch(Ce=>console.error(Ce))},9751:(Gt,Ge,k)=>{k.d(Ge,{y:()=>ue});var p=k(2961),U=k(727),$=k(8822),me=k(9635),de=k(2416),Te=k(576),Ae=k(2806);let ue=(()=>{class ve{constructor(it){it&&(this._subscribe=it)}lift(it){const We=new ve;return We.source=this,We.operator=it,We}subscribe(it,We,Mt){const Ke=function ce(ve){return ve&&ve instanceof p.Lv||function re(ve){return ve&&(0,Te.m)(ve.next)&&(0,Te.m)(ve.error)&&(0,Te.m)(ve.complete)}(ve)&&(0,U.Nn)(ve)}(it)?it:new p.Hp(it,We,Mt);return(0,Ae.x)(()=>{const{operator:ke,source:bt}=this;Ke.add(ke?ke.call(Ke,bt):bt?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(it){try{return this._subscribe(it)}catch(We){it.error(We)}}forEach(it,We){return new(We=Ne(We))((Mt,Ke)=>{const ke=new p.Hp({next:bt=>{try{it(bt)}catch(vt){Ke(vt),ke.unsubscribe()}},error:Ke,complete:Mt});this.subscribe(ke)})}_subscribe(it){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(it)}[$.L](){return this}pipe(...it){return(0,me.U)(it)(this)}toPromise(it){return new(it=Ne(it))((We,Mt)=>{let Ke;this.subscribe(ke=>Ke=ke,ke=>Mt(ke),()=>We(Ke))})}}return ve.create=dt=>new ve(dt),ve})();function Ne(ve){var dt;return null!==(dt=ve??de.v.Promise)&&void 0!==dt?dt:Promise}},7579:(Gt,Ge,k)=>{k.d(Ge,{x:()=>Ae});var p=k(9751),U=k(727);const me=(0,k(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=k(8737),Te=k(2806);let Ae=(()=>{class Ne extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const ve=new ue(this,this);return ve.operator=ce,ve}_throwIfClosed(){if(this.closed)throw new me}next(ce){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ce)}})}error(ce){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ce)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:ve,isStopped:dt,observers:it}=this;return ve||dt?U.Lc:(this.currentObservers=null,it.push(ce),new U.w0(()=>{this.currentObservers=null,(0,de.P)(it,ce)}))}_checkFinalizedStatuses(ce){const{hasError:ve,thrownError:dt,isStopped:it}=this;ve?ce.error(dt):it&&ce.complete()}asObservable(){const ce=new p.y;return ce.source=this,ce}}return Ne.create=(re,ce)=>new ue(re,ce),Ne})();class ue extends Ae{constructor(re,ce){super(),this.destination=re,this.source=ce}next(re){var ce,ve;null===(ve=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===ve||ve.call(ce,re)}error(re){var ce,ve;null===(ve=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===ve||ve.call(ce,re)}complete(){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ce||ce.call(re)}_subscribe(re){var ce,ve;return null!==(ve=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(re))&&void 0!==ve?ve:U.Lc}}},2961:(Gt,Ge,k)=>{k.d(Ge,{Hp:()=>Mt,Lv:()=>ve});var p=k(576),U=k(727),$=k(2416),me=k(7849);function de(){}const Te=Ne("C",void 0,void 0);function Ne(fe,tt,Ce){return{kind:fe,value:tt,error:Ce}}var re=k(3410),ce=k(2806);class ve extends U.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,U.Nn)(tt)&&tt.add(this)):this.destination=vt}static create(tt,Ce,ot){return new Mt(tt,Ce,ot)}next(tt){this.isStopped?bt(function ue(fe){return Ne("N",fe,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?bt(function Ae(fe){return Ne("E",void 0,fe)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?bt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function it(fe,tt){return dt.call(fe,tt)}class We{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(tt)}catch(ot){Ke(ot)}}error(tt){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(tt)}catch(ot){Ke(ot)}else Ke(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ce){Ke(Ce)}}}class Mt extends ve{constructor(tt,Ce,ot){let Ze;if(super(),(0,p.m)(tt)||!tt)Ze={next:tt??void 0,error:Ce??void 0,complete:ot??void 0};else{let Ie;this&&$.v.useDeprecatedNextContext?(Ie=Object.create(tt),Ie.unsubscribe=()=>this.unsubscribe(),Ze={next:tt.next&&it(tt.next,Ie),error:tt.error&&it(tt.error,Ie),complete:tt.complete&&it(tt.complete,Ie)}):Ze=tt}this.destination=new We(Ze)}}function Ke(fe){$.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(fe):(0,me.h)(fe)}function bt(fe,tt){const{onStoppedNotification:Ce}=$.v;Ce&&re.z.setTimeout(()=>Ce(fe,tt))}const vt={closed:!0,next:de,error:function ke(fe){throw fe},complete:de}},727:(Gt,Ge,k)=>{k.d(Ge,{Lc:()=>Te,w0:()=>de,Nn:()=>Ae});var p=k(576);const $=(0,k(3888).d)(Ne=>function(ce){Ne(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ve,dt)=>`${dt+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var me=k(8737);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const it of ce)it.remove(this);else ce.remove(this);const{initialTeardown:ve}=this;if((0,p.m)(ve))try{ve()}catch(it){re=it instanceof $?it.errors:[it]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const it of dt)try{ue(it)}catch(We){re=re??[],We instanceof $?re=[...re,...We.errors]:re.push(We)}}if(re)throw new $(re)}}add(re){var ce;if(re&&re!==this)if(this.closed)ue(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(re)}}_hasParent(re){const{_parentage:ce}=this;return ce===re||Array.isArray(ce)&&ce.includes(re)}_addParent(re){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(re),ce):ce?[ce,re]:re}_removeParent(re){const{_parentage:ce}=this;ce===re?this._parentage=null:Array.isArray(ce)&&(0,me.P)(ce,re)}remove(re){const{_finalizers:ce}=this;ce&&(0,me.P)(ce,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ne=new de;return Ne.closed=!0,Ne})();const Te=de.EMPTY;function Ae(Ne){return Ne instanceof de||Ne&&"closed"in Ne&&(0,p.m)(Ne.remove)&&(0,p.m)(Ne.add)&&(0,p.m)(Ne.unsubscribe)}function ue(Ne){(0,p.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Gt,Ge,k)=>{k.d(Ge,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Gt,Ge,k)=>{k.d(Ge,{z:()=>de});var p=k(8189),$=k(7669),me=k(8996);function de(...Te){return function U(){return(0,p.J)(1)}()((0,me.D)(Te,(0,$.yG)(Te)))}},515:(Gt,Ge,k)=>{k.d(Ge,{E:()=>U});const U=new(k(9751).y)(de=>de.complete())},8996:(Gt,Ge,k)=>{k.d(Ge,{D:()=>tt});var p=k(8421),U=k(5363),$=k(9468),Te=k(9751),ue=k(2202),Ne=k(576),re=k(9672);function ve(Ce,ot){if(!Ce)throw new Error("Iterable cannot be null");return new Te.y(Ze=>{(0,re.f)(Ze,ot,()=>{const Ie=Ce[Symbol.asyncIterator]();(0,re.f)(Ze,ot,()=>{Ie.next().then(It=>{It.done?Ze.complete():Ze.next(It.value)})},0,!0)})})}var dt=k(3670),it=k(8239),We=k(1144),Mt=k(6495),Ke=k(2206),ke=k(4532),bt=k(3260);function tt(Ce,ot){return ot?function fe(Ce,ot){if(null!=Ce){if((0,dt.c)(Ce))return function me(Ce,ot){return(0,p.Xf)(Ce).pipe((0,$.R)(ot),(0,U.Q)(ot))}(Ce,ot);if((0,We.z)(Ce))return function Ae(Ce,ot){return new Te.y(Ze=>{let Ie=0;return ot.schedule(function(){Ie===Ce.length?Ze.complete():(Ze.next(Ce[Ie++]),Ze.closed||this.schedule())})})}(Ce,ot);if((0,it.t)(Ce))return function de(Ce,ot){return(0,p.Xf)(Ce).pipe((0,$.R)(ot),(0,U.Q)(ot))}(Ce,ot);if((0,Ke.D)(Ce))return ve(Ce,ot);if((0,Mt.T)(Ce))return function ce(Ce,ot){return new Te.y(Ze=>{let Ie;return(0,re.f)(Ze,ot,()=>{Ie=Ce[ue.h](),(0,re.f)(Ze,ot,()=>{let It,qt;try{({value:It,done:qt}=Ie.next())}catch(_t){return void Ze.error(_t)}qt?Ze.complete():Ze.next(It)},0,!0)}),()=>(0,Ne.m)(Ie?.return)&&Ie.return()})}(Ce,ot);if((0,bt.L)(Ce))return function vt(Ce,ot){return ve((0,bt.Q)(Ce),ot)}(Ce,ot)}throw(0,ke.z)(Ce)}(Ce,ot):(0,p.Xf)(Ce)}},8421:(Gt,Ge,k)=>{k.d(Ge,{Xf:()=>dt});var p=k(7582),U=k(1144),$=k(8239),me=k(9751),de=k(3670),Te=k(2206),Ae=k(4532),ue=k(6495),Ne=k(3260),re=k(576),ce=k(7849),ve=k(8822);function dt(fe){if(fe instanceof me.y)return fe;if(null!=fe){if((0,de.c)(fe))return function it(fe){return new me.y(tt=>{const Ce=fe[ve.L]();if((0,re.m)(Ce.subscribe))return Ce.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,U.z)(fe))return function We(fe){return new me.y(tt=>{for(let Ce=0;Ce<fe.length&&!tt.closed;Ce++)tt.next(fe[Ce]);tt.complete()})}(fe);if((0,$.t)(fe))return function Mt(fe){return new me.y(tt=>{fe.then(Ce=>{tt.closed||(tt.next(Ce),tt.complete())},Ce=>tt.error(Ce)).then(null,ce.h)})}(fe);if((0,Te.D)(fe))return ke(fe);if((0,ue.T)(fe))return function Ke(fe){return new me.y(tt=>{for(const Ce of fe)if(tt.next(Ce),tt.closed)return;tt.complete()})}(fe);if((0,Ne.L)(fe))return function bt(fe){return ke((0,Ne.Q)(fe))}(fe)}throw(0,Ae.z)(fe)}function ke(fe){return new me.y(tt=>{(function vt(fe,tt){var Ce,ot,Ze,Ie;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,p.KL)(fe);!(ot=yield Ce.next()).done;)if(tt.next(ot.value),tt.closed)return}catch(It){Ze={error:It}}finally{try{ot&&!ot.done&&(Ie=Ce.return)&&(yield Ie.call(Ce))}finally{if(Ze)throw Ze.error}}tt.complete()})})(fe,tt).catch(Ce=>tt.error(Ce))})}},6451:(Gt,Ge,k)=>{k.d(Ge,{T:()=>Te});var p=k(8189),U=k(8421),$=k(515),me=k(7669),de=k(8996);function Te(...Ae){const ue=(0,me.yG)(Ae),Ne=(0,me._6)(Ae,1/0),re=Ae;return re.length?1===re.length?(0,U.Xf)(re[0]):(0,p.J)(Ne)((0,de.D)(re,ue)):$.E}},9646:(Gt,Ge,k)=>{k.d(Ge,{of:()=>$});var p=k(7669),U=k(8996);function $(...me){const de=(0,p.yG)(me);return(0,U.D)(me,de)}},5403:(Gt,Ge,k)=>{k.d(Ge,{x:()=>U});var p=k(2961);function U(me,de,Te,Ae,ue){return new $(me,de,Te,Ae,ue)}class $ extends p.Lv{constructor(de,Te,Ae,ue,Ne,re){super(de),this.onFinalize=Ne,this.shouldUnsubscribe=re,this._next=Te?function(ce){try{Te(ce)}catch(ve){de.error(ve)}}:super._next,this._error=ue?function(ce){try{ue(ce)}catch(ve){de.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ce){de.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},6590:(Gt,Ge,k)=>{k.d(Ge,{d:()=>$});var p=k(4482),U=k(5403);function $(me){return(0,p.e)((de,Te)=>{let Ae=!1;de.subscribe((0,U.x)(Te,ue=>{Ae=!0,Te.next(ue)},()=>{Ae||Te.next(me),Te.complete()}))})}},9300:(Gt,Ge,k)=>{k.d(Ge,{h:()=>$});var p=k(4482),U=k(5403);function $(me,de){return(0,p.e)((Te,Ae)=>{let ue=0;Te.subscribe((0,U.x)(Ae,Ne=>me.call(de,Ne,ue++)&&Ae.next(Ne)))})}},590:(Gt,Ge,k)=>{k.d(Ge,{P:()=>Ae});var p=k(6805),U=k(9300),$=k(5698),me=k(6590),de=k(8068),Te=k(4671);function Ae(ue,Ne){const re=arguments.length>=2;return ce=>ce.pipe(ue?(0,U.h)((ve,dt)=>ue(ve,dt,ce)):Te.y,(0,$.q)(1),re?(0,me.d)(Ne):(0,de.T)(()=>new p.K))}},4004:(Gt,Ge,k)=>{k.d(Ge,{U:()=>$});var p=k(4482),U=k(5403);function $(me,de){return(0,p.e)((Te,Ae)=>{let ue=0;Te.subscribe((0,U.x)(Ae,Ne=>{Ae.next(me.call(de,Ne,ue++))}))})}},8189:(Gt,Ge,k)=>{k.d(Ge,{J:()=>$});var p=k(5577),U=k(4671);function $(me=1/0){return(0,p.z)(U.y,me)}},5577:(Gt,Ge,k)=>{k.d(Ge,{z:()=>ue});var p=k(4004),U=k(8421),$=k(4482),me=k(9672),de=k(5403),Ae=k(576);function ue(Ne,re,ce=1/0){return(0,Ae.m)(re)?ue((ve,dt)=>(0,p.U)((it,We)=>re(ve,it,dt,We))((0,U.Xf)(Ne(ve,dt))),ce):("number"==typeof re&&(ce=re),(0,$.e)((ve,dt)=>function Te(Ne,re,ce,ve,dt,it,We,Mt){const Ke=[];let ke=0,bt=0,vt=!1;const fe=()=>{vt&&!Ke.length&&!ke&&re.complete()},tt=ot=>ke<ve?Ce(ot):Ke.push(ot),Ce=ot=>{it&&re.next(ot),ke++;let Ze=!1;(0,U.Xf)(ce(ot,bt++)).subscribe((0,de.x)(re,Ie=>{dt?.(Ie),it?tt(Ie):re.next(Ie)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ke--;Ke.length&&ke<ve;){const Ie=Ke.shift();We?(0,me.f)(re,We,()=>Ce(Ie)):Ce(Ie)}fe()}catch(Ie){re.error(Ie)}}))};return Ne.subscribe((0,de.x)(re,tt,()=>{vt=!0,fe()})),()=>{Mt?.()}}(ve,dt,Ne,ce)))}},5363:(Gt,Ge,k)=>{k.d(Ge,{Q:()=>me});var p=k(9672),U=k(4482),$=k(5403);function me(de,Te=0){return(0,U.e)((Ae,ue)=>{Ae.subscribe((0,$.x)(ue,Ne=>(0,p.f)(ue,de,()=>ue.next(Ne),Te),()=>(0,p.f)(ue,de,()=>ue.complete(),Te),Ne=>(0,p.f)(ue,de,()=>ue.error(Ne),Te)))})}},5026:(Gt,Ge,k)=>{k.d(Ge,{R:()=>me});var p=k(4482),U=k(5403);function $(de,Te,Ae,ue,Ne){return(re,ce)=>{let ve=Ae,dt=Te,it=0;re.subscribe((0,U.x)(ce,We=>{const Mt=it++;dt=ve?de(dt,We,Mt):(ve=!0,We),ue&&ce.next(dt)},Ne&&(()=>{ve&&ce.next(dt),ce.complete()})))}}function me(de,Te){return(0,p.e)($(de,Te,arguments.length>=2,!0))}},3099:(Gt,Ge,k)=>{k.d(Ge,{B:()=>de});var p=k(8421),U=k(7579),$=k(2961),me=k(4482);function de(Ae={}){const{connector:ue=(()=>new U.x),resetOnError:Ne=!0,resetOnComplete:re=!0,resetOnRefCountZero:ce=!0}=Ae;return ve=>{let dt,it,We,Mt=0,Ke=!1,ke=!1;const bt=()=>{it?.unsubscribe(),it=void 0},vt=()=>{bt(),dt=We=void 0,Ke=ke=!1},fe=()=>{const tt=dt;vt(),tt?.unsubscribe()};return(0,me.e)((tt,Ce)=>{Mt++,!ke&&!Ke&&bt();const ot=We=We??ue();Ce.add(()=>{Mt--,0===Mt&&!ke&&!Ke&&(it=Te(fe,ce))}),ot.subscribe(Ce),!dt&&Mt>0&&(dt=new $.Hp({next:Ze=>ot.next(Ze),error:Ze=>{ke=!0,bt(),it=Te(vt,Ne,Ze),ot.error(Ze)},complete:()=>{Ke=!0,bt(),it=Te(vt,re),ot.complete()}}),(0,p.Xf)(tt).subscribe(dt))})(ve)}}function Te(Ae,ue,...Ne){if(!0===ue)return void Ae();if(!1===ue)return;const re=new $.Hp({next:()=>{re.unsubscribe(),Ae()}});return ue(...Ne).subscribe(re)}},8675:(Gt,Ge,k)=>{k.d(Ge,{O:()=>me});var p=k(7272),U=k(7669),$=k(4482);function me(...de){const Te=(0,U.yG)(de);return(0,$.e)((Ae,ue)=>{(Te?(0,p.z)(de,Ae,Te):(0,p.z)(de,Ae)).subscribe(ue)})}},9468:(Gt,Ge,k)=>{k.d(Ge,{R:()=>U});var p=k(4482);function U($,me=0){return(0,p.e)((de,Te)=>{Te.add($.schedule(()=>de.subscribe(Te),me))})}},3900:(Gt,Ge,k)=>{k.d(Ge,{w:()=>me});var p=k(8421),U=k(4482),$=k(5403);function me(de,Te){return(0,U.e)((Ae,ue)=>{let Ne=null,re=0,ce=!1;const ve=()=>ce&&!Ne&&ue.complete();Ae.subscribe((0,$.x)(ue,dt=>{Ne?.unsubscribe();let it=0;const We=re++;(0,p.Xf)(de(dt,We)).subscribe(Ne=(0,$.x)(ue,Mt=>ue.next(Te?Te(dt,Mt,We,it++):Mt),()=>{Ne=null,ve()}))},()=>{ce=!0,ve()}))})}},5698:(Gt,Ge,k)=>{k.d(Ge,{q:()=>me});var p=k(515),U=k(4482),$=k(5403);function me(de){return de<=0?()=>p.E:(0,U.e)((Te,Ae)=>{let ue=0;Te.subscribe((0,$.x)(Ae,Ne=>{++ue<=de&&(Ae.next(Ne),de<=ue&&Ae.complete())}))})}},8505:(Gt,Ge,k)=>{k.d(Ge,{b:()=>de});var p=k(576),U=k(4482),$=k(5403),me=k(4671);function de(Te,Ae,ue){const Ne=(0,p.m)(Te)||Ae||ue?{next:Te,error:Ae,complete:ue}:Te;return Ne?(0,U.e)((re,ce)=>{var ve;null===(ve=Ne.subscribe)||void 0===ve||ve.call(Ne);let dt=!0;re.subscribe((0,$.x)(ce,it=>{var We;null===(We=Ne.next)||void 0===We||We.call(Ne,it),ce.next(it)},()=>{var it;dt=!1,null===(it=Ne.complete)||void 0===it||it.call(Ne),ce.complete()},it=>{var We;dt=!1,null===(We=Ne.error)||void 0===We||We.call(Ne,it),ce.error(it)},()=>{var it,We;dt&&(null===(it=Ne.unsubscribe)||void 0===it||it.call(Ne)),null===(We=Ne.finalize)||void 0===We||We.call(Ne)}))}):me.y}},8068:(Gt,Ge,k)=>{k.d(Ge,{T:()=>me});var p=k(6805),U=k(4482),$=k(5403);function me(Te=de){return(0,U.e)((Ae,ue)=>{let Ne=!1;Ae.subscribe((0,$.x)(ue,re=>{Ne=!0,ue.next(re)},()=>Ne?ue.complete():ue.error(Te())))})}function de(){return new p.K}},4408:(Gt,Ge,k)=>{k.d(Ge,{o:()=>de});var p=k(727);class U extends p.w0{constructor(Ae,ue){super()}schedule(Ae,ue=0){return this}}const $={setInterval(Te,Ae,...ue){const{delegate:Ne}=$;return Ne?.setInterval?Ne.setInterval(Te,Ae,...ue):setInterval(Te,Ae,...ue)},clearInterval(Te){const{delegate:Ae}=$;return(Ae?.clearInterval||clearInterval)(Te)},delegate:void 0};var me=k(8737);class de extends U{constructor(Ae,ue){super(Ae,ue),this.scheduler=Ae,this.work=ue,this.pending=!1}schedule(Ae,ue=0){var Ne;if(this.closed)return this;this.state=Ae;const re=this.id,ce=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ce,re,ue)),this.pending=!0,this.delay=ue,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(ce,this.id,ue),this}requestAsyncId(Ae,ue,Ne=0){return $.setInterval(Ae.flush.bind(Ae,this),Ne)}recycleAsyncId(Ae,ue,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return ue;null!=ue&&$.clearInterval(ue)}execute(Ae,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(Ae,ue);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ue){let re,Ne=!1;try{this.work(Ae)}catch(ce){Ne=!0,re=ce||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:ue}=this,{actions:Ne}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Ne,this),null!=Ae&&(this.id=this.recycleAsyncId(ue,Ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,Ge,k)=>{k.d(Ge,{v:()=>$});var p=k(6063);class U{constructor(de,Te=U.now){this.schedulerActionCtor=de,this.now=Te}schedule(de,Te=0,Ae){return new this.schedulerActionCtor(this,de).schedule(Ae,Te)}}U.now=p.l.now;class $ extends U{constructor(de,Te=U.now){super(de,Te),this.actions=[],this._active=!1}flush(de){const{actions:Te}=this;if(this._active)return void Te.push(de);let Ae;this._active=!0;do{if(Ae=de.execute(de.state,de.delay))break}while(de=Te.shift());if(this._active=!1,Ae){for(;de=Te.shift();)de.unsubscribe();throw Ae}}}},4986:(Gt,Ge,k)=>{k.d(Ge,{z:()=>$});var p=k(4408);const $=new(k(7565).v)(p.o)},6063:(Gt,Ge,k)=>{k.d(Ge,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Gt,Ge,k)=>{k.d(Ge,{z:()=>p});const p={setTimeout(U,$,...me){const{delegate:de}=p;return de?.setTimeout?de.setTimeout(U,$,...me):setTimeout(U,$,...me)},clearTimeout(U){const{delegate:$}=p;return($?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(Gt,Ge,k)=>{k.d(Ge,{h:()=>U});const U=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,Ge,k)=>{k.d(Ge,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,Ge,k)=>{k.d(Ge,{K:()=>U});const U=(0,k(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Gt,Ge,k)=>{k.d(Ge,{_6:()=>Te,jO:()=>me,yG:()=>de});var p=k(576);function $(Ae){return Ae[Ae.length-1]}function me(Ae){return(0,p.m)($(Ae))?Ae.pop():void 0}function de(Ae){return function U(Ae){return Ae&&(0,p.m)(Ae.schedule)}($(Ae))?Ae.pop():void 0}function Te(Ae,ue){return"number"==typeof $(Ae)?Ae.pop():ue}},4742:(Gt,Ge,k)=>{k.d(Ge,{D:()=>de});const{isArray:p}=Array,{getPrototypeOf:U,prototype:$,keys:me}=Object;function de(Ae){if(1===Ae.length){const ue=Ae[0];if(p(ue))return{args:ue,keys:null};if(function Te(Ae){return Ae&&"object"==typeof Ae&&U(Ae)===$}(ue)){const Ne=me(ue);return{args:Ne.map(re=>ue[re]),keys:Ne}}}return{args:Ae,keys:null}}},8737:(Gt,Ge,k)=>{function p(U,$){if(U){const me=U.indexOf($);0<=me&&U.splice(me,1)}}k.d(Ge,{P:()=>p})},3888:(Gt,Ge,k)=>{function p(U){const me=U(de=>{Error.call(de),de.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}k.d(Ge,{d:()=>p})},1810:(Gt,Ge,k)=>{function p(U,$){return U.reduce((me,de,Te)=>(me[de]=$[Te],me),{})}k.d(Ge,{n:()=>p})},2806:(Gt,Ge,k)=>{k.d(Ge,{O:()=>me,x:()=>$});var p=k(2416);let U=null;function $(de){if(p.v.useDeprecatedSynchronousErrorHandling){const Te=!U;if(Te&&(U={errorThrown:!1,error:null}),de(),Te){const{errorThrown:Ae,error:ue}=U;if(U=null,Ae)throw ue}}else de()}function me(de){p.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=de)}},9672:(Gt,Ge,k)=>{function p(U,$,me,de=0,Te=!1){const Ae=$.schedule(function(){me(),Te?U.add(this.schedule(null,de)):this.unsubscribe()},de);if(U.add(Ae),!Te)return Ae}k.d(Ge,{f:()=>p})},4671:(Gt,Ge,k)=>{function p(U){return U}k.d(Ge,{y:()=>p})},1144:(Gt,Ge,k)=>{k.d(Ge,{z:()=>p});const p=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(Gt,Ge,k)=>{k.d(Ge,{D:()=>U});var p=k(576);function U($){return Symbol.asyncIterator&&(0,p.m)($?.[Symbol.asyncIterator])}},576:(Gt,Ge,k)=>{function p(U){return"function"==typeof U}k.d(Ge,{m:()=>p})},3670:(Gt,Ge,k)=>{k.d(Ge,{c:()=>$});var p=k(8822),U=k(576);function $(me){return(0,U.m)(me[p.L])}},6495:(Gt,Ge,k)=>{k.d(Ge,{T:()=>$});var p=k(2202),U=k(576);function $(me){return(0,U.m)(me?.[p.h])}},8239:(Gt,Ge,k)=>{k.d(Ge,{t:()=>U});var p=k(576);function U($){return(0,p.m)($?.then)}},3260:(Gt,Ge,k)=>{k.d(Ge,{L:()=>me,Q:()=>$});var p=k(7582),U=k(576);function $(de){return(0,p.FC)(this,arguments,function*(){const Ae=de.getReader();try{for(;;){const{value:ue,done:Ne}=yield(0,p.qq)(Ae.read());if(Ne)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{Ae.releaseLock()}})}function me(de){return(0,U.m)(de?.getReader)}},4482:(Gt,Ge,k)=>{k.d(Ge,{A:()=>U,e:()=>$});var p=k(576);function U(me){return(0,p.m)(me?.lift)}function $(me){return de=>{if(U(de))return de.lift(function(Te){try{return me(Te,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,Ge,k)=>{k.d(Ge,{Z:()=>me});var p=k(4004);const{isArray:U}=Array;function me(de){return(0,p.U)(Te=>function $(de,Te){return U(Te)?de(...Te):de(Te)}(de,Te))}},9635:(Gt,Ge,k)=>{k.d(Ge,{U:()=>$,z:()=>U});var p=k(4671);function U(...me){return $(me)}function $(me){return 0===me.length?p.y:1===me.length?me[0]:function(Te){return me.reduce((Ae,ue)=>ue(Ae),Te)}}},7849:(Gt,Ge,k)=>{k.d(Ge,{h:()=>$});var p=k(2416),U=k(3410);function $(me){U.z.setTimeout(()=>{const{onUnhandledError:de}=p.v;if(!de)throw me;de(me)})}},4532:(Gt,Ge,k)=>{function p(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ge,{z:()=>p})},6895:(Gt,Ge,k)=>{k.d(Ge,{Do:()=>vt,EM:()=>hs,HT:()=>de,JF:()=>yo,K0:()=>Ae,Mx:()=>Vi,O5:()=>Pr,Ov:()=>_e,PM:()=>Xs,S$:()=>Ke,V_:()=>re,Ye:()=>fe,b0:()=>bt,bD:()=>Pi,ez:()=>Qs,mk:()=>Vn,q:()=>$,sg:()=>Bi,w_:()=>Te});var p=k(4650);let U=null;function $(){return U}function de(b){U||(U=b)}class Te{}const Ae=new p.OlP("DocumentToken");let ue=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=p.Yz7({token:b,factory:function(){return function Ne(){return(0,p.LFG)(ce)}()},providedIn:"platform"}),b})();const re=new p.OlP("Location Initialized");let ce=(()=>{class b extends ue{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(M){const z=$().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",M,!1),()=>z.removeEventListener("popstate",M)}onHashChange(M){const z=$().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",M,!1),()=>z.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,z,ye){ve()?this._history.pushState(M,z,ye):this.location.hash=ye}replaceState(M,z,ye){ve()?this._history.replaceState(M,z,ye):this.location.hash=ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(Ae))},b.\u0275prov=p.Yz7({token:b,factory:function(){return function dt(){return new ce((0,p.LFG)(Ae))}()},providedIn:"platform"}),b})();function ve(){return!!window.history.pushState}function it(b,L){if(0==b.length)return L;if(0==L.length)return b;let M=0;return b.endsWith("/")&&M++,L.startsWith("/")&&M++,2==M?b+L.substring(1):1==M?b+L:b+"/"+L}function We(b){const L=b.match(/#|\?|$/),M=L&&L.index||b.length;return b.slice(0,M-("/"===b[M-1]?1:0))+b.slice(M)}function Mt(b){return b&&"?"!==b[0]?"?"+b:b}let Ke=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(bt)},providedIn:"root"}),b})();const ke=new p.OlP("appBaseHref");let bt=(()=>{class b extends Ke{constructor(M,z){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return it(this._baseHref,M)}path(M=!1){const z=this._platformLocation.pathname+Mt(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&M?`${z}${ye}`:z}pushState(M,z,ye,Qe){const lt=this.prepareExternalUrl(ye+Mt(Qe));this._platformLocation.pushState(M,z,lt)}replaceState(M,z,ye,Qe){const lt=this.prepareExternalUrl(ye+Mt(Qe));this._platformLocation.replaceState(M,z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(ue),p.LFG(ke,8))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),vt=(()=>{class b extends Ke{constructor(M,z){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(M){const z=it(this._baseHref,M);return z.length>0?"#"+z:z}pushState(M,z,ye,Qe){let lt=this.prepareExternalUrl(ye+Mt(Qe));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(M,z,lt)}replaceState(M,z,ye,Qe){let lt=this.prepareExternalUrl(ye+Mt(Qe));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(M,z,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(ue),p.LFG(ke,8))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})(),fe=(()=>{class b{constructor(M){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const z=this._locationStrategy.getBaseHref();this._baseHref=We(ot(z)),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,z=""){return this.path()==this.normalize(M+Mt(z))}normalize(M){return b.stripTrailingSlash(function Ce(b,L){return b&&L.startsWith(b)?L.substring(b.length):L}(this._baseHref,ot(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,z="",ye=null){this._locationStrategy.pushState(ye,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Mt(z)),ye)}replaceState(M,z="",ye=null){this._locationStrategy.replaceState(ye,"",M,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Mt(z)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",z){this._urlChangeListeners.forEach(ye=>ye(M,z))}subscribe(M,z,ye){return this._subject.subscribe({next:M,error:z,complete:ye})}}return b.normalizeQueryParams=Mt,b.joinWithSlash=it,b.stripTrailingSlash=We,b.\u0275fac=function(M){return new(M||b)(p.LFG(Ke))},b.\u0275prov=p.Yz7({token:b,factory:function(){return function tt(){return new fe((0,p.LFG)(Ke))}()},providedIn:"root"}),b})();function ot(b){return b.replace(/\/index.html$/,"")}function Vi(b,L){L=encodeURIComponent(L);for(const M of b.split(";")){const z=M.indexOf("="),[ye,Qe]=-1==z?[M,""]:[M.slice(0,z),M.slice(z+1)];if(ye.trim()===L)return decodeURIComponent(Qe)}return null}let Vn=(()=>{class b{constructor(M,z,ye,Qe){this._iterableDiffers=M,this._keyValueDiffers=z,this._ngEl=ye,this._renderer=Qe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),M.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),M.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!0)):Object.keys(M).forEach(z=>this._toggleClass(z,!!M[z])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(z=>this._toggleClass(z,!1)):Object.keys(M).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(M,z){(M=M.trim())&&M.split(/\s+/g).forEach(ye=>{z?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class br{constructor(L,M,z,ye){this.$implicit=L,this.ngForOf=M,this.index=z,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class b{constructor(M,z,ye){this._viewContainer=M,this._template=z,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const z=this._viewContainer;M.forEachOperation((ye,Qe,lt)=>{if(null==ye.previousIndex)z.createEmbeddedView(this._template,new br(ye.item,this._ngForOf,-1,-1),null===lt?void 0:lt);else if(null==lt)z.remove(null===Qe?void 0:Qe);else if(null!==Qe){const cn=z.get(Qe);z.move(cn,lt),Di(cn,ye)}});for(let ye=0,Qe=z.length;ye<Qe;ye++){const cn=z.get(ye).context;cn.index=ye,cn.count=Qe,cn.ngForOf=this._ngForOf}M.forEachIdentityChange(ye=>{Di(z.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(M,z){return!0}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function Di(b,L){b.context.$implicit=L.item}let Pr=(()=>{class b{constructor(M,z){this._viewContainer=M,this._context=new gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Lr("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Lr("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,z){return!0}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.s_b),p.Y36(p.Rgc))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class gi{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(b,L){if(L&&!L.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,p.AaK)(L)}'.`)}class ho{createSubscription(L,M){return L.subscribe({next:M,error:z=>{throw z}})}dispose(L){L.unsubscribe()}}class fo{createSubscription(L,M){return L.then(M,z=>{throw z})}dispose(L){}}const po=new fo,be=new ho;let _e=(()=>{class b{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,z=>this._updateLatestValue(M,z))}_selectStrategy(M){if((0,p.QGY)(M))return po;if((0,p.F4k)(M))return be;throw function ar(b,L){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,z){M===this._obj&&(this._latestValue=z,this._ref.markForCheck())}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.sBO,16))},b.\u0275pipe=p.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),Qs=(()=>{class b{}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=p.oAB({type:b}),b.\u0275inj=p.cJS({}),b})();const Pi="browser";function Xs(b){return"server"===b}let hs=(()=>{class b{}return b.\u0275prov=(0,p.Yz7)({token:b,providedIn:"root",factory:()=>new mo((0,p.LFG)(Ae),window)}),b})();class mo{constructor(L,M){this.document=L,this.window=M,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const M=function Wr(b,L){const M=b.getElementById(L)||b.getElementsByName(L)[0];if(M)return M;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const z=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ye=z.currentNode;for(;ye;){const Qe=ye.shadowRoot;if(Qe){const lt=Qe.getElementById(L)||Qe.querySelector(`[name="${L}"]`);if(lt)return lt}ye=z.nextNode()}}return null}(this.document,L);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=L)}}scrollToElement(L){const M=L.getBoundingClientRect(),z=M.left+this.window.pageXOffset,ye=M.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(z-Qe[0],ye-Qe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fs(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class yo{}},4650:(Gt,Ge,k)=>{k.d(Ge,{$8M:()=>dn,$Z:()=>Uh,AFp:()=>AE,ALo:()=>Z0,AaK:()=>ue,AsE:()=>rg,CHM:()=>no,CRH:()=>iE,CZH:()=>Dy,CqO:()=>mf,D6c:()=>PD,EJc:()=>qI,EpF:()=>Im,F4k:()=>Dm,FYo:()=>Cd,FiY:()=>vr,G48:()=>gD,GfV:()=>Mg,Gpc:()=>ce,JOm:()=>ss,KtG:()=>ro,LFG:()=>Fi,LSH:()=>Kl,Lbi:()=>zI,Lck:()=>Vw,MAs:()=>Ir,MMx:()=>a_,NdJ:()=>Yp,O4$:()=>wr,OlP:()=>yr,Oqu:()=>Jc,PXZ:()=>lD,Q6J:()=>pf,QGY:()=>Zd,QP$:()=>rt,Qsj:()=>Qy,R0b:()=>Mu,RDi:()=>mg,Rgc:()=>dg,SBq:()=>ec,Sil:()=>YI,Suo:()=>rE,TTD:()=>Es,TgZ:()=>qd,Tol:()=>tg,VKq:()=>H0,X6Q:()=>pD,XFs:()=>Ct,Xpm:()=>sr,Xts:()=>$f,Y36:()=>El,YKP:()=>O0,YNc:()=>Wp,Yjl:()=>Y,Yz7:()=>Vt,Z0I:()=>yn,ZZ4:()=>N_,_Bn:()=>P0,_UZ:()=>Ms,_Vd:()=>Jl,_c5:()=>RD,_uU:()=>Hm,aQg:()=>P_,c2e:()=>WI,cJS:()=>Zt,cg1:()=>cy,dDg:()=>sD,dqk:()=>Rn,eFA:()=>BE,ekj:()=>_f,eoX:()=>LE,f3M:()=>Fl,g9A:()=>ME,h0i:()=>Sf,hGG:()=>ND,hij:()=>Df,iGM:()=>nE,ifc:()=>Jt,ip1:()=>TE,jDz:()=>F0,kL8:()=>dy,kcU:()=>ca,lG2:()=>oe,lcZ:()=>Y0,lqb:()=>Zl,lri:()=>kE,n5z:()=>rn,oAB:()=>Le,oxw:()=>Qp,q4F:()=>Yf,qLn:()=>Vc,qOj:()=>Gd,qZA:()=>wi,rWj:()=>FE,sBO:()=>mD,sIi:()=>zd,s_b:()=>Ey,soG:()=>Cy,tb:()=>xE,tp0:()=>hi,uIk:()=>Kc,vHH:()=>We,vpe:()=>Rl,wAp:()=>Fn,xp6:()=>Ss,z2F:()=>by,zSh:()=>bh,zs3:()=>eu});var p=k(7579),U=k(727),$=k(9751),me=k(6451),de=k(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function Ae(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ne(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const re=Te({__forward_ref__:Te});function ce(n){return n.__forward_ref__=ce,n.toString=function(){return ue(this())},n}function ve(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(re)&&n.__forward_ref__===ce}class We extends Error{constructor(r,o){super(function Mt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function tt(n,r){throw new We(-201,!1)}function Be(n,r){null==n&&function He(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ln(n){return zn(n,$t)||zn(n,Cr)}function yn(n){return null!==ln(n)}function zn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Bn(n){return n&&(n.hasOwnProperty(Wn)||n.hasOwnProperty(cr))?n[Wn]:null}const $t=Te({\u0275prov:Te}),Wn=Te({\u0275inj:Te}),Cr=Te({ngInjectableDef:Te}),cr=Te({ngInjectorDef:Te});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let An;function Jn(n){const r=An;return An=n,r}function jr(n,r,o){const u=ln(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ct.Optional?null:void 0!==r?r:void tt(ue(n))}function dr(n){return{toString:n}.toString()}var _n=(()=>((_n=_n||{})[_n.OnPush=0]="OnPush",_n[_n.Default=1]="Default",_n))(),Jt=(()=>{return(n=Jt||(Jt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Jt;var n})();const Rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fr={},un=[],gr=Te({\u0275cmp:Te}),wn=Te({\u0275dir:Te}),zr=Te({\u0275pipe:Te}),Sn=Te({\u0275mod:Te}),bn=Te({\u0275fac:Te}),Pt=Te({__NG_ELEMENT_ID__:Te});let rr=0;function sr(n){return dr(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Jt.Emulated,id:"c"+rr++,styles:n.styles||un,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,m=n.features;return l.inputs=ie(n.inputs,u),l.outputs=ie(n.outputs),m&&m.forEach(C=>C(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(K).filter(le):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(Ee).filter(le):null,l})}function K(n){return q(n)||H(n)}function le(n){return null!==n}function Le(n){return dr(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ie(n,r){if(null==n)return fr;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,r&&(r[l]=h)}return o}const oe=sr;function Y(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function q(n){return n[gr]||null}function H(n){return n[wn]||null}function Ee(n){return n[zr]||null}function rt(n){const r=q(n)||H(n)||Ee(n);return null!==r&&r.standalone}function St(n,r){const o=n[Sn]||null;if(!o&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return o}function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Tr(n){return Array.isArray(n)&&!0===n[1]}function Ns(n){return 0!=(8&n.flags)}function Ri(n){return 2==(2&n.flags)}function Ps(n){return 1==(1&n.flags)}function Or(n){return null!==n.template}function ji(n){return 0!=(256&n[2])}function Hi(n,r){return n.hasOwnProperty(bn)?n[bn]:null}class li{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Es(){return Os}function Os(n){return n.type.prototype.ngOnChanges&&(n.setInput=ds),sa}function sa(){const n=Ro(this),r=n?.current;if(r){const o=n.previous;if(o===fr)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function ds(n,r,o,u){const l=Ro(n)||function Qs(n,r){return n[zo]=r}(n,{previous:fr,current:null}),h=l.current||(l.current={}),m=l.previous,C=this.declaredInputs[o],S=m[C];h[C]=new li(S&&S.currentValue,r,m===fr),n[u]=r}Es.ngInherit=!0;const zo="__ngSimpleChanges__";function Ro(n){return n[zo]||null}function Er(n){for(;Array.isArray(n);)n=n[0];return n}function fs(n,r){return Er(r[n])}function Wr(n,r){return Er(r[n.index])}function yo(n,r){return n.data[r]}function zi(n,r){return n[r]}function di(n,r){const o=r[n];return Lr(o)?o:o[0]}function No(n){return 64==(64&n[2])}function Xr(n,r){return null==r?null:n[r]}function Kr(n){n[18]=0}function to(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const En={lFrame:ko(null),bindingsEnabled:!0};function _o(){return En.bindingsEnabled}function gt(){return En.lFrame.lView}function Un(){return En.lFrame.tView}function no(n){return En.lFrame.contextLView=n,n[8]}function ro(n){return En.lFrame.contextLView=null,n}function Gr(){let n=ei();for(;null!==n&&64===n.type;)n=n.parent;return n}function ei(){return En.lFrame.currentTNode}function es(n,r){const o=En.lFrame;o.currentTNode=n,o.isParent=r}function Po(){return En.lFrame.isParent}function x(){const n=En.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function en(){return En.lFrame.bindingIndex++}function $n(n){const r=En.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function bi(n,r){const o=En.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ls(r)}function Ls(n){En.lFrame.currentDirectiveIndex=n}function Oo(){return En.lFrame.currentQueryIndex}function ki(n){En.lFrame.currentQueryIndex=n}function Vs(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function xa(n,r,o){if(o&Ct.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||o&Ct.Host||(l=Vs(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const u=En.lFrame=Wo();return u.currentTNode=r,u.lView=n,!0}function wo(n){const r=Wo(),o=n[1];En.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Wo(){const n=En.lFrame,r=null===n?null:n.child;return null===r?ko(n):r}function ko(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ko(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ti=Ko;function Us(){const n=Ko();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ur(){return En.lFrame.selectedIndex}function mi(n){En.lFrame.selectedIndex=n}function Sr(){const n=En.lFrame;return yo(n.tView,n.selectedIndex)}function wr(){En.lFrame.currentNamespace="svg"}function ca(){!function qi(){En.lFrame.currentNamespace=null}()}function Cs(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:F,ngOnDestroy:W}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-o,m),C&&((n.contentHooks||(n.contentHooks=[])).push(o,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,C)),S&&(n.viewHooks||(n.viewHooks=[])).push(-o,S),F&&((n.viewHooks||(n.viewHooks=[])).push(o,F),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,F)),null!=W&&(n.destroyHooks||(n.destroyHooks=[])).push(o,W)}}function ts(n,r,o){Zi(n,r,3,o)}function Zo(n,r,o,u){(3&n[2])===o&&Zi(n,r,o,u)}function ps(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Zi(n,r,o,u){const h=u??-1,m=r.length-1;let C=0;for(let S=void 0!==u?65535&n[18]:0;S<m;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=u&&C>=u)break}else r[S]<0&&(n[18]+=65536),(C<h||-1==h)&&(yi(n,o,r,S),n[18]=(4294901760&n[18])+S+2),S++}function yi(n,r,o,u){const l=o[u]<0,h=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(C)}finally{}}}else try{h.call(C)}finally{}}class io{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function z(n,r,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],m=o[u++],C=o[u++];n.setAttribute(r,m,C,h)}else{const h=l,m=o[++u];Qe(h)?n.setProperty(r,h,m):n.setAttribute(r,h,m),u++}}return u}function ye(n){return 3===n||4===n||6===n}function Qe(n){return 64===n.charCodeAt(0)}function lt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?o=l:0===o||cn(n,o,l,null,-1===o||2===o?r[++u]:null)}}return n}function cn(n,r,o,u,l){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const C=n[h++];if("number"==typeof C){if(C===r){m=-1;break}if(C>r){m=h-1;break}}}for(;h<n.length;){const C=n[h];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function or(n){return-1!==n}function Hn(n){return 32767&n}function gn(n,r){let o=function mr(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let Mr=!0;function On(n){const r=Mr;return Mr=n,r}let pr=0;const xr={};function Wt(n,r){const o=da(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,nn(u.data,n),nn(r,null),nn(u.blueprint,null));const l=Bt(n,r),h=n.injectorIndex;if(or(l)){const m=Hn(l),C=gn(l,r),S=C[1].data;for(let F=0;F<8;F++)r[h+F]=C[m+F]|S[m+F]}return r[h+8]=l,h}function nn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function da(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Bt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=r;for(;null!==l;){if(u=Rr(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ze(n,r,o){!function ao(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Pt)&&(u=o[Pt]),null==u&&(u=o[Pt]=pr++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function oi(n,r,o){if(o&Ct.Optional||void 0!==n)return n;tt()}function Ga(n,r,o,u){if(o&Ct.Optional&&void 0===u&&(u=null),0==(o&(Ct.Self|Ct.Host))){const l=n[9],h=Jn(void 0);try{return l?l.get(r,u,o&Ct.Optional):jr(r,u,o&Ct.Optional)}finally{Jn(h)}}return oi(u,0,o)}function za(n,r,o,u=Ct.Default,l){if(null!==n){if(1024&r[2]){const m=function Ru(n,r,o,u,l){let h=n,m=r;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=xu(h,m,o,u|Ct.Self,xr);if(C!==xr)return C;let S=h.parent;if(!S){const F=m[21];if(F){const W=F.get(o,xr,u);if(W!==xr)return W}S=Rr(m),m=m[15]}h=S}return l}(n,r,o,u,xr);if(m!==xr)return m}const h=xu(n,r,o,u,xr);if(h!==xr)return h}return Ga(r,o,u,l)}function xu(n,r,o,u,l){const h=function Nl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Pt)?n[Pt]:void 0;return"number"==typeof r?r>=0?255&r:ai:r}(o);if("function"==typeof h){if(!xa(r,n,u))return u&Ct.Host?oi(l,0,u):Ga(r,o,u,l);try{const m=h(u);if(null!=m||u&Ct.Optional)return m;tt()}finally{Ti()}}else if("number"==typeof h){let m=null,C=da(n,r),S=-1,F=u&Ct.Host?r[16][6]:null;for((-1===C||u&Ct.SkipSelf)&&(S=-1===C?Bt(n,r):r[C+8],-1!==S&&fa(u,!1)?(m=r[1],C=Hn(S),r=gn(S,r)):C=-1);-1!==C;){const W=r[1];if(Pl(h,C,W.data)){const ne=nl(C,r,o,m,u,F);if(ne!==xr)return ne}S=r[C+8],-1!==S&&fa(u,r[1].data[C+8]===F)&&Pl(h,C,r)?(m=W,C=Hn(S),r=gn(S,r)):C=-1}}return l}function nl(n,r,o,u,l,h){const m=r[1],C=m.data[n+8],W=Yo(C,m,o,null==u?Ri(C)&&Mr:u!=m&&0!=(3&C.type),l&Ct.Host&&h===C);return null!==W?ha(r,m,W,C):xr}function Yo(n,r,o,u,l){const h=n.providerIndexes,m=r.data,C=1048575&h,S=n.directiveStart,W=h>>20,we=l?C+W:n.directiveEnd;for(let $e=u?C:C+W;$e<we;$e++){const pt=m[$e];if($e<S&&o===pt||$e>=S&&pt.type===o)return $e}if(l){const $e=m[S];if($e&&Or($e)&&$e.type===o)return S}return null}function ha(n,r,o,u){let l=n[o];const h=r.data;if(function so(n){return n instanceof io}(l)){const m=l;m.resolving&&function bt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new We(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}(h[o]));const C=On(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?Jn(m.injectImpl):null;xa(n,u,Ct.Default);try{l=n[o]=m.factory(void 0,h,n,u),r.firstCreatePass&&o>=u.directiveStart&&function Bs(n,r,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(u){const m=Os(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],r)}finally{null!==S&&Jn(S),On(C),m.resolving=!1,Ti()}}return l}function Pl(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function fa(n,r){return!(n&Ct.Self||n&Ct.Host&&r)}class Wa{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return za(this._tNode,this._lView,r,u,o)}}function ai(){return new Wa(Gr(),gt())}function rn(n){return dr(()=>{const r=n.prototype.constructor,o=r[bn]||Co(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[bn]||Co(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Co(n){return dt(n)?()=>{const r=Co(ve(n));return r&&r()}:Hi(n)}function Rr(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function dn(n){return function yt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ye(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===r)return o[l+1];l+=2}}}return null}(Gr(),n)}const In="__parameters__";function gs(n,r,o){return dr(()=>{const u=function jt(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(r);function l(...h){if(this instanceof l)return u.apply(this,h),this;const m=new l(...h);return C.annotation=m,C;function C(S,F,W){const ne=S.hasOwnProperty(In)?S[In]:Object.defineProperty(S,In,{value:[]})[In];for(;ne.length<=W;)ne.push(null);return(ne[W]=ne[W]||[]).push(m),S}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class yr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Vt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ai(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(r===n&&(r=n.slice(0,o)),Ai(u,r)):r!==n&&r.push(u)}return r}function Si(n,r){n.forEach(o=>Array.isArray(o)?Si(o,r):r(o))}function au(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Hs(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ys(n,r,o){let u=v(n,r);return u>=0?n[1|u]=o:(u=~u,function kl(n,r,o,u){let l=n.length;if(l==r)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function vi(n,r){const o=v(n,r);if(o>=0)return n[1|o]}function v(n,r){return function y(n,r,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),m=n[h<<o];if(r===m)return h<<o;m>r?l=h:u=h+1}return~(l<<o)}(n,r,1)}const Kn={},Mi="__NG_DI_FLAG__",ui="ngTempTokenPath",Gs=/\n/gm,ea="__source";let Na;function Ts(n){const r=Na;return Na=n,r}function lu(n,r=Ct.Default){if(void 0===Na)throw new We(-203,!1);return null===Na?jr(n,void 0,r):Na.get(n,r&Ct.Optional?null:void 0,r)}function Fi(n,r=Ct.Default){return(function hn(){return An}()||lu)(ve(n),r)}function Fl(n,r=Ct.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Fi(n,r)}function il(n){const r=[];for(let o=0;o<n.length;o++){const u=ve(n[o]);if(Array.isArray(u)){if(0===u.length)throw new We(900,!1);let l,h=Ct.Default;for(let m=0;m<u.length;m++){const C=u[m],S=Yi(C);"number"==typeof S?-1===S?l=C.token:h|=S:l=C}r.push(Fi(l,h))}else r.push(Fi(u))}return r}function wa(n,r){return n[Mi]=r,n.prototype[Mi]=r,n}function Yi(n){return n[Mi]}const vr=wa(gs("Optional"),8),hi=wa(gs("SkipSelf"),4);var ss=(()=>((ss=ss||{})[ss.Important=1]="Important",ss[ss.DashCase=2]="DashCase",ss))();const ee=new Map;let pe=0;const fi="__ngContext__";function Li(n,r){Lr(r)?(n[fi]=r[20],function nt(n){ee.set(n[20],n)}(r)):n[fi]=r}function dl(n,r){return undefined(n,r)}function hl(n){const r=n[3];return Tr(r)?r[3]:r}function Ac(n){return d(n[13])}function _(n){return d(n[4])}function d(n){for(;null!==n&&!Tr(n);)n=n[4];return n}function I(n,r,o,u,l){if(null!=u){let h,m=!1;Tr(u)?h=u:Lr(u)&&(m=!0,u=u[0]);const C=Er(u);0===n&&null!==o?null==l?ad(r,o,C):Ja(r,o,C,l||null,!0):1===n&&null!==o?Ja(r,o,C,l||null,!0):2===n?function hh(n,r,o){const u=ld(n,r);u&&function ud(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,C,m):3===n&&r.destroyNode(C),null!=h&&function My(n,r,o,u,l){const h=o[7];h!==Er(o)&&I(r,n,u,h,l);for(let C=10;C<o.length;C++){const S=o[C];Mc(S[1],S,n,r,u,h)}}(r,n,h,o,l)}}function Je(n,r,o){return n.createElement(r,o)}function $l(n,r){const o=n[9],u=o.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,to(l,-1)),o.splice(u,1)}function As(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&$l(l,u),r>0&&(n[o-1][4]=u[4]);const h=Hs(n,10+r);!function kt(n,r){Mc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Hl(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Mc(n,r,o,3,null,null),function lr(n){let r=n[13];if(!r)return vu(n[1],n);for(;r;){let o=null;if(Lr(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)Lr(r)&&vu(r[1],r),r=r[3];null===r&&(r=n),Lr(r)&&vu(r[1],r),o=r&&r[4]}r=o}}(r)}}function vu(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function ia(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=r[o[u]];if(!(l instanceof io)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const C=l[h[m]],S=h[m+1];try{S.call(C)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function od(n,r){const o=n.cleanup,u=r[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],C="function"==typeof m?m(r):Er(r[m]),S=u[l=o[h+2]],F=o[h+3];"boolean"==typeof F?C.removeEventListener(o[h],S,F):F>=0?u[l=F]():u[l=-F].unsubscribe(),h+=2}else{const m=u[l=o[h+1]];o[h].call(m)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&Tr(r[3])){o!==r[3]&&$l(o,r);const u=r[19];null!==u&&u.detachView(n)}!function Ut(n){ee.delete(n[20])}(r)}}function Sc(n,r,o){return function $u(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===Jt.None||l===Jt.Emulated)return null}return Wr(u,o)}(n,r.parent,o)}function Ja(n,r,o,u,l){n.insertBefore(r,o,u,l)}function ad(n,r,o){n.appendChild(r,o)}function er(n,r,o,u,l){null!==u?Ja(n,r,o,u,l):ad(n,r,o)}function ld(n,r){return n.parentNode(r)}let Xa,pg=function cd(n,r,o){return 40&n.type?Wr(n,o):null};function Hu(n,r,o,u){const l=Sc(n,u,r),h=r[11],C=function Pf(n,r,o){return pg(n,r,o)}(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(o))for(let S=0;S<o.length;S++)er(h,l,o[S],C,!1);else er(h,l,o,C,!1)}function _u(n,r){if(null!==r){const o=r.type;if(3&o)return Wr(r,n);if(4&o)return Gu(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return _u(n,u);{const l=n[r.index];return Tr(l)?Gu(-1,l):Er(l)}}if(32&o)return dl(r,n)()||Er(n[r.index]);{const u=Ff(n,r);return null!==u?Array.isArray(u)?u[0]:_u(hl(n[16]),u):_u(n,r.next)}}return null}function Ff(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Gu(n,r){const o=10+n+1;if(o<r.length){const u=r[o],l=u[1].firstChild;if(null!==l)return _u(u,l)}return r[7]}function fl(n,r,o,u,l,h,m){for(;null!=o;){const C=u[o.index],S=o.type;if(m&&0===r&&(C&&Li(Er(C),u),o.flags|=4),64!=(64&o.flags))if(8&S)fl(n,r,o.child,u,l,h,!1),I(r,n,l,C,h);else if(32&S){const F=dl(o,u);let W;for(;W=F();)I(r,n,l,W,h);I(r,n,l,C,h)}else 16&S?xc(n,r,u,o,l,h):I(r,n,l,C,h);o=m?o.projectionNext:o.next}}function Mc(n,r,o,u,l,h){fl(o,u,n.firstChild,r,l,h,!1)}function xc(n,r,o,u,l,h){const m=o[16],S=m[6].projection[u.projection];if(Array.isArray(S))for(let F=0;F<S.length;F++)I(r,n,l,S[F],h);else fl(n,r,S,m[3],l,h,!0)}function Ei(n,r,o){n.setAttribute(r,"style",o)}function Rc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function mg(n){Xa=n}class yh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function zu(n){return n instanceof yh?n.changingThisBreaksApplicationSecurity:n}const _g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var os=(()=>((os=os||{})[os.NONE=0]="NONE",os[os.HTML=1]="HTML",os[os.STYLE=2]="STYLE",os[os.SCRIPT=3]="SCRIPT",os[os.URL=4]="URL",os[os.RESOURCE_URL=5]="RESOURCE_URL",os))();function Kl(n){const r=function Ed(){const n=gt();return n&&n[12]}();return r?r.sanitize(os.URL,n)||"":function Wl(n,r){const o=function vh(n){return n instanceof yh&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?zu(n):function Eh(n){return(n=String(n)).match(_g)?n:"unsafe:"+n}(Ke(n))}const $f=new yr("ENVIRONMENT_INITIALIZER"),Wu=new yr("INJECTOR",-1),ql=new yr("INJECTOR_DEF_TYPES");class Hf{get(r,o=Kn){if(o===Kn){const u=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw u.name="NullInjectorError",u}return o}}function Gy(...n){return{\u0275providers:Gf(0,n)}}function Gf(n,...r){const o=[],u=new Set;let l;return Si(r,h=>{const m=h;Ch(m,o,[],u)&&(l||(l=[]),l.push(m))}),void 0!==l&&Iu(l,o),o}function Iu(n,r){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Si(l,h=>{r.push(h)})}}function Ch(n,r,o,u){if(!(n=ve(n)))return!1;let l=null,h=Bn(n);const m=!h&&q(n);if(h||m){if(m&&!m.standalone)return!1;l=n}else{const S=n.ngModule;if(h=Bn(S),!h)return!1;l=S}const C=u.has(l);if(m){if(C)return!1;if(u.add(l),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const F of S)Ch(F,r,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let F;u.add(l);try{Si(h.imports,W=>{Ch(W,r,o,u)&&(F||(F=[]),F.push(W))})}finally{}void 0!==F&&Iu(F,r)}if(!C){const F=Hi(l)||(()=>new l);r.push({provide:l,useFactory:F,deps:un},{provide:ql,useValue:l,multi:!0},{provide:$f,useValue:()=>Fi(l),multi:!0})}const S=h.providers;null==S||C||Si(S,W=>{r.push(W)})}}return l!==n&&void 0!==n.providers}const bg=Te({provide:String,useValue:Te});function Oc(n){return null!==n&&"object"==typeof n&&bg in n}function Ta(n){return"function"==typeof n}const bh=new yr("Set Injector scope."),kc={},zf={};let Th;function Id(){return void 0===Th&&(Th=new Hf),Th}class Zl{}class Wf extends Zl{constructor(r,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,m=>this.processProvider(m)),this.records.set(Wu,Fc(void 0,this)),l.has("environment")&&this.records.set(Zl,Fc(void 0,this));const h=this.records.get(bh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ql.multi,un,Ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Ts(this),u=Jn(void 0);try{return r()}finally{Ts(o),Jn(u)}}get(r,o=Kn,u=Ct.Default){this.assertNotDestroyed();const l=Ts(this),h=Jn(void 0);try{if(!(u&Ct.SkipSelf)){let C=this.records.get(r);if(void 0===C){const S=function Wy(n){return"function"==typeof n||"object"==typeof n&&n instanceof yr}(r)&&ln(r);C=S&&this.injectableDefInScope(S)?Fc(Ah(r),kc):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(u&Ct.Self?Id():this.parent).get(r,o=u&Ct.Optional&&o===Kn?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[ui]=m[ui]||[]).unshift(ue(r)),l)throw m;return function Pa(n,r,o,u){const l=n[ui];throw r[ea]&&l.unshift(r[ea]),n.message=function Za(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ue(r);if(Array.isArray(r))l=r.map(ue).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let C=r[m];h.push(m+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Gs,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ui]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{Jn(h),Ts(l)}}resolveInjectorInitializers(){const r=Ts(this),o=Jn(void 0);try{const u=this.get($f.multi,un,Ct.Self);for(const l of u)l()}finally{Ts(r),Jn(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(ue(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(r){let o=Ta(r=ve(r))?r:ve(r&&r.provide);const u=function Dd(n){return Oc(n)?Fc(void 0,n.useValue):Fc(vl(n),kc)}(r);if(Ta(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Fc(void 0,kc,!0),l.factory=()=>il(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===kc&&(o.value=zf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function zy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ve(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ah(n){const r=ln(n),o=null!==r?r.factory:Hi(n);if(null!==o)return o;if(n instanceof yr)throw new We(204,!1);if(n instanceof Function)return function Sh(n){const r=n.length;if(r>0)throw function Ra(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}(r,"?"),new We(204,!1);const o=function tr(n){const r=n&&(n[$t]||n[Cr]);if(r){const o=function jn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new We(204,!1)}function vl(n,r,o){let u;if(Ta(n)){const l=ve(n);return Hi(l)||Ah(l)}if(Oc(n))u=()=>ve(n.useValue);else if(function yl(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...il(n.deps||[]));else if(function ml(n){return!(!n||!n.useExisting)}(n))u=()=>Fi(ve(n.useExisting));else{const l=ve(n&&(n.useClass||n.provide));if(!function Tg(n){return!!n.deps}(n))return Hi(l)||Ah(l);u=()=>new l(...il(n.deps))}return u}function Fc(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Ky(n){return!!n.\u0275providers}function Yl(n,r){for(const o of n)Array.isArray(o)?Yl(o,r):Ky(o)?Yl(o.\u0275providers,r):r(o)}class Ku{}class Zy{resolveComponentFactory(r){throw function Ag(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Jl=(()=>{class n{}return n.NULL=new Zy,n})();function Kf(){return Xl(Gr(),gt())}function Xl(n,r){return new ec(Wr(n,r))}let ec=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Kf,n})();function qf(n){return n instanceof ec?n.nativeElement:n}class Cd{}let Qy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zf(){const n=gt(),o=di(Gr().index,n);return(Lr(o)?o:n)[11]}(),n})(),Mh=(()=>{class n{}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:()=>null}),n})();class Mg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yf=new Mg("14.3.0"),tc={};function xh(n){return n.ngOriginalError}class Vc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&xh(r);for(;o&&xh(o);)o=xh(o);return o||null}}function jo(n){return n instanceof Function?n():n}function Jf(n,r,o){let u=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Xf="ng-template";function ev(n,r,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==Jf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Td(n){return 4===n.type&&n.value!==Xf}function Ng(n,r,o){return r===(4!==n.type||o?n.value:Xf)}function tv(n,r,o){let u=4;const l=n.attrs||[],h=function Ad(n){for(let r=0;r<n.length;r++)if(ye(n[r]))return r;return n.length}(l);let m=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!m)if(4&u){if(u=2|1&u,""!==S&&!Ng(n,S,o)||""===S&&1===r.length){if(Ua(u))return!1;m=!0}}else{const F=8&u?S:r[++C];if(8&u&&null!==n.attrs){if(!ev(n.attrs,F,o)){if(Ua(u))return!1;m=!0}continue}const ne=nv(8&u?"class":S,l,Td(n),o);if(-1===ne){if(Ua(u))return!1;m=!0;continue}if(""!==F){let we;we=ne>h?"":l[ne+1].toLowerCase();const $e=8&u?we:null;if($e&&-1!==Jf($e,F,0)||2&u&&F!==we){if(Ua(u))return!1;m=!0}}}}else{if(!m&&!Ua(u)&&!Ua(S))return!1;if(m&&Ua(S))continue;m=!1,u=S|1&u}}return Ua(u)||m}function Ua(n){return 0==(1&n)}function nv(n,r,o,u){if(null===r)return-1;let l=0;if(u||!o){let h=!1;for(;l<r.length;){const m=r[l];if(m===n)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Pg(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function ep(n,r,o=!1){for(let u=0;u<r.length;u++)if(tv(n,r[u],o))return!0;return!1}function kg(n,r){return n?":not("+r.trim()+")":r}function Fg(n){let r=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const C=n[++o];l+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Ua(m)&&(r+=kg(h,l),l=""),u=m,h=h||!Ua(u);o++}return""!==l&&(r+=kg(h,l)),r}const Qn={};function Ss(n){Lg(Un(),gt(),ur()+n,!1)}function Lg(n,r,o,u){if(!u)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&ts(r,h,o)}else{const h=n.preOrderHooks;null!==h&&Zo(r,h,0,o)}mi(o)}function kh(n,r=null,o=null,u){const l=Fh(n,r,o,u);return l.resolveInjectorInitializers(),l}function Fh(n,r=null,o=null,u,l=new Set){const h=[o||un,Gy(n)];return u=u||("object"==typeof n?void 0:ue(n)),new Wf(h,r||Id(),u||null,l)}let eu=(()=>{class n{static create(o,u){if(Array.isArray(o))return kh({name:""},u,o,"");{const l=o.name??"";return kh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Kn,n.NULL=new Hf,n.\u0275prov=Vt({token:n,providedIn:"any",factory:()=>Fi(Wu)}),n.__NG_ELEMENT_ID__=-1,n})();function El(n,r=Ct.Default){const o=gt();return null===o?Fi(n,r):za(Gr(),o,ve(n),r)}function Uh(){throw new Error("invalid")}function Bh(n,r){return n<<17|r<<2}function Ba(n){return n>>17&32767}function cp(n){return 2|n}function Zu(n){return(131068&n)>>2}function Ws(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Kh(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],h=o[u+1];if(-1!==h){const m=n.data[h];ki(l),m.contentQueries(2,r[h],h)}}}function Ld(n,r,o,u,l,h,m,C,S,F,W){const ne=r.blueprint.slice();return ne[0]=l,ne[2]=76|u,(null!==W||n&&1024&n[2])&&(ne[2]|=1024),Kr(ne),ne[3]=ne[15]=n,ne[8]=o,ne[10]=m||n&&n[10],ne[11]=C||n&&n[11],ne[12]=S||n&&n[12]||null,ne[9]=F||n&&n[9]||null,ne[6]=h,ne[20]=function De(){return pe++}(),ne[21]=W,ne[16]=2==r.type?n[16]:ne,ne}function Il(n,r,o,u,l){let h=n.data[r];if(null===h)h=function Vd(n,r,o,u,l){const h=ei(),m=Po(),S=n.data[r]=function Tp(n,r,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,r,u,l);return null===n.firstChild&&(n.firstChild=S),null!==h&&(m?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S)),S}(n,r,o,u,l),function ti(){return En.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const m=function Wi(){const n=En.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return es(h,!0),h}function Dl(n,r,o,u){if(0===o)return-1;const l=r.length;for(let h=0;h<o;h++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function Cl(n,r,o){wo(r);try{const u=n.viewQuery;null!==u&&jd(1,u,o);const l=n.template;null!==l&&qh(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kh(n,r),n.staticViewQueries&&jd(2,n.viewQuery,o);const h=n.components;null!==h&&function Dp(n,r){for(let o=0;o<r.length;o++)Mv(n,r[o])}(r,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Us()}}function tu(n,r,o,u){const l=r[2];if(128!=(128&l)){wo(r);try{Kr(r),function Ye(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&qh(n,r,o,2,u);const m=3==(3&l);if(m){const F=n.preOrderCheckHooks;null!==F&&ts(r,F,null)}else{const F=n.preOrderHooks;null!==F&&Zo(r,F,0,null),ps(r,0)}if(function Np(n){for(let r=Ac(n);null!==r;r=_(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const l=o[u],h=l[3];0==(512&l[2])&&to(h,1),l[2]|=512}}}(r),function Av(n){for(let r=Ac(n);null!==r;r=_(r))for(let o=10;o<r.length;o++){const u=r[o],l=u[1];No(u)&&tu(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&Kh(n,r),m){const F=n.contentCheckHooks;null!==F&&ts(r,F)}else{const F=n.contentHooks;null!==F&&Zo(r,F,1),ps(r,1)}!function Ev(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)mi(~l);else{const h=l,m=o[++u],C=o[++u];bi(m,h),C(2,r[h])}}}finally{mi(-1)}}(n,r);const C=n.components;null!==C&&function wv(n,r){for(let o=0;o<r.length;o++)Sv(n,r[o])}(r,C);const S=n.viewQuery;if(null!==S&&jd(2,S,u),m){const F=n.viewCheckHooks;null!==F&&ts(r,F)}else{const F=n.viewHooks;null!==F&&Zo(r,F,2),ps(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,to(r[3],-1))}finally{Us()}}}function qh(n,r,o,u,l){const h=ur(),m=2&u;try{mi(-1),m&&r.length>22&&Lg(n,r,22,!1),o(u,l)}finally{mi(h)}}function bl(n,r,o){!_o()||(function Dv(n,r,o,u){const l=o.directiveStart,h=o.directiveEnd;n.firstCreatePass||Wt(o,r),Li(u,r);const m=o.initialInputs;for(let C=l;C<h;C++){const S=n.data[C],F=Or(S);F&&Tv(r,o,S);const W=ha(r,n,C,o);Li(W,r),null!==m&&Rp(0,C-l,W,S,0,m),F&&(di(o.index,r)[8]=W)}}(n,r,o,Wr(o,r)),128==(128&o.flags)&&function Cv(n,r,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,m=function Ds(){return En.lFrame.currentDirectiveIndex}();try{mi(h);for(let C=u;C<l;C++){const S=n.data[C],F=r[C];Ls(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&lm(S,F)}}finally{mi(-1),Ls(m)}}(n,r,o))}function Zh(n,r,o=Wr){const u=r.localNames;if(null!==u){let l=r.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],C=-1===m?o(r,n):n[m];n[l++]=C}}}function dc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Cp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Cp(n,r,o,u,l,h,m,C,S,F){const W=22+u,ne=W+l,we=function Iv(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Qn);return o}(W,ne),$e="function"==typeof F?F():F;return we[1]={type:n,blueprint:we,template:o,queries:null,viewQuery:C,declTNode:r,data:we.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:$e,incompleteFirstPass:!1}}function Yh(n,r,o,u){const l=nf(r);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Cu(n).push(u,l.length-1))}function rm(n,r,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(r,l):o[u]=[r,l]}return o}function im(n,r){const u=r.directiveEnd,l=n.data,h=r.attrs,m=[];let C=null,S=null;for(let F=r.directiveStart;F<u;F++){const W=l[F],ne=W.inputs,we=null===h||Td(r)?null:dm(ne,h);m.push(we),C=rm(ne,F,C),S=rm(W.outputs,F,S)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=C,r.outputs=S}function sm(n,r){const o=di(r,n);16&o[2]||(o[2]|=32)}function Qh(n,r,o,u){let l=!1;if(_o()){const h=function bv(n,r,o){const u=n.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];ep(o,m.selectors,!1)&&(l||(l=[]),ze(Wt(o,r),n,m.type),Or(m)?(Jh(n,o),l.unshift(m)):l.push(m))}return l}(n,r,o),m=null===u?null:{"":-1};if(null!==h){l=!0,cm(o,n.data.length,h.length);for(let W=0;W<h.length;W++){const ne=h[W];ne.providersResolver&&ne.providersResolver(ne)}let C=!1,S=!1,F=Dl(n,r,h.length,null);for(let W=0;W<h.length;W++){const ne=h[W];o.mergedAttrs=lt(o.mergedAttrs,ne.hostAttrs),Xh(n,o,r,F,ne),xp(F,ne,m),null!==ne.contentQueries&&(o.flags|=8),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(o.flags|=128);const we=ne.type.prototype;!C&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),C=!0),!S&&(we.ngOnChanges||we.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),S=!0),F++}im(n,o)}m&&function Mp(n,r,o){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=o[r[l+1]];if(null==h)throw new We(-301,!1);u.push(r[l],h)}}}(o,u,m)}return o.mergedAttrs=lt(o.mergedAttrs,o.attrs),l}function Sp(n,r,o,u,l,h){const m=h.hostBindings;if(m){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const S=~r.index;(function um(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=S&&C.push(S),C.push(u,l,m)}}function lm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Jh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function xp(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Or(r)&&(o[""]=n)}}function cm(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Xh(n,r,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Hi(l.type)),m=new io(h,Or(l),El);n.blueprint[u]=m,o[u]=m,Sp(n,r,0,u,Dl(n,o,l.hostVars,Qn),l)}function Tv(n,r,o){const u=Wr(r,n),l=dc(o),h=n[10],m=$c(n,Ld(n,l,null,o.onPush?32:16,u,r,h,h.createRenderer(u,o),null,null,null));n[r.index]=m}function ja(n,r,o,u,l,h){const m=Wr(n,r);!function ef(n,r,o,u,l,h,m){if(null==h)n.removeAttribute(r,l,o);else{const C=null==m?Ke(h):m(h,u||"",l);n.setAttribute(r,l,C,o)}}(r[11],m,h,n.value,o,u,l)}function Rp(n,r,o,u,l,h){const m=h[r];if(null!==m){const C=u.setInput;for(let S=0;S<m.length;){const F=m[S++],W=m[S++],ne=m[S++];null!==C?u.setInput(o,ne,F,W):o[W]=ne}}}function dm(n,r){let o=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return o}function tf(n,r,o,u){return new Array(n,!0,!1,r,null,0,u,o,null,null)}function Sv(n,r){const o=di(r,n);if(No(o)){const u=o[1];48&o[2]?tu(u,o,u.template,o[8]):o[5]>0&&Ud(o)}}function Ud(n){for(let u=Ac(n);null!==u;u=_(u))for(let l=10;l<u.length;l++){const h=u[l];if(No(h))if(512&h[2]){const m=h[1];tu(m,h,m.template,h[8])}else h[5]>0&&Ud(h)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=di(o[u],n);No(l)&&l[5]>0&&Ud(l)}}function Mv(n,r){const o=di(r,n),u=o[1];(function Pp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),Cl(u,o,o[8])}function $c(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Bd(n){for(;n;){n[2]|=32;const r=hl(n);if(ji(n)&&!r)return n;n=r}return null}function Qu(n,r,o,u=!0){const l=r[10];l.begin&&l.begin();try{tu(n,r,n.template,o)}catch(m){throw u&&hm(r,m),m}finally{l.end&&l.end()}}function jd(n,r,o){ki(0),r(n,o)}function nf(n){return n[7]||(n[7]=[])}function Cu(n){return n.cleanup||(n.cleanup=[])}function hm(n,r){const o=n[9],u=o?o.get(Vc,null):null;u&&u.handleError(r)}function $d(n,r,o,u,l){for(let h=0;h<o.length;){const m=o[h++],C=o[h++],S=r[m],F=n.data[m];null!==F.setInput?F.setInput(S,l,u,C):S[C]=l}}function Ju(n,r,o){const u=fs(r,n);!function J(n,r,o){n.setValue(r,o)}(n[11],u,o)}function sf(n,r,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?h=C:1==h?l=Ne(l,C):2==h&&(u=Ne(u,C+": "+r[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Hc(n,r,o,u,l=!1){for(;null!==o;){const h=r[o.index];if(null!==h&&u.push(Er(h)),Tr(h))for(let C=10;C<h.length;C++){const S=h[C],F=S[1].firstChild;null!==F&&Hc(S[1],S,F,u)}const m=o.type;if(8&m)Hc(n,r,o.child,u);else if(32&m){const C=dl(o,r);let S;for(;S=C();)u.push(S)}else if(16&m){const C=Ff(r,o);if(Array.isArray(C))u.push(...C);else{const S=hl(r[16]);Hc(S[1],S,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Hc(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Tr(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(As(r,u),Hs(o,u))}this._attachedToViewContainer=!1}Hl(this._lView[1],this._lView)}onDestroy(r){Yh(this._lView[1],this._lView,null,r)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dn(n,r){Mc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=r}}class Op extends Hd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Qu(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kp extends Jl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=q(r);return new Gc(o,this.ngModule)}}function af(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fp{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){const l=this.injector.get(r,tc,u);return l!==tc||o===tc?l:this.parentInjector.get(r,o,u)}}class Gc extends Ku{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function rv(n){return n.map(Fg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return af(this.componentDef.inputs)}get outputs(){return af(this.componentDef.outputs)}create(r,o,u,l){let h=(l=l||this.ngModule)instanceof Zl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Fp(r,h):r,C=m.get(Cd,null);if(null===C)throw new We(407,!1);const S=m.get(Mh,null),F=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ne=u?function bp(n,r,o){return n.selectRootElement(r,o===Jt.ShadowDom)}(F,u,this.componentDef.encapsulation):Je(F,W,function Rv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(W)),we=this.componentDef.onPush?288:272,$e=Cp(0,null,null,1,0,null,null,null,null,null),pt=Ld(null,$e,null,we,null,null,C,F,S,m,null);let Ft,Qt;wo(pt);try{const Cn=function Vp(n,r,o,u,l,h){const m=o[1];o[22]=n;const S=Il(m,22,2,"#host",null),F=S.mergedAttrs=r.hostAttrs;null!==F&&(sf(S,F,!0),null!==n&&(z(l,n,F),null!==S.classes&&Rc(l,n,S.classes),null!==S.styles&&Ei(l,n,S.styles)));const W=u.createRenderer(n,r),ne=Ld(o,dc(r),null,r.onPush?32:16,o[22],S,u,W,h||null,null,null);return m.firstCreatePass&&(ze(Wt(S,o),m,r.type),Jh(m,S),cm(S,o.length,1)),$c(o,ne),o[22]=ne}(ne,this.componentDef,pt,C,F);if(ne)if(u)z(F,ne,["ng-version",Yf.full]);else{const{attrs:Ln,classes:Dt}=function iv(n){const r=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++u]):8===l&&o.push(h);else{if(!Ua(l))break;l=h}u++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Ln&&z(F,ne,Ln),Dt&&Dt.length>0&&Rc(F,ne,Dt.join(" "))}if(Qt=yo($e,22),void 0!==o){const Ln=Qt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Gn=o[Dt];Ln.push(null!=Gn?Array.from(Gn):null)}}Ft=function Ov(n,r,o,u){const l=o[1],h=function am(n,r,o){const u=Gr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xh(n,u,r,Dl(n,r,1,null),o),im(n,u));const l=ha(r,n,u.directiveStart,u);Li(l,r);const h=Wr(u,r);return h&&Li(h,r),l}(l,o,r);if(n[8]=o[8]=h,null!==u)for(const C of u)C(h,r);if(r.contentQueries){const C=Gr();r.contentQueries(1,h,C.directiveStart)}const m=Gr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(mi(m.index),Sp(o[1],m,0,m.directiveStart,m.directiveEnd,r),lm(r,h)),h}(Cn,this.componentDef,pt,[Up]),Cl($e,pt,null)}finally{Us()}return new Pv(this.componentType,Ft,Xl(Qt,pt),pt,Qt)}}class Pv extends class Ql{}{constructor(r,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Op(l),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[r])){const h=this._rootLView;$d(h[1],h,l,r,o),sm(h,this._tNode.index)}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Up(){const n=Gr();Cs(gt()[1],n)}function Gd(n){let r=function uf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let l;if(Or(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new We(903,!1);l=r.\u0275dir}if(l){if(o){u.push(l);const m=n;m.inputs=hc(n.inputs),m.declaredInputs=hc(n.declaredInputs),m.outputs=hc(n.outputs);const C=l.hostBindings;C&&fm(n,C);const S=l.viewQuery,F=l.contentQueries;if(S&&Fv(n,S),F&&Bp(n,F),Ae(n.inputs,l.inputs),Ae(n.declaredInputs,l.declaredInputs),Ae(n.outputs,l.outputs),Or(l)&&l.data.animation){const W=n.data;W.animation=(W.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const C=h[m];C&&C.ngInherit&&C(n),C===Gd&&(o=!1)}}r=Object.getPrototypeOf(r)}!function kv(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=lt(l.hostAttrs,o=lt(o,l.hostAttrs))}}(u)}function hc(n){return n===fr?{}:n===un?[]:n}function Fv(n,r){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{r(u,l),o(u,l)}:r}function Bp(n,r){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{r(u,l,h),o(u,l,h)}:r}function fm(n,r){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{r(u,l),o(u,l)}:r}let cf=null;function fc(){if(!cf){const n=Rn.Symbol;if(n&&n.iterator)cf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(cf=u)}}}return cf}function zd(n){return!!Wd(n)&&(Array.isArray(n)||!(n instanceof Map)&&fc()in n)}function Wd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ks(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Kc(n,r,o,u){const l=gt();return Ks(l,en(),r)&&(Un(),ja(Sr(),l,n,r,o,u)),Kc}function mc(n,r,o,u,l,h){const C=function bu(n,r,o,u){const l=Ks(n,r,o);return Ks(n,r+1,u)||l}(n,function Z(){return En.lFrame.bindingIndex}(),o,l);return $n(2),C?r+Ke(o)+u+Ke(l)+h:Qn}function Wp(n,r,o,u,l,h,m,C){const S=gt(),F=Un(),W=n+22,ne=F.firstCreatePass?function wm(n,r,o,u,l,h,m,C,S){const F=r.consts,W=Il(r,n,4,m||null,Xr(F,C));Qh(r,o,W,Xr(F,S)),Cs(r,W);const ne=W.tViews=Cp(2,W,u,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F);return null!==r.queries&&(r.queries.template(r,W),ne.queries=r.queries.embeddedTView(W)),W}(W,F,S,r,o,u,l,h,m):F.data[W];es(ne,!1);const we=S[11].createComment("");Hu(F,S,we,ne),Li(we,S),$c(S,S[W]=tf(we,S,we,ne)),Ps(ne)&&bl(F,S,ne),null!=m&&Zh(S,ne,C)}function Ir(n){return zi(function Br(){return En.lFrame.contextLView}(),22+n)}function pf(n,r,o){const u=gt();return Ks(u,en(),r)&&function $o(n,r,o,u,l,h,m,C){const S=Wr(r,o);let W,F=r.inputs;!C&&null!=F&&(W=F[u])?($d(n,o,W,u,l),Ri(r)&&sm(o,r.index)):3&r.type&&(u=function Ap(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=m?m(l,r.value||"",u):l,h.setProperty(S,u,l))}(Un(),Sr(),u,n,r,u[11],o,!1),pf}function gf(n,r,o,u,l){const m=l?"class":"style";$d(n,o,r.inputs[m],m,u)}function qd(n,r,o,u){const l=gt(),h=Un(),m=22+n,C=l[11],S=l[m]=Je(C,r,function qo(){return En.lFrame.currentNamespace}()),F=h.firstCreatePass?function Kd(n,r,o,u,l,h,m){const C=r.consts,F=Il(r,n,2,l,Xr(C,h));return Qh(r,o,F,Xr(C,m)),null!==F.attrs&&sf(F,F.attrs,!1),null!==F.mergedAttrs&&sf(F,F.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,F),F}(m,h,l,0,r,o,u):h.data[m];es(F,!0);const W=F.mergedAttrs;null!==W&&z(C,S,W);const ne=F.classes;null!==ne&&Rc(C,S,ne);const we=F.styles;return null!==we&&Ei(C,S,we),64!=(64&F.flags)&&Hu(h,l,S,F),0===function aa(){return En.lFrame.elementDepthCount}()&&Li(S,l),function Ar(){En.lFrame.elementDepthCount++}(),Ps(F)&&(bl(h,l,F),function cc(n,r,o){if(Ns(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,F,l)),null!==u&&Zh(l,F),qd}function wi(){let n=Gr();Po()?function ws(){En.lFrame.isParent=!1}():(n=n.parent,es(n,!1));const r=n;!function Oi(){En.lFrame.elementDepthCount--}();const o=Un();return o.firstCreatePass&&(Cs(o,n),Ns(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ou(n){return 0!=(16&n.flags)}(r)&&gf(o,r,gt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function b(n){return 0!=(32&n.flags)}(r)&&gf(o,r,gt(),r.stylesWithoutHost,!1),wi}function Ms(n,r,o,u){return qd(n,r,o,u),wi(),Ms}function Im(){return gt()}function Zd(n){return!!n&&"function"==typeof n.then}function Dm(n){return!!n&&"function"==typeof n.subscribe}const mf=Dm;function Yp(n,r,o,u){const l=gt(),h=Un(),m=Gr();return function Lv(n,r,o,u,l,h,m,C){const S=Ps(u),W=n.firstCreatePass&&Cu(n),ne=r[8],we=nf(r);let $e=!0;if(3&u.type||C){const Qt=Wr(u,r),Cn=C?C(Qt):Qt,Ln=we.length,Dt=C?Jr=>C(Er(Jr[u.index])):u.index;let Gn=null;if(!C&&S&&(Gn=function Ii(n,r,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===u){const C=r[7],S=l[h+2];return C.length>S?C[S]:null}"string"==typeof m&&(h+=2)}return null}(n,r,l,u.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=h,Gn.__ngLastListenerFn__=h,$e=!1;else{h=Ji(u,r,ne,h,!1);const Jr=o.listen(Cn,l,h);we.push(h,Jr),W&&W.push(l,Dt,Ln,Ln+1)}}else h=Ji(u,r,ne,h,!1);const pt=u.outputs;let Ft;if($e&&null!==pt&&(Ft=pt[l])){const Qt=Ft.length;if(Qt)for(let Cn=0;Cn<Qt;Cn+=2){const Xi=r[Ft[Cn]][Ft[Cn+1]].subscribe(h),uh=we.length;we.push(h,Xi),W&&W.push(l,u.index,uh,-(uh+1))}}}(h,l,l[11],m,n,r,0,u),Yp}function Vv(n,r,o,u){try{return!1!==o(u)}catch(l){return hm(n,l),!1}}function Ji(n,r,o,u,l){return function h(m){if(m===Function)return u;Bd(2&n.flags?di(n.index,r):r);let S=Vv(r,0,u,m),F=h.__ngNextListenerFn__;for(;F;)S=Vv(r,0,F,m)&&S,F=F.__ngNextListenerFn__;return l&&!1===S&&(m.preventDefault(),m.returnValue=!1),S}}function Qp(n=1){return function la(n){return(En.lFrame.contextLView=function Io(n,r){for(;n>0;)r=r[15],n--;return r}(n,En.lFrame.contextLView))[8]}(n)}function Ml(n,r,o,u,l){const h=n[o+1],m=null===r;let C=u?Ba(h):Zu(h),S=!1;for(;0!==C&&(!1===S||m);){const W=n[C+1];yf(n[C],r)&&(S=!0,n[C+1]=u?jh(W):cp(W)),C=u?Ba(W):Zu(W)}S&&(n[o+1]=u?cp(h):jh(h))}function yf(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&v(n,r)>=0}const xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nm(n){return n.substring(xs.key,xs.keyEnd)}function Yd(n,r){const o=xs.textEnd;return o===r?-1:(r=xs.keyEnd=function km(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,xs.key=r,o),Au(n,r,o))}function Au(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function _f(n,r){return function Ho(n,r,o,u){const l=gt(),h=Un(),m=$n(2);h.firstUpdatePass&&Xd(h,n,m,u),r!==Qn&&Ks(l,m,r)&&$m(h,h.data[ur()],l,l[11],n,l[m+1]=function l0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ue(zu(n)))),n}(r,o),u,m)}(n,r,null,!0),_f}function tg(n){!function iu(n,r,o,u){const l=Un(),h=$n(2);l.firstUpdatePass&&Xd(l,null,h,u);const m=gt();if(o!==Qn&&Ks(m,h,o)){const C=l.data[ur()];if(If(C,u)&&!Jd(l,h)){let S=u?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(o=Ne(S,o||"")),gf(l,C,m,o,u)}else!function nh(n,r,o,u,l,h,m,C){l===Qn&&(l=un);let S=0,F=0,W=0<l.length?l[0]:null,ne=0<h.length?h[0]:null;for(;null!==W||null!==ne;){const we=S<l.length?l[S+1]:void 0,$e=F<h.length?h[F+1]:void 0;let Ft,pt=null;W===ne?(S+=2,F+=2,we!==$e&&(pt=ne,Ft=$e)):null===ne||null!==W&&W<ne?(S+=2,pt=W):(F+=2,pt=ne,Ft=$e),null!==pt&&$m(n,r,o,u,pt,Ft,m,C),W=S<l.length?l[S]:null,ne=F<h.length?h[F]:null}}(l,C,m,m[11],m[h+1],m[h+1]=function th(n,r,o){if(null==o||""===o)return un;const u=[],l=zu(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&r(u,l);return u}(n,r,o),u,h)}}(ys,$a,n,!0)}function $a(n,r){for(let o=function Om(n){return function Qd(n){xs.key=0,xs.keyEnd=0,xs.value=0,xs.valueEnd=0,xs.textEnd=n.length}(n),Yd(n,Au(n,0,xs.textEnd))}(r);o>=0;o=Yd(r,o))ys(n,Nm(r),!0)}function Jd(n,r){return r>=n.expandoStartIndex}function Xd(n,r,o,u){const l=n.data;if(null===l[o+1]){const h=l[ur()],m=Jd(n,o);If(h,u)&&null===r&&!m&&(r=!1),r=function Bm(n,r,o,u){const l=function Eo(n){const r=En.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(o=_c(o=wf(null,n,r,o,u),r.attrs,u),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==l)if(o=wf(l,n,r,o,u),null===h){let S=function eh(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Zu(u))return n[Ba(u)]}(n,r,u);void 0!==S&&Array.isArray(S)&&(S=wf(null,n,r,S[1],u),S=_c(S,r.attrs,u),function Gv(n,r,o,u){n[Ba(o?r.classBindings:r.styleBindings)]=u}(n,r,u,S))}else h=function Ef(n,r,o){let u;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)u=_c(u,n[h].hostAttrs,o);return _c(u,r.attrs,o)}(n,r,u)}return void 0!==h&&(u?r.residualClasses=h:r.residualStyles=h),o}(l,h,r,u),function Sl(n,r,o,u,l,h){let m=h?r.classBindings:r.styleBindings,C=Ba(m),S=Zu(m);n[u]=o;let W,F=!1;if(Array.isArray(o)){const ne=o;W=ne[1],(null===W||v(ne,W)>0)&&(F=!0)}else W=o;if(l)if(0!==S){const we=Ba(n[C+1]);n[u+1]=Bh(we,C),0!==we&&(n[we+1]=Ws(n[we+1],u)),n[C+1]=function lp(n,r){return 131071&n|r<<17}(n[C+1],u)}else n[u+1]=Bh(C,0),0!==C&&(n[C+1]=Ws(n[C+1],u)),C=u;else n[u+1]=Bh(S,0),0===C?C=u:n[S+1]=Ws(n[S+1],u),S=u;F&&(n[u+1]=cp(n[u+1])),Ml(n,W,u,!0),Ml(n,W,u,!1),function u0(n,r,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&v(h,r)>=0&&(o[u+1]=jh(o[u+1]))}(r,W,n,u,h),m=Bh(C,S),h?r.classBindings=m:r.styleBindings=m}(l,h,r,o,m,u)}}function wf(n,r,o,u,l){let h=null;const m=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<m&&(h=r[C],u=_c(u,h.hostAttrs,l),h!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function _c(n,r,o){const u=o?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?l=m:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ys(n,m,!!o||r[++h]))}return void 0===n?null:n}function $m(n,r,o,u,l,h,m,C){if(!(3&r.type))return;const S=n.data,F=S[C+1];ng(function Wg(n){return 1==(1&n)}(F)?Ec(S,r,o,l,Zu(F),m):void 0)||(ng(h)||function Pd(n){return 2==(2&n)}(F)&&(h=Ec(S,null,o,l,C,m)),function xy(n,r,o,u,l){if(r)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ss.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ss.Important),n.setStyle(o,u,l,h))}}(u,m,fs(ur(),o),l,h))}function Ec(n,r,o,u,l,h){const m=null===r;let C;for(;l>0;){const S=n[l],F=Array.isArray(S),W=F?S[1]:S,ne=null===W;let we=o[l+1];we===Qn&&(we=ne?un:void 0);let $e=ne?vi(we,u):W===u?we:void 0;if(F&&!ng($e)&&($e=vi(S,u)),ng($e)&&(C=$e,m))return C;const pt=n[l+1];l=m?Ba(pt):Zu(pt)}if(null!==r){let S=h?r.residualClasses:r.residualStyles;null!=S&&(C=vi(S,u))}return C}function ng(n){return void 0!==n}function If(n,r){return 0!=(n.flags&(r?16:32))}function Hm(n,r=""){const o=gt(),u=Un(),l=n+22,h=u.firstCreatePass?Il(u,l,1,r,null):u.data[l],m=o[l]=function j(n,r){return n.createText(r)}(o[11],r);Hu(u,o,m,h),es(h,!1)}function Jc(n){return Df("",n,""),Jc}function Df(n,r,o){const u=gt(),l=function Tl(n,r,o,u){return Ks(n,en(),o)?r+Ke(o)+u:Qn}(u,n,r,o);return l!==Qn&&Ju(u,ur(),l),Df}function rg(n,r,o,u,l){const h=gt(),m=mc(h,n,r,o,u,l);return m!==Qn&&Ju(h,ur(),m),rg}const Cc=void 0;var Zv=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let su={};function cy(n){const r=function m0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=hy(r);if(o)return o;const u=r.split("-")[0];if(o=hy(u),o)return o;if("en"===u)return Zv;throw new We(701,!1)}function dy(n){return cy(n)[Fn.PluralCase]}function hy(n){return n in su||(su[n]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[n]),su[n]}var Fn=(()=>((Fn=Fn||{})[Fn.LocaleId=0]="LocaleId",Fn[Fn.DayPeriodsFormat=1]="DayPeriodsFormat",Fn[Fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fn[Fn.DaysFormat=3]="DaysFormat",Fn[Fn.DaysStandalone=4]="DaysStandalone",Fn[Fn.MonthsFormat=5]="MonthsFormat",Fn[Fn.MonthsStandalone=6]="MonthsStandalone",Fn[Fn.Eras=7]="Eras",Fn[Fn.FirstDayOfWeek=8]="FirstDayOfWeek",Fn[Fn.WeekendRange=9]="WeekendRange",Fn[Fn.DateFormat=10]="DateFormat",Fn[Fn.TimeFormat=11]="TimeFormat",Fn[Fn.DateTimeFormat=12]="DateTimeFormat",Fn[Fn.NumberSymbols=13]="NumberSymbols",Fn[Fn.NumberFormats=14]="NumberFormats",Fn[Fn.CurrencyCode=15]="CurrencyCode",Fn[Fn.CurrencySymbol=16]="CurrencySymbol",Fn[Fn.CurrencyName=17]="CurrencyName",Fn[Fn.Currencies=18]="Currencies",Fn[Fn.Directionality=19]="Directionality",Fn[Fn.PluralCase=20]="PluralCase",Fn[Fn.ExtraData=21]="ExtraData",Fn))();const oh="en-US";let og=oh;function n_(n,r,o,u,l){if(n=ve(n),Array.isArray(n))for(let h=0;h<n.length;h++)n_(n[h],r,o,u,l);else{const h=Un(),m=gt();let C=Ta(n)?n:ve(n.provide),S=vl(n);const F=Gr(),W=1048575&F.providerIndexes,ne=F.directiveStart,we=F.providerIndexes>>20;if(Ta(n)||!n.multi){const $e=new io(S,l,El),pt=i_(C,r,l?W:W+we,ne);-1===pt?(ze(Wt(F,m),h,C),r_(h,n,r.length),r.push(C),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),o.push($e),m.push($e)):(o[pt]=$e,m[pt]=$e)}else{const $e=i_(C,r,W+we,ne),pt=i_(C,r,W,W+we),Ft=$e>=0&&o[$e],Qt=pt>=0&&o[pt];if(l&&!Qt||!l&&!Ft){ze(Wt(F,m),h,C);const Cn=function Lw(n,r,o,u,l){const h=new io(n,o,El);return h.multi=[],h.index=r,h.componentProviders=0,N0(h,l,u&&!o),h}(l?Fw:kw,o.length,l,u,S);!l&&Qt&&(o[pt].providerFactory=Cn),r_(h,n,r.length,0),r.push(C),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),o.push(Cn),m.push(Cn)}else r_(h,n,$e>-1?$e:pt,N0(o[l?pt:$e],S,!l&&u));!l&&u&&Qt&&o[pt].componentProviders++}}}function r_(n,r,o,u){const l=Ta(r),h=function wd(n){return!!n.useClass}(r);if(l||h){const S=(h?ve(r.useClass):r).prototype.ngOnDestroy;if(S){const F=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const W=F.indexOf(o);-1===W?F.push(o,[u,S]):F[W+1].push(u,S)}else F.push(o,S)}}}function N0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function i_(n,r,o,u){for(let l=o;l<u;l++)if(r[l]===n)return l;return-1}function kw(n,r,o,u){return s_(this.multi,[])}function Fw(n,r,o,u){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ha(o,o[1],this.providerFactory.index,u);h=C.slice(0,m),s_(l,h);for(let S=m;S<C.length;S++)h.push(C[S])}else h=[],s_(l,h);return h}function s_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function P0(n,r=[]){return o=>{o.providersResolver=(u,l)=>function Ow(n,r,o){const u=Un();if(u.firstCreatePass){const l=Or(n);n_(o,u.data,u.blueprint,l,!0),n_(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class Sf{}class O0{}function Vw(n,r){return new k0(n,r??null)}class k0 extends Sf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kp(this);const u=St(r);this._bootstrapComponents=jo(u.bootstrap),this._r3Injector=Fh(r,o,[{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],ue(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class o_ extends O0{constructor(r){super(),this.moduleType=r}create(r){return new k0(this.moduleType,r)}}class Uw extends Sf{constructor(r,o,u){super(),this.componentFactoryResolver=new kp(this),this.instance=null;const l=new Wf([...r,{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],o||Id(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function a_(n,r,o=null){return new Uw(n,r,o).injector}let Bw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Gf(0,o.type),l=u.length>0?a_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Vt({token:n,providedIn:"environment",factory:()=>new n(Fi(Zl))}),n})();function F0(n){n.getStandaloneInjector=r=>r.get(Bw).getOrCreateStandaloneInjector(n)}function H0(n,r,o,u){return G0(gt(),x(),n,r,o,u)}function G0(n,r,o,u,l,h){const m=r+o;return Ks(n,m,l)?function nu(n,r,o){return n[r]=o}(n,m+1,h?u.call(h,l):u(l)):function lg(n,r){const o=n[r];return o===Qn?void 0:o}(n,m+1)}function Z0(n,r){const o=Un();let u;const l=n+22;o.firstCreatePass?(u=function iI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Hi(u.type)),m=Jn(El);try{const C=On(!1),S=h();return On(C),function ff(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,gt(),l,S),S}finally{Jn(m)}}function Y0(n,r,o){const u=n+22,l=gt(),h=zi(l,u);return function cg(n,r){return n[1].data[r].pure}(l,u)?G0(l,x(),r,h.transform,o,h):h.transform(o)}function l_(n){return r=>{setTimeout(n,void 0,r)}}const Rl=class lI extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let l=r,h=o||(()=>null),m=u;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),h=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(h=l_(h),l&&(l=l_(l)),m&&(m=l_(m)));const C=super.subscribe({next:l,error:h,complete:m});return r instanceof U.w0&&r.add(C),C}};function cI(){return this._results[fc()]()}class c_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fc(),u=c_.prototype;u[o]||(u[o]=cI)}get changes(){return this._changes||(this._changes=new Rl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const l=Ai(r);(this._changesDetected=!function _a(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=r[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();const dI=dg,hI=class extends dI{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r,o){const u=this._declarationTContainer.tViews,l=Ld(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(u)),Cl(u,l,r),new Hd(l)}};function fI(){return _y(Gr(),gt())}function _y(n,r){return 4&n.type?new hI(r,n,Xl(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(){return X0(Gr(),gt())}const gI=Ey,Q0=class extends gI{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const r=Bt(this._hostTNode,this._hostLView);if(or(r)){const o=gn(r,this._hostLView),u=Hn(r);return new Wa(o[1].data[u+8],o)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=J0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const m=r.createEmbeddedView(o||{},h);return this.insert(m,l),m}createComponent(r,o,u,l,h){const m=r&&!function Jo(n){return"function"==typeof n}(r);let C;if(m)C=o;else{const ne=o||{};C=ne.index,u=ne.injector,l=ne.projectableNodes,h=ne.environmentInjector||ne.ngModuleRef}const S=m?r:new Gc(q(r)),F=u||this.parentInjector;if(!h&&null==S.ngModule){const we=(m?F:this.parentInjector).get(Zl,null);we&&(h=we)}const W=S.create(F,l,void 0,h);return this.insert(W.hostView,C),W}insert(r,o){const u=r._lView,l=u[1];if(function eo(n){return Tr(n[3])}(u)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const ne=u[3],we=new Q0(ne,ne[6],ne[3]);we.detach(we.indexOf(r))}}const h=this._adjustIndex(o),m=this._lContainer;!function Ao(n,r,o,u){const l=10+u,h=o.length;u>0&&(o[l-1][4]=r),u<h-10?(r[4]=o[l],au(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const m=r[17];null!==m&&o!==m&&function zs(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(m,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=64}(l,u,m,h);const C=Gu(h,m),S=u[11],F=ld(S,m[7]);return null!==F&&function Kt(n,r,o,u,l,h){u[0]=l,u[6]=r,Mc(n,u,o,1,l,h)}(l,m[6],S,u,F,C),r.attachToViewContainerRef(),au(d_(m),h,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=J0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=As(this._lContainer,o);u&&(Hs(d_(this._lContainer),o),Hl(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=As(this._lContainer,o);return u&&null!=Hs(d_(this._lContainer),o)?new Hd(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function J0(n){return n[8]}function d_(n){return n[8]||(n[8]=[])}function X0(n,r){let o;const u=r[n.index];if(Tr(u))o=u;else{let l;if(8&n.type)l=Er(u);else{const h=r[11];l=h.createComment("");const m=Wr(n,r);Ja(h,ld(h,m),l,function fg(n,r){return n.nextSibling(r)}(h,m),!1)}r[n.index]=o=tf(u,r,l,n),$c(r,o)}return new Q0(o,n,r)}class h_{constructor(r){this.queryList=r,this.matches=null}clone(){return new h_(this.queryList)}setDirty(){this.queryList.setDirty()}}class f_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new f_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==aE(r,o).matches&&this.queries[o].setDirty()}}class eE{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class p_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(r,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new p_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class g_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new g_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(r,o,vI(o,h)),this.matchTNodeWithReadOption(r,o,Yo(o,r,h,!1,!1))}else u===dg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Yo(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ec||l===Ey||l===dg&&4&o.type)this.addMatch(o.index,-2);else{const h=Yo(o,r,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function vI(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function EI(n,r,o,u){return-1===o?function _I(n,r){return 11&n.type?Xl(n,r):4&n.type?_y(n,r):null}(r,n):-2===o?function wI(n,r,o){return o===ec?Xl(r,n):o===dg?_y(r,n):o===Ey?X0(r,n):void 0}(n,r,u):ha(n,n[1],o,r)}function tE(n,r,o,u){const l=r[19].queries[u];if(null===l.matches){const h=n.data,m=o.matches,C=[];for(let S=0;S<m.length;S+=2){const F=m[S];C.push(F<0?null:EI(r,h[F],m[S+1],o.metadata.read))}l.matches=C}return l.matches}function m_(n,r,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const m=tE(n,r,l,o);for(let C=0;C<h.length;C+=2){const S=h[C];if(S>0)u.push(m[C/2]);else{const F=h[C+1],W=r[-S];for(let ne=10;ne<W.length;ne++){const we=W[ne];we[17]===we[3]&&m_(we[1],we,F,u)}if(null!==W[9]){const ne=W[9];for(let we=0;we<ne.length;we++){const $e=ne[we];m_($e[1],$e,F,u)}}}}}return u}function nE(n){const r=gt(),o=Un(),u=Oo();ki(u+1);const l=aE(o,u);if(n.dirty&&function vo(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?m_(o,r,u,[]):tE(o,r,l,u);n.reset(h,qf),n.notifyOnChanges()}return!0}return!1}function rE(n,r,o,u){const l=Un();if(l.firstCreatePass){const h=Gr();(function oE(n,r,o){null===n.queries&&(n.queries=new p_),n.queries.track(new g_(r,o))})(l,new eE(r,o,u),h.index),function CI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function sE(n,r,o){const u=new c_(4==(4&o));Yh(n,r,u,u.destroy),null===r[19]&&(r[19]=new f_),r[19].queries.push(new h_(u))}(l,gt(),o)}function iE(){return function DI(n,r){return n[19].queries[r].queryList}(gt(),Oo())}function aE(n,r){return n.queries.getByIndex(r)}function Iy(...n){}const TE=new yr("Application Initializer");let Dy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Zd(h))o.push(h);else if(mf(h)){const m=new Promise((C,S)=>{h.subscribe({complete:C,error:S})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Fi(TE,8))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AE=new yr("AppId",{providedIn:"root",factory:function SE(){return`${w_()}${w_()}${w_()}`}});function w_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ME=new yr("Platform Initializer"),zI=new yr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xE=new yr("appBootstrapListener");let WI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new yr("LocaleId",{providedIn:"root",factory:()=>Fl(Cy,Ct.Optional|Ct.SkipSelf)||function KI(){return typeof $localize<"u"&&$localize.locale||oh}()}),qI=new yr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let YI=(()=>{class n{compileModuleSync(o){return new o_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=jo(St(o).declarations).reduce((m,C)=>{const S=q(C);return S&&m.push(new Gc(S)),m},[]);return new ZI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function I_(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function eD(){let n=Rn.requestAnimationFrame,r=Rn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function nD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,D_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,m,C)=>{try{return PE(n),o.invokeTask(l,h,m,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),OE(n)}},onInvoke:(o,u,l,h,m,C,S)=>{try{return PE(n),o.invoke(l,h,m,C,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),OE(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,C_(n),D_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new We(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,r,tD,Iy,Iy);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function D_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function PE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OE(n){n._nesting--,D_(n)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,l){return r.apply(o,u)}}const kE=new yr(""),FE=new yr("");let b_,sD=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b_||(function oD(n){b_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),I_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Fi(Mu),Fi(LE),Fi(FE))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac}),n})(),LE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return b_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xc=null;const VE=new yr("AllowMultipleToken"),T_=new yr("PlatformDestroyListeners");class lD{constructor(r,o){this.name=r,this.token=o}}function BE(n,r,o=[]){const u=`Platform: ${r}`,l=new yr(u);return(h=[])=>{let m=A_();if(!m||m.injector.get(VE,!1)){const C=[...o,...h,{provide:l,useValue:!0}];n?n(C):function cD(n){if(Xc&&!Xc.get(VE,!1))throw new We(400,!1);Xc=n;const r=n.get($E);(function UE(n){const r=n.get(ME,null);r&&r.forEach(o=>o())})(n)}(function jE(n=[],r){return eu.create({name:r,providers:[{provide:bh,useValue:"platform"},{provide:T_,useValue:new Set([()=>Xc=null])},...n]})}(C,u))}return function hD(n){const r=A_();if(!r)throw new We(401,!1);return r}()}}function A_(){return Xc?.get($E)??null}let $E=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function GE(n,r){let o;return o="noop"===n?new iD:("zone.js"===n?void 0:n)||new Mu(r),o}(u?.ngZone,function HE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Mu,useValue:l}];return l.run(()=>{const m=eu.create({providers:h,parent:this.injector,name:o.moduleType.name}),C=o.create(m),S=C.injector.get(Vc,null);if(!S)throw new We(402,!1);return l.runOutsideAngular(()=>{const F=l.onError.subscribe({next:W=>{S.handleError(W)}});C.onDestroy(()=>{Ty(this._modules,C),F.unsubscribe()})}),function zE(n,r,o){try{const u=o();return Zd(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(S,l,()=>{const F=C.injector.get(Dy);return F.runInitializers(),F.donePromise.then(()=>(function el(n){Be(n,"Expected localeId to be defined"),"string"==typeof n&&(og=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Cy,oh)||oh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=WE({},u);return function aD(n,r,o){const u=new o_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(by);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new We(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(T_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Fi(eu))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function WE(n,r){return Array.isArray(r)?r.reduce(WE,n):{...n,...r}}let by=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new $.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new $.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),I_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),F.unsubscribe()}});this.isStable=(0,me.T)(h,m.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Ku;if(!this._injector.get(Dy).done)throw!l&&rt(o),new We(405,false);let m;m=l?o:this._injector.get(Jl).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const C=function uD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Sf),F=m.create(eu.NULL,[],u||m.selector,C),W=F.location.nativeElement,ne=F.injector.get(kE,null);return ne?.registerApplication(W),F.onDestroy(()=>{this.detachView(F.hostView),Ty(this.components,F),ne?.unregisterApplication(W)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ty(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(xE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ty(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new We(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Fi(Mu),Fi(Zl),Fi(Vc))},n.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let qE=!0,ZE=!1;function pD(){return ZE=!0,qE}function gD(){if(ZE)throw new Error("Cannot enable prod mode after platform setup.");qE=!1}let mD=(()=>{class n{}return n.__NG_ELEMENT_ID__=yD,n})();function yD(n){return function vD(n,r,o){if(Ri(n)&&!o){const u=di(n.index,r);return new Hd(u,u)}return 47&n.type?new Hd(r[16],r):null}(Gr(),gt(),16==(16&n))}class XE{constructor(){}supports(r){return zd(r)}create(r){return new CD(r)}}const DD=(n,r)=>r;class CD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<tw(u,l,h)?o:u,C=tw(m,l,h),S=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const F=C-l,W=S-l;if(F!=W){for(let we=0;we<F;we++){const $e=we<h.length?h[we]:h[we]=0,pt=$e+we;W<=pt&&pt<F&&(h[we]=$e+1)}h[m.previousIndex]=W-F}}C!==S&&r(m,C,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!zd(r))throw new We(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,m,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],m=this._trackByFn(C,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,C)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,C),u=!0),o=o._next}else l=0,function jp(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[fc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,C=>{m=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,C,m,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,l)):r=this._addAfter(new bD(o,u),h,l),r}_verifyReinsertion(r,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class ew{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new TD,this.map.set(o,u)),u.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,r,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+r+l}class nw{constructor(){}supports(r){return r instanceof Map||Wd(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Wd(r)))throw new We(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const u=new SD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new N_([new XE])}let N_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||rw()),deps:[[n,new hi,new vr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new We(901,!1)}}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:rw}),n})();function iw(){return new P_([new nw])}let P_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||iw()),deps:[[n,new hi,new vr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new We(901,!1)}}return n.\u0275prov=Vt({token:n,providedIn:"root",factory:iw}),n})();const RD=BE(null,"core",[]);let ND=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Fi(by))},n.\u0275mod=Le({type:n}),n.\u0275inj=Zt({}),n})();function PD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Gt,Ge,k)=>{k.d(Ge,{Wl:()=>Ke,Fj:()=>fe,u5:()=>no,JJ:()=>_n,JL:()=>an,F:()=>Lr,On:()=>be,YN:()=>go,wV:()=>ut,UX:()=>ro,Q7:()=>Xr,_Y:()=>_e,Kr:()=>mo});var p=k(4650),U=k(6895),$=k(8996),me=k(9751),de=k(4742),Te=k(8421),Ae=k(7669),ue=k(5403),Ne=k(3268),re=k(1810),ve=k(4004);let dt=(()=>{class O{constructor(x,Z){this._renderer=x,this._elementRef=Z,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(x,Z){this._renderer.setProperty(this._elementRef.nativeElement,x,Z)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(p.Qsj),p.Y36(p.SBq))},O.\u0275dir=p.lG2({type:O}),O})(),it=(()=>{class O extends dt{}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,features:[p.qOj]}),O})();const We=new p.OlP("NgValueAccessor"),Mt={provide:We,useExisting:(0,p.Gpc)(()=>Ke),multi:!0};let Ke=(()=>{class O extends it{writeValue(x){this.setProperty("checked",x)}}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(x,Z){1&x&&p.NdJ("change",function(en){return Z.onChange(en.target.checked)})("blur",function(){return Z.onTouched()})},features:[p._Bn([Mt]),p.qOj]}),O})();const ke={provide:We,useExisting:(0,p.Gpc)(()=>fe),multi:!0},vt=new p.OlP("CompositionEventMode");let fe=(()=>{class O extends dt{constructor(x,Z,Ye){super(x,Z),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bt(){const O=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(vt,8))},O.\u0275dir=p.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,Z){1&x&&p.NdJ("input",function(en){return Z._handleInput(en.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(en){return Z._compositionEnd(en.target.value)})},features:[p._Bn([ke]),p.qOj]}),O})();const Ze=new p.OlP("NgValidators"),Ie=new p.OlP("NgAsyncValidators");function Rt(O){return function Ce(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}(O.value)?{required:!0}:null}function He(O){return null}function st(O){return null!=O}function ct(O){return(0,p.QGY)(O)?(0,$.D)(O):O}function Et(O){let R={};return O.forEach(x=>{R=null!=x?{...R,...x}:R}),0===Object.keys(R).length?null:R}function Vt(O,R){return R.map(x=>x(O))}function Zt(O){return O.map(R=>function At(O){return!O.validate}(R)?R:x=>R.validate(x))}function yn(O){return null!=O?function ln(O){if(!O)return null;const R=O.filter(st);return 0==R.length?null:function(x){return Et(Vt(x,R))}}(Zt(O)):null}function tr(O){return null!=O?function zn(O){if(!O)return null;const R=O.filter(st);return 0==R.length?null:function(x){return function ce(...O){const R=(0,Ae.jO)(O),{args:x,keys:Z}=(0,de.D)(O),Ye=new me.y(en=>{const{length:$n}=x;if(!$n)return void en.complete();const ti=new Array($n);let Ki=$n,bi=$n;for(let Ds=0;Ds<$n;Ds++){let Ls=!1;(0,Te.Xf)(x[Ds]).subscribe((0,ue.x)(en,Eo=>{Ls||(Ls=!0,bi--),ti[Ds]=Eo},()=>Ki--,void 0,()=>{(!Ki||!Ls)&&(bi||en.next(Z?(0,re.n)(Z,ti):ti),en.complete())}))}});return R?Ye.pipe((0,Ne.Z)(R)):Ye}(Vt(x,R).map(ct)).pipe((0,ve.U)(Et))}}(Zt(O)):null}function jn(O,R){return null===O?[R]:Array.isArray(O)?[...O,R]:[O,R]}function Wn(O){return O?Array.isArray(O)?O:[O]:[]}function Cr(O,R){return Array.isArray(O)?O.includes(R):O===R}function cr(O,R){const x=Wn(R);return Wn(O).forEach(Ye=>{Cr(x,Ye)||x.push(Ye)}),x}function Ct(O,R){return Wn(R).filter(x=>!Cr(O,x))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,x){return!!this.control&&this.control.hasError(R,x)}getError(R,x){return this.control?this.control.getError(R,x):null}}class hn extends An{get formDirective(){return null}get path(){return null}}class Jn extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jr{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _n=(()=>{class O extends jr{constructor(x){super(x)}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(Jn,2))},O.\u0275dir=p.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,Z){2&x&&p.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[p.qOj]}),O})(),an=(()=>{class O extends jr{constructor(x){super(x)}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(hn,10))},O.\u0275dir=p.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,Z){2&x&&p.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[p.qOj]}),O})();const Le="VALID",wt="INVALID",ie="PENDING",oe="DISABLED";function Y(O){return(rt(O)?O.validators:O)||null}function q(O){return Array.isArray(O)?yn(O):O||null}function H(O,R){return(rt(R)?R.asyncValidators:O)||null}function Ee(O){return Array.isArray(O)?tr(O):O||null}function rt(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}class te{constructor(R,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=x,this._composedValidatorFn=q(this._rawValidators),this._composedAsyncValidatorFn=Ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Le}get invalid(){return this.status===wt}get pending(){return this.status==ie}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=q(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Ee(R)}addValidators(R){this.setValidators(cr(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(cr(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Ct(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Ct(R,this._rawAsyncValidators))}hasValidator(R){return Cr(this._rawValidators,R)}hasAsyncValidator(R){return Cr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=ie,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=oe,this.errors=null,this._forEachChild(Z=>{Z.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:x}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=Le,this._forEachChild(Z=>{Z.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:x}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Le||this.status===ie)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:Le}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=ie,this._hasOwnPendingAsyncValidator=!0;const x=ct(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,x={}){this.errors=R,this._updateControlsErrors(!1!==x.emitEvent)}get(R){let x=R;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((Z,Ye)=>Z&&Z._find(Ye),this)}getError(R,x){const Z=x?this.get(x):this;return Z&&Z.errors?Z.errors[R]:null}hasError(R,x){return!!this.getError(R,x)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ie)?ie:this._anyControlsHaveStatus(wt)?wt:Le}_anyControlsHaveStatus(R){return this._anyControls(x=>x.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){rt(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}class se extends te{constructor(R,x,Z){super(Y(x),H(Z,x)),this.controls=R,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,x){return this.controls[R]?this.controls[R]:(this.controls[R]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(R,x,Z={}){this.registerControl(R,x),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(R,x={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(R,x,Z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],x&&this.registerControl(R,x),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,x={}){(function Yt(O,R,x){O._forEachChild((Z,Ye)=>{if(void 0===x[Ye])throw new p.vHH(1002,"")})})(this,0,R),Object.keys(R).forEach(Z=>{(function St(O,R,x){const Z=O.controls;if(!(R?Object.keys(Z):Z).length)throw new p.vHH(1e3,"");if(!Z[x])throw new p.vHH(1001,"")})(this,!0,Z),this.controls[Z].setValue(R[Z],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(R,x={}){null!=R&&(Object.keys(R).forEach(Z=>{const Ye=this.controls[Z];Ye&&Ye.patchValue(R[Z],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(R={},x={}){this._forEachChild((Z,Ye)=>{Z.reset(R[Ye],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(R,x,Z)=>(R[Z]=x.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(x,Z)=>!!Z._syncPendingControls()||x);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(x=>{const Z=this.controls[x];Z&&R(Z,x)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[x,Z]of Object.entries(this.controls))if(this.contains(x)&&R(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,Z,Ye)=>((Z.enabled||this.disabled)&&(x[Ye]=Z.value),x))}_reduceChildren(R,x){let Z=R;return this._forEachChild((Ye,en)=>{Z=x(Z,Ye,en)}),Z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}function xe(O,R){pn(O,R),R.valueAccessor.writeValue(O.value),O.disabled&&R.valueAccessor.setDisabledState?.(!0),function Nn(O,R){R.valueAccessor.registerOnChange(x=>{O._pendingValue=x,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&xn(O,R)})}(O,R),function Zr(O,R){const x=(Z,Ye)=>{R.valueAccessor.writeValue(Z),Ye&&R.viewToModelUpdate(Z)};O.registerOnChange(x),R._registerOnDestroy(()=>{O._unregisterOnChange(x)})}(O,R),function Nr(O,R){R.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&xn(O,R),"submit"!==O.updateOn&&O.markAsTouched()})}(O,R),function ft(O,R){if(R.valueAccessor.setDisabledState){const x=Z=>{R.valueAccessor.setDisabledState(Z)};O.registerOnDisabledChange(x),R._registerOnDestroy(()=>{O._unregisterOnDisabledChange(x)})}}(O,R)}function ht(O,R){O.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(R)})}function pn(O,R){const x=function Bn(O){return O._rawValidators}(O);null!==R.validator?O.setValidators(jn(x,R.validator)):"function"==typeof x&&O.setValidators([x]);const Z=function $t(O){return O._rawAsyncValidators}(O);null!==R.asyncValidator?O.setAsyncValidators(jn(Z,R.asyncValidator)):"function"==typeof Z&&O.setAsyncValidators([Z]);const Ye=()=>O.updateValueAndValidity();ht(R._rawValidators,Ye),ht(R._rawAsyncValidators,Ye)}function xn(O,R){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}const Pr={provide:hn,useExisting:(0,p.Gpc)(()=>Lr)},gi=(()=>Promise.resolve())();let Lr=(()=>{class O extends hn{constructor(x,Z){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new se({},yn(x),tr(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){gi.then(()=>{const Z=this._findContainer(x.path);x.control=Z.registerControl(x.name,x.control),xe(x.control,x),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){gi.then(()=>{const Z=this._findContainer(x.path);Z&&Z.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){gi.then(()=>{const Z=this._findContainer(x.path),Ye=new se({});(function Yr(O,R){pn(O,R)})(Ye,x),Z.registerControl(x.name,Ye),Ye.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){gi.then(()=>{const Z=this._findContainer(x.path);Z&&Z.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,Z){gi.then(()=>{this.form.get(x.path).setValue(Z)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,function br(O,R){O._syncPendingControls(),R.forEach(x=>{const Z=x.control;"submit"===Z.updateOn&&Z._pendingChange&&(x.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(Ze,10),p.Y36(Ie,10))},O.\u0275dir=p.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,Z){1&x&&p.NdJ("submit",function(en){return Z.onSubmit(en)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Pr]),p.qOj]}),O})();function Tr(O,R){const x=O.indexOf(R);x>-1&&O.splice(x,1)}function Ns(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const Ri=class extends te{constructor(R=null,x,Z){super(Y(x),H(Z,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rt(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Ns(R)?R.value:R)}setValue(R,x={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(R,x={}){this.setValue(R,x)}reset(R=this.defaultValue,x={}){this._applyFormState(R),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Tr(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Tr(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Ns(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},fo={provide:Jn,useExisting:(0,p.Gpc)(()=>be)},po=(()=>Promise.resolve())();let be=(()=>{class O extends Jn{constructor(x,Z,Ye,en,$n){super(),this._changeDetectorRef=$n,this.control=new Ri,this._registered=!1,this.update=new p.vpe,this._parent=x,this._setValidators(Z),this._setAsyncValidators(Ye),this.valueAccessor=function Bi(O,R){if(!R)return null;let x,Z,Ye;return Array.isArray(R),R.forEach(en=>{en.constructor===fe?x=en:function pi(O){return Object.getPrototypeOf(O.constructor)===it}(en)?Z=en:Ye=en}),Ye||Z||x||null}(0,en)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const Z=x.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function Zs(O,R){if(!O.hasOwnProperty("model"))return!1;const x=O.model;return!!x.isFirstChange()||!Object.is(R,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){po.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const Z=x.isDisabled.currentValue,Ye=0!==Z&&(0,p.D6c)(Z);po.then(()=>{Ye&&!this.control.disabled?this.control.disable():!Ye&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function tn(O,R){return[...R.path,O]}(x,this._parent):[x]}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(hn,9),p.Y36(Ze,10),p.Y36(Ie,10),p.Y36(We,10),p.Y36(p.sBO,8))},O.\u0275dir=p.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([fo]),p.qOj,p.TTD]}),O})(),_e=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275dir=p.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const Oe={provide:We,useExisting:(0,p.Gpc)(()=>ut),multi:!0};let ut=(()=>{class O extends it{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=Z=>{x(""==Z?null:parseFloat(Z))}}}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,Z){1&x&&p.NdJ("input",function(en){return Z.onChange(en.target.value)})("blur",function(){return Z.onTouched()})},features:[p._Bn([Oe]),p.qOj]}),O})(),qn=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({}),O})();const kr=new p.OlP("NgModelWithFormControlWarning"),Pi={provide:We,useExisting:(0,p.Gpc)(()=>ci),multi:!0};function Js(O,R){return null==O?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${O}: ${R}`.slice(0,50))}let ci=(()=>{class O extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const Ye=Js(this._getOptionId(x),x);this.setProperty("value",Ye)}registerOnChange(x){this.onChange=Z=>{this.value=this._getOptionValue(Z),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),x))return Z;return null}_getOptionValue(x){const Z=function Hr(O){return O.split(":")[0]}(x);return this._optionMap.has(Z)?this._optionMap.get(Z):x}}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(x,Z){1&x&&p.NdJ("change",function(en){return Z.onChange(en.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Pi]),p.qOj]}),O})(),go=(()=>{class O{constructor(x,Z,Ye){this._element=x,this._renderer=Z,this._select=Ye,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Js(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(ci,9))},O.\u0275dir=p.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})();const Xs={provide:We,useExisting:(0,p.Gpc)(()=>hs),multi:!0};function Ma(O,R){return null==O?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${O}: ${R}`.slice(0,50))}let hs=(()=>{class O extends it{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let Z;if(this.value=x,Array.isArray(x)){const Ye=x.map(en=>this._getOptionId(en));Z=(en,$n)=>{en._setSelected(Ye.indexOf($n.toString())>-1)}}else Z=(Ye,en)=>{Ye._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(x){this.onChange=Z=>{const Ye=[],en=Z.selectedOptions;if(void 0!==en){const $n=en;for(let ti=0;ti<$n.length;ti++){const bi=this._getOptionValue($n[ti].value);Ye.push(bi)}}else{const $n=Z.options;for(let ti=0;ti<$n.length;ti++){const Ki=$n[ti];if(Ki.selected){const bi=this._getOptionValue(Ki.value);Ye.push(bi)}}}this.value=Ye,x(Ye)}}_registerOption(x){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,x),Z}_getOptionId(x){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,x))return Z;return null}_getOptionValue(x){const Z=function oa(O){return O.split(":")[0]}(x);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:x}}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(x,Z){1&x&&p.NdJ("change",function(en){return Z.onChange(en.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Xs]),p.qOj]}),O})(),mo=(()=>{class O{constructor(x,Z,Ye){this._element=x,this._renderer=Z,this._select=Ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(Ma(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(Ma(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(x){return new(x||O)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(hs,9))},O.\u0275dir=p.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})(),Gi=(()=>{class O{constructor(){this._validator=He}ngOnChanges(x){if(this.inputName in x){const Z=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):He,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275dir=p.lG2({type:O,features:[p.TTD]}),O})();const No={provide:Ze,useExisting:(0,p.Gpc)(()=>Xr),multi:!0};let Xr=(()=>{class O extends Gi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=x=>Rt}enabled(x){return x}}return O.\u0275fac=function(){let R;return function(Z){return(R||(R=p.n5z(O)))(Z||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,Z){2&x&&p.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([No]),p.qOj]}),O})(),Un=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[qn]}),O})(),no=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[Un]}),O})(),ro=(()=>{class O{static withConfig(x){return{ngModule:O,providers:[{provide:kr,useValue:x.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[Un]}),O})()},1481:(Gt,Ge,k)=>{k.d(Ge,{Dx:()=>_n,b2:()=>hn,q6:()=>Cr});var p=k(6895),U=k(4650);class $ extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends ${static makeCurrent(){(0,p.HT)(new me)}onAndCancel(se,X,Se){return se.addEventListener(X,Se,!1),()=>{se.removeEventListener(X,Se,!1)}}dispatchEvent(se,X){se.dispatchEvent(X)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,X){return(X=X||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,X){return"window"===X?window:"document"===X?se:"body"===X?se.body:null}getBaseHref(se){const X=function Te(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==X?null:function ue(te){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",te);const se=Ae.pathname;return"/"===se.charAt(0)?se:`/${se}`}(X)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,p.Mx)(document.cookie,se)}}let Ae,de=null;const Ne=new U.OlP("TRANSITION_ID"),ce=[{provide:U.ip1,useFactory:function re(te,se,X){return()=>{X.get(U.CZH).donePromise.then(()=>{const Se=(0,p.q)(),je=se.querySelectorAll(`style[ng-transition="${te}"]`);for(let Nt=0;Nt<je.length;Nt++)Se.remove(je[Nt])})}},deps:[Ne,p.K0,U.zs3],multi:!0}];let dt=(()=>{class te{build(){return new XMLHttpRequest}}return te.\u0275fac=function(X){return new(X||te)},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const it=new U.OlP("EventManagerPlugins");let We=(()=>{class te{constructor(X,Se){this._zone=Se,this._eventNameToPlugin=new Map,X.forEach(je=>je.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,Se,je){return this._findPluginFor(Se).addEventListener(X,Se,je)}addGlobalEventListener(X,Se,je){return this._findPluginFor(Se).addGlobalEventListener(X,Se,je)}getZone(){return this._zone}_findPluginFor(X){const Se=this._eventNameToPlugin.get(X);if(Se)return Se;const je=this._plugins;for(let Nt=0;Nt<je.length;Nt++){const tn=je[Nt];if(tn.supports(X))return this._eventNameToPlugin.set(X,tn),tn}throw new Error(`No event manager plugin found for event ${X}`)}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(it),U.LFG(U.R0b))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();class Mt{constructor(se){this._doc=se}addGlobalEventListener(se,X,Se){const je=(0,p.q)().getGlobalEventTarget(this._doc,se);if(!je)throw new Error(`Unsupported event target ${je} for event ${X}`);return this.addEventListener(je,X,Se)}}let Ke=(()=>{class te{constructor(){this._stylesSet=new Set}addStyles(X){const Se=new Set;X.forEach(je=>{this._stylesSet.has(je)||(this._stylesSet.add(je),Se.add(je))}),this.onStylesAdded(Se)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return te.\u0275fac=function(X){return new(X||te)},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})(),ke=(()=>{class te extends Ke{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,Se,je){X.forEach(Nt=>{const tn=this._doc.createElement("style");tn.textContent=Nt,je.push(Se.appendChild(tn))})}addHost(X){const Se=[];this._addStylesToHost(this._stylesSet,X,Se),this._hostNodes.set(X,Se)}removeHost(X){const Se=this._hostNodes.get(X);Se&&Se.forEach(bt),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((Se,je)=>{this._addStylesToHost(X,je,Se)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(bt))}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();function bt(te){(0,p.q)().remove(te)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fe=/%COMP%/g;function qt(te,se,X){for(let Se=0;Se<se.length;Se++){let je=se[Se];Array.isArray(je)?qt(te,je,X):(je=je.replace(fe,te),X.push(je))}return X}function _t(te){return se=>{if("__ngUnwrap__"===se)return te;!1===te(se)&&(se.preventDefault(),se.returnValue=!1)}}let Rt=(()=>{class te{constructor(X,Se,je){this.eventManager=X,this.sharedStylesHost=Se,this.appId=je,this.rendererByCompId=new Map,this.defaultRenderer=new Dr(X)}createRenderer(X,Se){if(!X||!Se)return this.defaultRenderer;switch(Se.encapsulation){case U.ifc.Emulated:{let je=this.rendererByCompId.get(Se.id);return je||(je=new Be(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,je)),je.applyToHost(X),je}case 1:case U.ifc.ShadowDom:return new He(this.eventManager,this.sharedStylesHost,X,Se);default:if(!this.rendererByCompId.has(Se.id)){const je=qt(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(je),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(We),U.LFG(ke),U.LFG(U.AFp))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();class Dr{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,X){return X?document.createElementNS(vt[X]||X,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,X){(Fe(se)?se.content:se).appendChild(X)}insertBefore(se,X,Se){se&&(Fe(se)?se.content:se).insertBefore(X,Se)}removeChild(se,X){se&&se.removeChild(X)}selectRootElement(se,X){let Se="string"==typeof se?document.querySelector(se):se;if(!Se)throw new Error(`The selector "${se}" did not match any elements`);return X||(Se.textContent=""),Se}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,X,Se,je){if(je){X=je+":"+X;const Nt=vt[je];Nt?se.setAttributeNS(Nt,X,Se):se.setAttribute(X,Se)}else se.setAttribute(X,Se)}removeAttribute(se,X,Se){if(Se){const je=vt[Se];je?se.removeAttributeNS(je,X):se.removeAttribute(`${Se}:${X}`)}else se.removeAttribute(X)}addClass(se,X){se.classList.add(X)}removeClass(se,X){se.classList.remove(X)}setStyle(se,X,Se,je){je&(U.JOm.DashCase|U.JOm.Important)?se.style.setProperty(X,Se,je&U.JOm.Important?"important":""):se.style[X]=Se}removeStyle(se,X,Se){Se&U.JOm.DashCase?se.style.removeProperty(X):se.style[X]=""}setProperty(se,X,Se){se[X]=Se}setValue(se,X){se.nodeValue=X}listen(se,X,Se){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,X,_t(Se)):this.eventManager.addEventListener(se,X,_t(Se))}}function Fe(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Be extends Dr{constructor(se,X,Se,je){super(se),this.component=Se;const Nt=qt(je+"-"+Se.id,Se.styles,[]);X.addStyles(Nt),this.contentAttr=function Ie(te){return"_ngcontent-%COMP%".replace(fe,te)}(je+"-"+Se.id),this.hostAttr=function It(te){return"_nghost-%COMP%".replace(fe,te)}(je+"-"+Se.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,X){const Se=super.createElement(se,X);return super.setAttribute(Se,this.contentAttr,""),Se}}class He extends Dr{constructor(se,X,Se,je){super(se),this.sharedStylesHost=X,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=qt(je.id,je.styles,[]);for(let tn=0;tn<Nt.length;tn++){const xe=document.createElement("style");xe.textContent=Nt[tn],this.shadowRoot.appendChild(xe)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,X){return super.appendChild(this.nodeOrShadowRoot(se),X)}insertBefore(se,X,Se){return super.insertBefore(this.nodeOrShadowRoot(se),X,Se)}removeChild(se,X){return super.removeChild(this.nodeOrShadowRoot(se),X)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let st=(()=>{class te extends Mt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,Se,je){return X.addEventListener(Se,je,!1),()=>this.removeEventListener(X,Se,je)}removeEventListener(X,Se,je){return X.removeEventListener(Se,je)}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const ct=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let At=(()=>{class te extends Mt{constructor(X){super(X)}supports(X){return null!=te.parseEventName(X)}addEventListener(X,Se,je){const Nt=te.parseEventName(Se),tn=te.eventCallback(Nt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(X,Nt.domEventName,tn))}static parseEventName(X){const Se=X.toLowerCase().split("."),je=Se.shift();if(0===Se.length||"keydown"!==je&&"keyup"!==je)return null;const Nt=te._normalizeKey(Se.pop());let tn="",xe=Se.indexOf("code");if(xe>-1&&(Se.splice(xe,1),tn="code."),ct.forEach(ht=>{const ft=Se.indexOf(ht);ft>-1&&(Se.splice(ft,1),tn+=ht+".")}),tn+=Nt,0!=Se.length||0===Nt.length)return null;const Re={};return Re.domEventName=je,Re.fullKey=tn,Re}static matchEventFullKeyCode(X,Se){let je=Et[X.key]||X.key,Nt="";return Se.indexOf("code.")>-1&&(je=X.code,Nt="code."),!(null==je||!je)&&(je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),ct.forEach(tn=>{tn!==je&&(0,Vt[tn])(X)&&(Nt+=tn+".")}),Nt+=je,Nt===Se)}static eventCallback(X,Se,je){return Nt=>{te.matchEventFullKeyCode(Nt,X)&&je.runGuarded(()=>Se(Nt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const Cr=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:p.bD},{provide:U.g9A,useValue:function jn(){me.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function $t(){return(0,U.RDi)(document),document},deps:[]}]),cr=new U.OlP(""),Ct=[{provide:U.rWj,useClass:class ve{addToWindow(se){U.dqk.getAngularTestability=(Se,je=!0)=>{const Nt=se.findTestabilityInTree(Se,je);if(null==Nt)throw new Error("Could not find testability for element.");return Nt},U.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(Se=>{const je=U.dqk.getAllAngularTestabilities();let Nt=je.length,tn=!1;const xe=function(Re){tn=tn||Re,Nt--,0==Nt&&Se(tn)};je.forEach(function(Re){Re.whenStable(xe)})})}findTestabilityInTree(se,X,Se){return null==X?null:se.getTestability(X)??(Se?(0,p.q)().isShadowRoot(X)?this.findTestabilityInTree(se,X.host,!0):this.findTestabilityInTree(se,X.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],An=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function Bn(){return new U.qLn},deps:[]},{provide:it,useClass:st,multi:!0,deps:[p.K0,U.R0b,U.Lbi]},{provide:it,useClass:At,multi:!0,deps:[p.K0]},{provide:Rt,useClass:Rt,deps:[We,ke,U.AFp]},{provide:U.FYo,useExisting:Rt},{provide:Ke,useExisting:ke},{provide:ke,useClass:ke,deps:[p.K0]},{provide:We,useClass:We,deps:[it,U.R0b]},{provide:p.JF,useClass:dt,deps:[]},[]];let hn=(()=>{class te{constructor(X){}static withServerTransition(X){return{ngModule:te,providers:[{provide:U.AFp,useValue:X.appId},{provide:Ne,useExisting:U.AFp},ce]}}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(cr,12))},te.\u0275mod=U.oAB({type:te}),te.\u0275inj=U.cJS({providers:[...An,...Ct],imports:[p.ez,U.hGG]}),te})(),_n=(()=>{class te{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return te.\u0275fac=function(X){return new(X||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:function(X){let Se=null;return Se=X?new X:function dr(){return new _n((0,U.LFG)(p.K0))}(),Se},providedIn:"root"}),te})();typeof window<"u"&&window},9051:(Gt,Ge,k)=>{k.d(Ge,{F0:()=>rn,rH:()=>Rr,yS:()=>dn,Bz:()=>Ra,lC:()=>yo});var p=k(4650),U=k(8996),$=k(9646),me=k(7579);class de extends me.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const y=super._subscribe(E);return!y.closed&&E.next(this._value),y}getValue(){const{hasError:E,thrownError:y,_value:T}=this;if(E)throw y;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}var Te=k(6805),Ae=k(9751),ue=k(4742),Ne=k(4671),re=k(3268),ce=k(7669),ve=k(1810),dt=k(5403),it=k(9672);function We(...v){const E=(0,ce.yG)(v),y=(0,ce.jO)(v),{args:T,keys:N}=(0,ue.D)(v);if(0===T.length)return(0,U.D)([],E);const G=new Ae.y(function Mt(v,E,y=Ne.y){return T=>{Ke(E,()=>{const{length:N}=v,G=new Array(N);let ae=N,he=N;for(let et=0;et<N;et++)Ke(E,()=>{const Lt=(0,U.D)(v[et],E);let Mn=!1;Lt.subscribe((0,dt.x)(T,sn=>{G[et]=sn,Mn||(Mn=!0,he--),he||T.next(y(G.slice()))},()=>{--ae||T.complete()}))},T)},T)}}(T,E,N?ae=>(0,ve.n)(N,ae):Ne.y));return y?G.pipe((0,re.Z)(y)):G}function Ke(v,E,y){v?(0,it.f)(y,v,E):E()}var ke=k(7272),bt=k(8421);function vt(v){return new Ae.y(E=>{(0,bt.Xf)(v()).subscribe(E)})}var fe=k(9635),tt=k(576);function Ce(v,E){const y=(0,tt.m)(v)?v:()=>v,T=N=>N.error(y());return new Ae.y(E?N=>E.schedule(T,0,N):T)}var ot=k(515),Ze=k(727),Ie=k(4482);function It(){return(0,Ie.e)((v,E)=>{let y=null;v._refCount++;const T=(0,dt.x)(E,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const N=v._connection,G=y;y=null,N&&(!G||N===G)&&N.unsubscribe(),E.unsubscribe()});v.subscribe(T),T.closed||(y=v.connect())})}class qt extends Ae.y{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ie.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ze.w0;const y=this.getSubject();E.add(this.source.subscribe((0,dt.x)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ze.w0.EMPTY)}return E}refCount(){return It()(this)}}var _t=k(6895),xt=k(4004),Rt=k(3900),Dr=k(5698),qe=k(8675),Pe=k(9300),Fe=k(5577),Be=k(590);function He(v,E){return(0,tt.m)(E)?(0,Fe.z)(v,E,1):(0,Fe.z)(v,1)}var st=k(8505);function ct(v){return(0,Ie.e)((E,y)=>{let G,T=null,N=!1;T=E.subscribe((0,dt.x)(y,void 0,void 0,ae=>{G=(0,bt.Xf)(v(ae,ct(v)(E))),T?(T.unsubscribe(),T=null,G.subscribe(y)):N=!0})),N&&(T.unsubscribe(),T=null,G.subscribe(y))})}var Et=k(5026);function Vt(v){return v<=0?()=>ot.E:(0,Ie.e)((E,y)=>{let T=[];E.subscribe((0,dt.x)(y,N=>{T.push(N),v<T.length&&T.shift()},()=>{for(const N of T)y.next(N);y.complete()},void 0,()=>{T=null}))})}var At=k(8068),Zt=k(6590);function ln(v,E){const y=arguments.length>=2;return T=>T.pipe(v?(0,Pe.h)((N,G)=>v(N,G,T)):Ne.y,Vt(1),y?(0,Zt.d)(E):(0,At.T)(()=>new Te.K))}function tr(v){return(0,Ie.e)((E,y)=>{try{E.subscribe(y)}finally{y.add(v)}})}var jn=k(8189),Bn=k(1481);const $t="primary",Wn=Symbol("RouteTitle");class Cr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function cr(v){return new Cr(v)}function Ct(v,E,y){const T=y.path.split("/");if(T.length>v.length||"full"===y.pathMatch&&(E.hasChildren()||T.length<v.length))return null;const N={};for(let G=0;G<T.length;G++){const ae=T[G],he=v[G];if(ae.startsWith(":"))N[ae.substring(1)]=he;else if(ae!==he.path)return null}return{consumed:v.slice(0,T.length),posParams:N}}function hn(v,E){const y=v?Object.keys(v):void 0,T=E?Object.keys(E):void 0;if(!y||!T||y.length!=T.length)return!1;let N;for(let G=0;G<y.length;G++)if(N=y[G],!Jn(v[N],E[N]))return!1;return!0}function Jn(v,E){if(Array.isArray(v)&&Array.isArray(E)){if(v.length!==E.length)return!1;const y=[...v].sort(),T=[...E].sort();return y.every((N,G)=>T[G]===N)}return v===E}function jr(v){return Array.prototype.concat.apply([],v)}function $r(v){return v.length>0?v[v.length-1]:null}function _n(v,E){for(const y in v)v.hasOwnProperty(y)&&E(v[y],y)}function an(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,U.D)(Promise.resolve(v)):(0,$.of)(v)}const Rn={exact:function un(v,E,y){if(!Xe(v.segments,E.segments)||!Sn(v.segments,E.segments,y)||v.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!v.children[T]||!un(v.children[T],E.children[T],y))return!1;return!0},subset:wn},hr={exact:function fr(v,E){return hn(v,E)},subset:function gr(v,E){return Object.keys(E).length<=Object.keys(v).length&&Object.keys(E).every(y=>Jn(v[y],E[y]))},ignored:()=>!0};function nr(v,E,y){return Rn[y.paths](v.root,E.root,y.matrixParams)&&hr[y.queryParams](v.queryParams,E.queryParams)&&!("exact"===y.fragment&&v.fragment!==E.fragment)}function wn(v,E,y){return zr(v,E,E.segments,y)}function zr(v,E,y,T){if(v.segments.length>y.length){const N=v.segments.slice(0,y.length);return!(!Xe(N,y)||E.hasChildren()||!Sn(N,y,T))}if(v.segments.length===y.length){if(!Xe(v.segments,y)||!Sn(v.segments,y,T))return!1;for(const N in E.children)if(!v.children[N]||!wn(v.children[N],E.children[N],T))return!1;return!0}{const N=y.slice(0,v.segments.length),G=y.slice(v.segments.length);return!!(Xe(v.segments,N)&&Sn(v.segments,N,T)&&v.children[$t])&&zr(v.children[$t],E,G,T)}}function Sn(v,E,y){return E.every((T,N)=>hr[y](v[N].parameters,T.parameters))}class bn{constructor(E,y,T){this.root=E,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return wt.serialize(this)}}class Pt{constructor(E,y){this.segments=E,this.children=y,this.parent=null,_n(y,(T,N)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ie(this)}}class rr{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=cr(this.parameters)),this._parameterMap}toString(){return Yt(this)}}function Xe(v,E){return v.length===E.length&&v.every((y,T)=>y.path===E[T].path)}let le=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new Le},providedIn:"root"}),v})();class Le{parse(E){const y=new Re(E);return new bn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${oe(E.root,!0)}`,T=function se(v){const E=Object.keys(v).map(y=>{const T=v[y];return Array.isArray(T)?T.map(N=>`${q(y)}=${q(N)}`).join("&"):`${q(y)}=${q(T)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${T}${"string"==typeof E.fragment?`#${function H(v){return encodeURI(v)}(E.fragment)}`:""}`}}const wt=new Le;function ie(v){return v.segments.map(E=>Yt(E)).join("/")}function oe(v,E){if(!v.hasChildren())return ie(v);if(E){const y=v.children[$t]?oe(v.children[$t],!1):"",T=[];return _n(v.children,(N,G)=>{G!==$t&&T.push(`${G}:${oe(N,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function K(v,E){let y=[];return _n(v.children,(T,N)=>{N===$t&&(y=y.concat(E(T,N)))}),_n(v.children,(T,N)=>{N!==$t&&(y=y.concat(E(T,N)))}),y}(v,(T,N)=>N===$t?[oe(v.children[$t],!1)]:[`${N}:${oe(T,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[$t]?`${ie(v)}/${y[0]}`:`${ie(v)}/(${y.join("//")})`}}function Y(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q(v){return Y(v).replace(/%3B/gi,";")}function Ee(v){return Y(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(v){return decodeURIComponent(v)}function St(v){return rt(v.replace(/\+/g,"%20"))}function Yt(v){return`${Ee(v.path)}${function te(v){return Object.keys(v).map(E=>`;${Ee(E)}=${Ee(v[E])}`).join("")}(v.parameters)}`}const X=/^[^\/()?;=#]+/;function Se(v){const E=v.match(X);return E?E[0]:""}const je=/^[^=?&#]+/,tn=/^[^&#]+/;class Re{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(T[$t]=new Pt(E,y)),T}parseSegment(){const E=Se(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(E),new rr(rt(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=Se(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const N=Se(this.remaining);N&&(T=N,this.capture(T))}E[rt(y)]=rt(T)}parseQueryParam(E){const y=function Nt(v){const E=v.match(je);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const ae=function xe(v){const E=v.match(tn);return E?E[0]:""}(this.remaining);ae&&(T=ae,this.capture(T))}const N=St(y),G=St(T);if(E.hasOwnProperty(N)){let ae=E[N];Array.isArray(ae)||(ae=[ae],E[N]=ae),ae.push(G)}else E[N]=G}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Se(this.remaining),N=this.remaining[T.length];if("/"!==N&&")"!==N&&";"!==N)throw new p.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):E&&(G=$t);const ae=this.parseChildren();y[G]=1===Object.keys(ae).length?ae[$t]:new Pt([],ae),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,!1)}}function ht(v){return v.segments.length>0?new Pt([],{[$t]:v}):v}function ft(v){const E={};for(const T of Object.keys(v.children)){const G=ft(v.children[T]);(G.segments.length>0||G.hasChildren())&&(E[T]=G)}return function pn(v){if(1===v.numberOfChildren&&v.children[$t]){const E=v.children[$t];return new Pt(v.segments.concat(E.segments),E.children)}return v}(new Pt(v.segments,E))}function vn(v){return v instanceof bn}function Yr(v,E,y,T,N){if(0===y.length)return Vi(E.root,E.root,E.root,T,N);const G=function Zs(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Ui(!0,0,v);let E=0,y=!1;const T=v.reduce((N,G,ae)=>{if("object"==typeof G&&null!=G){if(G.outlets){const he={};return _n(G.outlets,(et,Lt)=>{he[Lt]="string"==typeof et?et.split("/"):et}),[...N,{outlets:he}]}if(G.segmentPath)return[...N,G.segmentPath]}return"string"!=typeof G?[...N,G]:0===ae?(G.split("/").forEach((he,et)=>{0==et&&"."===he||(0==et&&""===he?y=!0:".."===he?E++:""!=he&&N.push(he))}),N):[...N,G]},[]);return new Ui(y,E,T)}(y);return G.toRoot()?Vi(E.root,E.root,new Pt([],{}),T,N):function ae(et){const Lt=function Bi(v,E,y,T){if(v.isAbsolute)return new pi(E.root,!0,0);if(-1===T)return new pi(y,y===E.root,0);return function Di(v,E,y){let T=v,N=E,G=y;for(;G>N;){if(G-=N,T=T.parent,!T)throw new p.vHH(4005,!1);N=T.segments.length}return new pi(T,!1,N-G)}(y,T+(Qr(v.commands[0])?0:1),v.numberOfDoubleDots)}(G,E,v.snapshot?._urlSegment,et),Mn=Lt.processChildren?gi(Lt.segmentGroup,Lt.index,G.commands):Pr(Lt.segmentGroup,Lt.index,G.commands);return Vi(E.root,Lt.segmentGroup,Mn,T,N)}(v.snapshot?._lastPathIndex)}function Qr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Fr(v){return"object"==typeof v&&null!=v&&v.outlets}function Vi(v,E,y,T,N){let ae,G={};T&&_n(T,(et,Lt)=>{G[Lt]=Array.isArray(et)?et.map(Mn=>`${Mn}`):`${et}`}),ae=v===E?y:Vn(v,E,y);const he=ht(ft(ae));return new bn(he,G,N)}function Vn(v,E,y){const T={};return _n(v.children,(N,G)=>{T[G]=N===E?y:Vn(N,E,y)}),new Pt(v.segments,T)}class Ui{constructor(E,y,T){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=T,E&&T.length>0&&Qr(T[0]))throw new p.vHH(4003,!1);const N=T.find(Fr);if(N&&N!==$r(T))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(E,y,T){this.segmentGroup=E,this.processChildren=y,this.index=T}}function Pr(v,E,y){if(v||(v=new Pt([],{})),0===v.segments.length&&v.hasChildren())return gi(v,E,y);const T=function Lr(v,E,y){let T=0,N=E;const G={match:!1,pathIndex:0,commandIndex:0};for(;N<v.segments.length;){if(T>=y.length)return G;const ae=v.segments[N],he=y[T];if(Fr(he))break;const et=`${he}`,Lt=T<y.length-1?y[T+1]:null;if(N>0&&void 0===et)break;if(et&&Lt&&"object"==typeof Lt&&void 0===Lt.outlets){if(!Ps(et,Lt,ae))return G;T+=2}else{if(!Ps(et,{},ae))return G;T++}N++}return{match:!0,pathIndex:N,commandIndex:T}}(v,E,y),N=y.slice(T.commandIndex);if(T.match&&T.pathIndex<v.segments.length){const G=new Pt(v.segments.slice(0,T.pathIndex),{});return G.children[$t]=new Pt(v.segments.slice(T.pathIndex),v.children),gi(G,0,N)}return T.match&&0===N.length?new Pt(v.segments,{}):T.match&&!v.hasChildren()?Tr(v,E,y):T.match?gi(v,0,N):Tr(v,E,y)}function gi(v,E,y){if(0===y.length)return new Pt(v.segments,{});{const T=function us(v){return Fr(v[0])?v[0].outlets:{[$t]:v}}(y),N={};return _n(T,(G,ae)=>{"string"==typeof G&&(G=[G]),null!==G&&(N[ae]=Pr(v.children[ae],E,G))}),_n(v.children,(G,ae)=>{void 0===T[ae]&&(N[ae]=G)}),new Pt(v.segments,N)}}function Tr(v,E,y){const T=v.segments.slice(0,E);let N=0;for(;N<y.length;){const G=y[N];if(Fr(G)){const et=Ns(G.outlets);return new Pt(T,et)}if(0===N&&Qr(y[0])){T.push(new rr(v.segments[E].path,Ri(y[0]))),N++;continue}const ae=Fr(G)?G.outlets[$t]:`${G}`,he=N<y.length-1?y[N+1]:null;ae&&he&&Qr(he)?(T.push(new rr(ae,Ri(he))),N+=2):(T.push(new rr(ae,{})),N++)}return new Pt(T,{})}function Ns(v){const E={};return _n(v,(y,T)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[T]=Tr(new Pt([],{}),0,y))}),E}function Ri(v){const E={};return _n(v,(y,T)=>E[T]=`${y}`),E}function Ps(v,E,y){return v==y.path&&hn(E,y.parameters)}class Or{constructor(E,y){this.id=E,this.url=y}}class ji extends Or{constructor(E,y,T="imperative",N=null){super(E,y),this.type=0,this.navigationTrigger=T,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends Or{constructor(E,y,T){super(E,y),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xo extends Or{constructor(E,y,T,N){super(E,y),this.reason=T,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ys extends Or{constructor(E,y,T,N){super(E,y),this.error=T,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ha extends Or{constructor(E,y,T,N){super(E,y),this.urlAfterRedirects=T,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Or{constructor(E,y,T,N){super(E,y),this.urlAfterRedirects=T,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends Or{constructor(E,y,T,N,G){super(E,y),this.urlAfterRedirects=T,this.state=N,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fo extends Or{constructor(E,y,T,N){super(E,y),this.urlAfterRedirects=T,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Or{constructor(E,y,T,N){super(E,y),this.urlAfterRedirects=T,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class be{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _e{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oe{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(E,y,T){this.routerEvent=E,this.position=y,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pn{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=$i(E,this._root);return y?y.children.map(T=>T.value):[]}firstChild(E){const y=$i(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=Ni(E,this._root);return y.length<2?[]:y[y.length-2].children.map(N=>N.value).filter(N=>N!==E)}pathFromRoot(E){return Ni(E,this._root).map(y=>y.value)}}function $i(v,E){if(v===E.value)return E;for(const y of E.children){const T=$i(v,y);if(T)return T}return null}function Ni(v,E){if(v===E.value)return[E];for(const y of E.children){const T=Ni(v,y);if(T.length)return T.unshift(E),T}return[]}class kr{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function Yn(v){const E={};return v&&v.children.forEach(y=>E[y.value.outlet]=y),E}class cs extends Pn{constructor(E,y){super(E),this.snapshot=y,Ro(this,E)}toString(){return this.snapshot.toString()}}function Hi(v,E){const y=function li(v,E){const ae=new ds([],{},{},"",{},$t,E,null,v.root,-1,{});return new zo("",new kr(ae,[]))}(v,E),T=new de([new rr("",{})]),N=new de({}),G=new de({}),ae=new de({}),he=new de(""),et=new Es(T,N,ae,he,G,$t,E,y.root);return et.snapshot=y.root,new cs(new kr(et,[]),y)}class Es{constructor(E,y,T,N,G,ae,he,et){this.url=E,this.params=y,this.queryParams=T,this.fragment=N,this.data=G,this.outlet=ae,this.component=he,this.title=this.data?.pipe((0,xt.U)(Lt=>Lt[Wn]))??(0,$.of)(void 0),this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(E=>cr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(E=>cr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Os(v,E="emptyOnly"){const y=v.pathFromRoot;let T=0;if("always"!==E)for(T=y.length-1;T>=1;){const N=y[T],G=y[T-1];if(N.routeConfig&&""===N.routeConfig.path)T--;else{if(G.component)break;T--}}return function sa(v){return v.reduce((E,y)=>({params:{...E.params,...y.params},data:{...E.data,...y.data},resolve:{...y.data,...E.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(T))}class ds{constructor(E,y,T,N,G,ae,he,et,Lt,Mn,sn,Kn){this.url=E,this.params=y,this.queryParams=T,this.fragment=N,this.data=G,this.outlet=ae,this.component=he,this.title=this.data?.[Wn],this.routeConfig=et,this._urlSegment=Lt,this._lastPathIndex=Mn,this._correctedLastPathIndex=Kn??Mn,this._resolve=sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zo extends Pn{constructor(E,y){super(y),this.url=E,Ro(this,y)}toString(){return Qs(this._root)}}function Ro(v,E){E.value._routerState=v,E.children.forEach(y=>Ro(v,y))}function Qs(v){const E=v.children.length>0?` { ${v.children.map(Qs).join(", ")} } `:"";return`${v.value}${E}`}function Pi(v){if(v.snapshot){const E=v.snapshot,y=v._futureSnapshot;v.snapshot=y,hn(E.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),E.fragment!==y.fragment&&v.fragment.next(y.fragment),hn(E.params,y.params)||v.params.next(y.params),function An(v,E){if(v.length!==E.length)return!1;for(let y=0;y<v.length;++y)if(!hn(v[y],E[y]))return!1;return!0}(E.url,y.url)||v.url.next(y.url),hn(E.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Js(v,E){const y=hn(v.params,E.params)&&function sr(v,E){return Xe(v,E)&&v.every((y,T)=>hn(y.parameters,E[T].parameters))}(v.url,E.url);return y&&!(!v.parent!=!E.parent)&&(!v.parent||Js(v.parent,E.parent))}function ci(v,E,y){if(y&&v.shouldReuseRoute(E.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=E.value;const N=function go(v,E,y){return E.children.map(T=>{for(const N of y.children)if(v.shouldReuseRoute(T.value,N.value.snapshot))return ci(v,T,N);return ci(v,T)})}(v,E,y);return new kr(T,N)}{if(v.shouldAttach(E.value)){const G=v.retrieve(E.value);if(null!==G){const ae=G.route;return ae.value._futureSnapshot=E.value,ae.children=E.children.map(he=>ci(v,he)),ae}}const T=function Xs(v){return new Es(new de(v.url),new de(v.params),new de(v.queryParams),new de(v.fragment),new de(v.data),v.outlet,v.component,v)}(E.value),N=E.children.map(G=>ci(v,G));return new kr(T,N)}}const Ma="ngNavigationCancelingError";function oa(v,E){const{redirectTo:y,navigationBehaviorOptions:T}=vn(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,N=Er(!1,0,E);return N.url=y,N.navigationBehaviorOptions=T,N}function Er(v,E,y){const T=new Error("NavigationCancelingError: "+(v||""));return T[Ma]=!0,T.cancellationCode=E,y&&(T.url=y),T}function hs(v){return mo(v)&&vn(v.url)}function mo(v){return v&&v[Ma]}class fs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wr,this.attachRef=null}}let Wr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,T){const N=this.getOrCreateContext(y);N.outlet=T,this.contexts.set(y,N)}onChildOutletDestroyed(y){const T=this.getContext(y);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let T=this.getContext(y);return T||(T=new fs,this.contexts.set(y,T)),T}getContext(y){return this.contexts.get(y)||null}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Gi=!1;let yo=(()=>{class v{constructor(y,T,N,G,ae){this.parentContexts=y,this.location=T,this.changeDetector=G,this.environmentInjector=ae,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=N||$t,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Gi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Gi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Gi);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new p.vHH(4013,Gi);this._activatedRoute=y;const N=this.location,ae=y._futureSnapshot.component,he=this.parentContexts.getOrCreateContext(this.name).children,et=new zi(y,he,N.injector);if(T&&function di(v){return!!v.resolveComponentFactory}(T)){const Lt=T.resolveComponentFactory(ae);this.activated=N.createComponent(Lt,N.length,et)}else this.activated=N.createComponent(ae,{index:N.length,injector:et,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(p.Y36(Wr),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class zi{constructor(E,y,T){this.route=E,this.childContexts=y,this.parent=T}get(E,y){return E===Es?this.route:E===Wr?this.childContexts:this.parent.get(E,y)}}let vo=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(y,T){1&y&&p._UZ(0,"router-outlet")},dependencies:[yo],encapsulation:2}),v})();function No(v,E){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,E,`Route: ${v.path}`)),v._injector??E}function Ar(v){const E=v.children&&v.children.map(Ar),y=E?{...v,children:E}:{...v};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==$t&&(y.component=vo),y}function Oi(v){return v.outlet||$t}function _o(v,E){const y=v.filter(T=>Oi(T)===E);return y.push(...v.filter(T=>Oi(T)!==E)),y}function Ci(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let E=v.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class gt{constructor(E,y,T,N){this.routeReuseStrategy=E,this.futureState=y,this.currState=T,this.forwardEvent=N}activate(E){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,E),Pi(this.futureState.root),this.activateChildRoutes(y,T,E)}deactivateChildRoutes(E,y,T){const N=Yn(y);E.children.forEach(G=>{const ae=G.value.outlet;this.deactivateRoutes(G,N[ae],T),delete N[ae]}),_n(N,(G,ae)=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(E,y,T){const N=E.value,G=y?y.value:null;if(N===G)if(N.component){const ae=T.getContext(N.outlet);ae&&this.deactivateChildRoutes(E,y,ae.children)}else this.deactivateChildRoutes(E,y,T);else G&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const T=y.getContext(E.value.outlet),N=T&&E.value.component?T.children:y,G=Yn(E);for(const ae of Object.keys(G))this.deactivateRouteAndItsChildren(G[ae],N);if(T&&T.outlet){const ae=T.outlet.detach(),he=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ae,route:E,contexts:he})}}deactivateRouteAndOutlet(E,y){const T=y.getContext(E.value.outlet),N=T&&E.value.component?T.children:y,G=Yn(E);for(const ae of Object.keys(G))this.deactivateRouteAndItsChildren(G[ae],N);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,y,T){const N=Yn(y);E.children.forEach(G=>{this.activateRoutes(G,N[G.value.outlet],T),this.forwardEvent(new Tn(G.value.snapshot))}),E.children.length&&this.forwardEvent(new ut(E.value.snapshot))}activateRoutes(E,y,T){const N=E.value,G=y?y.value:null;if(Pi(N),N===G)if(N.component){const ae=T.getOrCreateContext(N.outlet);this.activateChildRoutes(E,y,ae.children)}else this.activateChildRoutes(E,y,T);else if(N.component){const ae=T.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const he=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),ae.children.onOutletReAttached(he.contexts),ae.attachRef=he.componentRef,ae.route=he.route.value,ae.outlet&&ae.outlet.attach(he.componentRef,he.route.value),Pi(he.route.value),this.activateChildRoutes(E,null,ae.children)}else{const he=Ci(N.snapshot),et=he?.get(p._Vd)??null;ae.attachRef=null,ae.route=N,ae.resolver=et,ae.injector=he,ae.outlet&&ae.outlet.activateWith(N,ae.injector),this.activateChildRoutes(E,null,ae.children)}}else this.activateChildRoutes(E,null,T)}}class Un{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class no{constructor(E,y){this.component=E,this.route=y}}function ro(v,E,y){const T=v._root;return Wi(T,E?E._root:null,y,[T.value])}function ei(v,E){const y=Symbol(),T=E.get(v,y);return T===y?"function"!=typeof v||(0,p.Z0I)(v)?E.get(v):v:T}function Wi(v,E,y,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const G=Yn(E);return v.children.forEach(ae=>{(function es(v,E,y,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const G=v.value,ae=E?E.value:null,he=y?y.getContext(v.value.outlet):null;if(ae&&G.routeConfig===ae.routeConfig){const et=function Po(v,E,y){if("function"==typeof y)return y(v,E);switch(y){case"pathParamsChange":return!Xe(v.url,E.url);case"pathParamsOrQueryParamsChange":return!Xe(v.url,E.url)||!hn(v.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Js(v,E)||!hn(v.queryParams,E.queryParams);default:return!Js(v,E)}}(ae,G,G.routeConfig.runGuardsAndResolvers);et?N.canActivateChecks.push(new Un(T)):(G.data=ae.data,G._resolvedData=ae._resolvedData),Wi(v,E,G.component?he?he.children:null:y,T,N),et&&he&&he.outlet&&he.outlet.isActivated&&N.canDeactivateChecks.push(new no(he.outlet.component,ae))}else ae&&ws(E,he,N),N.canActivateChecks.push(new Un(T)),Wi(v,null,G.component?he?he.children:null:y,T,N)})(ae,G[ae.value.outlet],y,T.concat([ae.value]),N),delete G[ae.value.outlet]}),_n(G,(ae,he)=>ws(ae,y.getContext(he),N)),N}function ws(v,E,y){const T=Yn(v),N=v.value;_n(T,(G,ae)=>{ws(G,N.component?E?E.children.getContext(ae):null:E,y)}),y.canDeactivateChecks.push(new no(N.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,N))}function Is(v){return"function"==typeof v}function ti(v){return v instanceof Te.K||"EmptyError"===v?.name}const Ki=Symbol("INITIAL_VALUE");function bi(){return(0,Rt.w)(v=>We(v.map(E=>E.pipe((0,Dr.q)(1),(0,qe.O)(Ki)))).pipe((0,xt.U)(E=>{for(const y of E)if(!0!==y){if(y===Ki)return Ki;if(!1===y||y instanceof bn)return y}return!0}),(0,Pe.h)(E=>E!==Ki),(0,Dr.q)(1)))}function ko(v){return(0,fe.z)((0,st.b)(E=>{if(vn(E))throw oa(0,E)}),(0,xt.U)(E=>!0===E))}const Ti={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Us(v,E,y,T,N){const G=la(v,E,y);return G.matched?function Ko(v,E,y,T){const N=E.canMatch;if(!N||0===N.length)return(0,$.of)(!0);const G=N.map(ae=>{const he=ei(ae,v);return an(function Ye(v){return v&&Is(v.canMatch)}(he)?he.canMatch(E,y):v.runInContext(()=>he(E,y)))});return(0,$.of)(G).pipe(bi(),ko())}(T=No(E,T),E,y).pipe((0,xt.U)(ae=>!0===ae?G:{...Ti})):(0,$.of)(G)}function la(v,E,y){if(""===E.path)return"full"===E.pathMatch&&(v.hasChildren()||y.length>0)?{...Ti}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const N=(E.matcher||Ct)(y,v,E);if(!N)return{...Ti};const G={};_n(N.posParams,(he,et)=>{G[et]=he.path});const ae=N.consumed.length>0?{...G,...N.consumed[N.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:N.consumed,remainingSegments:y.slice(N.consumed.length),parameters:ae,positionalParamSegments:N.posParams??{}}}function Io(v,E,y,T,N="corrected"){if(y.length>0&&function Sr(v,E,y){return y.some(T=>Fo(v,E,T)&&Oi(T)!==$t)}(v,y,T)){const ae=new Pt(E,function mi(v,E,y,T){const N={};N[$t]=T,T._sourceSegment=v,T._segmentIndexShift=E.length;for(const G of y)if(""===G.path&&Oi(G)!==$t){const ae=new Pt([],{});ae._sourceSegment=v,ae._segmentIndexShift=E.length,N[Oi(G)]=ae}return N}(v,E,T,new Pt(y,v.children)));return ae._sourceSegment=v,ae._segmentIndexShift=E.length,{segmentGroup:ae,slicedSegments:[]}}if(0===y.length&&function wr(v,E,y){return y.some(T=>Fo(v,E,T))}(v,y,T)){const ae=new Pt(v.segments,function ur(v,E,y,T,N,G){const ae={};for(const he of T)if(Fo(v,y,he)&&!N[Oi(he)]){const et=new Pt([],{});et._sourceSegment=v,et._segmentIndexShift="legacy"===G?v.segments.length:E.length,ae[Oi(he)]=et}return{...N,...ae}}(v,E,y,T,v.children,N));return ae._sourceSegment=v,ae._segmentIndexShift=E.length,{segmentGroup:ae,slicedSegments:y}}const G=new Pt(v.segments,v.children);return G._sourceSegment=v,G._segmentIndexShift=E.length,{segmentGroup:G,slicedSegments:y}}function Fo(v,E,y){return(!(v.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function ca(v,E,y,T){return!!(Oi(v)===T||T!==$t&&Fo(E,y,v))&&("**"===v.path||la(E,v,y).matched)}function qi(v,E,y){return 0===E.length&&!v.children[y]}const qo=!1;class Bs{constructor(E){this.segmentGroup=E||null}}class Cs{constructor(E){this.urlTree=E}}function ts(v){return Ce(new Bs(v))}function Zo(v){return Ce(new Cs(v))}class ns{constructor(E,y,T,N,G){this.injector=E,this.configLoader=y,this.urlSerializer=T,this.urlTree=N,this.config=G,this.allowRedirects=!0}apply(){const E=Io(this.urlTree.root,[],[],this.config).segmentGroup,y=new Pt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,y,$t).pipe((0,xt.U)(G=>this.createUrlTree(ft(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(G=>{if(G instanceof Cs)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof Bs?this.noMatchError(G):G}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,$t).pipe((0,xt.U)(N=>this.createUrlTree(ft(N),E.queryParams,E.fragment))).pipe(ct(N=>{throw N instanceof Bs?this.noMatchError(N):N}))}noMatchError(E){return new p.vHH(4002,qo)}createUrlTree(E,y,T){const N=ht(E);return new bn(N,y,T)}expandSegmentGroup(E,y,T,N){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,y,T).pipe((0,xt.U)(G=>new Pt([],G))):this.expandSegment(E,T,y,T.segments,N,!0)}expandChildren(E,y,T){const N=[];for(const G of Object.keys(T.children))"primary"===G?N.unshift(G):N.push(G);return(0,U.D)(N).pipe(He(G=>{const ae=T.children[G],he=_o(y,G);return this.expandSegmentGroup(E,he,ae,G).pipe((0,xt.U)(et=>({segment:et,outlet:G})))}),(0,Et.R)((G,ae)=>(G[ae.outlet]=ae.segment,G),{}),ln())}expandSegment(E,y,T,N,G,ae){return(0,U.D)(T).pipe(He(he=>this.expandSegmentAgainstRoute(E,y,T,he,N,G,ae).pipe(ct(Lt=>{if(Lt instanceof Bs)return(0,$.of)(null);throw Lt}))),(0,Be.P)(he=>!!he),ct((he,et)=>{if(ti(he))return qi(y,N,G)?(0,$.of)(new Pt([],{})):ts(y);throw he}))}expandSegmentAgainstRoute(E,y,T,N,G,ae,he){return ca(N,y,G,ae)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(E,y,N,G,ae):he&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,T,N,G,ae):ts(y):ts(y)}expandSegmentAgainstRouteUsingRedirect(E,y,T,N,G,ae){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,N,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,T,N,G,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,T,N){const G=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Zo(G):this.lineralizeSegments(T,G).pipe((0,Fe.z)(ae=>{const he=new Pt(ae,{});return this.expandSegment(E,he,y,ae,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,T,N,G,ae){const{matched:he,consumedSegments:et,remainingSegments:Lt,positionalParamSegments:Mn}=la(y,N,G);if(!he)return ts(y);const sn=this.applyRedirectCommands(et,N.redirectTo,Mn);return N.redirectTo.startsWith("/")?Zo(sn):this.lineralizeSegments(N,sn).pipe((0,Fe.z)(Kn=>this.expandSegment(E,y,T,Kn.concat(Lt),ae,!1)))}matchSegmentAgainstRoute(E,y,T,N,G){return"**"===T.path?(E=No(T,E),T.loadChildren?(T._loadedRoutes?(0,$.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,xt.U)(he=>(T._loadedRoutes=he.routes,T._loadedInjector=he.injector,new Pt(N,{})))):(0,$.of)(new Pt(N,{}))):Us(y,T,N,E).pipe((0,Rt.w)(({matched:ae,consumedSegments:he,remainingSegments:et})=>ae?this.getChildConfig(E=T._injector??E,T,N).pipe((0,Fe.z)(Mn=>{const sn=Mn.injector??E,Kn=Mn.routes,{segmentGroup:Mi,slicedSegments:ui}=Io(y,he,et,Kn),Xo=new Pt(Mi.segments,Mi.children);if(0===ui.length&&Xo.hasChildren())return this.expandChildren(sn,Kn,Xo).pipe((0,xt.U)(Na=>new Pt(he,Na)));if(0===Kn.length&&0===ui.length)return(0,$.of)(new Pt(he,{}));const Gs=Oi(T)===G;return this.expandSegment(sn,Xo,Kn,ui,Gs?$t:G,!0).pipe((0,xt.U)(ea=>new Pt(he.concat(ea.segments),ea.children)))})):ts(y)))}getChildConfig(E,y,T){return y.children?(0,$.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,$.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Wo(v,E,y,T){const N=E.canLoad;if(void 0===N||0===N.length)return(0,$.of)(!0);const G=N.map(ae=>{const he=ei(ae,v);return an(function O(v){return v&&Is(v.canLoad)}(he)?he.canLoad(E,y):v.runInContext(()=>he(E,y)))});return(0,$.of)(G).pipe(bi(),ko())}(E,y,T).pipe((0,Fe.z)(N=>N?this.configLoader.loadChildren(E,y).pipe((0,st.b)(G=>{y._loadedRoutes=G.routes,y._loadedInjector=G.injector})):function Zi(v){return Ce(Er(qo,3))}())):(0,$.of)({routes:[],injector:E})}lineralizeSegments(E,y){let T=[],N=y.root;for(;;){if(T=T.concat(N.segments),0===N.numberOfChildren)return(0,$.of)(T);if(N.numberOfChildren>1||!N.children[$t])return Ce(new p.vHH(4e3,qo));N=N.children[$t]}}applyRedirectCommands(E,y,T){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,T)}applyRedirectCreateUrlTree(E,y,T,N){const G=this.createSegmentGroup(E,y.root,T,N);return new bn(G,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const T={};return _n(E,(N,G)=>{if("string"==typeof N&&N.startsWith(":")){const he=N.substring(1);T[G]=y[he]}else T[G]=N}),T}createSegmentGroup(E,y,T,N){const G=this.createSegments(E,y.segments,T,N);let ae={};return _n(y.children,(he,et)=>{ae[et]=this.createSegmentGroup(E,he,T,N)}),new Pt(G,ae)}createSegments(E,y,T,N){return y.map(G=>G.path.startsWith(":")?this.findPosParam(E,G,N):this.findOrReturn(G,T))}findPosParam(E,y,T){const N=T[y.path.substring(1)];if(!N)throw new p.vHH(4001,qo);return N}findOrReturn(E,y){let T=0;for(const N of y){if(N.path===E.path)return y.splice(T),N;T++}return E}}class oo{}class ou{constructor(E,y,T,N,G,ae,he,et){this.injector=E,this.rootComponentType=y,this.config=T,this.urlTree=N,this.url=G,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=he,this.urlSerializer=et}recognize(){const E=Io(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,$t).pipe((0,xt.U)(y=>{if(null===y)return null;const T=new ds([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new kr(T,y),G=new zo(this.url,N);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(E){const y=E.value,T=Os(y,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),E.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(E,y,T,N){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,y,T):this.processSegment(E,y,T,T.segments,N)}processChildren(E,y,T){return(0,U.D)(Object.keys(T.children)).pipe(He(N=>{const G=T.children[N],ae=_o(y,N);return this.processSegmentGroup(E,ae,G,N)}),(0,Et.R)((N,G)=>N&&G?(N.push(...G),N):null),function yn(v,E=!1){return(0,Ie.e)((y,T)=>{let N=0;y.subscribe((0,dt.x)(T,G=>{const ae=v(G,N++);(ae||E)&&T.next(G),!ae&&T.complete()}))})}(N=>null!==N),(0,Zt.d)(null),ln(),(0,xt.U)(N=>{if(null===N)return null;const G=z(N);return function b(v){v.sort((E,y)=>E.value.outlet===$t?-1:y.value.outlet===$t?1:E.value.outlet.localeCompare(y.value.outlet))}(G),G}))}processSegment(E,y,T,N,G){return(0,U.D)(y).pipe(He(ae=>this.processSegmentAgainstRoute(ae._injector??E,ae,T,N,G)),(0,Be.P)(ae=>!!ae),ct(ae=>{if(ti(ae))return qi(T,N,G)?(0,$.of)([]):(0,$.of)(null);throw ae}))}processSegmentAgainstRoute(E,y,T,N,G){if(y.redirectTo||!ca(y,T,N,G))return(0,$.of)(null);let ae;if("**"===y.path){const he=N.length>0?$r(N).parameters:{},et=lt(T)+N.length,Lt=new ds(N,he,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,or(y),Oi(y),y.component??y._loadedComponent??null,y,Qe(T),et,Hn(y),et);ae=(0,$.of)({snapshot:Lt,consumedSegments:[],remainingSegments:[]})}else ae=Us(T,y,N,E).pipe((0,xt.U)(({matched:he,consumedSegments:et,remainingSegments:Lt,parameters:Mn})=>{if(!he)return null;const sn=lt(T)+et.length;return{snapshot:new ds(et,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,or(y),Oi(y),y.component??y._loadedComponent??null,y,Qe(T),sn,Hn(y),sn),consumedSegments:et,remainingSegments:Lt}}));return ae.pipe((0,Rt.w)(he=>{if(null===he)return(0,$.of)(null);const{snapshot:et,consumedSegments:Lt,remainingSegments:Mn}=he;E=y._injector??E;const sn=y._loadedInjector??E,Kn=function L(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Mi,slicedSegments:ui}=Io(T,Lt,Mn,Kn.filter(Gs=>void 0===Gs.redirectTo),this.relativeLinkResolution);if(0===ui.length&&Mi.hasChildren())return this.processChildren(sn,Kn,Mi).pipe((0,xt.U)(Gs=>null===Gs?null:[new kr(et,Gs)]));if(0===Kn.length&&0===ui.length)return(0,$.of)([new kr(et,[])]);const Xo=Oi(y)===G;return this.processSegment(sn,Kn,Mi,ui,Xo?$t:G).pipe((0,xt.U)(Gs=>null===Gs?null:[new kr(et,Gs)]))}))}}function M(v){const E=v.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function z(v){const E=[],y=new Set;for(const T of v){if(!M(T)){E.push(T);continue}const N=E.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==N?(N.children.push(...T.children),y.add(N)):E.push(T)}for(const T of y){const N=z(T.children);E.push(new kr(T.value,N))}return E.filter(T=>!y.has(T))}function Qe(v){let E=v;for(;E._sourceSegment;)E=E._sourceSegment;return E}function lt(v){let E=v,y=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift??0;return y-1}function or(v){return v.data||{}}function Hn(v){return v.resolve||{}}function mt(v){return"string"==typeof v.title||null===v.title}function pr(v){return(0,Rt.w)(E=>{const y=v(E);return y?(0,U.D)(y).pipe((0,xt.U)(()=>E)):(0,$.of)(E)})}let xr=(()=>{class v{buildTitle(y){let T,N=y.root;for(;void 0!==N;)T=this.getResolvedTitleForRoute(N)??T,N=N.children.find(G=>G.outlet===$t);return T}getResolvedTitleForRoute(y){return y.data[Wn]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(ao)},providedIn:"root"}),v})(),ao=(()=>{class v extends xr{constructor(y){super(),this.title=y}updateTitle(y){const T=this.buildTitle(y);void 0!==T&&this.title.setTitle(T)}}return v.\u0275fac=function(y){return new(y||v)(p.LFG(Bn.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class nn{}class Bt extends class da{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const yt=new p.OlP("",{providedIn:"root",factory:()=>({})}),Ga=new p.OlP("ROUTES");let za=(()=>{class v{constructor(y,T){this.injector=y,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,$.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const T=an(y.loadComponent()).pipe((0,st.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=G}),tr(()=>{this.componentLoaders.delete(y)})),N=new qt(T,()=>new me.x).pipe(It());return this.componentLoaders.set(y,N),N}loadChildren(y,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,$.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,xt.U)(he=>{this.onLoadEndListener&&this.onLoadEndListener(T);let et,Lt,Mn=!1;Array.isArray(he)?Lt=he:(et=he.create(y).injector,Lt=jr(et.get(Ga,[],p.XFs.Self|p.XFs.Optional)));return{routes:Lt.map(Ar),injector:et}}),tr(()=>{this.childrenLoaders.delete(T)})),ae=new qt(G,()=>new me.x).pipe(It());return this.childrenLoaders.set(T,ae),ae}loadModuleFactoryOrRoutes(y){return an(y()).pipe((0,Fe.z)(T=>T instanceof p.YKP||Array.isArray(T)?(0,$.of)(T):(0,U.D)(this.compiler.compileModuleAsync(T))))}}return v.\u0275fac=function(y){return new(y||v)(p.LFG(p.zs3),p.LFG(p.Sil))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class xu{}class nl{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function ha(v){throw v}function Nl(v,E,y){return E.parse("/")}const Pl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ai(){const v=(0,p.f3M)(le),E=(0,p.f3M)(Wr),y=(0,p.f3M)(_t.Ye),T=(0,p.f3M)(p.zs3),N=(0,p.f3M)(p.Sil),G=(0,p.f3M)(Ga,{optional:!0})??[],ae=(0,p.f3M)(yt,{optional:!0})??{},he=(0,p.f3M)(ao),et=(0,p.f3M)(xr,{optional:!0}),Lt=(0,p.f3M)(xu,{optional:!0}),Mn=(0,p.f3M)(nn,{optional:!0}),sn=new rn(null,v,E,y,T,N,jr(G));return Lt&&(sn.urlHandlingStrategy=Lt),Mn&&(sn.routeReuseStrategy=Mn),sn.titleStrategy=et??he,function Wa(v,E){v.errorHandler&&(E.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(E.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(E.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(E.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(E.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(E.canceledNavigationResolution=v.canceledNavigationResolution)}(ae,sn),sn}let rn=(()=>{class v{constructor(y,T,N,G,ae,he,et){this.rootComponentType=y,this.urlSerializer=T,this.rootContexts=N,this.location=G,this.config=et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new me.x,this.errorHandler=ha,this.malformedUriErrorHandler=Nl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,$.of)(void 0),this.urlHandlingStrategy=new nl,this.routeReuseStrategy=new Bt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ae.get(za),this.configLoader.onLoadEndListener=Kn=>this.triggerEvent(new _e(Kn)),this.configLoader.onLoadStartListener=Kn=>this.triggerEvent(new be(Kn)),this.ngModule=ae.get(p.h0i),this.console=ae.get(p.c2e);const sn=ae.get(p.R0b);this.isNgZoneEnabled=sn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(et),this.currentUrlTree=function Jt(){return new bn(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hi(this.currentUrlTree,this.rootComponentType),this.transitions=new de({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const T=this.events;return y.pipe((0,Pe.h)(N=>0!==N.id),(0,xt.U)(N=>({...N,extractedUrl:this.urlHandlingStrategy.extract(N.rawUrl)})),(0,Rt.w)(N=>{let G=!1,ae=!1;return(0,$.of)(N).pipe((0,st.b)(he=>{this.currentNavigation={id:he.id,initialUrl:he.rawUrl,extractedUrl:he.extractedUrl,trigger:he.source,extras:he.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Rt.w)(he=>{const et=this.browserUrlTree.toString(),Lt=!this.navigated||he.extractedUrl.toString()!==et||et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Lt)&&this.urlHandlingStrategy.shouldProcessUrl(he.rawUrl))return Ru(he.source)&&(this.browserUrlTree=he.extractedUrl),(0,$.of)(he).pipe((0,Rt.w)(sn=>{const Kn=this.transitions.getValue();return T.next(new ji(sn.id,this.serializeUrl(sn.extractedUrl),sn.source,sn.restoredState)),Kn!==this.transitions.getValue()?ot.E:Promise.resolve(sn)}),function io(v,E,y,T){return(0,Rt.w)(N=>function yi(v,E,y,T,N){return new ns(v,E,y,T,N).apply()}(v,E,y,N.extractedUrl,T).pipe((0,xt.U)(G=>({...N,urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,st.b)(sn=>{this.currentNavigation={...this.currentNavigation,finalUrl:sn.urlAfterRedirects},N.urlAfterRedirects=sn.urlAfterRedirects}),function mr(v,E,y,T,N,G){return(0,Fe.z)(ae=>function Lo(v,E,y,T,N,G,ae="emptyOnly",he="legacy"){return new ou(v,E,y,T,N,ae,he,G).recognize().pipe((0,Rt.w)(et=>null===et?function Do(v){return new Ae.y(E=>E.error(v))}(new oo):(0,$.of)(et)))}(v,E,y,ae.urlAfterRedirects,T.serialize(ae.urlAfterRedirects),T,N,G).pipe((0,xt.U)(he=>({...ae,targetSnapshot:he}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,st.b)(sn=>{if(N.targetSnapshot=sn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!sn.extras.skipLocationChange){const Mi=this.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl);this.setBrowserUrl(Mi,sn)}this.browserUrlTree=sn.urlAfterRedirects}const Kn=new Ha(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot);T.next(Kn)}));if(Lt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kn,extractedUrl:Mi,source:ui,restoredState:Xo,extras:Gs}=he,Ea=new ji(Kn,this.serializeUrl(Mi),ui,Xo);T.next(Ea);const ea=Hi(Mi,this.rootComponentType).snapshot;return N={...he,targetSnapshot:ea,urlAfterRedirects:Mi,extras:{...Gs,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(N)}return this.rawUrlTree=he.rawUrl,he.resolve(null),ot.E}),(0,st.b)(he=>{const et=new ar(he.id,this.serializeUrl(he.extractedUrl),this.serializeUrl(he.urlAfterRedirects),he.targetSnapshot);this.triggerEvent(et)}),(0,xt.U)(he=>N={...he,guards:ro(he.targetSnapshot,he.currentSnapshot,this.rootContexts)}),function Ds(v,E){return(0,Fe.z)(y=>{const{targetSnapshot:T,currentSnapshot:N,guards:{canActivateChecks:G,canDeactivateChecks:ae}}=y;return 0===ae.length&&0===G.length?(0,$.of)({...y,guardsResult:!0}):function Ls(v,E,y,T){return(0,U.D)(v).pipe((0,Fe.z)(N=>function wo(v,E,y,T,N){const G=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,$.of)(!0);const ae=G.map(he=>{const et=Ci(E)??N,Lt=ei(he,et);return an(function Z(v){return v&&Is(v.canDeactivate)}(Lt)?Lt.canDeactivate(v,E,y,T):et.runInContext(()=>Lt(v,E,y,T))).pipe((0,Be.P)())});return(0,$.of)(ae).pipe(bi())}(N.component,N.route,y,E,T)),(0,Be.P)(N=>!0!==N,!0))}(ae,T,N,v).pipe((0,Fe.z)(he=>he&&function Br(v){return"boolean"==typeof v}(he)?function Eo(v,E,y,T){return(0,U.D)(E).pipe(He(N=>(0,ke.z)(function ki(v,E){return null!==v&&E&&E(new Oe(v)),(0,$.of)(!0)}(N.route.parent,T),function Oo(v,E){return null!==v&&E&&E(new Tt(v)),(0,$.of)(!0)}(N.route,T),function xa(v,E,y){const T=E[E.length-1],G=E.slice(0,E.length-1).reverse().map(ae=>function Gr(v){const E=v.routeConfig?v.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:v,guards:E}:null}(ae)).filter(ae=>null!==ae).map(ae=>vt(()=>{const he=ae.guards.map(et=>{const Lt=Ci(ae.node)??y,Mn=ei(et,Lt);return an(function x(v){return v&&Is(v.canActivateChild)}(Mn)?Mn.canActivateChild(T,v):Lt.runInContext(()=>Mn(T,v))).pipe((0,Be.P)())});return(0,$.of)(he).pipe(bi())}));return(0,$.of)(G).pipe(bi())}(v,N.path,y),function Vs(v,E,y){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,$.of)(!0);const N=T.map(G=>vt(()=>{const ae=Ci(E)??y,he=ei(G,ae);return an(function R(v){return v&&Is(v.canActivate)}(he)?he.canActivate(E,v):ae.runInContext(()=>he(E,v))).pipe((0,Be.P)())}));return(0,$.of)(N).pipe(bi())}(v,N.route,y))),(0,Be.P)(N=>!0!==N,!0))}(T,G,v,E):(0,$.of)(he)),(0,xt.U)(he=>({...y,guardsResult:he})))})}(this.ngModule.injector,he=>this.triggerEvent(he)),(0,st.b)(he=>{if(N.guardsResult=he.guardsResult,vn(he.guardsResult))throw oa(0,he.guardsResult);const et=new ho(he.id,this.serializeUrl(he.extractedUrl),this.serializeUrl(he.urlAfterRedirects),he.targetSnapshot,!!he.guardsResult);this.triggerEvent(et)}),(0,Pe.h)(he=>!!he.guardsResult||(this.restoreHistory(he),this.cancelNavigationTransition(he,"",3),!1)),pr(he=>{if(he.guards.canActivateChecks.length)return(0,$.of)(he).pipe((0,st.b)(et=>{const Lt=new fo(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Lt)}),(0,Rt.w)(et=>{let Lt=!1;return(0,$.of)(et).pipe(function gn(v,E){return(0,Fe.z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:N}}=y;if(!N.length)return(0,$.of)(y);let G=0;return(0,U.D)(N).pipe(He(ae=>function Mr(v,E,y,T){const N=v.routeConfig,G=v._resolve;return void 0!==N?.title&&!mt(N)&&(G[Wn]=N.title),function On(v,E,y,T){const N=function ni(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===N.length)return(0,$.of)({});const G={};return(0,U.D)(N).pipe((0,Fe.z)(ae=>function js(v,E,y,T){const N=Ci(E)??T,G=ei(v,N);return an(G.resolve?G.resolve(E,y):N.runInContext(()=>G(E,y)))}(v[ae],E,y,T).pipe((0,Be.P)(),(0,st.b)(he=>{G[ae]=he}))),Vt(1),function zn(v){return(0,xt.U)(()=>v)}(G),ct(ae=>ti(ae)?ot.E:Ce(ae)))}(G,v,E,T).pipe((0,xt.U)(ae=>(v._resolvedData=ae,v.data=Os(v,y).resolve,N&&mt(N)&&(v.data[Wn]=N.title),null)))}(ae.route,T,v,E)),(0,st.b)(()=>G++),Vt(1),(0,Fe.z)(ae=>G===N.length?(0,$.of)(y):ot.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,st.b)({next:()=>Lt=!0,complete:()=>{Lt||(this.restoreHistory(et),this.cancelNavigationTransition(et,"",2))}}))}),(0,st.b)(et=>{const Lt=new po(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Lt)}))}),pr(he=>{const et=Lt=>{const Mn=[];Lt.routeConfig?.loadComponent&&!Lt.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(Lt.routeConfig).pipe((0,st.b)(sn=>{Lt.component=sn}),(0,xt.U)(()=>{})));for(const sn of Lt.children)Mn.push(...et(sn));return Mn};return We(et(he.targetSnapshot.root)).pipe((0,Zt.d)(),(0,Dr.q)(1))}),pr(()=>this.afterPreactivation()),(0,xt.U)(he=>{const et=function Hr(v,E,y){const T=ci(v,E._root,y?y._root:void 0);return new cs(T,E)}(this.routeReuseStrategy,he.targetSnapshot,he.currentRouterState);return N={...he,targetRouterState:et}}),(0,st.b)(he=>{this.currentUrlTree=he.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl),this.routerState=he.targetRouterState,"deferred"===this.urlUpdateStrategy&&(he.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,he),this.browserUrlTree=he.urlAfterRedirects)}),((v,E,y)=>(0,xt.U)(T=>(new gt(E,T.targetRouterState,T.currentRouterState,y).activate(v),T)))(this.rootContexts,this.routeReuseStrategy,he=>this.triggerEvent(he)),(0,st.b)({next(){G=!0},complete(){G=!0}}),tr(()=>{G||ae||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),ct(he=>{if(ae=!0,mo(he)){hs(he)||(this.navigated=!0,this.restoreHistory(N,!0));const et=new xo(N.id,this.serializeUrl(N.extractedUrl),he.message,he.cancellationCode);if(T.next(et),hs(he)){const Lt=this.urlHandlingStrategy.merge(he.url,this.rawUrlTree),Mn={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ru(N.source)};this.scheduleNavigation(Lt,"imperative",null,Mn,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{this.restoreHistory(N,!0);const et=new Ys(N.id,this.serializeUrl(N.extractedUrl),he,N.targetSnapshot??void 0);T.next(et);try{N.resolve(this.errorHandler(he))}catch(Lt){N.reject(Lt)}}return ot.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const T="popstate"===y.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const N={replaceUrl:!0},G=y.state?.navigationId?y.state:null;if(G){const he={...G};delete he.navigationId,delete he.\u0275routerPageId,0!==Object.keys(he).length&&(N.state=he)}const ae=this.parseUrl(y.url);this.scheduleNavigation(ae,T,G,N)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Ar),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,T={}){const{relativeTo:N,queryParams:G,fragment:ae,queryParamsHandling:he,preserveFragment:et}=T,Lt=N||this.routerState.root,Mn=et?this.currentUrlTree.fragment:ae;let sn=null;switch(he){case"merge":sn={...this.currentUrlTree.queryParams,...G};break;case"preserve":sn=this.currentUrlTree.queryParams;break;default:sn=G||null}return null!==sn&&(sn=this.removeEmptyProps(sn)),Yr(Lt,this.currentUrlTree,y,sn,Mn??null)}navigateByUrl(y,T={skipLocationChange:!1}){const N=vn(y)?y:this.parseUrl(y),G=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,T)}navigate(y,T={skipLocationChange:!1}){return function Co(v){for(let E=0;E<v.length;E++){if(null==v[E])throw new p.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let T;try{T=this.urlSerializer.parse(y)}catch(N){T=this.malformedUriErrorHandler(N,this.urlSerializer,y)}return T}isActive(y,T){let N;if(N=!0===T?{...Pl}:!1===T?{...fa}:T,vn(y))return nr(this.currentUrlTree,y,N);const G=this.parseUrl(y);return nr(this.currentUrlTree,G,N)}removeEmptyProps(y){return Object.keys(y).reduce((T,N)=>{const G=y[N];return null!=G&&(T[N]=G),T},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new ls(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,T,N,G,ae){if(this.disposed)return Promise.resolve(!1);let he,et,Lt;ae?(he=ae.resolve,et=ae.reject,Lt=ae.promise):Lt=new Promise((Kn,Mi)=>{he=Kn,et=Mi});const Mn=++this.navigationId;let sn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(N=this.location.getState()),sn=N&&N.\u0275routerPageId?N.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):sn=0,this.setTransition({id:Mn,targetPageId:sn,source:T,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:G,resolve:he,reject:et,promise:Lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Lt.catch(Kn=>Promise.reject(Kn))}setBrowserUrl(y,T){const N=this.urlSerializer.serialize(y),G={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(N)||T.extras.replaceUrl?this.location.replaceState(N,"",G):this.location.go(N,"",G)}restoreHistory(y,T=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===N?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===N&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(N)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,T,N){const G=new xo(y.id,this.serializeUrl(y.extractedUrl),T,N);this.triggerEvent(G),y.resolve(!1)}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}}return v.\u0275fac=function(y){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:function(){return ai()},providedIn:"root"}),v})();function Ru(v){return"imperative"!==v}let Rr=(()=>{class v{constructor(y,T,N,G,ae){this.router=y,this.route=T,this.tabIndexAttribute=N,this.renderer=G,this.el=ae,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new me.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,p.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,p.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,p.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const T=this.renderer,N=this.el.nativeElement;null!==y?T.setAttribute(N,"tabindex",y):T.removeAttribute(N,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(p.Y36(rn),p.Y36(Es),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,T){1&y&&p.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})(),dn=(()=>{class v{constructor(y,T,N){this.router=y,this.route=T,this.locationStrategy=N,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new me.x,this.subscription=y.events.subscribe(G=>{G instanceof ls&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,p.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,p.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,p.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,T,N,G,ae){return!!(0!==y||T||N||G||ae||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(p.Y36(rn),p.Y36(Es),p.Y36(_t.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,T){1&y&&p.NdJ("click",function(G){return T.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&y&&p.uIk("target",T.target)("href",T.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class pa{}let gs=(()=>{class v{constructor(y,T,N,G,ae){this.router=y,this.injector=N,this.preloadingStrategy=G,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.h)(y=>y instanceof ls),He(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,T){const N=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,p.MMx)(G.providers,y,`Route: ${G.path}`));const ae=G._injector??y,he=G._loadedInjector??ae;G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent?N.push(this.preloadConfig(ae,G)):(G.children||G._loadedRoutes)&&N.push(this.processRoutes(he,G.children??G._loadedRoutes))}return(0,U.D)(N).pipe((0,jn.J)())}preloadConfig(y,T){return this.preloadingStrategy.preload(T,()=>{let N;N=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(y,T):(0,$.of)(null);const G=N.pipe((0,Fe.z)(ae=>null===ae?(0,$.of)(void 0):(T._loadedRoutes=ae.routes,T._loadedInjector=ae.injector,this.processRoutes(ae.injector??y,ae.routes))));if(T.loadComponent&&!T._loadedComponent){const ae=this.loader.loadComponent(T);return(0,U.D)([G,ae]).pipe((0,jn.J)())}return G})}}return v.\u0275fac=function(y){return new(y||v)(p.LFG(rn),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(pa),p.LFG(za))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ga=new p.OlP("");let Qo=(()=>{class v{constructor(y,T,N={}){this.router=y,this.viewportScroller=T,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ls&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof qn&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,T){this.router.triggerEvent(new qn(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();function Vo(v,E){return{\u0275kind:v,\u0275providers:E}}function ma(v){return[{provide:Ga,multi:!0,useValue:v}]}function bs(){const v=(0,p.f3M)(p.zs3);return E=>{const y=v.get(p.z2F);if(E!==y.components[0])return;const T=v.get(rn),N=v.get(Pu);1===v.get(ya)&&T.initialNavigation(),v.get(Ve,null,p.XFs.Optional)?.setUpPreloading(),v.get(ga,null,p.XFs.Optional)?.init(),T.resetRootComponentType(y.componentTypes[0]),N.closed||(N.next(),N.unsubscribe())}}const Pu=new p.OlP("",{factory:()=>new me.x}),ya=new p.OlP("",{providedIn:"root",factory:()=>1});const Ve=new p.OlP("");function Jo(v){return Vo(0,[{provide:Ve,useExisting:gs},{provide:pa,useExisting:v}])}const Si=new p.OlP("ROUTER_FORROOT_GUARD"),au=[_t.Ye,{provide:le,useClass:Le},{provide:rn,useFactory:ai},Wr,{provide:Es,useFactory:function Ka(v){return v.routerState.root},deps:[rn]},za];function Hs(){return new p.PXZ("Router",rn)}let Ra=(()=>{class v{constructor(y){}static forRoot(y,T){return{ngModule:v,providers:[au,[],ma(y),{provide:Si,useFactory:ms,deps:[[rn,new p.FiY,new p.tp0]]},{provide:yt,useValue:T||{}},T?.useHash?{provide:_t.S$,useClass:_t.Do}:{provide:_t.S$,useClass:_t.b0},{provide:ga,useFactory:()=>{const v=(0,p.f3M)(rn),E=(0,p.f3M)(_t.EM),y=(0,p.f3M)(yt);return y.scrollOffset&&E.setOffset(y.scrollOffset),new Qo(v,E,y)}},T?.preloadingStrategy?Jo(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Hs},T?.initialNavigation?qa(T):[],[{provide:Uo,useFactory:bs},{provide:p.tb,multi:!0,useExisting:Uo}]]}}static forChild(y){return{ngModule:v,providers:[ma(y)]}}}return v.\u0275fac=function(y){return new(y||v)(p.LFG(Si,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[vo]}),v})();function ms(v){return"guarded"}function qa(v){return["disabled"===v.initialNavigation?Vo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(rn);return()=>{E.setUpLocationChangeListener()}}},{provide:ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Vo(2,[{provide:ya,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const y=E.get(_t.V_,Promise.resolve());let T=!1;return()=>y.then(()=>new Promise(G=>{const ae=E.get(rn),he=E.get(Pu);(function N(G){E.get(rn).events.pipe((0,Pe.h)(he=>he instanceof ls||he instanceof xo||he instanceof Ys),(0,xt.U)(he=>he instanceof ls||he instanceof xo&&(0===he.code||1===he.code)&&null),(0,Pe.h)(he=>null!==he),(0,Dr.q)(1)).subscribe(()=>{G()})})(()=>{G(!0),T=!0}),ae.afterPreactivation=()=>(G(!0),T||he.closed?(0,$.of)(void 0):he),ae.initialNavigation()}))}}]).\u0275providers:[]]}const Uo=new p.OlP("")},3942:(Gt,Ge,k)=>{k.d(Ge,{Z:()=>We});var p=k(2090),U=k(4859),$=k(6881),me=k(1877);class de{constructor(Ke,ke){this._delegate=Ke,this.firebase=ke,(0,$._addComponent)(Ke,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Ke,ke=$._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Ke);return!vt.isInitialized()&&"EXPLICIT"===(null===(bt=vt.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:ke})}_removeServiceInstance(Ke,ke=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(ke)}_addComponent(Ke){(0,$._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,$._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ne(){const Mt=function ue(Mt){const Ke={},ke={__esModule:!0,initializeApp:function fe(Ze,Ie={}){const It=$.initializeApp(Ze,Ie);if((0,p.r3)(Ke,It.name))return Ke[It.name];const qt=new Mt(It,ke);return Ke[It.name]=qt,qt},app:vt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ze){const Ie=Ze.name,It=Ie.replace("-compat","");if($._registerComponent(Ze)&&"PUBLIC"===Ze.type){const qt=(_t=vt())=>{if("function"!=typeof _t[It])throw Ae.create("invalid-app-argument",{appName:Ie});return _t[It]()};void 0!==Ze.serviceProps&&(0,p.ZB)(qt,Ze.serviceProps),ke[It]=qt,Mt.prototype[It]=function(..._t){return this._getService.bind(this,Ie).apply(this,Ze.multipleInstances?_t:[])}}return"PUBLIC"===Ze.type?ke[It]:null},removeApp:function bt(Ze){delete Ke[Ze]},useAsService:function ot(Ze,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:$}};function vt(Ze){if(!(0,p.r3)(Ke,Ze=Ze||$._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Ze});return Ke[Ze]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function tt(){return Object.keys(Ke).map(Ze=>Ke[Ze])}}),vt.App=Mt,ke}(de);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Ke(ke){(0,p.ZB)(Mt,ke)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Mt}(),ce=new me.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=re;!function it(Mt){(0,$.registerVersion)("@firebase/app-compat","0.2.13",Mt)}()},6881:(Gt,Ge,k)=>{k.r(Ge),k.d(Ge,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>$r,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>Jt,_apps:()=>_n,_clearComponents:()=>fr,_components:()=>an,_getProvider:()=>hr,_registerComponent:()=>Rn,_removeServiceInstance:()=>nr,deleteApp:()=>rr,getApp:()=>bn,getApps:()=>Pt,initializeApp:()=>Sn,onLog:()=>K,registerVersion:()=>Xe,setLogLevel:()=>le});var p=k(5861),U=k(4859),$=k(1877),me=k(2090);let Te,Ae;const re=new WeakMap,ce=new WeakMap,ve=new WeakMap,dt=new WeakMap,it=new WeakMap;let Ke={get(xe,Re,ht){if(xe instanceof IDBTransaction){if("done"===Re)return ce.get(xe);if("objectStoreNames"===Re)return xe.objectStoreNames||ve.get(xe);if("store"===Re)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return fe(xe[Re])},set:(xe,Re,ht)=>(xe[Re]=ht,!0),has:(xe,Re)=>xe instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in xe};function vt(xe){return"function"==typeof xe?function bt(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...Re){return xe.apply(tt(this),Re),fe(re.get(this))}:function(...Re){return fe(xe.apply(tt(this),Re))}:function(Re,...ht){const ft=xe.call(tt(this),Re,...ht);return ve.set(ft,Re.sort?Re.sort():[Re]),fe(ft)}}(xe):(xe instanceof IDBTransaction&&function Mt(xe){if(ce.has(xe))return;const Re=new Promise((ht,ft)=>{const pn=()=>{xe.removeEventListener("complete",vn),xe.removeEventListener("error",Nn),xe.removeEventListener("abort",Nn)},vn=()=>{ht(),pn()},Nn=()=>{ft(xe.error||new DOMException("AbortError","AbortError")),pn()};xe.addEventListener("complete",vn),xe.addEventListener("error",Nn),xe.addEventListener("abort",Nn)});ce.set(xe,Re)}(xe),((xe,Re)=>Re.some(ht=>xe instanceof ht))(xe,function ue(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,Ke):xe)}function fe(xe){if(xe instanceof IDBRequest)return function We(xe){const Re=new Promise((ht,ft)=>{const pn=()=>{xe.removeEventListener("success",vn),xe.removeEventListener("error",Nn)},vn=()=>{ht(fe(xe.result)),pn()},Nn=()=>{ft(xe.error),pn()};xe.addEventListener("success",vn),xe.addEventListener("error",Nn)});return Re.then(ht=>{ht instanceof IDBCursor&&re.set(ht,xe)}).catch(()=>{}),it.set(Re,xe),Re}(xe);if(dt.has(xe))return dt.get(xe);const Re=vt(xe);return Re!==xe&&(dt.set(xe,Re),it.set(Re,xe)),Re}const tt=xe=>it.get(xe),Ze=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],It=new Map;function qt(xe,Re){if(!(xe instanceof IDBDatabase)||Re in xe||"string"!=typeof Re)return;if(It.get(Re))return It.get(Re);const ht=Re.replace(/FromIndex$/,""),ft=Re!==ht,pn=Ie.includes(ht);if(!(ht in(ft?IDBIndex:IDBObjectStore).prototype)||!pn&&!Ze.includes(ht))return;const vn=function(){var Nn=(0,p.Z)(function*(Nr,...xn){const Zr=this.transaction(Nr,pn?"readwrite":"readonly");let Yr=Zr.store;return ft&&(Yr=Yr.index(xn.shift())),(yield Promise.all([Yr[ht](...xn),pn&&Zr.done]))[0]});return function(xn){return Nn.apply(this,arguments)}}();return It.set(Re,vn),vn}!function ke(xe){Ke=xe(Ke)}(xe=>({...xe,get:(Re,ht,ft)=>qt(Re,ht)||xe.get(Re,ht,ft),has:(Re,ht)=>!!qt(Re,ht)||xe.has(Re,ht)}));class _t{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function xt(xe){return"VERSION"===xe.getComponent()?.type}(ht)){const ft=ht.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(ht=>ht).join(" ")}}const Rt="@firebase/app",qe=new $.Yd("@firebase/app"),$r="[DEFAULT]",dr={[Rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,an=new Map;function Ht(xe,Re){try{xe.container.addComponent(Re)}catch(ht){qe.debug(`Component ${Re.name} failed to register with FirebaseApp ${xe.name}`,ht)}}function Jt(xe,Re){xe.container.addOrOverwriteComponent(Re)}function Rn(xe){const Re=xe.name;if(an.has(Re))return qe.debug(`There were multiple attempts to register component ${Re}.`),!1;an.set(Re,xe);for(const ht of _n.values())Ht(ht,xe);return!0}function hr(xe,Re){const ht=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),xe.container.getProvider(Re)}function nr(xe,Re,ht=$r){hr(xe,Re).clearInstance(ht)}function fr(){an.clear()}const gr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(Re,ht,ft){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const zr="9.23.0";function Sn(xe,Re={}){let ht=xe;"object"!=typeof Re&&(Re={name:Re});const ft=Object.assign({name:$r,automaticDataCollectionEnabled:!1},Re),pn=ft.name;if("string"!=typeof pn||!pn)throw gr.create("bad-app-name",{appName:String(pn)});if(ht||(ht=(0,me.aH)()),!ht)throw gr.create("no-options");const vn=_n.get(pn);if(vn){if((0,me.vZ)(ht,vn.options)&&(0,me.vZ)(ft,vn.config))return vn;throw gr.create("duplicate-app",{appName:pn})}const Nn=new U.H0(pn);for(const xn of an.values())Nn.addComponent(xn);const Nr=new wn(ht,ft,Nn);return _n.set(pn,Nr),Nr}function bn(xe=$r){const Re=_n.get(xe);if(!Re&&xe===$r&&(0,me.aH)())return Sn();if(!Re)throw gr.create("no-app",{appName:xe});return Re}function Pt(){return Array.from(_n.values())}function rr(xe){return sr.apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(xe){const Re=xe.name;_n.has(Re)&&(_n.delete(Re),yield Promise.all(xe.container.getProviders().map(ht=>ht.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function Xe(xe,Re,ht){var ft;let pn=null!==(ft=dr[xe])&&void 0!==ft?ft:xe;ht&&(pn+=`-${ht}`);const vn=pn.match(/\s|\//),Nn=Re.match(/\s|\//);if(vn||Nn){const Nr=[`Unable to register library "${pn}" with version "${Re}":`];return vn&&Nr.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),vn&&Nn&&Nr.push("and"),Nn&&Nr.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void qe.warn(Nr.join(" "))}Rn(new U.wA(`${pn}-version`,()=>({library:pn,version:Re}),"VERSION"))}function K(xe,Re){if(null!==xe&&"function"!=typeof xe)throw gr.create("invalid-log-argument");(0,$.Am)(xe,Re)}function le(xe){(0,$.Ub)(xe)}const ie="firebase-heartbeat-store";let oe=null;function Y(){return oe||(oe=function Ce(xe,Re,{blocked:ht,upgrade:ft,blocking:pn,terminated:vn}={}){const Nn=indexedDB.open(xe,Re),Nr=fe(Nn);return ft&&Nn.addEventListener("upgradeneeded",xn=>{ft(fe(Nn.result),xn.oldVersion,xn.newVersion,fe(Nn.transaction),xn)}),ht&&Nn.addEventListener("blocked",xn=>ht(xn.oldVersion,xn.newVersion,xn)),Nr.then(xn=>{vn&&xn.addEventListener("close",()=>vn()),pn&&xn.addEventListener("versionchange",Zr=>pn(Zr.oldVersion,Zr.newVersion,Zr))}).catch(()=>{}),Nr}("firebase-heartbeat-database",1,{upgrade:(xe,Re)=>{0===Re&&xe.createObjectStore(ie)}}).catch(xe=>{throw gr.create("idb-open",{originalErrorMessage:xe.message})})),oe}function H(){return(H=(0,p.Z)(function*(xe){try{return yield(yield Y()).transaction(ie).objectStore(ie).get(St(xe))}catch(Re){if(Re instanceof me.ZR)qe.warn(Re.message);else{const ht=gr.create("idb-get",{originalErrorMessage:Re?.message});qe.warn(ht.message)}}})).apply(this,arguments)}function Ee(xe,Re){return rt.apply(this,arguments)}function rt(){return(rt=(0,p.Z)(function*(xe,Re){try{const ft=(yield Y()).transaction(ie,"readwrite");yield ft.objectStore(ie).put(Re,St(xe)),yield ft.done}catch(ht){if(ht instanceof me.ZR)qe.warn(ht.message);else{const ft=gr.create("idb-set",{originalErrorMessage:ht?.message});qe.warn(ft.message)}}})).apply(this,arguments)}function St(xe){return`${xe.name}!${xe.options.appId}`}class se{constructor(Re){this.container=Re,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new je(ht),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Re=this;return(0,p.Z)(function*(){const ft=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=X();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==pn&&!Re._heartbeatsCache.heartbeats.some(vn=>vn.date===pn))return Re._heartbeatsCache.heartbeats.push({date:pn,agent:ft}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(vn=>{const Nn=new Date(vn.date).valueOf();return Date.now()-Nn<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,p.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const ht=X(),{heartbeatsToSend:ft,unsentEntries:pn}=function Se(xe,Re=1024){const ht=[];let ft=xe.slice();for(const pn of xe){const vn=ht.find(Nn=>Nn.agent===pn.agent);if(vn){if(vn.dates.push(pn.date),Nt(ht)>Re){vn.dates.pop();break}}else if(ht.push({agent:pn.agent,dates:[pn.date]}),Nt(ht)>Re){ht.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:ht,unsentEntries:ft}}(Re._heartbeatsCache.heartbeats),vn=(0,me.L)(JSON.stringify({version:2,heartbeats:ft}));return Re._heartbeatsCache.lastSentHeartbeatDate=ht,pn.length>0?(Re._heartbeatsCache.heartbeats=pn,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),vn})()}}function X(){return(new Date).toISOString().substring(0,10)}class je{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,p.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function q(xe){return H.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var ht=this;return(0,p.Z)(function*(){var ft;if(yield ht._canUseIndexedDBPromise){const vn=yield ht.read();return Ee(ht.app,{lastSentHeartbeatDate:null!==(ft=Re.lastSentHeartbeatDate)&&void 0!==ft?ft:vn.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var ht=this;return(0,p.Z)(function*(){var ft;if(yield ht._canUseIndexedDBPromise){const vn=yield ht.read();return Ee(ht.app,{lastSentHeartbeatDate:null!==(ft=Re.lastSentHeartbeatDate)&&void 0!==ft?ft:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...Re.heartbeats]})}})()}}function Nt(xe){return(0,me.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function tn(xe){Rn(new U.wA("platform-logger",Re=>new _t(Re),"PRIVATE")),Rn(new U.wA("heartbeat",Re=>new se(Re),"PRIVATE")),Xe(Rt,"0.9.13",xe),Xe(Rt,"0.9.13","esm2017"),Xe("fire-js","")}("")},4859:(Gt,Ge,k)=>{k.d(Ge,{H0:()=>ue,wA:()=>$});var p=k(5861),U=k(2090);class ${constructor(re,ce,ve){this.name=re,this.instanceFactory=ce,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const me="[DEFAULT]";class de{constructor(re,ce){this.name=re,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ce=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ce)){const ve=new U.BH;if(this.instancesDeferred.set(ce,ve),this.isInitialized(ce)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:ce});dt&&ve.resolve(dt)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(re){var ce;const ve=this.normalizeInstanceIdentifier(re?.identifier),dt=null!==(ce=re?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(it){if(dt)return null;throw it}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ae(Ne){return"EAGER"===Ne.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[ce,ve]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(ce);try{const it=this.getOrInitializeService({instanceIdentifier:dt});ve.resolve(it)}catch{}}}}clearInstance(re=me){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,p.Z)(function*(){const ce=Array.from(re.instances.values());yield Promise.all([...ce.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ce.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=me){return this.instances.has(re)}getOptions(re=me){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ce={}}=re,ve=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:ve,options:ce});for(const[it,We]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(it)&&We.resolve(dt);return dt}onInit(re,ce){var ve;const dt=this.normalizeInstanceIdentifier(ce),it=null!==(ve=this.onInitCallbacks.get(dt))&&void 0!==ve?ve:new Set;it.add(re),this.onInitCallbacks.set(dt,it);const We=this.instances.get(dt);return We&&re(We,dt),()=>{it.delete(re)}}invokeOnInitCallbacks(re,ce){const ve=this.onInitCallbacks.get(ce);if(ve)for(const dt of ve)try{dt(re,ce)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ce={}}){let ve=this.instances.get(re);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=re,Ne===me?void 0:Ne),options:ce}),this.instances.set(re,ve),this.instancesOptions.set(re,ce),this.invokeOnInitCallbacks(ve,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ve)}catch{}var Ne;return ve||null}normalizeInstanceIdentifier(re=me){return this.component?this.component.multipleInstances?re:me:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ce=this.getProvider(re.name);if(ce.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ce.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ce=new de(re,this);return this.providers.set(re,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,Ge,k)=>{k.d(Ge,{Am:()=>Ne,Ub:()=>ue,Yd:()=>Ae,in:()=>U});const p=[];var U=(()=>{return(re=U||(U={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",U;var re})();const $={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},me=U.INFO,de={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Te=(re,ce,...ve)=>{if(ce<re.logLevel)return;const dt=(new Date).toISOString(),it=de[ce];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[it](`[${dt}]  ${re.name}:`,...ve)};class Ae{constructor(ce){this.name=ce,this._logLevel=me,this._logHandler=Te,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in U))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?$[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...ce),this._logHandler(this,U.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...ce),this._logHandler(this,U.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,U.INFO,...ce),this._logHandler(this,U.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,U.WARN,...ce),this._logHandler(this,U.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...ce),this._logHandler(this,U.ERROR,...ce)}}function ue(re){p.forEach(ce=>{ce.setLogLevel(re)})}function Ne(re,ce){for(const ve of p){let dt=null;ce&&ce.level&&(dt=$[ce.level]),ve.userLogHandler=null===re?null:(it,We,...Mt)=>{const Ke=Mt.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");We>=(dt??it.logLevel)&&re({level:U[We].toLowerCase(),message:Ke,args:Mt,type:it.name})}}}},259:(Gt,Ge,k)=>{k.d(Ge,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=k(6881);(0,p.registerVersion)("firebase","9.23.0","app")},9260:(Gt,Ge,k)=>{k.d(Ge,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Gt,Ge,k)=>{k.r(Ge);var p=k(5861),U=k(3942),$=k(1389),me=k(2090),Ae=(k(6881),k(1877),k(4859));function ue(){return window}function ce(){return(ce=(0,p.Z)(function*(Y,q,H){var Ee;const{BuildInfo:rt}=ue();(0,$.as)(q.sessionId,"AuthEvent did not contain a session ID");const St=yield ke(q.sessionId),Yt={};return(0,$.at)()?Yt.ibi=rt.packageName:(0,$.au)()?Yt.apn=rt.packageName:(0,$.av)(Y,"operation-not-supported-in-this-environment"),rt.displayName&&(Yt.appDisplayName=rt.displayName),Yt.sessionId=St,(0,$.aw)(Y,H,q.type,void 0,null!==(Ee=q.eventId)&&void 0!==Ee?Ee:void 0,Yt)})).apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(Y){const{BuildInfo:q}=ue(),H={};(0,$.at)()?H.iosBundleId=q.packageName:(0,$.au)()?H.androidPackageName=q.packageName:(0,$.av)(Y,"operation-not-supported-in-this-environment"),yield(0,$.ax)(Y,H)})).apply(this,arguments)}function Mt(){return(Mt=(0,p.Z)(function*(Y,q,H){const{cordova:Ee}=ue();let rt=()=>{};try{yield new Promise((St,Yt)=>{let te=null;function se(){var je;St();const Nt=null===(je=Ee.plugins.browsertab)||void 0===je?void 0:je.close;"function"==typeof Nt&&Nt(),"function"==typeof H?.close&&H.close()}function X(){te||(te=window.setTimeout(()=>{Yt((0,$.az)(Y,"redirect-cancelled-by-user"))},2e3))}function Se(){"visible"===document?.visibilityState&&X()}q.addPassiveListener(se),document.addEventListener("resume",X,!1),(0,$.au)()&&document.addEventListener("visibilitychange",Se,!1),rt=()=>{q.removePassiveListener(se),document.removeEventListener("resume",X,!1),document.removeEventListener("visibilitychange",Se,!1),te&&window.clearTimeout(te)}})}finally{rt()}})).apply(this,arguments)}function ke(Y){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(Y){const q=vt(Y),H=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(H)).map(rt=>rt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vt(Y){if((0,$.as)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const q=new ArrayBuffer(Y.length),H=new Uint8Array(q);for(let Ee=0;Ee<Y.length;Ee++)H[Ee]=Y.charCodeAt(Ee);return H}class tt extends $.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(q)),super.onEvent(q)}initialized(){var q=this;return(0,p.Z)(function*(){yield q.initPromise})()}}function Ze(Y){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(Y){const q=yield _t()._get(xt(Y));return q&&(yield _t()._remove(xt(Y))),q})).apply(this,arguments)}function qt(){const Y=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Ee=Math.floor(Math.random()*q.length);Y.push(q.charAt(Ee))}return Y.join("")}function _t(){return(0,$.aC)($.b)}function xt(Y){return(0,$.aD)("authEvent",Y.config.apiKey,Y.name)}function qe(Y){if(!Y?.includes("?"))return{};const[q,...H]=Y.split("?");return(0,me.zd)(H.join("?"))}function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.az)("no-auth-event")}}function At(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function ln(Y=(0,me.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bn(){try{const Y=self.localStorage,q=$.aL();if(Y)return Y.setItem(q,"1"),Y.removeItem(q),!function jn(Y=(0,me.z$)()){return function zn(){return(0,me.w1)()&&11===document?.documentMode}()||function tr(Y=(0,me.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,me.hl)()}catch{return $t()&&(0,me.hl)()}return!1}function $t(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function Zt(){return"http:"===At()||"https:"===At()}()||(0,me.ru)()||ln())&&!function yn(){return(0,me.b$)()||(0,me.UG)()}()&&Bn()&&!$t()}function Cr(){return ln()&&typeof document<"u"}function Ct(){return(Ct=(0,p.Z)(function*(){return!!Cr()&&new Promise(Y=>{const q=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),Y(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=$.aA,jr="persistence";function dr(Y){return _n.apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(Y){yield Y._initializationPromise;const q=Ht(),H=$.aD(jr,Y.config.apiKey,Y.name);q&&q.setItem(H,Y._getPersistence())})).apply(this,arguments)}function Ht(){var Y;try{return(null===(Y=function An(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const Jt=$.aA;class Rn{constructor(){this.browserResolver=$.aC($.k),this.cordovaResolver=$.aC(class Fe{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(q){var H=this;return(0,p.Z)(function*(){const Ee=q._key();let rt=H.eventManagers.get(Ee);return rt||(rt=new tt(q),H.eventManagers.set(Ee,rt),H.attachCallbackListeners(q,rt)),rt})()}_openPopup(q){(0,$.av)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,H,Ee,rt){var St=this;return(0,p.Z)(function*(){!function Ke(Y){var q,H,Ee,rt,St,Yt,te,se,X,Se;const je=ue();(0,$.aA)("function"==typeof(null===(q=je?.universalLinks)||void 0===q?void 0:q.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aA)(typeof(null===(H=je?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aA)("function"==typeof(null===(St=null===(rt=null===(Ee=je?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===St?void 0:St.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(se=null===(te=null===(Yt=je?.cordova)||void 0===Yt?void 0:Yt.plugins)||void 0===te?void 0:te.browsertab)||void 0===se?void 0:se.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(Se=null===(X=je?.cordova)||void 0===X?void 0:X.InAppBrowser)||void 0===Se?void 0:Se.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Yt=yield St._initialize(q);yield Yt.initialized(),Yt.resetRedirect(),(0,$.aG)(),yield St._originValidation(q);const te=function Ce(Y,q,H=null){return{type:q,eventId:H,urlResponse:null,sessionId:qt(),postBody:null,tenantId:Y.tenantId,error:(0,$.az)(Y,"no-auth-event")}}(q,Ee,rt);yield function ot(Y,q){return _t()._set(xt(Y),q)}(q,te);const se=yield function re(Y,q,H){return ce.apply(this,arguments)}(q,te,H),X=yield function it(Y){const{cordova:q}=ue();return new Promise(H=>{q.plugins.browsertab.isAvailable(Ee=>{let rt=null;Ee?q.plugins.browsertab.openUrl(Y):rt=q.InAppBrowser.open(Y,(0,$.ay)()?"_blank":"_system","location=yes"),H(rt)})})}(se);return function We(Y,q,H){return Mt.apply(this,arguments)}(q,Yt,X)})()}_isIframeWebStorageSupported(q,H){throw new Error("Method not implemented.")}_originValidation(q){const H=q._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ve(Y){return dt.apply(this,arguments)}(q)),this.originValidationPromises[H]}attachCallbackListeners(q,H){const{universalLinks:Ee,handleOpenURL:rt,BuildInfo:St}=ue(),Yt=setTimeout((0,p.Z)(function*(){yield Ze(q),H.onEvent(He())}),500),te=function(){var Se=(0,p.Z)(function*(je){clearTimeout(Yt);const Nt=yield Ze(q);let tn=null;Nt&&je?.url&&(tn=function It(Y,q){var H,Ee;const rt=function Dr(Y){const q=qe(Y),H=q.link?decodeURIComponent(q.link):void 0,Ee=qe(H).link,rt=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return qe(rt).link||rt||Ee||H||Y}(q);if(rt.includes("/__/auth/callback")){const St=qe(rt),Yt=St.firebaseError?function Rt(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(St.firebaseError)):null,te=null===(Ee=null===(H=Yt?.code)||void 0===H?void 0:H.split("auth/"))||void 0===Ee?void 0:Ee[1],se=te?(0,$.az)(te):null;return se?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:se,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:rt,postBody:null}}return null}(Nt,je.url)),H.onEvent(tn||He())});return function(Nt){return Se.apply(this,arguments)}}();typeof Ee<"u"&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,te);const se=rt,X=`${St.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var Se=(0,p.Z)(function*(je){if(je.toLowerCase().startsWith(X)&&te({url:je}),"function"==typeof se)try{se(je)}catch(Nt){console.error(Nt)}});return function(je){return Se.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(q){var H=this;return(0,p.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,H,Ee,rt){var St=this;return(0,p.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(q,H,Ee,rt)})()}_openRedirect(q,H,Ee,rt){var St=this;return(0,p.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(q,H,Ee,rt)})()}_isIframeWebStorageSupported(q,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,H)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,p.Z)(function*(){if(q.underlyingResolver)return;const H=yield function cr(){return Ct.apply(this,arguments)}();q.underlyingResolver=H?q.cordovaResolver:q.browserResolver})()}}function hr(Y){return Y.unwrap()}function fr(Y){return gr(Y)}function gr(Y){const{_tokenResponse:q}=Y instanceof me.ZR?Y.customData:Y;if(!q)return null;if(!(Y instanceof me.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return $.P.credentialFromResult(Y);const H=q.providerId;if(!H||H===$.p.PASSWORD)return null;let Ee;switch(H){case $.p.GOOGLE:Ee=$.V;break;case $.p.FACEBOOK:Ee=$.U;break;case $.p.GITHUB:Ee=$.W;break;case $.p.TWITTER:Ee=$.Z;break;default:const{oauthIdToken:rt,oauthAccessToken:St,oauthTokenSecret:Yt,pendingToken:te,nonce:se}=q;return St||Yt||rt||te?te?H.startsWith("saml.")?$.aO._create(H,te):$.L._fromParams({providerId:H,signInMethod:H,pendingToken:te,idToken:rt,accessToken:St}):new $.X(H).credential({idToken:rt,accessToken:St,rawNonce:se}):null}return Y instanceof me.ZR?Ee.credentialFromError(Y):Ee.credentialFromResult(Y)}function wn(Y,q){return q.catch(H=>{throw H instanceof me.ZR&&function un(Y,q){var H;const Ee=null===(H=q.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===q?.code)q.resolver=new bn(Y,$.aq(Y,q));else if(Ee){const rt=gr(q),St=q;rt&&(St.credential=rt,St.tenantId=Ee.tenantId||void 0,St.email=Ee.email||void 0,St.phoneNumber=Ee.phoneNumber||void 0)}}(Y,H),H}).then(H=>{const rt=H.user;return{operationType:H.operationType,credential:fr(H),additionalUserInfo:$.ao(H),user:Pt.getOrCreate(rt)}})}function zr(Y,q){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(function*(Y,q){const H=yield q;return{verificationId:H.verificationId,confirm:Ee=>wn(Y,H.confirm(Ee))}})).apply(this,arguments)}class bn{constructor(q,H){this.resolver=H,this.auth=function nr(Y){return Y.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return wn(hr(this.auth),this.resolver.resolveSignIn(q))}}class Pt{constructor(q){this._delegate=q,this.multiFactor=$.ar(q)}static getOrCreate(q){return Pt.USER_MAP.has(q)||Pt.USER_MAP.set(q,new Pt(q)),Pt.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var H=this;return(0,p.Z)(function*(){return wn(H.auth,$.a0(H._delegate,q))})()}linkWithPhoneNumber(q,H){var Ee=this;return(0,p.Z)(function*(){return zr(Ee.auth,$.l(Ee._delegate,q,H))})()}linkWithPopup(q){var H=this;return(0,p.Z)(function*(){return wn(H.auth,$.d(H._delegate,q,Rn))})()}linkWithRedirect(q){var H=this;return(0,p.Z)(function*(){return yield dr($.aH(H.auth)),$.g(H._delegate,q,Rn)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var H=this;return(0,p.Z)(function*(){return wn(H.auth,$.a1(H._delegate,q))})()}reauthenticateWithPhoneNumber(q,H){return zr(this.auth,$.r(this._delegate,q,H))}reauthenticateWithPopup(q){return wn(this.auth,$.e(this._delegate,q,Rn))}reauthenticateWithRedirect(q){var H=this;return(0,p.Z)(function*(){return yield dr($.aH(H.auth)),$.h(H._delegate,q,Rn)})()}sendEmailVerification(q){return $.ae(this._delegate,q)}unlink(q){var H=this;return(0,p.Z)(function*(){return yield $.an(H._delegate,q),H})()}updateEmail(q){return $.aj(this._delegate,q)}updatePassword(q){return $.ak(this._delegate,q)}updatePhoneNumber(q){return $.u(this._delegate,q)}updateProfile(q){return $.ai(this._delegate,q)}verifyBeforeUpdateEmail(q,H){return $.af(this._delegate,q,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pt.USER_MAP=new WeakMap;const rr=$.aA;let sr=(()=>{class Y{constructor(H,Ee){if(this.app=H,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:rt}=H.options;rr(rt,"invalid-api-key",{appName:H.name}),rr(rt,"invalid-api-key",{appName:H.name});const St=typeof window<"u"?Rn:void 0;this._delegate=Ee.initialize({options:{persistence:K(rt,H.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap($.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Ee){$.I(this._delegate,H,Ee)}applyActionCode(H){return $.a5(this._delegate,H)}checkActionCode(H){return $.a6(this._delegate,H)}confirmPasswordReset(H,Ee){return $.a4(this._delegate,H,Ee)}createUserWithEmailAndPassword(H,Ee){var rt=this;return(0,p.Z)(function*(){return wn(rt._delegate,$.a8(rt._delegate,H,Ee))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return $.ad(this._delegate,H)}isSignInWithEmailLink(H){return $.ab(this._delegate,H)}getRedirectResult(){var H=this;return(0,p.Z)(function*(){rr(Wn(),H._delegate,"operation-not-supported-in-this-environment");const Ee=yield $.j(H._delegate,Rn);return Ee?wn(H._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function st(Y,q){(0,$.aH)(Y)._logFramework(q)}(this._delegate,H)}onAuthStateChanged(H,Ee,rt){const{next:St,error:Yt,complete:te}=Xe(H,Ee,rt);return this._delegate.onAuthStateChanged(St,Yt,te)}onIdTokenChanged(H,Ee,rt){const{next:St,error:Yt,complete:te}=Xe(H,Ee,rt);return this._delegate.onIdTokenChanged(St,Yt,te)}sendSignInLinkToEmail(H,Ee){return $.aa(this._delegate,H,Ee)}sendPasswordResetEmail(H,Ee){return $.a3(this._delegate,H,Ee||void 0)}setPersistence(H){var Ee=this;return(0,p.Z)(function*(){let rt;switch(function $r(Y,q){Jn(Object.values(hn).includes(q),Y,"invalid-persistence-type"),(0,me.b$)()?Jn(q!==hn.SESSION,Y,"unsupported-persistence-type"):(0,me.UG)()?Jn(q===hn.NONE,Y,"unsupported-persistence-type"):$t()?Jn(q===hn.NONE||q===hn.LOCAL&&(0,me.hl)(),Y,"unsupported-persistence-type"):Jn(q===hn.NONE||Bn(),Y,"unsupported-persistence-type")}(Ee._delegate,H),H){case hn.SESSION:rt=$.a;break;case hn.LOCAL:rt=(yield $.aC($.i)._isAvailable())?$.i:$.b;break;case hn.NONE:rt=$.N;break;default:return $.av("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(rt)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return wn(this._delegate,$._(this._delegate))}signInWithCredential(H){return wn(this._delegate,$.$(this._delegate,H))}signInWithCustomToken(H){return wn(this._delegate,$.a2(this._delegate,H))}signInWithEmailAndPassword(H,Ee){return wn(this._delegate,$.a9(this._delegate,H,Ee))}signInWithEmailLink(H,Ee){return wn(this._delegate,$.ac(this._delegate,H,Ee))}signInWithPhoneNumber(H,Ee){return zr(this._delegate,$.s(this._delegate,H,Ee))}signInWithPopup(H){var Ee=this;return(0,p.Z)(function*(){return rr(Wn(),Ee._delegate,"operation-not-supported-in-this-environment"),wn(Ee._delegate,$.c(Ee._delegate,H,Rn))})()}signInWithRedirect(H){var Ee=this;return(0,p.Z)(function*(){return rr(Wn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield dr(Ee._delegate),$.f(Ee._delegate,H,Rn)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return $.a7(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=hn,Y})();function Xe(Y,q,H){let Ee=Y;"function"!=typeof Y&&({next:Ee,error:q,complete:H}=Y);const rt=Ee;return{next:Yt=>rt(Yt&&Pt.getOrCreate(Yt)),error:q,complete:H}}function K(Y,q){const H=function an(Y,q){const H=Ht();if(!H)return[];const Ee=$.aD(jr,Y,q);switch(H.getItem(Ee)){case hn.NONE:return[$.N];case hn.LOCAL:return[$.i,$.a];case hn.SESSION:return[$.a];default:return[]}}(Y,q);if(typeof self<"u"&&!H.includes($.i)&&H.push($.i),typeof window<"u")for(const Ee of[$.b,$.a])H.includes(Ee)||H.push(Ee);return H.includes($.N)||H.push($.N),H}class le{constructor(){this.providerId="phone",this._delegate=new $.P(hr(U.Z.auth()))}static credential(q,H){return $.P.credential(q,H)}verifyPhoneNumber(q,H){return this._delegate.verifyPhoneNumber(q,H)}unwrap(){return this._delegate}}le.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,le.PROVIDER_ID=$.P.PROVIDER_ID;const Le=$.aA;class wt{constructor(q,H,Ee=U.Z.app()){var rt;Le(null===(rt=Ee.options)||void 0===rt?void 0:rt.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new $.R(q,H,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(Y){Y.INTERNAL.registerComponent(new Ae.wA("auth-compat",q=>{const H=q.getProvider("app-compat").getImmediate(),Ee=q.getProvider("auth");return new sr(H,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.Q,FacebookAuthProvider:$.U,GithubAuthProvider:$.W,GoogleAuthProvider:$.V,OAuthProvider:$.X,SAMLAuthProvider:$.Y,PhoneAuthProvider:le,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:wt,TwitterAuthProvider:$.Z,Auth:sr,AuthCredential:$.J,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},5861:(Gt,Ge,k)=>{function p($,me,de,Te,Ae,ue,Ne){try{var re=$[ue](Ne),ce=re.value}catch(ve){return void de(ve)}re.done?me(ce):Promise.resolve(ce).then(Te,Ae)}function U($){return function(){var me=this,de=arguments;return new Promise(function(Te,Ae){var ue=$.apply(me,de);function Ne(ce){p(ue,Te,Ae,Ne,re,"next",ce)}function re(ce){p(ue,Te,Ae,Ne,re,"throw",ce)}Ne(void 0)})}}k.d(Ge,{Z:()=>U})},7582:(Gt,Ge,k)=>{function me(qe,Pe){var Fe={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&Pe.indexOf(Be)<0&&(Fe[Be]=qe[Be]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Be=Object.getOwnPropertySymbols(qe);He<Be.length;He++)Pe.indexOf(Be[He])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[He])&&(Fe[Be[He]]=qe[Be[He]])}return Fe}function ve(qe,Pe,Fe,Be){return new(Fe||(Fe=Promise))(function(st,ct){function Et(Zt){try{At(Be.next(Zt))}catch(ln){ct(ln)}}function Vt(Zt){try{At(Be.throw(Zt))}catch(ln){ct(ln)}}function At(Zt){Zt.done?st(Zt.value):function He(st){return st instanceof Fe?st:new Fe(function(ct){ct(st)})}(Zt.value).then(Et,Vt)}At((Be=Be.apply(qe,Pe||[])).next())})}function fe(qe){return this instanceof fe?(this.v=qe,this):new fe(qe)}function tt(qe,Pe,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Be=Fe.apply(qe,Pe||[]),st=[];return He={},ct("next"),ct("throw"),ct("return"),He[Symbol.asyncIterator]=function(){return this},He;function ct(yn){Be[yn]&&(He[yn]=function(zn){return new Promise(function(tr,jn){st.push([yn,zn,tr,jn])>1||Et(yn,zn)})})}function Et(yn,zn){try{!function Vt(yn){yn.value instanceof fe?Promise.resolve(yn.value.v).then(At,Zt):ln(st[0][2],yn)}(Be[yn](zn))}catch(tr){ln(st[0][3],tr)}}function At(yn){Et("next",yn)}function Zt(yn){Et("throw",yn)}function ln(yn,zn){yn(zn),st.shift(),st.length&&Et(st[0][0],st[0][1])}}function ot(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Pe=qe[Symbol.asyncIterator];return Pe?Pe.call(qe):(qe=function Mt(qe){var Pe="function"==typeof Symbol&&Symbol.iterator,Fe=Pe&&qe[Pe],Be=0;if(Fe)return Fe.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&Be>=qe.length&&(qe=void 0),{value:qe&&qe[Be++],done:!qe}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),Fe={},Be("next"),Be("throw"),Be("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Be(st){Fe[st]=qe[st]&&function(ct){return new Promise(function(Et,Vt){!function He(st,ct,Et,Vt){Promise.resolve(Vt).then(function(At){st({value:At,done:Et})},ct)}(Et,Vt,(ct=qe[st](ct)).done,ct.value)})}}}k.d(Ge,{FC:()=>tt,KL:()=>ot,_T:()=>me,mG:()=>ve,qq:()=>fe})}},Gt=>{Gt(Gt.s=2955)}]);