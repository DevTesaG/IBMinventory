"use strict";(self.webpackChunkInvFurniture=self.webpackChunkInvFurniture||[]).push([[540],{7915:(P,h,a)=>{a.d(h,{U:()=>C});var e=a(4650),u=a(4985),b=a(8179),v=a(6895),s=a(433),c=a(2121);function n(l,g){if(1&l&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&l){const r=e.oxw(2).$implicit;e.xp6(1),e.hij("",r.placeholder," es obligatorio")}}function t(l,g){if(1&l&&(e.TgZ(0,"div",12),e.YNc(1,n,2,1,"div",13),e.qZA()),2&l){e.oxw();const r=e.MAs(2);e.xp6(1),e.Q6J("ngIf",r.errors.required)}}function o(l,g){1&l&&e._UZ(0,"div",14)}const i=function(l){return{"is-invalid":l}};function d(l,g){if(1&l){const r=e.EpF();e.TgZ(0,"div",6)(1,"input",7,8),e.NdJ("ngModelChange",function(_){const E=e.CHM(r).$implicit;return e.KtG(E.value=_)}),e.qZA(),e.YNc(3,t,2,1,"div",9),e.TgZ(4,"label",10),e._uU(5),e.qZA(),e.YNc(6,o,1,0,"div",11),e.qZA()}if(2&l){const r=g.$implicit,p=e.MAs(2),_=e.oxw(2),M=e.MAs(1);e.xp6(1),e.Tol("form-control"+r.classlist),e.Q6J("id",r.label)("name",r.label)("type",r.type)("placeholder",r.placeholder)("ngModel",r.value)("value",r.valueCallback?r.getValue():r.value)("ngClass",e.VKq(14,i,M.submitted&&p.errors))("readonly",_.mode||r.readonly),e.xp6(2),e.Q6J("ngIf",M.submitted&&p.errors),e.xp6(1),e.Q6J("for",r.label),e.xp6(1),e.Oqu(r.placeholder),e.xp6(1),e.Q6J("ngIf","radio"==r.type)}}function f(l,g){if(1&l&&(e.TgZ(0,"div",4),e.YNc(1,d,7,16,"div",5),e.qZA()),2&l){const r=g.$implicit;e.xp6(1),e.Q6J("ngForOf",r)}}function m(l,g){if(1&l){const r=e.EpF();e.TgZ(0,"div",15)(1,"app-warn-modal",16),e.NdJ("continue",function(_){e.CHM(r);const M=e.oxw();return e.KtG(M.onSubmit(_))}),e.qZA(),e.TgZ(2,"button",17),e.NdJ("click",function(){e.CHM(r);const _=e.oxw(),M=e.MAs(1);return e.KtG(_.onReset(M))}),e._uU(3," Reset "),e.qZA()()}if(2&l){const r=e.oxw();e.xp6(1),e.Q6J("btnMessage",r.btnMes)}}let C=(()=>{class l{constructor(r){this.cdref=r,this.formModel=new e.vpe,this.reject=new e.vpe,this.mode=!1,this.btnMes="Registrar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.formObj=[[new u.O("Nombre Completo","fullname","text"),new u.O("Nombre de Usuario","username","text")],[new u.O("Correo Electronico","email","text")],[new u.O("Password","password","password"),new u.O("Confirmar Password","Confirm Password","password")],[new u.O("Aceptar los Terminos","Accept Terms","radio","form-check-input",!1)]],this.continue=!1}ngOnInit(){this.initPlaceHolder()}onContinue(r){this.continue=r}initPlaceHolder(){this.placeHolder&&this.formObj.forEach(r=>r.forEach(p=>{if(this.placeHolder){var _=this.placeHolder[p.getLabel()];_ instanceof b.EK&&(_=this.formatDateString(_.toDate().toLocaleDateString())),p.setValue(_)}}))}ngOnChanges(){this.initPlaceHolder()}formatDateString(r){return r.split("/").reverse().join("/").replace(/\//g,"-")}ngAfterContentChecked(){this.cdref.detectChanges()}onSubmit(r){if(this.continue&&r){var p={};this.formObj.flat(2).forEach(_=>p[_.label]=_.value),this.formModel.emit(p)}}onReset(r){this.continue=!1,this.reject.emit(),r.reset()}}return l.\u0275fac=function(r){return new(r||l)(e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-form"]],inputs:{placeHolder:"placeHolder",mode:"mode",btnMes:"btnMes",modalMessage:"modalMessage",formObj:"formObj"},outputs:{formModel:"formModel",reject:"reject"},features:[e.TTD],decls:4,vars:2,consts:[["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],["class","input-group mb-2",4,"ngFor","ngForOf"],["class","form-group mt-3",4,"ngIf"],[1,"input-group","mb-2"],["class","form-floating",4,"ngFor","ngForOf"],[1,"form-floating"],["required","",3,"id","name","type","placeholder","ngModel","value","ngClass","readonly","ngModelChange"],["input","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"",3,"for"],["class","mb-4",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-4"],[1,"form-group","mt-3"],["type","submit","modalMessage","\xbfSeguro que desea crear una nueva orden?",3,"btnMessage","continue"],["type","button",1,"ms-2","btn","btn-outline-danger","rounded-pill",3,"click"]],template:function(r,p){if(1&r){const _=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(_);const E=e.MAs(1);return e.KtG(E.form.valid&&p.onContinue(!0))}),e.YNc(2,f,2,1,"div",2),e.YNc(3,m,4,1,"div",3),e.qZA()}2&r&&(e.xp6(2),e.Q6J("ngForOf",p.formObj),e.xp6(1),e.Q6J("ngIf",!p.mode))},dependencies:[v.mk,v.sg,v.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,c.u]}),l})()},2121:(P,h,a)=>{a.d(h,{u:()=>v});var e=a(4650),u=a(6895);const b=function(){return["btn-outline-success","rounded-pill"]};let v=(()=>{class s{constructor(){this.btnMessage="Continuar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.continue=new e.vpe}ngOnInit(){}modalContinue(n){this.continue.emit(n)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-warn-modal"]],inputs:{btnMessage:"btnMessage",modalMessage:"modalMessage",classlist:"classlist"},outputs:{continue:"continue"},decls:17,vars:4,consts:[[1,"container-fluid","my-3","mx-auto"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn",3,"ngClass"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger","rounded-pill",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success","rounded-pill",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"PRECAUCION"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return t.modalContinue(!1)}),e.qZA()(),e.TgZ(10,"div",8),e._uU(11),e.qZA(),e.TgZ(12,"div",9)(13,"button",10),e.NdJ("click",function(){return t.modalContinue(!1)}),e._uU(14,"Abortar"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return t.modalContinue(!0)}),e._uU(16,"Continuar"),e.qZA()()()()()()),2&n&&(e.xp6(1),e.Q6J("ngClass",t.classlist?t.classlist:e.DdM(3,b)),e.xp6(1),e.hij(" ",t.btnMessage," "),e.xp6(9),e.hij(" ",t.modalMessage," "))},dependencies:[u.mk]}),s})()},3602:(P,h,a)=>{a.d(h,{N:()=>e});class e{}},798:(P,h,a)=>{a.d(h,{C:()=>v});var e=a(8179),u=a(4650),b=a(33);let v=(()=>{class s{constructor(n){this.db=n,this.dbPath="/audit",this.objectsRef=n.collection(this.dbPath)}getNextBatch(n,t){return this.db.collection(this.dbPath,t?o=>o.orderBy("timestamp","desc").startAfter(t.timestamp).limit(n):o=>o.orderBy("timestamp","desc").limit(n))}create(n,t,o,i,d,f){var m={name:n,process:t,posterior:i,timestamp:e.EK.fromDate(new Date),user:o};return d&&(m.prior=d),f&&(m.itemId=f),this.objectsRef.add({...m})}update(n,t){return this.objectsRef.doc(n).update(t)}delete(n){return this.objectsRef.doc(n).delete()}filterByDateBatch(n,t,o,i,d){return console.log(o),this.db.collection(this.dbPath,f=>f.where("timestamp",">=",n).where("timestamp","<=",t).where("name","==",o).orderBy("timestamp","desc").limit(i))}filterByNameBatch(n,t,o){return this.db.collection(this.dbPath,o?i=>i.where("name",">=",n).where("name","<=",n+"\uf8ff").orderBy("name","desc").startAfter(o.name).limit(t):i=>i.where("name",">=",n).where("name","<=",n+"\uf8ff").orderBy("name","desc").limit(t))}filterByCodeBatch(n,t,o){return this.db.collection(this.dbPath,o?i=>i.where("code",">=",n).where("code","<=",n+"\uf8ff").orderBy("code","desc").startAfter(o.code).limit(t):i=>i.where("code",">=",n).where("code","<=",n+"\uf8ff").orderBy("code","desc").limit(t))}}return s.\u0275fac=function(n){return new(n||s)(u.LFG(b.ST))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},490:(P,h,a)=>{a.d(h,{y:()=>s});var e=a(5861),u=a(4004),b=a(4650),v=a(33);let s=(()=>{class c{constructor(t){this.db=t,this.dbPath="/RMreport",this.InvRawMaterialsRef=t.collection(this.dbPath)}getNextBatch(t,o){return this.db.collection(this.dbPath,o?i=>i.orderBy("materialId","desc").startAfter(o.materialId).limit(t):i=>i.orderBy("materialId","desc").limit(t))}getAll(){return this.InvRawMaterialsRef}create(t){return this.InvRawMaterialsRef.add({...t})}update(t,o){return console.log("Update",t,o),this.InvRawMaterialsRef.doc(t).update(o)}delete(t){return this.InvRawMaterialsRef.doc(t).delete()}getStock(t){var o=this;return(0,e.Z)(function*(){if(!t)return{};var i={};return new Promise(function(){var d=(0,e.Z)(function*(f){o.db.collection(o.dbPath,m=>m.where("materialId","==",t)).snapshotChanges().pipe((0,u.U)(m=>m.map(C=>({id:C.payload.doc.id,...C.payload.doc.data()})))).subscribe(m=>{i={id:m.at(0)?.id,available:m.at(0)?.available,wating:m.at(0)?.wating,watingCommited:m.at(0)?.watingCommited,commited:m.at(0)?.commited},f(i)})});return function(f){return d.apply(this,arguments)}}())})()}filterByDateBatch(t,o,i,d,f){return console.log(i),this.db.collection(this.dbPath,m=>m.where("timestamp",">=",t).where("timestamp","<=",o).where("name","==",i).orderBy("timestamp","desc").limit(d))}filterByNameBatch(t,o,i){return this.db.collection(this.dbPath,i?d=>d.where("name",">=",t).where("name","<=",t+"\uf8ff").orderBy("name","desc").startAfter(i.name).limit(o):d=>d.where("name",">=",t).where("name","<=",t+"\uf8ff").orderBy("name","desc").limit(o))}filterByCodeBatch(t,o,i){return this.db.collection(this.dbPath,i?d=>d.where("code",">=",t).where("code","<=",t+"\uf8ff").orderBy("code","desc").startAfter(i.code).limit(o):d=>d.where("code",">=",t).where("code","<=",t+"\uf8ff").orderBy("code","desc").limit(o))}}return c.\u0275fac=function(t){return new(t||c)(b.LFG(v.ST))},c.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5872:(P,h,a)=>{a.d(h,{H:()=>s});var e=a(5861),u=a(4004),b=a(4650),v=a(33);let s=(()=>{class c{constructor(t){this.db=t,this.dbPath="/providers",this.ProvidersRef=t.collection(this.dbPath)}getNextBatch(t,o){return this.db.collection(this.dbPath,o?i=>i.orderBy("materialId","desc").startAfter(o.materialId).limit(t):i=>i.orderBy("materialId","desc").limit(t))}getAll(){return this.ProvidersRef}create(t){return this.ProvidersRef.add({...t})}update(t,o){return console.log("Update",t,o),this.ProvidersRef.doc(t).update(o)}delete(t){return this.ProvidersRef.doc(t).delete()}getProvidersByMaterial(t){var o=this;return(0,e.Z)(function*(){return t?new Promise(function(){var i=(0,e.Z)(function*(d){o.db.collection(o.dbPath,f=>f.where("materialId","==",t)).snapshotChanges().pipe((0,u.U)(f=>f.map(m=>({id:m.payload.doc.id,...m.payload.doc.data()})))).subscribe(f=>{d(f)})});return function(d){return i.apply(this,arguments)}}()):[]})()}filterByNameBatch(t,o,i){return this.db.collection(this.dbPath,i?d=>d.where("name",">=",t).where("name","<=",t+"\uf8ff").orderBy("name","desc").startAfter(i.name).limit(o):d=>d.where("name",">=",t).where("name","<=",t+"\uf8ff").orderBy("name","desc").limit(o))}}return c.\u0275fac=function(t){return new(t||c)(b.LFG(v.ST))},c.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},8179:(P,h,a)=>{a.d(h,{EK:()=>e.EK});var e=a(2810)}}]);