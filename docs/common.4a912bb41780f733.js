"use strict";(self.webpackChunkInvFurniture=self.webpackChunkInvFurniture||[]).push([[592],{9898:(v,_,d)=>{d.d(_,{L:()=>e});var u=d(5861),f=d(5698),m=d(4004),l=d(8179),h=d(4650),i=d(33);let e=(()=>{class t{constructor(r){this.db=r,this.dbPath="/FPreport",this.invFinishedProductsRef=r.collection(this.dbPath)}getNextBatch(r,o){return this.db.collection(this.dbPath,o?s=>s.orderBy("timestamp","desc").startAfter(o.timestamp).limit(r):s=>s.orderBy("timestamp","desc").limit(r))}getStock(r){var o=this;return(0,u.Z)(function*(){return r?new Promise(function(){var a=(0,u.Z)(function*(P){o.invFinishedProductsRef.doc(r).get().pipe((0,f.q)(1),(0,m.U)(c=>({id:c.id,prod:c.data()}))).subscribe(c=>{!c||P({id:c.id,available:c.prod.available,wating:c.prod.wating,commited:c.prod.commited})})});return function(P){return a.apply(this,arguments)}}()):{}})()}getAll(){return this.invFinishedProductsRef}create(r){return this.invFinishedProductsRef.add({...r})}update(r,o){return this.invFinishedProductsRef.doc(r).update({timestamp:l.EK.fromDate(new Date),...o})}delete(r){return this.invFinishedProductsRef.doc(r).delete()}filterByNameBatch(r,o,s){return this.db.collection(this.dbPath,s?a=>a.where("name",">=",r).where("name","<=",r+"\uf8ff").orderBy("name","desc").startAfter(s.name).limit(o):a=>a.where("name",">=",r).where("name","<=",r+"\uf8ff").orderBy("name","desc").limit(o))}filterByCodeBatch(r,o,s){return this.db.collection(this.dbPath,s?a=>a.where("code",">=",r).where("code","<=",r+"\uf8ff").orderBy("code","desc").startAfter(s.code).limit(o):a=>a.where("code",">=",r).where("code","<=",r+"\uf8ff").orderBy("code","desc").limit(o))}}return t.\u0275fac=function(r){return new(r||t)(h.LFG(i.ST))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8132:(v,_,d)=>{d.d(_,{p:()=>l});var u=d(8996),f=d(4650),m=d(33);let l=(()=>{class h{constructor(e){this.db=e,this.dbPath="/orders",this.ordersRef=e.collection(this.dbPath)}getNextBatch(e,t){return this.db.collection(this.dbPath,t?n=>n.orderBy("timestamp","desc").startAfter(t).limit(e):n=>n.orderBy("timestamp","desc").limit(e))}getPrevBatch(e,t,n){return this.db.collection(this.dbPath,r=>r.orderBy("timestamp","desc").startAt(t).endBefore(n).limit(e))}getBatch(e){return this.db.collection(this.dbPath,t=>t.limit(e).orderBy("timestamp","desc"))}getAll(){return this.ordersRef}getById(e){return this.db.collection(this.dbPath,t=>t.where("product_id","==",e))}create(e){return(0,u.D)(this.ordersRef.add({...e}))}update(e,t){return this.ordersRef.doc(e).update(t)}delete(e){return this.ordersRef.doc(e).delete()}filterByName(e){return this.db.collection(this.dbPath,t=>t.where("name",">=",e).where("name","<=",e+"\uf8ff"))}filterByCode(e){return this.db.collection(this.dbPath,t=>t.where("code",">=",e).where("code","<=",e+"\uf8ff"))}}return h.\u0275fac=function(e){return new(e||h)(f.LFG(m.ST))},h.\u0275prov=f.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5561:(v,_,d)=>{d.d(_,{l:()=>m});var u=d(4650),f=d(33);let m=(()=>{class l{constructor(i){this.db=i,this.dbPath="/shopOrder",this.InvRawMaterialsRef=i.collection(this.dbPath)}getNextBatch(i,e){return this.db.collection(this.dbPath,e?t=>t.orderBy("emissionDate","asc").startAfter(e).limit(i):t=>t.orderBy("emissionDate","asc").limit(i))}create(i,e,t,n,r,o,s,a,P){var c={materialId:i,price:s,name:e,stockId:o,requiredMaterial:t,requestedAmount:n,orderDeadline:r,emissionDate:new Date,timestamp:new Date};return a&&(c.orderId=a,c.orderCode=P),this.InvRawMaterialsRef.add(c)}update(i,e){return this.InvRawMaterialsRef.doc(i).update(e)}delete(i){return this.InvRawMaterialsRef.doc(i).delete()}filterUrgentatch(i,e,t){return this.db.collection(this.dbPath,t?n=>n.where("orderDeadline","<=",i).orderBy("orderDeadline","asc").startAfter(t.name).limit(e):n=>n.where("orderDeadline","<=",i).orderBy("orderDeadline","asc").limit(e))}}return l.\u0275fac=function(i){return new(i||l)(u.LFG(f.ST))},l.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);