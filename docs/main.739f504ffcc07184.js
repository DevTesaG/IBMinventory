"use strict";(self.webpackChunkInvFurniture=self.webpackChunkInvFurniture||[]).push([[179],{6217:(Ht,Be,k)=>{k.d(Be,{nm:()=>Li});var d=k(4976);k(4650),k(259);var me=k(5861),nt=k(6881),st=k(4859),St=k(2090),He=k(1877);const Ce=new Map,pe={activated:!1,tokenObservers:[]},ot={initialized:!1,enabled:!1};function Le(xe){return Ce.get(xe)||Object.assign({},pe)}function Pt(){return ot}class gt{constructor(be,je,Et,Lt,Tn){if(this.operation=be,this.retryPolicy=je,this.getWaitDuration=Et,this.lowerBound=Lt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(be){var je=this;return(0,me.Z)(function*(){je.stop();try{je.pending=new St.BH,yield function It(xe){return new Promise(be=>{setTimeout(be,xe)})}(je.getNextRun(be)),je.pending.resolve(),yield je.pending.promise,je.pending=new St.BH,yield je.operation(),je.pending.resolve(),yield je.pending.promise,je.process(!0).catch(()=>{})}catch(Et){je.retryPolicy(Et)?je.process(!1).catch(()=>{}):je.stop()}})()}getNextRun(be){if(be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),je}}}const Wt=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sn(xe){if(!Le(xe).activated)throw Wt.create("use-before-activation",{appName:xe.name})}function Kn(xe,be){return ir.apply(this,arguments)}function ir(){return(ir=(0,me.Z)(function*({url:xe,body:be},je){const Et={"Content-Type":"application/json"},Lt=je.getImmediate({optional:!0});if(Lt){const $r=yield Lt.getHeartbeatsHeader();$r&&(Et["X-Firebase-Client"]=$r)}const Tn={method:"POST",body:JSON.stringify(be),headers:Et};let tr,nr;try{tr=yield fetch(xe,Tn)}catch($r){throw Wt.create("fetch-network-error",{originalErrorMessage:$r?.message})}if(200!==tr.status)throw Wt.create("fetch-status-error",{httpStatus:tr.status});try{nr=yield tr.json()}catch($r){throw Wt.create("fetch-parse-error",{originalErrorMessage:$r?.message})}const Ln=nr.ttl.match(/^([\d.]+)(s)$/);if(!Ln||!Ln[2]||isNaN(Number(Ln[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nr.ttl}`});const Ui=1e3*Number(Ln[1]),Ci=Date.now();return{token:nr.token,expireTimeMillis:Ci+Ui,issuedAtTimeMillis:Ci}})).apply(this,arguments)}function jt(xe,be){const{projectId:je,appId:Et,apiKey:Lt}=xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${je}/apps/${Et}:exchangeDebugToken?key=${Lt}`,body:{debug_token:be}}}const cr="firebase-app-check-store";let Pn=null;function On(){return Pn||(Pn=new Promise((xe,be)=>{try{const je=indexedDB.open("firebase-app-check-database",1);je.onsuccess=Et=>{xe(Et.target.result)},je.onerror=Et=>{var Lt;be(Wt.create("storage-open",{originalErrorMessage:null===(Lt=Et.target.error)||void 0===Lt?void 0:Lt.message}))},je.onupgradeneeded=Et=>{0===Et.oldVersion&&Et.target.result.createObjectStore(cr,{keyPath:"compositeKey"})}}catch(je){be(Wt.create("storage-open",{originalErrorMessage:je?.message}))}}),Pn)}function ge(){return(ge=(0,me.Z)(function*(xe,be){const Et=(yield On()).transaction(cr,"readwrite"),Tn=Et.objectStore(cr).put({compositeKey:xe,value:be});return new Promise((tr,nr)=>{Tn.onsuccess=Ln=>{tr()},Et.onerror=Ln=>{var Ui;nr(Wt.create("storage-set",{originalErrorMessage:null===(Ui=Ln.target.error)||void 0===Ui?void 0:Ui.message}))}})})).apply(this,arguments)}const tn=new He.Yd("@firebase/app-check");function Nt(xe,be){return(0,St.hl)()?function jr(xe,be){return function Ge(xe,be){return ge.apply(this,arguments)}(function lt(xe){return`${xe.options.appId}-${xe.name}`}(xe),be)}(xe,be).catch(je=>{tn.warn(`Failed to write token to IndexedDB. Error: ${je}`)}):Promise.resolve()}function yr(){return Pt().enabled}function fn(){return qt.apply(this,arguments)}function qt(){return(qt=(0,me.Z)(function*(){const xe=Pt();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fn={error:"UNKNOWN_ERROR"};function Yn(xe){return St.US.encodeString(JSON.stringify(xe),!1)}function Qe(xe){return W.apply(this,arguments)}function W(){return(W=(0,me.Z)(function*(xe,be=!1){const je=xe.app;sn(je);const Et=Le(je);let Tn,Lt=Et.token;if(Lt&&!H(Lt)&&(Et.token=void 0,Lt=void 0),!Lt){const Ln=yield Et.cachedTokenPromise;Ln&&(H(Ln)?Lt=Ln:yield Nt(je,void 0))}if(!be&&Lt&&H(Lt))return{token:Lt.token};let nr,tr=!1;if(yr()){Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Kn(jt(je,yield fn()),xe.heartbeatServiceProvider).finally(()=>{Et.exchangeTokenPromise=void 0}),tr=!0);const Ln=yield Et.exchangeTokenPromise;return yield Nt(je,Ln),Et.token=Ln,{token:Ln.token}}try{Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Et.provider.getToken().finally(()=>{Et.exchangeTokenPromise=void 0}),tr=!0),Lt=yield Le(je).exchangeTokenPromise}catch(Ln){"appCheck/throttled"===Ln.code?tn.warn(Ln.message):tn.error(Ln),Tn=Ln}return Lt?Tn?nr=H(Lt)?{token:Lt.token,internalError:Tn}:Te(Tn):(nr={token:Lt.token},Et.token=Lt,yield Nt(je,Lt)):nr=Te(Tn),tr&&K(je,nr),nr})).apply(this,arguments)}function Ze(){return(Ze=(0,me.Z)(function*(xe){const be=xe.app;sn(be);const{provider:je}=Le(be);if(yr()){const Et=yield fn(),{token:Lt}=yield Kn(jt(be,Et),xe.heartbeatServiceProvider);return{token:Lt}}{const{token:Et}=yield je.getToken();return{token:Et}}})).apply(this,arguments)}function ae(xe,be){const je=Le(xe),Et=je.tokenObservers.filter(Lt=>Lt.next!==be);0===Et.length&&je.tokenRefresher&&je.tokenRefresher.isRunning()&&je.tokenRefresher.stop(),je.tokenObservers=Et}function ue(xe){const{app:be}=xe,je=Le(be);let Et=je.tokenRefresher;Et||(Et=function Y(xe){const{app:be}=xe;return new gt((0,me.Z)(function*(){let Et;if(Et=Le(be).token?yield Qe(xe,!0):yield Qe(xe),Et.error)throw Et.error;if(Et.internalError)throw Et.internalError}),()=>!0,()=>{const je=Le(be);if(je.token){let Et=je.token.issuedAtTimeMillis+.5*(je.token.expireTimeMillis-je.token.issuedAtTimeMillis)+3e5;return Et=Math.min(Et,je.token.expireTimeMillis-3e5),Math.max(0,Et-Date.now())}return 0},3e4,96e4)}(xe),je.tokenRefresher=Et),!Et.isRunning()&&je.isTokenAutoRefreshEnabled&&Et.start()}function K(xe,be){const je=Le(xe).tokenObservers;for(const Et of je)try{"EXTERNAL"===Et.type&&null!=be.error?Et.error(be.error):Et.next(be)}catch{}}function H(xe){return xe.expireTimeMillis-Date.now()>0}function Te(xe){return{token:Yn(Fn),error:xe}}class ft{constructor(be,je){this.app=be,this.heartbeatServiceProvider=je}_delete(){const{tokenObservers:be}=Le(this.app);for(const je of be)ae(this.app,je.next);return Promise.resolve()}}const Ki="app-check-internal";!function qr(){(0,nt._registerComponent)(new st.wA("app-check",xe=>function Bt(xe,be){return new ft(xe,be)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,be,je)=>{xe.getProvider(Ki).initialize()})),(0,nt._registerComponent)(new st.wA(Ki,xe=>function nn(xe){return{getToken:be=>Qe(xe,be),getLimitedUseToken:()=>function fe(xe){return Ze.apply(this,arguments)}(xe),addTokenListener:be=>function Ot(xe,be,je,Et){const{app:Lt}=xe,Tn=Le(Lt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:je,error:Et,type:be}],Tn.token&&H(Tn.token)){const nr=Tn.token;Promise.resolve().then(()=>{je({token:nr.token}),ue(xe)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>ue(xe))}(xe,"INTERNAL",be),removeTokenListener:be=>ae(xe.app,be)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.registerVersion)("@firebase/app-check","0.8.0")}();class Li{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(Ht,Be,k)=>{k.d(Be,{zQ:()=>fr,rT:()=>ot,f7:()=>_t,L6:()=>Ce,_Q:()=>pe,lh:()=>Le,Qv:()=>He,nw:()=>Pt});var d=k(4650),F=k(7579),B=k(9646),he=k(9751),le=k(8996),Ie=k(6451),De=k(5363),te=k(3900),Oe=k(4004),ee=k(6063);class ce extends F.x{constructor($e=1/0,ze=1/0,Je=ee.l){super(),this._bufferSize=$e,this._windowTime=ze,this._timestampProvider=Je,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ze===1/0,this._bufferSize=Math.max(1,$e),this._windowTime=Math.max(1,ze)}next($e){const{isStopped:ze,_buffer:Je,_infiniteTimeWindow:gt,_timestampProvider:It,_windowTime:xt}=this;ze||(Je.push($e),!gt&&Je.push(It.now()+xt)),this._trimBuffer(),super.next($e)}_subscribe($e){this._throwIfClosed(),this._trimBuffer();const ze=this._innerSubscribe($e),{_infiniteTimeWindow:Je,_buffer:gt}=this,It=gt.slice();for(let xt=0;xt<It.length&&!$e.closed;xt+=Je?1:2)$e.next(It[xt]);return this._checkFinalizedStatuses($e),ze}_trimBuffer(){const{_bufferSize:$e,_timestampProvider:ze,_buffer:Je,_infiniteTimeWindow:gt}=this,It=(gt?1:2)*$e;if($e<1/0&&It<Je.length&&Je.splice(0,Je.length-It),!gt){const xt=ze.now();let Wt=0;for(let Vt=1;Vt<Je.length&&Je[Vt]<=xt;Vt+=2)Wt=Vt;Wt&&Je.splice(0,Wt+1)}}}var Ee=k(3099);function ht(Ve,$e,ze){let Je,gt=!1;return Ve&&"object"==typeof Ve?({bufferSize:Je=1/0,windowTime:$e=1/0,refCount:gt=!1,scheduler:ze}=Ve):Je=Ve??1/0,(0,Ee.B)({connector:()=>new ce(Je,$e,ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:gt})}var et=k(590),Fe=k(576);function mt(Ve,$e){return(0,Fe.m)($e)?(0,te.w)(()=>Ve,$e):(0,te.w)(()=>Ve)}var Ue=k(9468),Se=k(9300),yt=k(4976),pt=k(2011),me=k(6895),nt=k(6217);k(9260);const He=new d.OlP("angularfire2.auth.use-emulator"),Ce=new d.OlP("angularfire2.auth.settings"),pe=new d.OlP("angularfire2.auth.tenant-id"),ot=new d.OlP("angularfire2.auth.langugage-code"),Le=new d.OlP("angularfire2.auth.use-device-language"),_t=new d.OlP("angularfire.auth.persistence"),Pt=(Ve,$e,ze,Je,gt,It,xt,Wt)=>(0,pt.cc)(`${Ve.name}.auth`,"AngularFireAuth",Ve.name,()=>{const Vt=$e.runOutsideAngular(()=>Ve.auth());if(ze&&Vt.useEmulator(...ze),Je&&(Vt.tenantId=Je),Vt.languageCode=gt,It&&Vt.useDeviceLanguage(),xt)for(const[sn,hn]of Object.entries(xt))Vt.settings[sn]=hn;return Wt&&Vt.setPersistence(Wt),Vt},[ze,Je,gt,It,xt,Wt]);let fr=(()=>{class Ve{constructor(ze,Je,gt,It,xt,Wt,Vt,sn,hn,_n,Kn,ir){const Gn=new F.x,En=(0,B.of)(void 0).pipe((0,De.Q)(xt.outsideAngular),(0,te.w)(()=>It.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,Oe.U)(()=>(0,pt.on)(ze,It,Je)),(0,Oe.U)(jt=>Pt(jt,It,Wt,sn,hn,_n,Vt,Kn)),ht({bufferSize:1,refCount:!1}));if((0,me.PM)(gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,B.of)(null);else{En.pipe((0,et.P)()).subscribe();const qn=En.pipe((0,te.w)(kt=>kt.getRedirectResult().then(Pn=>Pn,()=>null)),yt.iC,ht({bufferSize:1,refCount:!1})),Fr=En.pipe((0,te.w)(kt=>new he.y(Pn=>({unsubscribe:It.runOutsideAngular(()=>kt.onAuthStateChanged(On=>Pn.next(On),On=>Pn.error(On),()=>Pn.complete()))})))),cr=En.pipe((0,te.w)(kt=>new he.y(Pn=>({unsubscribe:It.runOutsideAngular(()=>kt.onIdTokenChanged(On=>Pn.next(On),On=>Pn.error(On),()=>Pn.complete()))}))));this.authState=qn.pipe(mt(Fr),(0,Ue.R)(xt.outsideAngular),(0,De.Q)(xt.insideAngular)),this.user=qn.pipe(mt(cr),(0,Ue.R)(xt.outsideAngular),(0,De.Q)(xt.insideAngular)),this.idToken=this.user.pipe((0,te.w)(kt=>kt?(0,le.D)(kt.getIdToken()):(0,B.of)(null))),this.idTokenResult=this.user.pipe((0,te.w)(kt=>kt?(0,le.D)(kt.getIdTokenResult()):(0,B.of)(null))),this.credential=(0,Ie.T)(qn,Gn,this.authState.pipe((0,Se.h)(kt=>!kt))).pipe((0,Oe.U)(kt=>kt?.user?kt:null),(0,Ue.R)(xt.outsideAngular),(0,De.Q)(xt.insideAngular))}return(0,pt.pX)(this,En,It,{spy:{apply:(jt,qn,Fr)=>{(jt.startsWith("signIn")||jt.startsWith("createUser"))&&Fr.then(cr=>Gn.next(cr))}}})}}return Ve.\u0275fac=function(ze){return new(ze||Ve)(d.LFG(pt.Dh),d.LFG(pt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(yt.HU),d.LFG(He,8),d.LFG(Ce,8),d.LFG(pe,8),d.LFG(ot,8),d.LFG(Le,8),d.LFG(_t,8),d.LFG(nt.nm,8))},Ve.\u0275prov=d.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"any"}),Ve})()},33:(Ht,Be,k)=>{k.d(Be,{ST:()=>Fn,yb:()=>Yn});var d=k(4650),F=k(4986),B=k(9751),he=k(8996),le=k(9646),Ie=k(4976),De=k(8675),te=k(4482),Oe=k(5403);function ee(){return(0,te.e)((Qe,W)=>{let fe,Ze=!1;Qe.subscribe((0,Oe.x)(W,Ot=>{const ae=fe;fe=Ot,Ze&&W.next([ae,Ot]),Ze=!0}))})}var ce=k(4004),Ee=k(5026),ht=k(4671);function Fe(Qe,W){return Qe===W}var mt=k(9300),Ue=k(2011),Se=k(6895),pt=(k(9568),k(3942)),me=k(2810),nt=k(2090),st=k(4859);function Ce(Qe,W){if(void 0===W)return{merge:!1};if(void 0!==W.mergeFields&&void 0!==W.merge)throw new me.WA("invalid-argument",`Invalid options passed to function ${Qe}(): You cannot specify both "merge" and "mergeFields".`);return W}function pe(){if(typeof Uint8Array>"u")throw new me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ot(){if(!(0,me.Me)())throw new me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Le{constructor(W){this._delegate=W}static fromBase64String(W){return ot(),new Le(me.Jj.fromBase64String(W))}static fromUint8Array(W){return pe(),new Le(me.Jj.fromUint8Array(W))}toBase64(){return ot(),this._delegate.toBase64()}toUint8Array(){return pe(),this._delegate.toUint8Array()}isEqual(W){return this._delegate.isEqual(W._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _t(Qe){return function Pt(Qe,W){if("object"!=typeof Qe||null===Qe)return!1;const fe=Qe;for(const Ze of W)if(Ze in fe&&"function"==typeof fe[Ze])return!0;return!1}(Qe,["next","error","complete"])}class fr{enableIndexedDbPersistence(W,fe){return(0,me.ST)(W._delegate,{forceOwnership:fe})}enableMultiTabIndexedDbPersistence(W){return(0,me.fH)(W._delegate)}clearIndexedDbPersistence(W){return(0,me.Fc)(W._delegate)}}class Xe{constructor(W,fe,Ze){this._delegate=fe,this._persistenceProvider=Ze,this.INTERNAL={delete:()=>this.terminate()},W instanceof me.l7||(this._appCompat=W)}get _databaseId(){return this._delegate._databaseId}settings(W){const fe=this._delegate._getSettings();!W.merge&&fe.host!==W.host&&(0,me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),W.merge&&delete(W=Object.assign(Object.assign({},fe),W)).merge,this._delegate._setSettings(W)}useEmulator(W,fe,Ze={}){(0,me.at)(this._delegate,W,fe,Ze)}enableNetwork(){return(0,me.Ix)(this._delegate)}disableNetwork(){return(0,me.TF)(this._delegate)}enablePersistence(W){let fe=!1,Ze=!1;return W&&(fe=!!W.synchronizeTabs,Ze=!!W.experimentalForceOwningTab,(0,me.Wi)("synchronizeTabs",fe,"experimentalForceOwningTab",Ze)),fe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ze)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,me.Mx)(this._delegate)}onSnapshotsInSync(W){return(0,me.sc)(this._delegate,W)}get app(){if(!this._appCompat)throw new me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(W){try{return new Gn(this,(0,me.hJ)(this._delegate,W))}catch(fe){throw xt(fe,"collection()","Firestore.collection()")}}doc(W){try{return new It(this,(0,me.JU)(this._delegate,W))}catch(fe){throw xt(fe,"doc()","Firestore.doc()")}}collectionGroup(W){try{return new _n(this,(0,me.B$)(this._delegate,W))}catch(fe){throw xt(fe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(W){return(0,me.i3)(this._delegate,fe=>W(new ze(this,fe)))}batch(){return(0,me.qY)(this._delegate),new Je(new me.PU(this._delegate,W=>(0,me.GL)(this._delegate,W)))}loadBundle(W){return(0,me.Pb)(this._delegate,W)}namedQuery(W){return(0,me.L$)(this._delegate,W).then(fe=>fe?new _n(this,fe):null)}}class Ve extends me.u7{constructor(W){super(),this.firestore=W}convertBytes(W){return new Le(new me.Jj(W))}convertReference(W){const fe=this.convertDocumentKey(W,this.firestore._databaseId);return It.forKey(fe,this.firestore,null)}}class ze{constructor(W,fe){this._firestore=W,this._delegate=fe,this._userDataWriter=new Ve(W)}get(W){const fe=En(W);return this._delegate.get(fe).then(Ze=>new sn(this._firestore,new me.xU(this._firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,fe.converter)))}set(W,fe,Ze){const Ot=En(W);return Ze?(Ce("Transaction.set",Ze),this._delegate.set(Ot,fe,Ze)):this._delegate.set(Ot,fe),this}update(W,fe,Ze,...Ot){const ae=En(W);return 2===arguments.length?this._delegate.update(ae,fe):this._delegate.update(ae,fe,Ze,...Ot),this}delete(W){const fe=En(W);return this._delegate.delete(fe),this}}class Je{constructor(W){this._delegate=W}set(W,fe,Ze){const Ot=En(W);return Ze?(Ce("WriteBatch.set",Ze),this._delegate.set(Ot,fe,Ze)):this._delegate.set(Ot,fe),this}update(W,fe,Ze,...Ot){const ae=En(W);return 2===arguments.length?this._delegate.update(ae,fe):this._delegate.update(ae,fe,Ze,...Ot),this}delete(W){const fe=En(W);return this._delegate.delete(fe),this}commit(){return this._delegate.commit()}}class gt{constructor(W,fe,Ze){this._firestore=W,this._userDataWriter=fe,this._delegate=Ze}fromFirestore(W,fe){const Ze=new me.$q(this._firestore._delegate,this._userDataWriter,W._key,W._document,W.metadata,null);return this._delegate.fromFirestore(new hn(this._firestore,Ze),fe??{})}toFirestore(W,fe){return fe?this._delegate.toFirestore(W,fe):this._delegate.toFirestore(W)}static getInstance(W,fe){const Ze=gt.INSTANCES;let Ot=Ze.get(W);Ot||(Ot=new WeakMap,Ze.set(W,Ot));let ae=Ot.get(fe);return ae||(ae=new gt(W,new Ve(W),fe),Ot.set(fe,ae)),ae}}gt.INSTANCES=new WeakMap;class It{constructor(W,fe){this.firestore=W,this._delegate=fe,this._userDataWriter=new Ve(W)}static forPath(W,fe,Ze){if(W.length%2!=0)throw new me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${W.canonicalString()} has ${W.length}`);return new It(fe,new me.my(fe._delegate,Ze,new me.Ky(W)))}static forKey(W,fe,Ze){return new It(fe,new me.my(fe._delegate,Ze,W))}get id(){return this._delegate.id}get parent(){return new Gn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(W){try{return new Gn(this.firestore,(0,me.hJ)(this._delegate,W))}catch(fe){throw xt(fe,"collection()","DocumentReference.collection()")}}isEqual(W){return(W=(0,nt.m9)(W))instanceof me.my&&(0,me.Eo)(this._delegate,W)}set(W,fe){fe=Ce("DocumentReference.set",fe);try{return fe?(0,me.pl)(this._delegate,W,fe):(0,me.pl)(this._delegate,W)}catch(Ze){throw xt(Ze,"setDoc()","DocumentReference.set()")}}update(W,fe,...Ze){try{return 1===arguments.length?(0,me.r7)(this._delegate,W):(0,me.r7)(this._delegate,W,fe,...Ze)}catch(Ot){throw xt(Ot,"updateDoc()","DocumentReference.update()")}}delete(){return(0,me.oe)(this._delegate)}onSnapshot(...W){const fe=Wt(W),Ze=Vt(W,Ot=>new sn(this.firestore,new me.xU(this.firestore._delegate,this._userDataWriter,Ot._key,Ot._document,Ot.metadata,this._delegate.converter)));return(0,me.cf)(this._delegate,fe,Ze)}get(W){let fe;return fe="cache"===W?.source?(0,me.kl)(this._delegate):"server"===W?.source?(0,me.Xk)(this._delegate):(0,me.QT)(this._delegate),fe.then(Ze=>new sn(this.firestore,new me.xU(this.firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,this._delegate.converter)))}withConverter(W){return new It(this.firestore,this._delegate.withConverter(W?gt.getInstance(this.firestore,W):null))}}function xt(Qe,W,fe){return Qe.message=Qe.message.replace(W,fe),Qe}function Wt(Qe){for(const W of Qe)if("object"==typeof W&&!_t(W))return W;return{}}function Vt(Qe,W){var fe,Ze;let Ot;return Ot=_t(Qe[0])?Qe[0]:_t(Qe[1])?Qe[1]:"function"==typeof Qe[0]?{next:Qe[0],error:Qe[1],complete:Qe[2]}:{next:Qe[1],error:Qe[2],complete:Qe[3]},{next:ae=>{Ot.next&&Ot.next(W(ae))},error:null===(fe=Ot.error)||void 0===fe?void 0:fe.bind(Ot),complete:null===(Ze=Ot.complete)||void 0===Ze?void 0:Ze.bind(Ot)}}class sn{constructor(W,fe){this._firestore=W,this._delegate=fe}get ref(){return new It(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(W){return this._delegate.data(W)}get(W,fe){return this._delegate.get(W,fe)}isEqual(W){return(0,me.qK)(this._delegate,W._delegate)}}class hn extends sn{data(W){const fe=this._delegate.data(W);return(0,me.K9)(void 0!==fe,"Document in a QueryDocumentSnapshot should exist"),fe}}class _n{constructor(W,fe){this.firestore=W,this._delegate=fe,this._userDataWriter=new Ve(W)}where(W,fe,Ze){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.ar)(W,fe,Ze)))}catch(Ot){throw xt(Ot,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(W,fe){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.Xo)(W,fe)))}catch(Ze){throw xt(Ze,/(orderBy|where)\(\)/,"Query.$1()")}}limit(W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.b9)(W)))}catch(fe){throw xt(fe,"limit()","Query.limit()")}}limitToLast(W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.vh)(W)))}catch(fe){throw xt(fe,"limitToLast()","Query.limitToLast()")}}startAt(...W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.e0)(...W)))}catch(fe){throw xt(fe,"startAt()","Query.startAt()")}}startAfter(...W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.TQ)(...W)))}catch(fe){throw xt(fe,"startAfter()","Query.startAfter()")}}endBefore(...W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.Lx)(...W)))}catch(fe){throw xt(fe,"endBefore()","Query.endBefore()")}}endAt(...W){try{return new _n(this.firestore,(0,me.IO)(this._delegate,(0,me.Wu)(...W)))}catch(fe){throw xt(fe,"endAt()","Query.endAt()")}}isEqual(W){return(0,me.iE)(this._delegate,W._delegate)}get(W){let fe;return fe="cache"===W?.source?(0,me.UQ)(this._delegate):"server"===W?.source?(0,me.zN)(this._delegate):(0,me.PL)(this._delegate),fe.then(Ze=>new ir(this.firestore,new me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ze._snapshot)))}onSnapshot(...W){const fe=Wt(W),Ze=Vt(W,Ot=>new ir(this.firestore,new me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ot._snapshot)));return(0,me.cf)(this._delegate,fe,Ze)}withConverter(W){return new _n(this.firestore,this._delegate.withConverter(W?gt.getInstance(this.firestore,W):null))}}class Kn{constructor(W,fe){this._firestore=W,this._delegate=fe}get type(){return this._delegate.type}get doc(){return new hn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ir{constructor(W,fe){this._firestore=W,this._delegate=fe}get query(){return new _n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(W=>new hn(this._firestore,W))}docChanges(W){return this._delegate.docChanges(W).map(fe=>new Kn(this._firestore,fe))}forEach(W,fe){this._delegate.forEach(Ze=>{W.call(fe,new hn(this._firestore,Ze))})}isEqual(W){return(0,me.qK)(this._delegate,W._delegate)}}class Gn extends _n{constructor(W,fe){super(W,fe),this.firestore=W,this._delegate=fe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const W=this._delegate.parent;return W?new It(this.firestore,W):null}doc(W){try{return new It(this.firestore,void 0===W?(0,me.JU)(this._delegate):(0,me.JU)(this._delegate,W))}catch(fe){throw xt(fe,"doc()","CollectionReference.doc()")}}add(W){return(0,me.ET)(this._delegate,W).then(fe=>new It(this.firestore,fe))}isEqual(W){return(0,me.Eo)(this._delegate,W._delegate)}withConverter(W){return new Gn(this.firestore,this._delegate.withConverter(W?gt.getInstance(this.firestore,W):null))}}function En(Qe){return(0,me.Cf)(Qe,me.my)}class jt{constructor(...W){this._delegate=new me.Lz(...W)}static documentId(){return new jt(me.Xb.keyField().canonicalString())}isEqual(W){return(W=(0,nt.m9)(W))instanceof me.Lz&&this._delegate._internalPath.isEqual(W._internalPath)}}class qn{constructor(W){this._delegate=W}static serverTimestamp(){const W=(0,me.Bt)();return W._methodName="FieldValue.serverTimestamp",new qn(W)}static delete(){const W=(0,me.AK)();return W._methodName="FieldValue.delete",new qn(W)}static arrayUnion(...W){const fe=(0,me.vr)(...W);return fe._methodName="FieldValue.arrayUnion",new qn(fe)}static arrayRemove(...W){const fe=(0,me.Ab)(...W);return fe._methodName="FieldValue.arrayRemove",new qn(fe)}static increment(W){const fe=(0,me.nP)(W);return fe._methodName="FieldValue.increment",new qn(fe)}isEqual(W){return this._delegate.isEqual(W._delegate)}}const Fr={Firestore:Xe,GeoPoint:me.F8,Timestamp:me.EK,Blob:Le,Transaction:ze,WriteBatch:Je,DocumentReference:It,DocumentSnapshot:sn,Query:_n,QueryDocumentSnapshot:hn,QuerySnapshot:ir,CollectionReference:Gn,FieldPath:jt,FieldValue:qn,setLogLevel:function $e(Qe){(0,me.Ub)(Qe)},CACHE_SIZE_UNLIMITED:me.IX};!function kt(Qe){(function cr(Qe,W){Qe.INTERNAL.registerComponent(new st.wA("firestore-compat",fe=>{const Ze=fe.getProvider("app-compat").getImmediate(),Ot=fe.getProvider("firestore").getImmediate();return W(Ze,Ot)},"PUBLIC").setServiceProps(Object.assign({},Fr)))})(Qe,(W,fe)=>new Xe(W,fe,new fr)),Qe.registerVersion("@firebase/firestore-compat","0.3.12")}(pt.Z);var Pn=k(1205),On=k(6217),ar=k(9260);function br(Qe,W){return function jr(Qe,W=F.z){return new B.y(fe=>{let Ze;return null!=W?W.schedule(()=>{Ze=Qe.onSnapshot({includeMetadataChanges:!0},fe)}):Ze=Qe.onSnapshot({includeMetadataChanges:!0},fe),()=>{Ze?.()}})}(Qe,W)}function Ge(Qe,W){return br(Qe,W).pipe((0,ce.U)(fe=>({payload:fe,type:"query"})))}function ge(Qe,W){return Ge(Qe,W).pipe((0,De.O)(void 0),ee(),(0,ce.U)(([fe,Ze])=>{const Ot=Ze.payload.docChanges(),ae=Ot.map(ue=>({type:ue.type,payload:ue}));return fe&&JSON.stringify(fe.payload.metadata)!==JSON.stringify(Ze.payload.metadata)&&Ze.payload.docs.forEach((ue,Y)=>{const K=Ot.find(Te=>Te.doc.ref.isEqual(ue.ref)),H=fe?.payload.docs.find(Te=>Te.ref.isEqual(ue.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(ue.metadata)||!K&&H&&JSON.stringify(H.metadata)===JSON.stringify(ue.metadata)||ae.push({type:"modified",payload:{oldIndex:Y,newIndex:Y,type:"modified",doc:ue}})}),ae}))}function de(Qe,W,fe){return ge(Qe,fe).pipe((0,Ee.R)((Ze,Ot)=>function it(Qe,W,fe){return W.forEach(Ze=>{fe.indexOf(Ze.type)>-1&&(Qe=function tn(Qe,W){switch(W.type){case"added":if(!Qe[W.newIndex]||!Qe[W.newIndex].doc.ref.isEqual(W.doc.ref))return lt(Qe,W.newIndex,0,W);break;case"modified":if(null==Qe[W.oldIndex]||Qe[W.oldIndex].doc.ref.isEqual(W.doc.ref)){if(W.oldIndex!==W.newIndex){const fe=Qe.slice();return fe.splice(W.oldIndex,1),fe.splice(W.newIndex,0,W),fe}return lt(Qe,W.newIndex,1,W)}break;case"removed":if(Qe[W.oldIndex]&&Qe[W.oldIndex].doc.ref.isEqual(W.doc.ref))return lt(Qe,W.oldIndex,1)}return Qe}(Qe,Ze))}),Qe}(Ze,Ot.map(ae=>ae.payload),W),[]),function et(Qe,W=ht.y){return Qe=Qe??Fe,(0,te.e)((fe,Ze)=>{let Ot,ae=!0;fe.subscribe((0,Oe.x)(Ze,ue=>{const Y=W(ue);(ae||!Qe(Ot,Y))&&(ae=!1,Ot=Y,Ze.next(ue))}))})}(),(0,ce.U)(Ze=>Ze.map(Ot=>({type:Ot.type,payload:Ot}))))}function lt(Qe,W,fe,...Ze){const Ot=Qe.slice();return Ot.splice(W,fe,...Ze),Ot}function vn(Qe){return(!Qe||0===Qe.length)&&(Qe=["added","removed","modified"]),Qe}class Rn{constructor(W,fe,Ze){this.ref=W,this.query=fe,this.afs=Ze}stateChanges(W){let fe=ge(this.query,this.afs.schedulers.outsideAngular);return W&&W.length>0&&(fe=fe.pipe((0,ce.U)(Ze=>Ze.filter(Ot=>W.indexOf(Ot.type)>-1)))),fe.pipe((0,De.O)(void 0),ee(),(0,mt.h)(([Ze,Ot])=>Ot.length>0||!Ze),(0,ce.U)(([Ze,Ot])=>Ot),Ie.iC)}auditTrail(W){return this.stateChanges(W).pipe((0,Ee.R)((fe,Ze)=>[...fe,...Ze],[]))}snapshotChanges(W){const fe=vn(W);return de(this.query,fe,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(W={}){return Ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(fe=>fe.payload.docs.map(Ze=>W.idField?Object.assign(Object.assign({},Ze.data()),{[W.idField]:Ze.id}):Ze.data())),Ie.iC)}get(W){return(0,he.D)(this.query.get(W)).pipe(Ie.iC)}add(W){return this.ref.add(W)}doc(W){return new Nt(this.ref.doc(W),this.afs)}}class Nt{constructor(W,fe){this.ref=W,this.afs=fe}set(W,fe){return this.ref.set(W,fe)}update(W){return this.ref.update(W)}delete(){return this.ref.delete()}collection(W,fe){const Ze=this.ref.collection(W),{ref:Ot,query:ae}=Tt(Ze,fe);return new Rn(Ot,ae,this.afs)}snapshotChanges(){return function dr(Qe,W){return br(Qe,W).pipe((0,De.O)(void 0),ee(),(0,ce.U)(([fe,Ze])=>Ze.exists?fe?.exists?{payload:Ze,type:"modified"}:{payload:Ze,type:"added"}:{payload:Ze,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(W={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:fe})=>W.idField?Object.assign(Object.assign({},fe.data()),{[W.idField]:fe.id}):fe.data()))}get(W){return(0,he.D)(this.ref.get(W)).pipe(Ie.iC)}}class kn{constructor(W,fe){this.query=W,this.afs=fe}stateChanges(W){return W&&0!==W.length?ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(fe=>fe.filter(Ze=>W.indexOf(Ze.type)>-1)),(0,mt.h)(fe=>fe.length>0),Ie.iC):ge(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(W){return this.stateChanges(W).pipe((0,Ee.R)((fe,Ze)=>[...fe,...Ze],[]))}snapshotChanges(W){const fe=vn(W);return de(this.query,fe,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(W={}){return Ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(Ze=>Ze.payload.docs.map(Ot=>W.idField?Object.assign({[W.idField]:Ot.id},Ot.data()):Ot.data())),Ie.iC)}get(W){return(0,he.D)(this.query.get(W)).pipe(Ie.iC)}}const pn=new d.OlP("angularfire2.enableFirestorePersistence"),yr=new d.OlP("angularfire2.firestore.persistenceSettings"),fn=new d.OlP("angularfire2.firestore.settings"),qt=new d.OlP("angularfire2.firestore.use-emulator");function Tt(Qe,W=(fe=>fe)){return{query:W(Qe),ref:Qe}}let Fn=(()=>{class Qe{constructor(fe,Ze,Ot,ae,ue,Y,K,H,Te,ft,Bt,nn,re,se,X,Re,We){this.schedulers=K;const Ut=(0,Ue.on)(fe,Y,Ze),gn=Te;ft&&(0,Pn.nw)(Ut,Y,Bt,re,se,X,nn,Re),[this.firestore,this.persistenceEnabled$]=(0,Ue.cc)(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const Ne=Y.runOutsideAngular(()=>Ut.firestore());if(ae&&Ne.settings(ae),gn&&Ne.useEmulator(...gn),Ot&&!(0,Se.PM)(ue)){const ke=()=>{try{return(0,he.D)(Ne.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Dt){return typeof console<"u"&&console.warn(Dt),(0,le.of)(!1)}};return[Ne,Y.runOutsideAngular(ke)]}return[Ne,(0,le.of)(!1)]},[ae,gn,Ot])}collection(fe,Ze){let Ot;Ot="string"==typeof fe?this.firestore.collection(fe):fe;const{ref:ae,query:ue}=Tt(Ot,Ze),Y=this.schedulers.ngZone.run(()=>ae);return new Rn(Y,ue,this)}collectionGroup(fe,Ze){const Ot=Ze||(ue=>ue),ae=this.firestore.collectionGroup(fe);return new kn(Ot(ae),this)}doc(fe){let Ze;Ze="string"==typeof fe?this.firestore.doc(fe):fe;const Ot=this.schedulers.ngZone.run(()=>Ze);return new Nt(Ot,this)}createId(){return this.firestore.collection("_").doc().id}}return Qe.\u0275fac=function(fe){return new(fe||Qe)(d.LFG(Ue.Dh),d.LFG(Ue.xv,8),d.LFG(pn,8),d.LFG(fn,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ie.HU),d.LFG(yr,8),d.LFG(qt,8),d.LFG(Pn.zQ,8),d.LFG(Pn.Qv,8),d.LFG(Pn.L6,8),d.LFG(Pn._Q,8),d.LFG(Pn.rT,8),d.LFG(Pn.lh,8),d.LFG(Pn.f7,8),d.LFG(On.nm,8))},Qe.\u0275prov=d.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"any"}),Qe})(),Yn=(()=>{class Qe{constructor(){ar.Z.registerVersion("angularfire",Ie.q4.full,"fst-compat")}static enablePersistence(fe){return{ngModule:Qe,providers:[{provide:pn,useValue:!0},{provide:yr,useValue:fe}]}}}return Qe.\u0275fac=function(fe){return new(fe||Qe)},Qe.\u0275mod=d.oAB({type:Qe}),Qe.\u0275inj=d.cJS({providers:[Fn]}),Qe})()},2011:(Ht,Be,k)=>{k.d(Be,{Dh:()=>te,GT:()=>Ie,cc:()=>et,hO:()=>ht,on:()=>ee,pX:()=>le,xv:()=>Oe});var d=k(4650),F=k(9260),B=k(4976);Ht=k.hmd(Ht);const he=["ngOnDestroy"],le=(Se,yt,pt,me={})=>new Proxy(Se,{get:(nt,st)=>pt.runOutsideAngular(()=>{var St;if(Se[st])return!(null===(St=me?.spy)||void 0===St)&&St.get&&me.spy.get(st,Se[st]),Se[st];if(he.indexOf(st)>-1)return()=>{};const He=yt.toPromise().then(Ce=>{const pe=Ce&&Ce[st];return"function"==typeof pe?pe.bind(Ce):pe&&pe.then?pe.then(ot=>pt.run(()=>ot)):pt.run(()=>pe)});return new Proxy(()=>{},{get:(Ce,pe)=>He[pe],apply:(Ce,pe,ot)=>He.then(Le=>{var _t;const Pt=Le&&Le(...ot);return!(null===(_t=me?.spy)||void 0===_t)&&_t.apply&&me.spy.apply(st,ot,Pt),Pt})})})}),Ie=(Se,yt)=>{yt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(me=>{Object.defineProperty(Se.prototype,me,Object.getOwnPropertyDescriptor(pt.prototype||pt,me))})})};class De{constructor(yt){return yt}}const te=new d.OlP("angularfire2.app.options"),Oe=new d.OlP("angularfire2.app.name");function ee(Se,yt,pt){const nt="object"==typeof pt&&pt||{};nt.name=nt.name||"string"==typeof pt&&pt||"[DEFAULT]";const St=F.Z.apps.filter(He=>He&&He.name===nt.name)[0]||yt.runOutsideAngular(()=>F.Z.initializeApp(Se,nt));try{JSON.stringify(Se)!==JSON.stringify(St.options)&&ce("error",`${St.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(St)}const ce=(Se,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...yt)},Ee={provide:De,useFactory:ee,deps:[te,d.R0b,[new d.FiY,Oe]]};let ht=(()=>{class Se{constructor(pt){F.Z.registerVersion("angularfire",B.q4.full,"core"),F.Z.registerVersion("angularfire",B.q4.full,"app-compat"),F.Z.registerVersion("angular",d.q4F.full,pt.toString())}static initializeApp(pt,me){return{ngModule:Se,providers:[{provide:te,useValue:pt},{provide:Oe,useValue:me}]}}}return Se.\u0275fac=function(pt){return new(pt||Se)(d.LFG(d.Lbi))},Se.\u0275mod=d.oAB({type:Se}),Se.\u0275inj=d.cJS({providers:[Ee]}),Se})();function et(Se,yt,pt,me,nt){const[,st,St]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Se)||[];if(st)return function Fe(Se,yt){try{return Se.toString()===yt.toString()}catch{return Se===yt}}(nt,St)||(Ue("error",`${yt} was already initialized on the ${pt} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:nt,was:St})),st;{const He=me();return globalThis.\u0275AngularfireInstanceCache.push([Se,He,nt]),He}}const mt=!!Ht.hot,Ue=(Se,...yt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Ht,Be,k)=>{k.d(Be,{q4:()=>Fa,iC:()=>ll,HU:()=>td,vb:()=>pu,JM:()=>al});var d=k(4650),F=k(259),B=k(5861),he=k(6881),le=k(2090),Ie=k(4859),De=k(1877);let Oe,ee;const ht=new WeakMap,et=new WeakMap,Fe=new WeakMap,mt=new WeakMap,Ue=new WeakMap;let pt={get(w,A,j){if(w instanceof IDBTransaction){if("done"===A)return et.get(w);if("objectStoreNames"===A)return w.objectStoreNames||Fe.get(w);if("store"===A)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return St(w[A])},set:(w,A,j)=>(w[A]=j,!0),has:(w,A)=>w instanceof IDBTransaction&&("done"===A||"store"===A)||A in w};function st(w){return"function"==typeof w?function nt(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...A){return w.apply(He(this),A),St(ht.get(this))}:function(...A){return St(w.apply(He(this),A))}:function(A,...j){const ne=w.call(He(this),A,...j);return Fe.set(ne,A.sort?A.sort():[A]),St(ne)}}(w):(w instanceof IDBTransaction&&function yt(w){if(et.has(w))return;const A=new Promise((j,ne)=>{const ve=()=>{w.removeEventListener("complete",Me),w.removeEventListener("error",dt),w.removeEventListener("abort",dt)},Me=()=>{j(),ve()},dt=()=>{ne(w.error||new DOMException("AbortError","AbortError")),ve()};w.addEventListener("complete",Me),w.addEventListener("error",dt),w.addEventListener("abort",dt)});et.set(w,A)}(w),((w,A)=>A.some(j=>w instanceof j))(w,function ce(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,pt):w)}function St(w){if(w instanceof IDBRequest)return function Se(w){const A=new Promise((j,ne)=>{const ve=()=>{w.removeEventListener("success",Me),w.removeEventListener("error",dt)},Me=()=>{j(St(w.result)),ve()},dt=()=>{ne(w.error),ve()};w.addEventListener("success",Me),w.addEventListener("error",dt)});return A.then(j=>{j instanceof IDBCursor&&ht.set(j,w)}).catch(()=>{}),Ue.set(A,w),A}(w);if(mt.has(w))return mt.get(w);const A=st(w);return A!==w&&(mt.set(w,A),Ue.set(A,w)),A}const He=w=>Ue.get(w),ot=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],_t=new Map;function Pt(w,A){if(!(w instanceof IDBDatabase)||A in w||"string"!=typeof A)return;if(_t.get(A))return _t.get(A);const j=A.replace(/FromIndex$/,""),ne=A!==j,ve=Le.includes(j);if(!(j in(ne?IDBIndex:IDBObjectStore).prototype)||!ve&&!ot.includes(j))return;const Me=function(){var dt=(0,B.Z)(function*(Jt,...Zt){const wn=this.transaction(Jt,ve?"readwrite":"readonly");let Dn=wn.store;return ne&&(Dn=Dn.index(Zt.shift())),(yield Promise.all([Dn[j](...Zt),ve&&wn.done]))[0]});return function(Zt){return dt.apply(this,arguments)}}();return _t.set(A,Me),Me}!function me(w){pt=w(pt)}(w=>({...w,get:(A,j,ne)=>Pt(A,j)||w.get(A,j,ne),has:(A,j)=>!!Pt(A,j)||w.has(A,j)}));const fr="@firebase/installations",$e="w:0.6.4",ze="FIS_v2",Vt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function sn(w){return w instanceof le.ZR&&w.code.includes("request-failed")}function hn({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function _n(w){return{token:w.token,requestStatus:2,expiresIn:Fr(w.expiresIn),creationTime:Date.now()}}function Kn(w,A){return ir.apply(this,arguments)}function ir(){return(ir=(0,B.Z)(function*(w,A){const ne=(yield A.json()).error;return Vt.create("request-failed",{requestName:w,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function Gn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function En(w,{refreshToken:A}){const j=Gn(w);return j.append("Authorization",function cr(w){return`${ze} ${w}`}(A)),j}function jt(w){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(w){const A=yield w();return A.status>=500&&A.status<600?w():A})).apply(this,arguments)}function Fr(w){return Number(w.replace("s","000"))}function kt(w,A){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,B.Z)(function*({appConfig:w,heartbeatServiceProvider:A},{fid:j}){const ne=hn(w),ve=Gn(w),Me=A.getImmediate({optional:!0});if(Me){const wn=yield Me.getHeartbeatsHeader();wn&&ve.append("x-firebase-client",wn)}const Jt={method:"POST",headers:ve,body:JSON.stringify({fid:j,authVersion:ze,appId:w.appId,sdkVersion:$e})},Zt=yield jt(()=>fetch(ne,Jt));if(Zt.ok){const wn=yield Zt.json();return{fid:wn.fid||j,registrationStatus:2,refreshToken:wn.refreshToken,authToken:_n(wn.authToken)}}throw yield Kn("Create Installation",Zt)})).apply(this,arguments)}function On(w){return new Promise(A=>{setTimeout(A,w)})}const jr=/^[cdef][\w-]{21}$/;function dr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const j=function Ge(w){return function ar(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return jr.test(j)?j:""}catch{return""}}function ge(w){return`${w.appName}!${w.appId}`}const de=new Map;function it(w,A){const j=ge(w);vn(j,A),function Rn(w,A){const j=function kn(){return!Nt&&"BroadcastChannel"in self&&(Nt=new BroadcastChannel("[Firebase] FID Change"),Nt.onmessage=w=>{vn(w.data.key,w.data.fid)}),Nt}();j&&j.postMessage({key:w,fid:A}),function pn(){0===de.size&&Nt&&(Nt.close(),Nt=null)}()}(j,A)}function vn(w,A){const j=de.get(w);if(j)for(const ne of j)ne(A)}let Nt=null;const qt="firebase-installations-store";let Tt=null;function Fn(){return Tt||(Tt=function Ce(w,A,{blocked:j,upgrade:ne,blocking:ve,terminated:Me}={}){const dt=indexedDB.open(w,A),Jt=St(dt);return ne&&dt.addEventListener("upgradeneeded",Zt=>{ne(St(dt.result),Zt.oldVersion,Zt.newVersion,St(dt.transaction))}),j&&dt.addEventListener("blocked",()=>j()),Jt.then(Zt=>{Me&&Zt.addEventListener("close",()=>Me()),ve&&Zt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Jt}("firebase-installations-database",1,{upgrade:(w,A)=>{0===A&&w.createObjectStore(qt)}})),Tt}function Yn(w,A){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(w,A){const j=ge(w),ve=(yield Fn()).transaction(qt,"readwrite"),Me=ve.objectStore(qt),dt=yield Me.get(j);return yield Me.put(A,j),yield ve.done,(!dt||dt.fid!==A.fid)&&it(w,A.fid),A})).apply(this,arguments)}function W(w){return fe.apply(this,arguments)}function fe(){return(fe=(0,B.Z)(function*(w){const A=ge(w),ne=(yield Fn()).transaction(qt,"readwrite");yield ne.objectStore(qt).delete(A),yield ne.done})).apply(this,arguments)}function Ze(w,A){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,B.Z)(function*(w,A){const j=ge(w),ve=(yield Fn()).transaction(qt,"readwrite"),Me=ve.objectStore(qt),dt=yield Me.get(j),Jt=A(dt);return void 0===Jt?yield Me.delete(j):yield Me.put(Jt,j),yield ve.done,Jt&&(!dt||dt.fid!==Jt.fid)&&it(w,Jt.fid),Jt})).apply(this,arguments)}function ae(w){return ue.apply(this,arguments)}function ue(){return(ue=(0,B.Z)(function*(w){let A;const j=yield Ze(w.appConfig,ne=>{const ve=Y(ne),Me=K(w,ve);return A=Me.registrationPromise,Me.installationEntry});return""===j.fid?{installationEntry:yield A}:{installationEntry:j,registrationPromise:A}})).apply(this,arguments)}function Y(w){return re(w||{fid:dr(),registrationStatus:0})}function K(w,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Vt.create("app-offline"))};const j={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},ne=function H(w,A){return Te.apply(this,arguments)}(w,j);return{installationEntry:j,registrationPromise:ne}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:ft(w)}:{installationEntry:A}}function Te(){return(Te=(0,B.Z)(function*(w,A){try{const j=yield kt(w,A);return Yn(w.appConfig,j)}catch(j){throw sn(j)&&409===j.customData.serverCode?yield W(w.appConfig):yield Yn(w.appConfig,{fid:A.fid,registrationStatus:0}),j}})).apply(this,arguments)}function ft(w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,B.Z)(function*(w){let A=yield nn(w.appConfig);for(;1===A.registrationStatus;)yield On(100),A=yield nn(w.appConfig);if(0===A.registrationStatus){const{installationEntry:j,registrationPromise:ne}=yield ae(w);return ne||j}return A})).apply(this,arguments)}function nn(w){return Ze(w,A=>{if(!A)throw Vt.create("installation-not-found");return re(A)})}function re(w){return function se(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function X(w,A){return Re.apply(this,arguments)}function Re(){return(Re=(0,B.Z)(function*({appConfig:w,heartbeatServiceProvider:A},j){const ne=We(w,j),ve=En(w,j),Me=A.getImmediate({optional:!0});if(Me){const wn=yield Me.getHeartbeatsHeader();wn&&ve.append("x-firebase-client",wn)}const Jt={method:"POST",headers:ve,body:JSON.stringify({installation:{sdkVersion:$e,appId:w.appId}})},Zt=yield jt(()=>fetch(ne,Jt));if(Zt.ok)return _n(yield Zt.json());throw yield Kn("Generate Auth Token",Zt)})).apply(this,arguments)}function We(w,{fid:A}){return`${hn(w)}/${A}/authTokens:generate`}function Ut(w){return gn.apply(this,arguments)}function gn(){return(gn=(0,B.Z)(function*(w,A=!1){let j;const ne=yield Ze(w.appConfig,Me=>{if(!xn(Me))throw Vt.create("not-registered");const dt=Me.authToken;if(!A&&Un(dt))return Me;if(1===dt.requestStatus)return j=Ne(w,A),Me;{if(!navigator.onLine)throw Vt.create("app-offline");const Jt=Vn(Me);return j=Ct(w,Jt),Jt}});return j?yield j:ne.authToken})).apply(this,arguments)}function Ne(w,A){return ke.apply(this,arguments)}function ke(){return(ke=(0,B.Z)(function*(w,A){let j=yield Dt(w.appConfig);for(;1===j.authToken.requestStatus;)yield On(100),j=yield Dt(w.appConfig);const ne=j.authToken;return 0===ne.requestStatus?Ut(w,A):ne})).apply(this,arguments)}function Dt(w){return Ze(w,A=>{if(!xn(A))throw Vt.create("not-registered");return function Hr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Ct(w,A){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,B.Z)(function*(w,A){try{const j=yield X(w,A),ne=Object.assign(Object.assign({},A),{authToken:j});return yield Yn(w.appConfig,ne),j}catch(j){if(!sn(j)||401!==j.customData.serverCode&&404!==j.customData.serverCode){const ne=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Yn(w.appConfig,ne)}else yield W(w.appConfig);throw j}})).apply(this,arguments)}function xn(w){return void 0!==w&&2===w.registrationStatus}function Un(w){return 2===w.requestStatus&&!function Tr(w){const A=Date.now();return A<w.creationTime||w.creationTime+w.expiresIn<A+36e5}(w)}function Vn(w){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:A})}function zr(){return(zr=(0,B.Z)(function*(w){const A=w,{installationEntry:j,registrationPromise:ne}=yield ae(A);return ne?ne.catch(console.error):Ut(A).catch(console.error),j.fid})).apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(w,A=!1){const j=w;return yield Zn(j),(yield Ut(j,A)).token})).apply(this,arguments)}function Zn(w){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,B.Z)(function*(w){const{registrationPromise:A}=yield ae(w);A&&(yield A)})).apply(this,arguments)}function Wr(w){return Vt.create("missing-app-config-values",{valueName:w})}const Lr="installations",qi=w=>{const A=w.getProvider("app").getImmediate(),j=function Li(w){if(!w||!w.options)throw Wr("App Configuration");if(!w.name)throw Wr("App Name");const A=["projectId","apiKey","appId"];for(const j of A)if(!w.options[j])throw Wr(j);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(A);return{app:A,appConfig:j,heartbeatServiceProvider:(0,he._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},gs=w=>{const A=w.getProvider("app").getImmediate(),j=(0,he._getProvider)(A,Lr).getImmediate();return{getId:()=>function Jr(w){return zr.apply(this,arguments)}(j),getToken:ve=>function Dr(w){return Fi.apply(this,arguments)}(j,ve)}};(function Sr(){(0,he._registerComponent)(new Ie.wA(Lr,qi,"PUBLIC")),(0,he._registerComponent)(new Ie.wA("installations-internal",gs,"PRIVATE"))})(),(0,he.registerVersion)(fr,"0.6.4"),(0,he.registerVersion)(fr,"0.6.4","esm2017");const Zi="@firebase/remote-config",ur=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ys{constructor(A,j,ne,ve){this.client=A,this.storage=j,this.storageCache=ne,this.logger=ve}isCachedDataFresh(A,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-j,ve=ne<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ve}.`),ve}fetch(A){var j=this;return(0,B.Z)(function*(){const[ne,ve]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(ve&&j.isCachedDataFresh(A.cacheMaxAgeMillis,ne))return ve;A.eTag=ve&&ve.eTag;const Me=yield j.client.fetch(A),dt=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&dt.push(j.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(dt),Me})()}}function xs(w=navigator){return w.languages&&w.languages[0]||w.language}class aa{constructor(A,j,ne,ve,Me,dt){this.firebaseInstallations=A,this.sdkVersion=j,this.namespace=ne,this.projectId=ve,this.apiKey=Me,this.appId=dt}fetch(A){var j=this;return(0,B.Z)(function*(){const[ne,ve]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Zt={sdk_version:j.sdkVersion,app_instance_id:ne,app_instance_id_token:ve,app_id:j.appId,language_code:xs()},wn={method:"POST",headers:Jt,body:JSON.stringify(Zt)},Dn=fetch(dt,wn),jn=new Promise((oo,Va)=>{A.signal.addEventListener(()=>{const yu=new Error("The operation was aborted.");yu.name="AbortError",Va(yu)})});let hs;try{yield Promise.race([Dn,jn]),hs=yield Dn}catch(oo){let Va="fetch-client-network";throw"AbortError"===oo?.name&&(Va="fetch-timeout"),ur.create(Va,{originalErrorMessage:oo?.message})}let fi=hs.status;const ki=hs.headers.get("ETag")||void 0;let Ta,mu;if(200===hs.status){let oo;try{oo=yield hs.json()}catch(Va){throw ur.create("fetch-client-parse",{originalErrorMessage:Va?.message})}Ta=oo.entries,mu=oo.state}if("INSTANCE_STATE_UNSPECIFIED"===mu?fi=500:"NO_CHANGE"===mu?fi=304:("NO_TEMPLATE"===mu||"EMPTY_CONFIG"===mu)&&(Ta={}),304!==fi&&200!==fi)throw ur.create("fetch-status",{httpStatus:fi});return{status:fi,eTag:ki,config:Ta}})()}}class Ao{constructor(A,j){this.client=A,this.storage=j}fetch(A){var j=this;return(0,B.Z)(function*(){const ne=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(A,ne)})()}attemptFetch(A,{throttleEndTimeMillis:j,backoffCount:ne}){var ve=this;return(0,B.Z)(function*(){yield function Yi(w,A){return new Promise((j,ne)=>{const ve=Math.max(A-Date.now(),0),Me=setTimeout(j,ve);w.addEventListener(()=>{clearTimeout(Me),ne(ur.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,j);try{const Me=yield ve.client.fetch(A);return yield ve.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function $o(w){if(!(w instanceof le.ZR&&w.customData))return!1;const A=Number(w.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Me))throw Me;const dt={throttleEndTimeMillis:Date.now()+(0,le.$s)(ne),backoffCount:ne+1};return yield ve.storage.setThrottleMetadata(dt),ve.attemptFetch(A,dt)}})()}}class So{constructor(A,j,ne,ve,Me){this.app=A,this._client=j,this._storageCache=ne,this._storage=ve,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vr(w,A){const j=w.target.error||void 0;return ur.create(A,{originalErrorMessage:j&&j?.message})}const pi="app_namespace_store";class ua{constructor(A,j,ne,ve=function Ws(){return new Promise((w,A)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=ne=>{A(Vr(ne,"storage-open"))},j.onsuccess=ne=>{w(ne.target.result)},j.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(j){A(ur.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=A,this.appName=j,this.namespace=ne,this.openDbPromise=ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var j=this;return(0,B.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((ve,Me)=>{const Jt=ne.transaction([pi],"readonly").objectStore(pi),Zt=j.createCompositeKey(A);try{const wn=Jt.get(Zt);wn.onerror=Dn=>{Me(Vr(Dn,"storage-get"))},wn.onsuccess=Dn=>{const jn=Dn.target.result;ve(jn?jn.value:void 0)}}catch(wn){Me(ur.create("storage-get",{originalErrorMessage:wn?.message}))}})})()}set(A,j){var ne=this;return(0,B.Z)(function*(){const ve=yield ne.openDbPromise;return new Promise((Me,dt)=>{const Zt=ve.transaction([pi],"readwrite").objectStore(pi),wn=ne.createCompositeKey(A);try{const Dn=Zt.put({compositeKey:wn,value:j});Dn.onerror=jn=>{dt(Vr(jn,"storage-set"))},Dn.onsuccess=()=>{Me()}}catch(Dn){dt(ur.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(A){var j=this;return(0,B.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((ve,Me)=>{const Jt=ne.transaction([pi],"readwrite").objectStore(pi),Zt=j.createCompositeKey(A);try{const wn=Jt.delete(Zt);wn.onerror=Dn=>{Me(Vr(Dn,"storage-delete"))},wn.onsuccess=()=>{ve()}}catch(wn){Me(ur.create("storage-delete",{originalErrorMessage:wn?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class pr{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const j=A.storage.getLastFetchStatus(),ne=A.storage.getLastSuccessfulFetchTimestampMillis(),ve=A.storage.getActiveConfig(),Me=yield j;Me&&(A.lastFetchStatus=Me);const dt=yield ne;dt&&(A.lastSuccessfulFetchTimestampMillis=dt);const Jt=yield ve;Jt&&(A.activeConfig=Jt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Zr(){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}let Qi,ii;!function Ps(){(0,he._registerComponent)(new Ie.wA("remote-config",function w(A,{instanceIdentifier:j}){const ne=A.getProvider("app").getImmediate(),ve=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ur.create("registration-window");if(!(0,le.hl)())throw ur.create("indexed-db-unavailable");const{projectId:Me,apiKey:dt,appId:Jt}=ne.options;if(!Me)throw ur.create("registration-project-id");if(!dt)throw ur.create("registration-api-key");if(!Jt)throw ur.create("registration-app-id");const Zt=new ua(Jt,ne.name,j=j||"firebase"),wn=new pr(Zt),Dn=new De.Yd(Zi);Dn.logLevel=De.in.ERROR;const jn=new aa(ve,he.SDK_VERSION,j,Me,dt,Jt),hs=new Ao(jn,Zt),fi=new ys(hs,Zt,wn,Dn),ki=new So(ne,fi,wn,Zt,Dn);return function tr(w){const A=(0,le.m9)(w);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ki),ki},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Zi,"0.4.4"),(0,he.registerVersion)(Zi,"0.4.4","esm2017")}();const Zs=new WeakMap,li=new WeakMap,Yr=new WeakMap,Os=new WeakMap,An=new WeakMap;let Ho={get(w,A,j){if(w instanceof IDBTransaction){if("done"===A)return li.get(w);if("objectStoreNames"===A)return w.objectStoreNames||Yr.get(w);if("store"===A)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return bi(w[A])},set:(w,A,j)=>(w[A]=j,!0),has:(w,A)=>w instanceof IDBTransaction&&("done"===A||"store"===A)||A in w};function fo(w){return"function"==typeof w?function gi(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function co(){return ii||(ii=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...A){return w.apply(la(this),A),bi(Zs.get(this))}:function(...A){return bi(w.apply(la(this),A))}:function(A,...j){const ne=w.call(la(this),A,...j);return Yr.set(ne,A.sort?A.sort():[A]),bi(ne)}}(w):(w instanceof IDBTransaction&&function ho(w){if(li.has(w))return;const A=new Promise((j,ne)=>{const ve=()=>{w.removeEventListener("complete",Me),w.removeEventListener("error",dt),w.removeEventListener("abort",dt)},Me=()=>{j(),ve()},dt=()=>{ne(w.error||new DOMException("AbortError","AbortError")),ve()};w.addEventListener("complete",Me),w.addEventListener("error",dt),w.addEventListener("abort",dt)});li.set(w,A)}(w),((w,A)=>A.some(j=>w instanceof j))(w,function Mo(){return Qi||(Qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ho):w)}function bi(w){if(w instanceof IDBRequest)return function Ys(w){const A=new Promise((j,ne)=>{const ve=()=>{w.removeEventListener("success",Me),w.removeEventListener("error",dt)},Me=()=>{j(bi(w.result)),ve()},dt=()=>{ne(w.error),ve()};w.addEventListener("success",Me),w.addEventListener("error",dt)});return A.then(j=>{j instanceof IDBCursor&&Zs.set(j,w)}).catch(()=>{}),An.set(A,w),A}(w);if(Os.has(w))return Os.get(w);const A=fo(w);return A!==w&&(Os.set(w,A),An.set(A,w)),A}const la=w=>An.get(w);function bt(w,A,{blocked:j,upgrade:ne,blocking:ve,terminated:Me}={}){const dt=indexedDB.open(w,A),Jt=bi(dt);return ne&&dt.addEventListener("upgradeneeded",Zt=>{ne(bi(dt.result),Zt.oldVersion,Zt.newVersion,bi(dt.transaction))}),j&&dt.addEventListener("blocked",()=>j()),Jt.then(Zt=>{Me&&Zt.addEventListener("close",()=>Me()),ve&&Zt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),Jt}function zn(w,{blocked:A}={}){const j=indexedDB.deleteDatabase(w);return A&&j.addEventListener("blocked",()=>A()),bi(j).then(()=>{})}const Qs=["get","getKey","getAll","getAllKeys","count"],po=["put","add","delete","clear"],Gr=new Map;function N(w,A){if(!(w instanceof IDBDatabase)||A in w||"string"!=typeof A)return;if(Gr.get(A))return Gr.get(A);const j=A.replace(/FromIndex$/,""),ne=A!==j,ve=po.includes(j);if(!(j in(ne?IDBIndex:IDBObjectStore).prototype)||!ve&&!Qs.includes(j))return;const Me=function(){var dt=(0,B.Z)(function*(Jt,...Zt){const wn=this.transaction(Jt,ve?"readwrite":"readonly");let Dn=wn.store;return ne&&(Dn=Dn.index(Zt.shift())),(yield Promise.all([Dn[j](...Zt),ve&&wn.done]))[0]});return function(Zt){return dt.apply(this,arguments)}}();return Gr.set(A,Me),Me}!function kr(w){Ho=w(Ho)}(w=>({...w,get:(A,j,ne)=>N(A,j)||w.get(A,j,ne),has:(A,j)=>!!N(A,j)||w.has(A,j)}));const R="/firebase-messaging-sw.js",M="/firebase-cloud-messaging-push-scope",Z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xt="google.c.a.c_id",Wn="google.c.a.c_l",Js="google.c.a.ts",Es="google.c.a.e";var di=(()=>{return(w=di||(di={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",di;var w})();function Ji(w){const A=new Uint8Array(w);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xo(w){const j=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(j),ve=new Uint8Array(ne.length);for(let Me=0;Me<ne.length;++Me)ve[Me]=ne.charCodeAt(Me);return ve}const mi="fcm_token_details_db",Go="fcm_token_object_Store";function Xs(w){return zo.apply(this,arguments)}function zo(){return zo=(0,B.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(mi))return null;let A=null;return(yield bt(mi,5,{upgrade:(ne=(0,B.Z)(function*(ve,Me,dt,Jt){var Zt;if(Me<2||!ve.objectStoreNames.contains(Go))return;const wn=Jt.objectStore(Go),Dn=yield wn.index("fcmSenderId").get(w);if(yield wn.clear(),Dn)if(2===Me){const jn=Dn;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;A={token:jn.fcmToken,createTime:null!==(Zt=jn.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:Ji(jn.vapidKey)}}}else if(3===Me){const jn=Dn;A={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Ji(jn.auth),p256dh:Ji(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Ji(jn.vapidKey)}}}else if(4===Me){const jn=Dn;A={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Ji(jn.auth),p256dh:Ji(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Ji(jn.vapidKey)}}}}),function(Me,dt,Jt,Zt){return ne.apply(this,arguments)})})).close(),yield zn(mi),yield zn("fcm_vapid_details_db"),yield zn("undefined"),Wo(A)?A:null;var ne}),zo.apply(this,arguments)}function Wo(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:A}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Oi="firebase-messaging-store";let Ns=null;function Ra(){return Ns||(Ns=bt("firebase-messaging-database",1,{upgrade:(w,A)=>{0===A&&w.createObjectStore(Oi)}})),Ns}function mo(w){return qo.apply(this,arguments)}function qo(){return(qo=(0,B.Z)(function*(w){const A=ca(w),ne=yield(yield Ra()).transaction(Oi).objectStore(Oi).get(A);if(ne)return ne;{const ve=yield Xs(w.appConfig.senderId);if(ve)return yield Po(w,ve),ve}})).apply(this,arguments)}function Po(w,A){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,B.Z)(function*(w,A){const j=ca(w),ve=(yield Ra()).transaction(Oi,"readwrite");return yield ve.objectStore(Oi).put(A,j),yield ve.done,A})).apply(this,arguments)}function Ti(w){return ks.apply(this,arguments)}function ks(){return(ks=(0,B.Z)(function*(w){const A=ca(w),ne=(yield Ra()).transaction(Oi,"readwrite");yield ne.objectStore(Oi).delete(A),yield ne.done})).apply(this,arguments)}function ca({appConfig:w}){return w.appId}const gr=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yi(w,A){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,B.Z)(function*(w,A){const j=yield Fs(w),ne=Xi(A),ve={method:"POST",headers:j,body:JSON.stringify(ne)};let Me;try{Me=yield(yield fetch(Yo(w.appConfig),ve)).json()}catch(dt){throw gr.create("token-subscribe-failed",{errorInfo:dt?.toString()})}if(Me.error)throw gr.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw gr.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function Cr(w,A){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(w,A){const j=yield Fs(w),ne=Xi(A.subscriptionOptions),ve={method:"PATCH",headers:j,body:JSON.stringify(ne)};let Me;try{Me=yield(yield fetch(`${Yo(w.appConfig)}/${A.token}`,ve)).json()}catch(dt){throw gr.create("token-update-failed",{errorInfo:dt?.toString()})}if(Me.error)throw gr.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw gr.create("token-update-no-token");return Me.token})).apply(this,arguments)}function da(w,A){return ji.apply(this,arguments)}function ji(){return(ji=(0,B.Z)(function*(w,A){const ne={method:"DELETE",headers:yield Fs(w)};try{const Me=yield(yield fetch(`${Yo(w.appConfig)}/${A}`,ne)).json();if(Me.error)throw gr.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(ve){throw gr.create("token-unsubscribe-failed",{errorInfo:ve?.toString()})}})).apply(this,arguments)}function Yo({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Fs(w){return ws.apply(this,arguments)}function ws(){return(ws=(0,B.Z)(function*({appConfig:w,installations:A}){const j=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Xi({p256dh:w,auth:A,endpoint:j,vapidKey:ne}){const ve={web:{endpoint:j,auth:A,p256dh:w}};return ne!==Z&&(ve.web.applicationPubKey=ne),ve}const Qo=6048e5;function us(w){return $i.apply(this,arguments)}function $i(){return($i=(0,B.Z)(function*(w){const A=yield No(w.swRegistration,w.vapidKey),j={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:A.endpoint,auth:Ji(A.getKey("auth")),p256dh:Ji(A.getKey("p256dh"))},ne=yield mo(w.firebaseDependencies);if(ne){if(b(ne.subscriptionOptions,j))return Date.now()>=ne.createTime+Qo?eo(w,{token:ne.token,createTime:Date.now(),subscriptionOptions:j}):ne.token;try{yield da(w.firebaseDependencies,ne.token)}catch(ve){console.warn(ve)}return no(w.firebaseDependencies,j)}return no(w.firebaseDependencies,j)})).apply(this,arguments)}function vi(w){return es.apply(this,arguments)}function es(){return(es=(0,B.Z)(function*(w){const A=yield mo(w.firebaseDependencies);A&&(yield da(w.firebaseDependencies,A.token),yield Ti(w.firebaseDependencies));const j=yield w.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()})).apply(this,arguments)}function eo(w,A){return to.apply(this,arguments)}function to(){return(to=(0,B.Z)(function*(w,A){try{const j=yield Cr(w.firebaseDependencies,A),ne=Object.assign(Object.assign({},A),{token:j,createTime:Date.now()});return yield Po(w.firebaseDependencies,ne),j}catch(j){throw yield vi(w),j}})).apply(this,arguments)}function no(w,A){return vo.apply(this,arguments)}function vo(){return(vo=(0,B.Z)(function*(w,A){const ne={token:yield yi(w,A),createTime:Date.now(),subscriptionOptions:A};return yield Po(w,ne),ne.token})).apply(this,arguments)}function No(w,A){return ou.apply(this,arguments)}function ou(){return(ou=(0,B.Z)(function*(w,A){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xo(A)})})).apply(this,arguments)}function b(w,A){return A.vapidKey===w.vapidKey&&A.endpoint===w.endpoint&&A.auth===w.auth&&A.p256dh===w.p256dh}function V(w){const A={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function x(w,A){if(!A.notification)return;w.notification={};const j=A.notification.title;j&&(w.notification.title=j);const ne=A.notification.body;ne&&(w.notification.body=ne);const ve=A.notification.image;ve&&(w.notification.image=ve);const Me=A.notification.icon;Me&&(w.notification.icon=Me)}(A,w),function z(w,A){!A.data||(w.data=A.data)}(A,w),function we(w,A){var j,ne,ve,Me,dt;if(!(A.fcmOptions||null!==(j=A.notification)&&void 0!==j&&j.click_action))return;w.fcmOptions={};const Jt=null!==(ve=null===(ne=A.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==ve?ve:null===(Me=A.notification)||void 0===Me?void 0:Me.click_action;Jt&&(w.fcmOptions.link=Jt);const Zt=null===(dt=A.fcmOptions)||void 0===dt?void 0:dt.analytics_label;Zt&&(w.fcmOptions.analyticsLabel=Zt)}(A,w),A}function at(w){return"object"==typeof w&&!!w&&Xt in w}function wt(w,A){const j=[];for(let ne=0;ne<w.length;ne++)j.push(w.charAt(ne)),ne<A.length&&j.push(A.charAt(ne));return j.join("")}function hr(w){return gr.create("missing-app-config-values",{valueName:w})}wt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jn{constructor(A,j,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ve=function mn(w){if(!w||!w.options)throw hr("App Configuration Object");if(!w.name)throw hr("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:j}=w;for(const ne of A)if(!j[ne])throw hr(ne);return{appName:w.name,projectId:j.projectId,apiKey:j.apiKey,appId:j.appId,senderId:j.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ve,installations:j,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function _r(w){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(R,{scope:M}),w.swRegistration.update().catch(()=>{})}catch(A){throw gr.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function xr(w,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,B.Z)(function*(w,A){if(!A&&!w.swRegistration&&(yield _r(w)),A||!w.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");w.swRegistration=A}})).apply(this,arguments)}function ei(w,A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(w,A){A?w.vapidKey=A:w.vapidKey||(w.vapidKey=Z)})).apply(this,arguments)}function vr(){return(vr=(0,B.Z)(function*(w,A){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield ei(w,A?.vapidKey),yield xr(w,A?.serviceWorkerRegistration),us(w)})).apply(this,arguments)}function Rr(w,A,j){return ro.apply(this,arguments)}function ro(){return(ro=(0,B.Z)(function*(w,A,j){const ne=en(A);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:j[Xt],message_name:j[Wn],message_time:j[Js],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function en(w){switch(w){case di.NOTIFICATION_CLICKED:return"notification_open";case di.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ha(){return(ha=(0,B.Z)(function*(w,A){const j=A.data;if(!j.isFirebaseMessaging)return;w.onMessageHandler&&j.messageType===di.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(V(j)):w.onMessageHandler.next(V(j)));const ne=j.data;at(ne)&&"1"===ne[Es]&&(yield Rr(w,j.messageType,ne))})).apply(this,arguments)}const Yt="@firebase/messaging",Rt=w=>{const A=new Jn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",j=>function un(w,A){return ha.apply(this,arguments)}(A,j)),A},si=w=>{const A=w.getProvider("messaging").getImmediate();return{getToken:ne=>function Mt(w,A){return vr.apply(this,arguments)}(A,ne)}};function za(){return xu.apply(this,arguments)}function xu(){return(xu=(0,B.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ga(){(0,he._registerComponent)(new Ie.wA("messaging",Rt,"PUBLIC")),(0,he._registerComponent)(new Ie.wA("messaging-internal",si,"PRIVATE")),(0,he.registerVersion)(Yt,"0.12.4"),(0,he.registerVersion)(Yt,"0.12.4","esm2017")}();const ln="analytics",_o="firebase_id",yn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vs="https://www.googletagmanager.com/gtag/js",bn=new De.Yd("@firebase/analytics"),sr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qt(w){if(!w.startsWith(Vs)){const A=sr.create("invalid-gtag-resource",{gtagURL:w});return bn.warn(A.message),""}return w}function ls(w){return Promise.all(w.map(A=>A.catch(j=>j)))}function Xo(w,A){const j=function ma(w,A){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(w,A)),j}("firebase-js-sdk-policy",{createScriptURL:Qt}),ne=document.createElement("script"),ve=`${Vs}?l=${w}&id=${A}`;ne.src=j?j?.createScriptURL(ve):ve,ne.async=!0,document.head.appendChild(ne)}function Pu(w,A,j,ne,ve,Me){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,B.Z)(function*(w,A,j,ne,ve,Me){const dt=ne[ve];try{if(dt)yield A[dt];else{const Zt=(yield ls(j)).find(wn=>wn.measurementId===ve);Zt&&(yield A[Zt.appId])}}catch(Jt){bn.error(Jt)}w("config",ve,Me)})).apply(this,arguments)}function ko(w,A,j,ne,ve){return ya.apply(this,arguments)}function ya(){return(ya=(0,B.Z)(function*(w,A,j,ne,ve){try{let Me=[];if(ve&&ve.send_to){let dt=ve.send_to;Array.isArray(dt)||(dt=[dt]);const Jt=yield ls(j);for(const Zt of dt){const wn=Jt.find(jn=>jn.measurementId===Zt),Dn=wn&&A[wn.appId];if(!Dn){Me=[];break}Me.push(Dn)}}0===Me.length&&(Me=Object.values(A)),yield Promise.all(Me),w("event",ne,ve||{})}catch(Me){bn.error(Me)}})).apply(this,arguments)}function Ou(w){const A=window.document.getElementsByTagName("script");for(const j of Object.values(A))if(j.src&&j.src.includes(Vs)&&j.src.includes(w))return j;return null}const ti=new class _a{constructor(A={},j=1e3){this.throttleMetadata=A,this.intervalMillis=j}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,j){this.throttleMetadata[A]=j}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ke(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function ea(w){return io.apply(this,arguments)}function io(){return(io=(0,B.Z)(function*(w){var A;const{appId:j,apiKey:ne}=w,ve={method:"GET",headers:Ke(ne)},Me=yn.replace("{app-id}",j),dt=yield fetch(Me,ve);if(200!==dt.status&&304!==dt.status){let Jt="";try{const Zt=yield dt.json();null!==(A=Zt.error)&&void 0!==A&&A.message&&(Jt=Zt.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:dt.status,responseMessage:Jt})}return dt.json()})).apply(this,arguments)}function Ea(w){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,B.Z)(function*(w,A=ti,j){const{appId:ne,apiKey:ve,measurementId:Me}=w.options;if(!ne)throw sr.create("no-app-id");if(!ve){if(Me)return{measurementId:Me,appId:ne};throw sr.create("no-api-key")}const dt=A.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new uu;return setTimeout((0,B.Z)(function*(){Jt.abort()}),void 0!==j?j:6e4),Si({appId:ne,apiKey:ve,measurementId:Me},dt,Jt,A)})).apply(this,arguments)}function Si(w,A,j){return au.apply(this,arguments)}function au(){return(au=(0,B.Z)(function*(w,{throttleEndTimeMillis:A,backoffCount:j},ne,ve=ti){var Me;const{appId:dt,measurementId:Jt}=w;try{yield Us(ne,A)}catch(Zt){if(Jt)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:dt,measurementId:Jt};throw Zt}try{const Zt=yield ea(w);return ve.deleteThrottleMetadata(dt),Zt}catch(Zt){const wn=Zt;if(!Pa(wn)){if(ve.deleteThrottleMetadata(dt),Jt)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${wn?.message}]`),{appId:dt,measurementId:Jt};throw Zt}const Dn=503===Number(null===(Me=wn?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,le.$s)(j,ve.intervalMillis,30):(0,le.$s)(j,ve.intervalMillis),jn={throttleEndTimeMillis:Date.now()+Dn,backoffCount:j+1};return ve.setThrottleMetadata(dt,jn),bn.debug(`Calling attemptFetch again in ${Dn} millis`),Si(w,jn,ne,ve)}})).apply(this,arguments)}function Us(w,A){return new Promise((j,ne)=>{const ve=Math.max(A-Date.now(),0),Me=setTimeout(j,ve);w.addEventListener(()=>{clearTimeout(Me),ne(sr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Pa(w){if(!(w instanceof le.ZR&&w.customData))return!1;const A=Number(w.customData.httpStatus);return 429===A||500===A||503===A||504===A}class uu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Nu,oe;function cs(){return(cs=(0,B.Z)(function*(w,A,j,ne,ve){if(ve&&ve.global)w("event",j,ne);else{const Me=yield A;w("event",j,Object.assign(Object.assign({},ne),{send_to:Me}))}})).apply(this,arguments)}function ye(w){oe=w}function ct(w){Nu=w}function Kt(){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,B.Z)(function*(){if(!(0,le.hl)())return bn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(w){return bn.warn(sr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function er(){return(er=(0,B.Z)(function*(w,A,j,ne,ve,Me,dt){var Jt;const Zt=Ea(w);Zt.then(fi=>{j[fi.measurementId]=fi.appId,w.options.measurementId&&fi.measurementId!==w.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fi=>bn.error(fi)),A.push(Zt);const wn=Kt().then(fi=>{if(fi)return ne.getId()}),[Dn,jn]=yield Promise.all([Zt,wn]);Ou(Me)||Xo(Me,Dn.measurementId),oe&&(ve("consent","default",oe),ye(void 0)),ve("js",new Date);const hs=null!==(Jt=dt?.config)&&void 0!==Jt?Jt:{};return hs.origin="firebase",hs.update=!0,null!=jn&&(hs[_o]=jn),ve("config",Dn.measurementId,hs),Nu&&(ve("set",Nu),ct(void 0)),Dn.measurementId})).apply(this,arguments)}class Mi{constructor(A){this.app=A}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},ta=[];const Bs={};let Oa,Ds,wa="dataLayer",lu=!1;function Fl(w,A,j){!function ku(){const w=[];if((0,le.ru)()&&w.push("This is a browser extension environment."),(0,le.zI)()||w.push("Cookies are not available."),w.length>0){const A=w.map((ne,ve)=>`(${ve+1}) ${ne}`).join(" "),j=sr.create("invalid-analytics-context",{errorInfo:A});bn.warn(j.message)}}();const ne=w.options.appId;if(!ne)throw sr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw sr.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[ne])throw sr.create("already-exists",{id:ne});if(!lu){!function Er(w){let A=[];Array.isArray(window[w])?A=window[w]:window[w]=A}(wa);const{wrappedGtag:Me,gtagCore:dt}=function Is(w,A,j,ne,ve){let Me=function(...dt){window[ne].push(arguments)};return window[ve]&&"function"==typeof window[ve]&&(Me=window[ve]),window[ve]=function Nl(w,A,j,ne){function Me(){return(Me=(0,B.Z)(function*(dt,...Jt){try{if("event"===dt){const[Zt,wn]=Jt;yield ko(w,A,j,Zt,wn)}else if("config"===dt){const[Zt,wn]=Jt;yield Pu(w,A,j,ne,Zt,wn)}else if("consent"===dt){const[Zt]=Jt;w("consent","update",Zt)}else if("get"===dt){const[Zt,wn,Dn]=Jt;w("get",Zt,wn,Dn)}else if("set"===dt){const[Zt]=Jt;w("set",Zt)}else w(dt,...Jt)}catch(Zt){bn.error(Zt)}})).apply(this,arguments)}return function ve(dt){return Me.apply(this,arguments)}}(Me,w,A,j),{gtagCore:Me,wrappedGtag:window[ve]}}(ai,ta,Bs,wa,"gtag");Ds=Me,Oa=dt,lu=!0}return ai[ne]=function cn(w,A,j,ne,ve,Me,dt){return er.apply(this,arguments)}(w,ta,Bs,A,Oa,wa,j),new Mi(w)}function Hi(){return Na.apply(this,arguments)}function Na(){return(Na=(0,B.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const sl="@firebase/analytics";!function Ei(){(0,he._registerComponent)(new Ie.wA(ln,(A,{options:j})=>Fl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,he._registerComponent)(new Ie.wA("analytics-internal",function w(A){try{const j=A.getProvider(ln).getImmediate();return{logEvent:(ne,ve,Me)=>function Lo(w,A,j,ne){w=(0,le.m9)(w),function kl(w,A,j,ne,ve){return cs.apply(this,arguments)}(Ds,ai[w.app.options.appId],A,j,ne).catch(ve=>bn.error(ve))}(j,ne,ve,Me)}}catch(j){throw sr.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,he.registerVersion)(sl,"0.10.0"),(0,he.registerVersion)(sl,"0.10.0","esm2017")}();var du=k(4408),ri=k(7565);const Fu=new class ka extends ri.v{}(class Eo extends du.o{constructor(A,j){super(A,j),this.scheduler=A,this.work=j}schedule(A,j=0){return j>0?super.schedule(A,j):(this.delay=j,this.state=A,this.scheduler.flush(this),this)}execute(A,j){return j>0||this.closed?super.execute(A,j):this._execute(A,j)}requestAsyncId(A,j,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(A,j,ne):(A.flush(this),0)}});var ol=k(4986),Ul=k(8505),ra=k(9468),ia=k(5363);const Fa=new d.GfV("7.6.1"),so="__angularfire_symbol__analyticsIsSupportedValue",wo="__angularfire_symbol__analyticsIsSupported",Da="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",hu="__angularfire_symbol__messagingIsSupportedValue",Ya="__angularfire_symbol__messagingIsSupported";function al(w,A,j){if(A){if(1===A.length)return A[0];const Me=A.filter(dt=>dt.app===j);if(1===Me.length)return Me[0]}return j.container.getProvider(w).getImmediate({optional:!0})}globalThis[wo]||(globalThis[wo]=Hi().then(w=>globalThis[so]=w).catch(()=>globalThis[so]=!1)),globalThis[Ya]||(globalThis[Ya]=za().then(w=>globalThis[hu]=w).catch(()=>globalThis[hu]=!1)),globalThis[sa]||(globalThis[sa]=Zr().then(w=>globalThis[Da]=w).catch(()=>globalThis[Da]=!1));const pu=(w,A)=>{const j=A?[A]:(0,F.C6)(),ne=[];return j.forEach(ve=>{ve.container.getProvider(w).instances.forEach(dt=>{ne.includes(dt)||ne.push(dt)})}),ne};function gu(){}class ul{constructor(A,j=Fu){this.zone=A,this.delegate=j}now(){return this.delegate.now()}schedule(A,j,ne){const ve=this.zone;return this.delegate.schedule(function(dt){ve.runGuarded(()=>{A.apply(this,[dt])})},j,ne)}}class Uu{constructor(A){this.zone=A,this.task=null}call(A,j){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gu,{},gu,gu)),j.pipe((0,Ul.b)({next:ne,complete:ne,error:ne})).subscribe(A).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let td=(()=>{class w{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new ul(Zone.current)),this.insideAngular=j.run(()=>new ul(Zone.current,ol.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(j){return new(j||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ca(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ll(w){return Ca(),function Kr(w){return function(j){return(j=j.lift(new Uu(w.ngZone))).pipe((0,ra.R)(w.outsideAngular),(0,ia.Q)(w.insideAngular))}}(Ca())(w)}},1389:(Ht,Be,k)=>{k.d(Be,{$:()=>R,A:()=>ce,D:()=>et,I:()=>Nr,J:()=>qi,L:()=>ui,N:()=>Ze,P:()=>cn,Q:()=>ua,R:()=>ds,U:()=>vs,V:()=>Zr,W:()=>_s,X:()=>Ks,Y:()=>Mo,Z:()=>co,_:()=>An,a:()=>fa,a0:()=>Z,a1:()=>Xt,a2:()=>ci,a3:()=>Go,a4:()=>zo,a5:()=>Ko,a6:()=>Oi,a7:()=>Ra,a8:()=>qo,a9:()=>Zo,aA:()=>Ce,aB:()=>Da,aC:()=>W,aD:()=>Ot,aE:()=>ra,aF:()=>Vl,aG:()=>ni,aH:()=>Ar,aL:()=>pa,aO:()=>Qi,aa:()=>Ti,ab:()=>ca,ac:()=>yo,ad:()=>Cr,ae:()=>da,af:()=>Yo,ai:()=>Qo,aj:()=>$i,ak:()=>vi,an:()=>gi,ao:()=>x,aq:()=>Ls,ar:()=>Yt,as:()=>ot,at:()=>re,au:()=>ft,av:()=>me,aw:()=>hs,ax:()=>fu,ay:()=>se,az:()=>nt,b:()=>nl,c:()=>Ds,d:()=>Fl,e:()=>Ni,f:()=>sl,g:()=>ka,h:()=>du,i:()=>rl,j:()=>ol,k:()=>oo,l:()=>T,m:()=>Rf,p:()=>te,r:()=>G,s:()=>E,u:()=>Kt});var d=k(5861),F=k(2090),B=k(6881),he=k(7582),le=k(1877),Ie=k(4859);const te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const et=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Fe=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new le.Yd("@firebase/auth");function pt(_,...h){Se.logLevel<=le.in.ERROR&&Se.error(`Auth (${B.SDK_VERSION}): ${_}`,...h)}function me(_,...h){throw He(_,...h)}function nt(_,...h){return He(_,...h)}function st(_,h,g){const I=Object.assign(Object.assign({},Fe()),{[h]:g});return new F.LL("auth","Firebase",I).create(h,{appName:_.name})}function St(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&me(_,"argument-error"),st(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(_,...h){if("string"!=typeof _){const g=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(g,...I)}return mt.create(_,...h)}function Ce(_,h,...g){if(!_)throw He(h,...g)}function pe(_){const h="INTERNAL ASSERTION FAILED: "+_;throw pt(h),new Error(h)}function ot(_,h){_||pe(h)}function Le(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function _t(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ve{constructor(h,g){this.shortDelay=h,this.longDelay=g,ot(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function fr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(_,h){ot(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class ze{static initialize(h,g,I){this.fetchImpl=h,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gt=new Ve(3e4,6e4);function It(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function xt(_,h,g,I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(_,h,g,I,$={}){return Vt(_,$,(0,d.Z)(function*(){let J={},Pe={};I&&("GET"===h?Pe=I:J={body:JSON.stringify(I)});const ut=(0,F.xO)(Object.assign({key:_.config.apiKey},Pe)).slice(1),Gt=yield _._getAdditionalHeaders();return Gt["Content-Type"]="application/json",_.languageCode&&(Gt["X-Firebase-Locale"]=_.languageCode),ze.fetch()(Kn(_,_.config.apiHost,g,ut),Object.assign({method:h,headers:Gt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Vt(_,h,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(_,h,g){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},Je),h);try{const $=new ir(_),J=yield Promise.race([g(),$.promise]);$.clearNetworkTimeout();const Pe=yield J.json();if("needConfirmation"in Pe)throw Gn(_,"account-exists-with-different-credential",Pe);if(J.ok&&!("errorMessage"in Pe))return Pe;{const ut=J.ok?Pe.errorMessage:Pe.error.message,[Gt,rn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw Gn(_,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===Gt)throw Gn(_,"email-already-in-use",Pe);if("USER_DISABLED"===Gt)throw Gn(_,"user-disabled",Pe);const Sn=I[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw st(_,Sn,rn);me(_,Sn)}}catch($){if($ instanceof F.ZR)throw $;me(_,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function hn(_,h,g,I){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(_,h,g,I,$={}){const J=yield xt(_,h,g,I,$);return"mfaPendingCredential"in J&&me(_,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Kn(_,h,g,I){const $=`${h}${g}?${I}`;return _.config.emulator?$e(_.config,$):`${_.config.apiScheme}://${$}`}class ir{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(nt(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(_,h,g){const I={appName:_.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const $=nt(_,h,I);return $.customData._tokenResponse=g,$}function jt(){return(jt=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function qn(_,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cr(_,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Pn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function jr(){return(jr=(0,d.Z)(function*(_,h=!1){const g=(0,F.m9)(_),I=yield g.getIdToken(h),$=dr(I);Ce($&&$.exp&&$.auth_time&&$.iat,g.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,Pe=J?.sign_in_provider;return{claims:$,token:I,authTime:Pn(br($.auth_time)),issuedAtTime:Pn(br($.iat)),expirationTime:Pn(br($.exp)),signInProvider:Pe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function br(_){return 1e3*Number(_)}function dr(_){const[h,g,I]=_.split(".");if(void 0===h||void 0===g||void 0===I)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,F.tV)(g);return $?JSON.parse($):(pt("Failed to decode base64 JWT payload"),null)}catch($){return pt("Caught error parsing JWT payload as JSON",$?.toString()),null}}function ge(_,h){return de.apply(this,arguments)}function de(){return(de=(0,d.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(I){throw I instanceof F.ZR&&it(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}function it({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class lt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const $=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),I)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class tn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vn(_){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(_){var h;const g=_.auth,I=yield _.getIdToken(),$=yield ge(_,cr(g,{idToken:I}));Ce($?.users.length,g,"internal-error");const J=$.users[0];_._notifyReloadListener(J);const Pe=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?yr(J.providerUserInfo):[],ut=pn(_.providerData,Pe),Sn=!!_.isAnonymous&&!(_.email&&J.passwordHash||ut?.length),mr={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ut,metadata:new tn(J.createdAt,J.lastLoginAt),isAnonymous:Sn};Object.assign(_,mr)})).apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(_){const h=(0,F.m9)(_);yield vn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function pn(_,h){return[..._.filter(I=>!h.some($=>$.providerId===I.providerId)),...h]}function yr(_){return _.map(h=>{var{providerId:g}=h,I=(0,he._T)(h,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function qt(){return(qt=(0,d.Z)(function*(_,h){const g=yield Vt(_,{},(0,d.Z)(function*(){const I=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:J}=_.config,Pe=Kn(_,$,"/v1/token",`key=${J}`),ut=yield _._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()(Pe,{method:"POST",headers:ut,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(typeof h.idToken<"u","internal-error"),Ce(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ge(_){const h=dr(_);return Ce(h,"internal-error"),Ce(typeof h.exp<"u","internal-error"),Ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var I=this;return(0,d.Z)(function*(){return Ce(!I.accessToken||I.refreshToken,h,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var I=this;return(0,d.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:Pe}=yield function fn(_,h){return qt.apply(this,arguments)}(h,g);I.updateTokensAndExpiration($,J,Number(Pe))})()}updateTokensAndExpiration(h,g,I){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,g){const{refreshToken:I,accessToken:$,expirationTime:J}=g,Pe=new Tt;return I&&(Ce("string"==typeof I,"internal-error",{appName:h}),Pe.refreshToken=I),$&&(Ce("string"==typeof $,"internal-error",{appName:h}),Pe.accessToken=$),J&&(Ce("number"==typeof J,"internal-error",{appName:h}),Pe.expirationTime=J),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return pe("not implemented")}}function Fn(_,h){Ce("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Yn{constructor(h){var{uid:g,auth:I,stsTokenManager:$}=h,J=(0,he._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new tn(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.Z)(function*(){const I=yield ge(g,g.stsTokenManager.getToken(g.auth,h));return Ce(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(h){return function ar(_){return jr.apply(this,arguments)}(this,h)}reload(){return function Nt(_){return kn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Yn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var I=this;return(0,d.Z)(function*(){let $=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),$=!0),g&&(yield vn(I)),yield I.auth._persistUserIfCurrent(I),$&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,d.Z)(function*(){const g=yield h.getIdToken();return yield ge(h,function En(_,h){return jt.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var I,$,J,Pe,ut,Gt,rn,Sn;const mr=null!==(I=g.displayName)&&void 0!==I?I:void 0,Io=null!==($=g.email)&&void 0!==$?$:void 0,js=null!==(J=g.phoneNumber)&&void 0!==J?J:void 0,$l=null!==(Pe=g.photoURL)&&void 0!==Pe?Pe:void 0,Cs=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,Hl=null!==(Gt=g._redirectEventId)&&void 0!==Gt?Gt:void 0,vu=null!==(rn=g.createdAt)&&void 0!==rn?rn:void 0,od=null!==(Sn=g.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:oa,emailVerified:Sc,isAnonymous:$u,providerData:Ja,stsTokenManager:ad}=g;Ce(oa&&ad,h,"internal-error");const or=Tt.fromJSON(this.name,ad);Ce("string"==typeof oa,h,"internal-error"),Fn(mr,h.name),Fn(Io,h.name),Ce("boolean"==typeof Sc,h,"internal-error"),Ce("boolean"==typeof $u,h,"internal-error"),Fn(js,h.name),Fn($l,h.name),Fn(Cs,h.name),Fn(Hl,h.name),Fn(vu,h.name),Fn(od,h.name);const ud=new Yn({uid:oa,auth:h,email:Io,emailVerified:Sc,displayName:mr,isAnonymous:$u,photoURL:$l,phoneNumber:js,tenantId:Cs,stsTokenManager:or,createdAt:vu,lastLoginAt:od});return Ja&&Array.isArray(Ja)&&(ud.providerData=Ja.map(dh=>Object.assign({},dh))),Hl&&(ud._redirectEventId=Hl),ud}static _fromIdTokenResponse(h,g,I=!1){return(0,d.Z)(function*(){const $=new Tt;$.updateFromServerResponse(g);const J=new Yn({uid:g.localId,auth:h,stsTokenManager:$,isAnonymous:I});return yield vn(J),J})()}}const Qe=new Map;function W(_){ot(_ instanceof Function,"Expected a class definition");let h=Qe.get(_);return h?(ot(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Qe.set(_,h),h)}const Ze=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,I){var $=this;return(0,d.Z)(function*(){$.storage[g]=I})()}_get(g){var I=this;return(0,d.Z)(function*(){const $=I.storage[g];return void 0===$?null:$})()}_remove(g){var I=this;return(0,d.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return _.type="NONE",_})();function Ot(_,h,g){return`firebase:${_}:${h}:${g}`}class ae{constructor(h,g,I){this.persistence=h,this.auth=g,this.userKey=I;const{config:$,name:J}=this.auth;this.fullUserKey=Ot(this.userKey,$.apiKey,J),this.fullPersistenceKey=Ot("persistence",$.apiKey,J),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Yn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.Z)(function*(){if(g.persistence===h)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,I="authUser"){return(0,d.Z)(function*(){if(!g.length)return new ae(W(Ze),h,I);const $=(yield Promise.all(g.map(function(){var rn=(0,d.Z)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let J=$[0]||W(Ze);const Pe=Ot(I,h.config.apiKey,h.name);let ut=null;for(const rn of g)try{const Sn=yield rn._get(Pe);if(Sn){const mr=Yn._fromJSON(h,Sn);rn!==J&&(ut=mr),J=rn;break}}catch{}const Gt=$.filter(rn=>rn._shouldAllowMigration);return J._shouldAllowMigration&&Gt.length?(J=Gt[0],ut&&(yield J._set(Pe,ut.toJSON())),yield Promise.all(g.map(function(){var rn=(0,d.Z)(function*(Sn){if(Sn!==J)try{yield Sn._remove(Pe)}catch{}});return function(Sn){return rn.apply(this,arguments)}}())),new ae(J,h,I)):new ae(J,h,I)})()}}function ue(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Te(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Y(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Bt(h))return"Blackberry";if(nn(h))return"Webos";if(K(h))return"Safari";if((h.includes("chrome/")||H(h))&&!h.includes("edge/"))return"Chrome";if(ft(h))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Y(_=(0,F.z$)()){return/firefox\//i.test(_)}function K(_=(0,F.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function H(_=(0,F.z$)()){return/crios\//i.test(_)}function Te(_=(0,F.z$)()){return/iemobile/i.test(_)}function ft(_=(0,F.z$)()){return/android/i.test(_)}function Bt(_=(0,F.z$)()){return/blackberry/i.test(_)}function nn(_=(0,F.z$)()){return/webos/i.test(_)}function re(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function se(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function We(_=(0,F.z$)()){return re(_)||ft(_)||nn(_)||Bt(_)||/windows phone/i.test(_)||Te(_)}function gn(_,h=[]){let g;switch(_){case"Browser":g=ue((0,F.z$)());break;case"Worker":g=`${ue((0,F.z$)())}-${_}`;break;default:g=_}const I=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${B.SDK_VERSION}/${I}`}function ke(){return(ke=(0,d.Z)(function*(_){return(yield xt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dt(_,h){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(_,h){return xt(_,"GET","/v2/recaptchaConfig",It(_,h))})).apply(this,arguments)}function Cn(_){return void 0!==_&&void 0!==_.getResponse}function xn(_){return void 0!==_&&void 0!==_.enterprise}class Un{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Vn(_){return new Promise((h,g)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=h,I.onerror=$=>{const J=nt("internal-error");J.customData=$,g(J)},I.type="text/javascript",I.charset="UTF-8",function Tr(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(I)})}function Hr(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Fi{constructor(h){this.type="recaptcha-enterprise",this.auth=Ar(h)}verify(h="verify",g=!1){var I=this;return(0,d.Z)(function*(){function J(){return J=(0,d.Z)(function*(ut){if(!g){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var Gt=(0,d.Z)(function*(rn,Sn){Dt(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mr=>{if(void 0!==mr.recaptchaKey){const Io=new Un(mr);return null==ut.tenantId?ut._agentRecaptchaConfig=Io:ut._tenantRecaptchaConfigs[ut.tenantId]=Io,rn(Io.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(mr=>{Sn(mr)})});return function(rn,Sn){return Gt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Pe(ut,Gt,rn){const Sn=window.grecaptcha;xn(Sn)?Sn.enterprise.ready(()=>{Sn.enterprise.execute(ut,{action:h}).then(mr=>{Gt(mr)}).catch(()=>{Gt("NO_RECAPTCHA")})}):rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,Gt)=>{(function $(ut){return J.apply(this,arguments)})(I.auth).then(rn=>{if(!g&&xn(window.grecaptcha))Pe(rn,ut,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));Vn("https://www.google.com/recaptcha/enterprise.js?render="+rn).then(()=>{Pe(rn,ut,Gt)}).catch(Sn=>{Gt(Sn)})}}).catch(rn=>{Gt(rn)})})})()}}function Zn(_,h,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.Z)(function*(_,h,g,I=!1){const $=new Fi(_);let J;try{J=yield $.verify(g)}catch{J=yield $.verify(g,!0)}const Pe=Object.assign({},h);return Object.assign(Pe,I?{captchaResp:J}:{captchaResponse:J}),Object.assign(Pe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pe})).apply(this,arguments)}class ps{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const I=J=>new Promise((Pe,ut)=>{try{Pe(h(J))}catch(Gt){ut(Gt)}});I.onAbort=g,this.queue.push(I);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===h)return;const I=[];try{for(const $ of g.queue)yield $(h),$.onAbort&&I.push($.onAbort)}catch($){I.reverse();for(const J of I)try{J()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Xr{constructor(h,g,I,$){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(h,g){var I=this;return g&&(this._popupRedirectResolver=W(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var $,J;if(!I._deleted&&(I.persistenceManager=yield ae.create(I,h),!I._deleted)){if(null!==($=I._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(J=I.currentUser)||void 0===J?void 0:J.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,d.Z)(function*(){var I;const $=yield g.assertedPersistence.getCurrentUser();let J=$,Pe=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,Gt=J?._redirectEventId,rn=yield g.tryRedirectSignIn(h);(!ut||ut===Gt)&&rn?.user&&(J=rn.user,Pe=!0)}if(!J)return g.directlySetCurrentUser(null);if(!J._redirectEventId){if(Pe)try{yield g.beforeStateQueue.runMiddleware(J)}catch(ut){J=$,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return J?g.reloadAndSetCurrentUserOrClear(J):g.directlySetCurrentUser(null)}return Ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===J._redirectEventId?g.directlySetCurrentUser(J):g.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var g=this;return(0,d.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.Z)(function*(){try{yield vn(h)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.Z)(function*(){const I=h?(0,F.m9)(h):null;return I&&Ce(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(h,g=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return h&&Ce(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(W(h))}))}initializeRecaptchaConfig(){var h=this;return(0,d.Z)(function*(){const g=yield Dt(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Un(g);null==h.tenantId?h._agentRecaptchaConfig=I:h._tenantRecaptchaConfigs[h.tenantId]=I,I.emailPasswordEnabled&&new Fi(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,g,I){return this.registerStateListener(this.authStateSubscription,h,g,I)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,I){return this.registerStateListener(this.idTokenSubscription,h,g,I)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var I=this;return(0,d.Z)(function*(){const $=yield I.getOrInitRedirectPersistenceManager(g);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const I=h&&W(h)||g._popupRedirectResolver;Ce(I,g,"argument-error"),g.redirectPersistenceManager=yield ae.create(g,[W(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.Z)(function*(){var I,$;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===h?g._currentUser:(null===($=g.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.Z)(function*(){if(h===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,I,$){if(this._deleted)return()=>{};const J="function"==typeof g?g:g.next.bind(g),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Pe,this,"internal-error"),Pe.then(()=>J(this.currentUser)),"function"==typeof g?h.addObserver(g,I,$):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var g;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();$&&(I["X-Firebase-Client"]=$);const J=yield h._getAppCheckToken();return J&&(I["X-Firebase-AppCheck"]=J),I})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var g;const I=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function yt(_,...h){Se.logLevel<=le.in.WARN&&Se.warn(`Auth (${B.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Ar(_){return(0,F.m9)(_)}class Ki{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nr(_,h,g){const I=Ar(_);Ce(I._canInitEmulator,I,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const $=!!g?.disableWarnings,J=Li(h),{host:Pe,port:ut}=function Wr(_){const h=Li(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(I);if($){const J=$[1];return{host:J,port:Lr(I.substr(J.length+1))}}{const[J,Pe]=I.split(":");return{host:J,port:Lr(Pe)}}}(h);I.config.emulator={url:`${J}//${Pe}${null===ut?"":`:${ut}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Pe,port:ut,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function ao(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Li(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Lr(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class qi{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return pe("not implemented")}_getIdTokenResponse(h){return pe("not implemented")}_linkToIdToken(h,g){return pe("not implemented")}_getReauthenticationResolver(h){return pe("not implemented")}}function gs(_,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:resetPassword",It(_,h))})).apply(this,arguments)}function Zi(_,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ms(_,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",It(_,h))})).apply(this,arguments)}function xa(_,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithPassword",It(_,h))})).apply(this,arguments)}function bo(_,h){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendOobCode",It(_,h))})).apply(this,arguments)}function uo(_,h){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(_,h){return bo(_,h)})).apply(this,arguments)}function be(_,h){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(_,h){return bo(_,h)})).apply(this,arguments)}function Et(_,h){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,h){return bo(_,h)})).apply(this,arguments)}function Tn(_,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(_,h){return bo(_,h)})).apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithEmailLink",It(_,h))})).apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithEmailLink",It(_,h))})).apply(this,arguments)}class $r extends qi{constructor(h,g,I,$=null){super("password",I),this._email=h,this._password=g,this._tenantId=$}static _fromEmailAndPassword(h,g){return new $r(h,g,"password")}static _fromEmailAndCode(h,g,I=null){return new $r(h,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.Z)(function*(){var I;switch(g.signInMethod){case"password":const $={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=h._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const J=yield Zn(h,$,"signInWithPassword");return xa(h,J)}return xa(h,$).catch(function(){var J=(0,d.Z)(function*(Pe){if("auth/missing-recaptcha-token"===Pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield Zn(h,$,"signInWithPassword");return xa(h,ut)}return Promise.reject(Pe)});return function(Pe){return J.apply(this,arguments)}}());case"emailLink":return function nr(_,h){return Ln.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:me(h,"internal-error")}})()}_linkToIdToken(h,g){var I=this;return(0,d.Z)(function*(){switch(I.signInMethod){case"password":return Zi(h,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ui(_,h){return Ci.apply(this,arguments)}(h,{idToken:g,email:I._email,oobCode:I._password});default:me(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Qn(_,h){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithIdp",It(_,h))})).apply(this,arguments)}class ui extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new ui(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:$}=g,J=(0,he._T)(g,["providerId","signInMethod"]);if(!I||!$)return null;const Pe=new ui(I,$);return Pe.idToken=J.idToken||void 0,Pe.accessToken=J.accessToken||void 0,Pe.secret=J.secret,Pe.nonce=J.nonce,Pe.pendingToken=J.pendingToken||null,Pe}_getIdTokenResponse(h){return Qn(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,Qn(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Qn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,F.xO)(g)}return h}}function ys(_,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendVerificationCode",It(_,h))})).apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,h))})).apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(_,h){const g=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,h));if(g.temporaryProof)throw Gn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const zs={USER_NOT_FOUND:"user-not-found"};function So(){return(So=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),zs)})).apply(this,arguments)}class Vr extends qi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Vr({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Vr({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function aa(_,h){return Yi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function $o(_,h){return Ao.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Pi(_,h){return So.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:I,verificationCode:$}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:I,code:$}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:I,phoneNumber:$,temporaryProof:J}=h;return I||g||$||J?new Vr({verificationId:g,verificationCode:I,phoneNumber:$,temporaryProof:J}):null}}class Rs{constructor(h){var g,I,$,J,Pe,ut;const Gt=(0,F.zd)((0,F.pd)(h)),rn=null!==(g=Gt.apiKey)&&void 0!==g?g:null,Sn=null!==(I=Gt.oobCode)&&void 0!==I?I:null,mr=function pi(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Gt.mode)&&void 0!==$?$:null);Ce(rn&&Sn&&mr,"argument-error"),this.apiKey=rn,this.operation=mr,this.code=Sn,this.continueUrl=null!==(J=Gt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Pe=Gt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(ut=Gt.tenantId)&&void 0!==ut?ut:null}static parseLink(h){const g=function lo(_){const h=(0,F.zd)((0,F.pd)(_)).link,g=h?(0,F.zd)((0,F.pd)(h)).deep_link_id:null,I=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(I?(0,F.zd)((0,F.pd)(I)).link:null)||I||g||h||_}(h);try{return new Rs(g)}catch{return null}}}let ua=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,I){return $r._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const $=Rs.parseLink(I);return Ce($,"argument-error"),$r._fromEmailAndCode(g,$.code,$.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class pr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ps extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ks extends Ps{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in g&&"signInMethod"in g,"argument-error"),ui._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ks.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ks.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:$,pendingToken:J,nonce:Pe,providerId:ut}=h;if(!I&&!$&&!g&&!J||!ut)return null;try{return new Ks(ut)._credential({idToken:g,accessToken:I,nonce:Pe,pendingToken:J})}catch{return null}}}let vs=(()=>{class _ extends Ps{constructor(){super("facebook.com")}static credential(g){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Zr=(()=>{class _ extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:$}=g;if(!I&&!$)return null;try{return _.credential(I,$)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),_s=(()=>{class _ extends Ps{constructor(){super("github.com")}static credential(g){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Qi extends qi{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Qn(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,Qn(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Qn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:$,pendingToken:J}=g;return I&&$&&J&&I===$?new Qi(I,J):null}static _create(h,g){return new Qi(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends pr{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Mo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Mo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Qi.fromJSON(h);return Ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:I}=h;if(!g||!I)return null;try{return Qi._create(I,g)}catch{return null}}}let co=(()=>{class _ extends Ps{constructor(){super("twitter.com")}static credential(g,I){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:$}=g;if(!I||!$)return null;try{return _.credential(I,$)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Zs(_,h){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signUp",It(_,h))})).apply(this,arguments)}class Yr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,I,$=!1){return(0,d.Z)(function*(){const J=yield Yn._fromIdTokenResponse(h,I,$),Pe=Os(I);return new Yr({user:J,providerId:Pe,_tokenResponse:I,operationType:g})})()}static _forOperation(h,g,I){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const $=Os(I);return new Yr({user:h,providerId:$,_tokenResponse:I,operationType:g})})()}}function Os(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function An(_){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(_){var h;const g=Ar(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Yr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Zs(g,{returnSecureToken:!0}),$=yield Yr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser($.user),$})).apply(this,arguments)}class ho extends F.ZR{constructor(h,g,I,$){var J;super(g.code,g.message),this.operationType=I,this.user=$,Object.setPrototypeOf(this,ho.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,g,I,$){return new ho(h,g,I,$)}}function Ho(_,h,g,I){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?ho._fromErrorAndOperation(_,J,h,I):J})}function kr(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function gi(_,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(_,h){const g=(0,F.m9)(_);yield bt(!0,g,h);const{providerUserInfo:I}=yield qn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),$=kr(I||[]);return g.providerData=g.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function bi(_,h){return la.apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(_,h,g=!1){const I=yield ge(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return Yr._forOperation(_,"link",I)})).apply(this,arguments)}function bt(_,h,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(_,h,g){yield vn(h);const $=!1===_?"provider-already-linked":"no-such-provider";Ce(kr(h.providerData).has(g)===_,h.auth,$)})).apply(this,arguments)}function Qs(_,h){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(_,h,g=!1){const{auth:I}=_,$="reauthenticate";try{const J=yield ge(_,Ho(I,$,h,_),g);Ce(J.idToken,I,"internal-error");const Pe=dr(J.idToken);Ce(Pe,I,"internal-error");const{sub:ut}=Pe;return Ce(_.uid===ut,I,"user-mismatch"),Yr._forOperation(_,$,J)}catch(J){throw"auth/user-not-found"===J?.code&&me(I,"user-mismatch"),J}})).apply(this,arguments)}function Gr(_,h){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(_,h,g=!1){const I="signIn",$=yield Ho(_,I,h),J=yield Yr._fromIdTokenResponse(_,I,$);return g||(yield _._updateCurrentUser(J.user)),J})).apply(this,arguments)}function R(_,h){return M.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*(_,h){return Gr(Ar(_),h)})).apply(this,arguments)}function Z(_,h){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(_,h){const g=(0,F.m9)(_);return yield bt(!1,g,h.providerId),bi(g,h)})).apply(this,arguments)}function Xt(_,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(_,h){return Qs((0,F.m9)(_),h)})).apply(this,arguments)}function Js(_,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(_,h){return hn(_,"POST","/v1/accounts:signInWithCustomToken",It(_,h))})).apply(this,arguments)}function ci(_,h){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(_,h){const g=Ar(_),I=yield Js(g,{token:h,returnSecureToken:!0}),$=yield Yr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser($.user),$})).apply(this,arguments)}class Ji{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?xo._fromServerResponse(h,g):"totpInfo"in g?mi._fromServerResponse(h,g):me(h,"internal-error")}}class xo extends Ji{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new xo(g)}}class mi extends Ji{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new mi(g)}}function go(_,h,g){var I;Ce((null===(I=g.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),Ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ce(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Ce(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Go(_,h,g){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,d.Z)(function*(_,h,g){var I;const $=Ar(_),J={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=$._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Pe=yield Zn($,J,"getOobCode",!0);g&&go($,Pe,g),yield be($,Pe)}else g&&go($,J,g),yield be($,J).catch(function(){var Pe=(0,d.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Gt=yield Zn($,J,"getOobCode",!0);g&&go($,Gt,g),yield be($,Gt)}});return function(ut){return Pe.apply(this,arguments)}}())}),Xs.apply(this,arguments)}function zo(_,h,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(_,h,g){yield gs((0,F.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Ko(_,h){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(_,h){yield Ms((0,F.m9)(_),{oobCode:h})})).apply(this,arguments)}function Oi(_,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(_,h){const g=(0,F.m9)(_),I=yield gs(g,{oobCode:h}),$=I.requestType;switch(Ce($,g,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(I.mfaInfo,g,"internal-error");default:Ce(I.email,g,"internal-error")}let J=null;return I.mfaInfo&&(J=Ji._fromServerResponse(Ar(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function Ra(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(_,h){const{data:g}=yield Oi((0,F.m9)(_),h);return g.email})).apply(this,arguments)}function qo(_,h,g){return Po.apply(this,arguments)}function Po(){return Po=(0,d.Z)(function*(_,h,g){var I;const $=Ar(_),J={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let Pe;if(null!==(I=$._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const rn=yield Zn($,J,"signUpPassword");Pe=Zs($,rn)}else Pe=Zs($,J).catch(function(){var rn=(0,d.Z)(function*(Sn){if("auth/missing-recaptcha-token"===Sn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const mr=yield Zn($,J,"signUpPassword");return Zs($,mr)}return Promise.reject(Sn)});return function(Sn){return rn.apply(this,arguments)}}());const ut=yield Pe.catch(rn=>Promise.reject(rn)),Gt=yield Yr._fromIdTokenResponse($,"signIn",ut);return yield $._updateCurrentUser(Gt.user),Gt}),Po.apply(this,arguments)}function Zo(_,h,g){return R((0,F.m9)(_),ua.credential(h,g))}function Ti(_,h,g){return ks.apply(this,arguments)}function ks(){return ks=(0,d.Z)(function*(_,h,g){var I;const $=Ar(_),J={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function Pe(ut,Gt){Ce(Gt.handleCodeInApp,$,"argument-error"),Gt&&go($,ut,Gt)}if(null!==(I=$._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const ut=yield Zn($,J,"getOobCode",!0);Pe(ut,g),yield Et($,ut)}else Pe(J,g),yield Et($,J).catch(function(){var ut=(0,d.Z)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rn=yield Zn($,J,"getOobCode",!0);Pe(rn,g),yield Et($,rn)}});return function(Gt){return ut.apply(this,arguments)}}())}),ks.apply(this,arguments)}function ca(_,h){return"EMAIL_SIGNIN"===Rs.parseLink(h)?.operation}function yo(_,h,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_),$=ua.credentialWithLink(h,g||Le());return Ce($._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),R(I,$)})).apply(this,arguments)}function yi(_,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:createAuthUri",It(_,h))})).apply(this,arguments)}function Cr(_,h){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(_,h){const I={identifier:h,continueUri:_t()?Le():"http://localhost"},{signinMethods:$}=yield yi((0,F.m9)(_),I);return $||[]})).apply(this,arguments)}function da(_,h){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(_,h){const g=(0,F.m9)(_),$={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&go(g.auth,$,h);const{email:J}=yield uo(g.auth,$);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function Yo(_,h,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&go(I.auth,J,g);const{email:Pe}=yield Tn(I.auth,J);Pe!==_.email&&(yield _.reload())})).apply(this,arguments)}function ws(_,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qo(_,h){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const I=(0,F.m9)(_),J={idToken:yield I.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Pe=yield ge(I,ws(I.auth,J));I.displayName=Pe.displayName||null,I.photoURL=Pe.photoUrl||null;const ut=I.providerData.find(({providerId:Gt})=>"password"===Gt);ut&&(ut.displayName=I.displayName,ut.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function $i(_,h){return es((0,F.m9)(_),h,null)}function vi(_,h){return es((0,F.m9)(_),null,h)}function es(_,h,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(_,h,g){const{auth:I}=_,J={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(J.email=h),g&&(J.password=g);const Pe=yield ge(_,Zi(I,J));yield _._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class no{constructor(h,g,I={}){this.isNewUser=h,this.providerId=g,this.profile=I}}class vo extends no{constructor(h,g,I,$){super(h,g,I),this.username=$}}class No extends no{constructor(h,g){super(h,"facebook.com",g)}}class ou extends vo{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class b extends no{constructor(h,g){super(h,"google.com",g)}}class V extends vo{constructor(h,g,I){super(h,"twitter.com",g,I)}}function x(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function to(_){var h,g;if(!_)return null;const{providerId:I}=_,$=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},J=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&_?.idToken){const Pe=null===(g=null===(h=dr(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Pe)return new no(J,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!I)return null;switch(I){case"facebook.com":return new No(J,$);case"github.com":return new ou(J,$);case"google.com":return new b(J,$);case"twitter.com":return new V(J,$,_.screenName||null);case"custom":case"anonymous":return new no(J,null);default:return new no(J,I,$)}}(g)}class Bn{constructor(h,g,I){this.type=h,this.credential=g,this.auth=I}static _fromIdtoken(h,g){return new Bn("enroll",h,g)}static _fromMfaPendingCredential(h){return new Bn("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,I;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Bn._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return Bn._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ei{constructor(h,g,I){this.session=h,this.hints=g,this.signInResolver=I}static _fromError(h,g){const I=Ar(h),$=g.customData._serverResponse,J=($.mfaInfo||[]).map(ut=>Ji._fromServerResponse(I,ut));Ce($.mfaPendingCredential,I,"internal-error");const Pe=Bn._fromMfaPendingCredential($.mfaPendingCredential);return new ei(Pe,J,function(){var ut=(0,d.Z)(function*(Gt){const rn=yield Gt._process(I,Pe);delete $.mfaInfo,delete $.mfaPendingCredential;const Sn=Object.assign(Object.assign({},$),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(g.operationType){case"signIn":const mr=yield Yr._fromIdTokenResponse(I,g.operationType,Sn);return yield I._updateCurrentUser(mr.user),mr;case"reauthenticate":return Ce(g.user,I,"internal-error"),Yr._forOperation(g.user,g.operationType,Sn);default:me(I,"internal-error")}});return function(Gt){return ut.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.Z)(function*(){return g.signInResolver(h)})()}}function Ls(_,h){var g;const I=(0,F.m9)(_),$=h;return Ce(h.customData.operationType,I,"argument-error"),Ce(null===(g=$.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),ei._fromError(I,$)}function Mt(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:start",It(_,h))}class un{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>Ji._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new un(h)}getSession(){var h=this;return(0,d.Z)(function*(){return Bn._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var I=this;return(0,d.Z)(function*(){const $=h,J=yield I.getSession(),Pe=yield ge(I.user,$._process(I.user.auth,J,g));return yield I.user._updateTokensIfNecessary(Pe),I.user.reload()})()}unenroll(h){var g=this;return(0,d.Z)(function*(){const I="string"==typeof h?h:h.uid,$=yield g.user.getIdToken();try{const J=yield ge(g.user,function en(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",It(_,h))}(g.user.auth,{idToken:$,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Pe})=>Pe!==I),yield g.user._updateTokensIfNecessary(J),yield g.user.reload()}catch(J){throw J}})()}}const ha=new WeakMap;function Yt(_){const h=(0,F.m9)(_);return ha.has(h)||ha.set(h,un._fromUser(h)),ha.get(h)}const tt="__sak";class Rt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(tt,"1"),this.storage.removeItem(tt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const nl=(()=>{class _ extends Rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function si(){const _=(0,F.z$)();return K(_)||re(_)}()&&function Ut(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=We(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const $=this.storage.getItem(I),J=this.localCache[I];$!==J&&g(I,J,$)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((ut,Gt,rn)=>{this.notifyListeners(ut,rn)});const $=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem($);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem($,g.newValue):this.storage.removeItem($);else if(this.localCache[$]===g.newValue&&!I)return}const J=()=>{const ut=this.storage.getItem($);!I&&this.localCache[$]===ut||this.notifyListeners($,ut)},Pe=this.storage.getItem($);!function Re(){return(0,F.w1)()&&10===document.documentMode}()||Pe===g.newValue||g.newValue===g.oldValue?J():setTimeout(J,10)}notifyListeners(g,I){this.localCache[g]=I;const $=this.listeners[g];if($)for(const J of Array.from($))J(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var $=()=>super._set,J=this;return(0,d.Z)(function*(){yield $().call(J,g,I),J.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,$=this;return(0,d.Z)(function*(){const J=yield I().call($,g);return $.localCache[g]=JSON.stringify(J),J})()}_remove(g){var I=()=>super._remove,$=this;return(0,d.Z)(function*(){yield I().call($,g),delete $.localCache[g]})()}}return _.type="LOCAL",_})(),fa=(()=>{class _ extends Rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return _.type="SESSION",_})();let Ol=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(J=>J.isListeningto(g));if(I)return I;const $=new _(g);return this.receivers.push($),$}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,d.Z)(function*(){const $=g,{eventId:J,eventType:Pe,data:ut}=$.data,Gt=I.handlersMap[Pe];if(!Gt?.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:Pe});const rn=Array.from(Gt).map(function(){var mr=(0,d.Z)(function*(Io){return Io($.origin,ut)});return function(Io){return mr.apply(this,arguments)}}()),Sn=yield function Pl(_){return Promise.all(_.map(function(){var h=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return h.apply(this,arguments)}}()))}(rn);$.ports[0].postMessage({status:"done",eventId:J,eventType:Pe,response:Sn})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function pa(_="",h=10){let g="";for(let I=0;I<h;I++)g+=Math.floor(10*Math.random());return _+g}class Wa{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,I=50){var $=this;return(0,d.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Pe,ut;return new Promise((Gt,rn)=>{const Sn=pa("",20);J.port1.start();const mr=setTimeout(()=>{rn(new Error("unsupported_event"))},I);ut={messageChannel:J,onMessage(Io){const js=Io;if(js.data.eventId===Sn)switch(js.data.status){case"ack":clearTimeout(mr),Pe=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),Gt(js.data.response);break;default:clearTimeout(mr),clearTimeout(Pe),rn(new Error("invalid_response"))}}},$.handlers.add(ut),J.port1.addEventListener("message",ut.onMessage),$.target.postMessage({eventType:h,eventId:Sn,data:g},[J.port2])}).finally(()=>{ut&&$.removeMessageHandler(ut)})})()}}function oi(){return window}function _o(){return typeof oi().WorkerGlobalScope<"u"&&"function"==typeof oi().importScripts}function Pr(){return(Pr=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bn="firebaseLocalStorageDb",sr="firebaseLocalStorage",Qt="fbase_key";class ls{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ma(_,h){return _.transaction([sr],h?"readwrite":"readonly").objectStore(sr)}function Er(){const _=indexedDB.open(bn,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(sr,{keyPath:Qt})}catch($){g($)}}),_.addEventListener("success",(0,d.Z)(function*(){const I=_.result;I.objectStoreNames.contains(sr)?h(I):(I.close(),yield function Xo(){const _=indexedDB.deleteDatabase(bn);return new ls(_).toPromise()}(),h(yield Er()))}))})}function Pu(_,h,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(_,h,g){const I=ma(_,!0).put({[Qt]:h,value:g});return new ls(I).toPromise()})).apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(_,h){const g=ma(_,!1).get(h),I=yield new ls(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Nl(_,h){const g=ma(_,!0).delete(h);return new ls(g).toPromise()}const rl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Er()),g.db})()}_withRetries(g){var I=this;return(0,d.Z)(function*(){let $=0;for(;;)try{const J=yield I._openDb();return yield g(J)}catch(J){if($++>3)throw J;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return _o()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Ol._getInstance(function Vs(){return _o()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,d.Z)(function*($,J){return{keyProcessed:(yield g._poll()).includes(J.key)}});return function($,J){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,d.Z)(function*($,J){return["keyChanged"]});return function($,J){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var I,$;if(g.activeServiceWorker=yield function Ru(){return Pr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wa(g.activeServiceWorker);const J=yield g.sender._send("ping",{},800);!J||(null===(I=J[0])||void 0===I?void 0:I.fulfilled)&&(null===($=J[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function yn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Er();return yield Pu(g,tt,"1"),yield Nl(g,tt),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var $=this;return(0,d.Z)(function*(){return $._withPendingWrite((0,d.Z)(function*(){return yield $._withRetries(J=>Pu(J,g,I)),$.localCache[g]=I,$.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,d.Z)(function*(){const $=yield I._withRetries(J=>function ko(_,h){return ya.apply(this,arguments)}(J,g));return I.localCache[g]=$,$})()}_remove(g){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries($=>Nl($,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const I=yield g._withRetries(Pe=>{const ut=ma(Pe,!1).getAll();return new ls(ut).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const $=[],J=new Set;for(const{fbase_key:Pe,value:ut}of I)J.add(Pe),JSON.stringify(g.localCache[Pe])!==JSON.stringify(ut)&&(g.notifyListeners(Pe,ut),$.push(Pe));for(const Pe of Object.keys(g.localCache))g.localCache[Pe]&&!J.has(Pe)&&(g.notifyListeners(Pe,null),$.push(Pe));return $})()}notifyListeners(g,I){this.localCache[g]=I;const $=this.listeners[g];if($)for(const J of Array.from($))J(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function _a(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:start",It(_,h))}const Ea=1e12;class Ai{constructor(h){this.auth=h,this.counter=Ea,this._widgets=new Map}render(h,g){const I=this.counter;return this._widgets.set(I,new Si(h,this.auth.name,g||{})),this.counter++,I}reset(h){var g;const I=h||Ea;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Ea))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.Z)(function*(){var I;return null===(I=g._widgets.get(h||Ea))||void 0===I||I.execute(),""})()}}class Si{constructor(h,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof h?document.getElementById(h):h;Ce($,"argument-error",{appName:g}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function au(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Us=Hr("rcb"),Pa=new Ve(3e4,6e4);class Nu{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=oi().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Ce(function kl(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Cn(oi().grecaptcha)?Promise.resolve(oi().grecaptcha):new Promise((I,$)=>{const J=oi().setTimeout(()=>{$(nt(h,"network-request-failed"))},Pa.get());oi()[Us]=()=>{oi().clearTimeout(J),delete oi()[Us];const ut=oi().grecaptcha;if(!ut||!Cn(ut))return void $(nt(h,"internal-error"));const Gt=ut.render;ut.render=(rn,Sn)=>{const mr=Gt(rn,Sn);return this.counter++,mr},this.hostLanguage=g,I(ut)},Vn(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Us,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(J),$(nt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=oi().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cs{load(h){return(0,d.Z)(function*(){return new Ai(h)})()}clearedOneInstance(){}}const qa="recaptcha",Fo={theme:"light",type:"image"};class ds{constructor(h,g=Object.assign({},Fo),I){this.parameters=g,this.type=qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ar(I),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof h?document.getElementById(h):h;Ce($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cs:new Nu,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(g)||new Promise(J=>{const Pe=ut=>{!ut||(h.tokenChangeListeners.delete(Pe),J(ut))};h.tokenChangeListeners.add(Pe),h.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof h)h(g);else if("string"==typeof h){const I=oi()[h];"function"==typeof I&&I(g)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){Ce(_t()&&!_o(),h.auth,"internal-error"),yield function _i(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Ne(_){return ke.apply(this,arguments)}(h.auth);Ce(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class v{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Vr._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function E(_,h,g){return y.apply(this,arguments)}function y(){return(y=(0,d.Z)(function*(_,h,g){const I=Ar(_),$=yield ye(I,h,(0,F.m9)(g));return new v($,J=>R(I,J))})).apply(this,arguments)}function T(_,h,g){return P.apply(this,arguments)}function P(){return(P=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_);yield bt(!1,I,"phone");const $=yield ye(I.auth,h,(0,F.m9)(g));return new v($,J=>Z(I,J))})).apply(this,arguments)}function G(_,h,g){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_),$=yield ye(I.auth,h,(0,F.m9)(g));return new v($,J=>Xt(I,J))})).apply(this,arguments)}function ye(_,h,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(_,h,g){var I;const $=yield g.verify();try{let J;if(Ce("string"==typeof $,_,"argument-error"),Ce(g.type===qa,_,"argument-error"),J="string"==typeof h?{phoneNumber:h}:h,"session"in J){const Pe=J.session;if("phoneNumber"in J)return Ce("enroll"===Pe.type,_,"internal-error"),(yield Mt(_,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Pe.type,_,"internal-error");const ut=(null===(I=J.multiFactorHint)||void 0===I?void 0:I.uid)||J.multiFactorUid;return Ce(ut,_,"missing-multi-factor-info"),(yield _a(_,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield ys(_,{phoneNumber:J.phoneNumber,recaptchaToken:$});return Pe}}finally{g._reset()}})).apply(this,arguments)}function Kt(_,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(_,h){yield bi((0,F.m9)(_),h)})).apply(this,arguments)}let cn=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Ar(g)}verifyPhoneNumber(g,I){return ye(this.auth,g,(0,F.m9)(I))}static credential(g,I){return Vr._fromVerification(g,I)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:$}=g;return I&&$?Vr._fromTokenResponse(I,$):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function er(_,h){return h?W(h):(Ce(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Mi extends qi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Qn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Qn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Qn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function ai(_){return Gr(_.auth,new Mi(_),_.bypassAuthState)}function ta(_){const{auth:h,user:g}=_;return Ce(g,h,"internal-error"),Qs(g,new Mi(_),_.bypassAuthState)}function Bs(_){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(_){const{auth:h,user:g}=_;return Ce(g,h,"internal-error"),bi(g,new Mi(_),_.bypassAuthState)})).apply(this,arguments)}class na{constructor(h,g,I,$,J=!1){this.auth=h,this.resolver=I,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.Z)(function*(I,$){h.pendingPromise={resolve:I,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(I,$){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:$,postBody:J,tenantId:Pe,error:ut,type:Gt}=h;if(ut)return void g.reject(ut);const rn={auth:g.auth,requestUri:I,sessionId:$,tenantId:Pe||void 0,postBody:J||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Gt)(rn))}catch(Sn){g.reject(Sn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ai;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return ta;default:me(this.auth,"internal-error")}}resolve(h){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oa=new Ve(2e3,1e4);function Ds(_,h,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(_,h,g){const I=Ar(_);St(_,h,pr);const $=er(I,g);return new Ia(I,"signInViaPopup",h,$).executeNotNull()})).apply(this,arguments)}function Ni(_,h,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_);St(I.auth,h,pr);const $=er(I.auth,g);return new Ia(I.auth,"reauthViaPopup",h,$,I).executeNotNull()})).apply(this,arguments)}function Fl(_,h,g){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_);St(I.auth,h,pr);const $=er(I.auth,g);return new Ia(I.auth,"linkViaPopup",h,$,I).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class _ extends na{constructor(g,I,$,J,Pe){super(g,I,J,Pe),this.provider=$,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const I=yield g.execute();return Ce(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,d.Z)(function*(){ot(1===g.filter.length,"Popup operations only handle one event");const I=pa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch($=>{g.reject($)}),g.resolver._isIframeWebStorageSupported(g.auth,$=>{$||g.reject(nt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,$;this.pollId=null!==($=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Oa.get())};g()}}return _.currentPopupAction=null,_})();const Na=new Map;class Za extends na{constructor(h,g,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.Z)(function*(){let I=Na.get(g.auth._key());if(!I){try{const J=(yield function Ll(_,h){return wr.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;I=()=>Promise.resolve(J)}catch($){I=()=>Promise.reject($)}Na.set(g.auth._key(),I)}return g.bypassAuthState||Na.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(I,h);if("unknown"!==h.type){if(h.eventId){const $=yield I.auth._redirectUserForId(h.eventId);if($)return I.user=$,g().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function wr(){return(wr=(0,d.Z)(function*(_,h){const g=ts(h),I=Lo(_);if(!(yield I._isAvailable()))return!1;const $="true"===(yield I._get(g));return yield I._remove(g),$})).apply(this,arguments)}function cu(_,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(_,h){return Lo(_)._set(ts(h),"true")})).apply(this,arguments)}function ni(){Na.clear()}function Vl(_,h){Na.set(_._key(),h)}function Lo(_){return W(_._redirectPersistence)}function ts(_){return Ot("pendingRedirect",_.config.apiKey,_.name)}function sl(_,h,g){return function Tc(_,h,g){return Ei.apply(this,arguments)}(_,h,g)}function Ei(){return(Ei=(0,d.Z)(function*(_,h,g){const I=Ar(_);St(_,h,pr),yield I._initializationPromise;const $=er(I,g);return yield cu($,I),$._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function du(_,h,g){return function Eo(_,h,g){return ri.apply(this,arguments)}(_,h,g)}function ri(){return(ri=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_);St(I.auth,h,pr),yield I.auth._initializationPromise;const $=er(I.auth,g);yield cu($,I.auth);const J=yield Fa(I);return $._openRedirect(I.auth,h,"reauthViaRedirect",J)})).apply(this,arguments)}function ka(_,h,g){return function Fu(_,h,g){return Lu.apply(this,arguments)}(_,h,g)}function Lu(){return(Lu=(0,d.Z)(function*(_,h,g){const I=(0,F.m9)(_);St(I.auth,h,pr),yield I.auth._initializationPromise;const $=er(I.auth,g);yield bt(!1,I,h.providerId),yield cu($,I.auth);const J=yield Fa(I);return $._openRedirect(I.auth,h,"linkViaRedirect",J)})).apply(this,arguments)}function ol(_,h){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(_,h){return yield Ar(_)._initializationPromise,ra(_,h,!1)})).apply(this,arguments)}function ra(_,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(_,h,g=!1){const I=Ar(_),$=er(I,h),Pe=yield new Za(I,$,g).execute();return Pe&&!g&&(delete Pe.user._redirectEventId,yield I._persistUserIfCurrent(Pe.user),yield I._setRedirectUser(null,h)),Pe})).apply(this,arguments)}function Fa(_){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(_){const h=pa(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Da{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(g=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ya(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hu(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var I;if(h.error&&!hu(h)){const $=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(nt(this.auth,$))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const I=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(h))}saveEventToCache(h){this.cachedEventUids.add(sa(h)),this.lastProcessedEventTime=Date.now()}}function sa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function hu({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function fu(_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(_,h={}){return xt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const La=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ed=/^https?/;function pu(){return(pu=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield fu(_);for(const g of h)try{if(gu(g))return}catch{}me(_,"unauthorized-domain")})).apply(this,arguments)}function gu(_){const h=Le(),{protocol:g,hostname:I}=new URL(h);if(_.startsWith("chrome-extension://")){const Pe=new URL(_);return""===Pe.hostname&&""===I?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Pe.hostname===I}if(!ed.test(g))return!1;if(La.test(_))return I===_;const $=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(I)}const ul=new Ve(3e4,6e4);function Uu(){const _=oi().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ca=null;function nd(_){return Ca=Ca||function td(_){return new Promise((h,g)=>{var I,$,J;function Pe(){Uu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Uu(),g(nt(_,"network-request-failed"))},timeout:ul.get()})}if(null!==($=null===(I=oi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(J=oi().gapi)||void 0===J||!J.load){const ut=Hr("iframefcb");return oi()[ut]=()=>{gapi.load?Pe():g(nt(_,"network-request-failed"))},Vn(`https://apis.google.com/js/api.js?onload=${ut}`).catch(Gt=>g(Gt))}Pe()}}).catch(h=>{throw Ca=null,h})}(_),Ca}const ba=new Ve(5e3,15e3),ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rs(_){const h=_.config;Ce(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?$e(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:_.name,v:B.SDK_VERSION},$=Kr.get(_.config.apiHost);$&&(I.eid=$);const J=_._getFrameworks();return J.length&&(I.fw=J.join(",")),`${g}?${(0,F.xO)(I).slice(1)}`}function w(){return w=(0,d.Z)(function*(_){const h=yield nd(_),g=oi().gapi;return Ce(g,_,"internal-error"),h.open({where:document.body,url:rs(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},I=>new Promise(function(){var $=(0,d.Z)(function*(J,Pe){yield I.restyle({setHideOnLeave:!1});const ut=nt(_,"network-request-failed"),Gt=oi().setTimeout(()=>{Pe(ut)},ba.get());function rn(){oi().clearTimeout(Gt),J(I)}I.ping(rn).then(rn,()=>{Pe(ut)})});return function(J,Pe){return $.apply(this,arguments)}}()))}),w.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jn=encodeURIComponent("fac");function hs(_,h,g,I,$,J){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(_,h,g,I,$,J){Ce(_.config.authDomain,_,"auth-domain-config-required"),Ce(_.config.apiKey,_,"invalid-api-key");const Pe={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:I,v:B.SDK_VERSION,eventId:$};if(h instanceof pr){h.setDefaultLanguage(_.languageCode),Pe.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(Pe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Sn,mr]of Object.entries(J||{}))Pe[Sn]=mr}if(h instanceof Ps){const Sn=h.getScopes().filter(mr=>""!==mr);Sn.length>0&&(Pe.scopes=Sn.join(","))}_.tenantId&&(Pe.tid=_.tenantId);const ut=Pe;for(const Sn of Object.keys(ut))void 0===ut[Sn]&&delete ut[Sn];const Gt=yield _._getAppCheckToken(),rn=Gt?`#${jn}=${encodeURIComponent(Gt)}`:"";return`${ki(_)}?${(0,F.xO)(ut).slice(1)}${rn}`})).apply(this,arguments)}function ki({config:_}){return _.emulator?$e(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}const Ta="webStorageSupport",oo=class mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fa,this._completeRedirectFn=ra,this._overrideRedirectResult=Vl}_openPopup(h,g,I,$){var J=this;return(0,d.Z)(function*(){var Pe;ot(null===(Pe=J.eventManagers[h._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const ut=yield hs(h,g,I,Le(),$);return function Jt(_,h,g,I=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),Pe=Math.max((window.screen.availWidth-I)/2,0).toString();let ut="";const Gt=Object.assign(Object.assign({},A),{width:I.toString(),height:$.toString(),top:J,left:Pe}),rn=(0,F.z$)().toLowerCase();g&&(ut=H(rn)?"_blank":g),Y(rn)&&(h=h||"http://localhost",Gt.scrollbars="yes");const Sn=Object.entries(Gt).reduce((Io,[js,$l])=>`${Io}${js}=${$l},`,"");if(function X(_=(0,F.z$)()){var h;return re(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(rn)&&"_self"!==ut)return function Zt(_,h){const g=document.createElement("a");g.href=_,g.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(h||"",ut),new dt(null);const mr=window.open(h||"",ut,Sn);Ce(mr,_,"popup-blocked");try{mr.focus()}catch{}return new dt(mr)}(h,ut,pa())})()}_openRedirect(h,g,I,$){var J=this;return(0,d.Z)(function*(){return yield J._originValidation(h),function ln(_){oi().location.href=_}(yield hs(h,g,I,Le(),$)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:$,promise:J}=this.eventManagers[g];return $?Promise.resolve($):(ot(J,"If manager is not set, promise should be"),J)}const I=this.initAndGetManager(h);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(h){var g=this;return(0,d.Z)(function*(){const I=yield function rd(_){return w.apply(this,arguments)}(h),$=new Da(h);return I.register("authEvent",J=>(Ce(J?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:$},g.iframes[h._key()]=I,$})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ta,{type:Ta},$=>{var J;const Pe=null===(J=$?.[0])||void 0===J?void 0:J[Ta];void 0!==Pe&&g(!!Pe),me(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function al(_){return pu.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return We()||K()||re()}};class yu extends class Va{constructor(h){this.factorId=h}_process(h,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,I);case"signin":return this._finalizeSignIn(h,g.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new yu(h)}_finalizeEnroll(h,g,I){return function vr(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:finalize",It(_,h))}(h,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function ti(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:finalize",It(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rf=(()=>{class _{constructor(){}static assertion(g){return yu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var cl="@firebase/auth";class dl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,F.Pz)("authIdTokenMaxAge"),function sd(_){(0,B._registerComponent)(new Ie.wA("auth",(h,{options:g})=>{const I=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:Pe,authDomain:ut}=I.options;Ce(Pe&&!Pe.includes(":"),"invalid-api-key",{appName:I.name});const Gt={apiKey:Pe,authDomain:ut,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(_)},rn=new Xr(I,$,J,Gt);return function os(_,h){const g=h?.persistence||[],I=(Array.isArray(g)?g:[g]).map(W);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(I,h?.popupRedirectResolver)}(rn,g),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,I)=>{h.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Ie.wA("auth-internal",h=>{const g=Ar(h.getProvider("auth").getImmediate());return new dl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(cl,"0.23.2",function lh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,B.registerVersion)(cl,"0.23.2","esm2017")}("Browser")},2810:(Ht,Be,k)=>{k.d(Be,{u7:()=>sg,Jj:()=>vc,IX:()=>Cm,my:()=>Ii,xU:()=>Ic,Lz:()=>Sl,WA:()=>Rt,F8:()=>yf,$q:()=>sh,W:()=>Dc,EK:()=>Pr,PU:()=>og,l7:()=>ra,Ky:()=>Qt,Xb:()=>sr,Cf:()=>Or,K9:()=>ha,Me:()=>Tc,yq:()=>Rr,Wi:()=>Em,ET:()=>Cc,Ab:()=>Jv,vr:()=>my,Fc:()=>Tm,hJ:()=>Kp,B$:()=>qp,at:()=>qd,oe:()=>uy,AK:()=>py,TF:()=>Sm,JU:()=>Zp,ST:()=>Uv,fH:()=>Bv,Ix:()=>Am,Wu:()=>Km,Lx:()=>Wm,qY:()=>zi,GL:()=>su,QT:()=>ey,kl:()=>ty,Xk:()=>ny,PL:()=>ry,UQ:()=>iy,zN:()=>sy,nP:()=>Xv,b9:()=>Df,vh:()=>rg,Pb:()=>Mm,L$:()=>xm,cf:()=>qv,sc:()=>Zv,Xo:()=>Hm,IO:()=>jm,iE:()=>Zd,Eo:()=>Im,i3:()=>fy,Bt:()=>gy,pl:()=>oy,Ub:()=>Ls,qK:()=>Xm,TQ:()=>zm,e0:()=>Gm,r7:()=>ay,Mx:()=>Jp,ar:()=>$m});var te,d=k(5861),F=k(6881),B=k(4859),he=k(1877),le=k(2090),Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={},Oe=Oe||{},ee=Ie||self;function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ee(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var et="closure_uid_"+(1e9*Math.random()>>>0),Fe=0;function mt(i,e,t){return i.call.apply(i.bind,arguments)}function Ue(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function Se(i,e,t){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mt:Ue).apply(null,arguments)}function yt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function pt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,c){for(var p=Array(arguments.length-2),D=2;D<arguments.length;D++)p[D-2]=arguments[D];return e.prototype[a].apply(s,p)}}function me(){this.s=this.s,this.o=this.o}me.prototype.s=!1,me.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ht(i){Object.prototype.hasOwnProperty.call(i,et)&&i[et]||(i[et]=++Fe)}(this)},me.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const st=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function St(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function He(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ce(s)){const a=i.length||0,c=s.length||0;i.length=a+c;for(let p=0;p<c;p++)i[a+p]=s[p]}else i.push(s)}}function Ce(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return i}();function ot(i){return/^[\s\xa0]*$/.test(i)}function Le(){var i=ee.navigator;return i&&(i=i.userAgent)?i:""}function _t(i){return-1!=Le().indexOf(i)}function Pt(i){return Pt[" "](i),i}Pt[" "]=function(){};var xt,i,Xe=_t("Opera"),Ve=_t("Trident")||_t("MSIE"),$e=_t("Edge"),ze=$e||Ve,Je=_t("Gecko")&&!(-1!=Le().toLowerCase().indexOf("webkit")&&!_t("Edge"))&&!(_t("Trident")||_t("MSIE"))&&!_t("Edge"),gt=-1!=Le().toLowerCase().indexOf("webkit")&&!_t("Edge");function It(){var i=ee.document;return i?i.documentMode:void 0}e:{var Wt="",Vt=(i=Le(),Je?/rv:([^\);]+)(\)|;)/.exec(i):$e?/Edge\/([\d\.]+)/.exec(i):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gt?/WebKit\/(\S+)/.exec(i):Xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vt&&(Wt=Vt?Vt[1]:""),Ve){var sn=It();if(null!=sn&&sn>parseFloat(Wt)){xt=String(sn);break e}}xt=Wt}var Kn=ee.document&&Ve&&(It()||parseInt(xt,10))||void 0;function ir(i,e){if(Ce.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Je){e:{try{Pt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Gn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ir.$.h.call(this)}}pt(ir,Ce);var Gn={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),jt=0;function qn(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++jt,this.fa=this.ia=!1}function Fr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function cr(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Pn(i){const e={};for(const t in i)e[t]=i[t];return e}const On="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ar(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let c=0;c<On.length;c++)t=On[c],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function jr(i){this.src=i,this.g={},this.h=0}function br(i,e){var t=e.type;if(t in i.g){var c,s=i.g[t],a=st(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Fr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function dr(i,e,t,s){for(var a=0;a<i.length;++a){var c=i[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}jr.prototype.add=function(i,e,t,s,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=dr(i,e,s,a);return-1<p?(e=i[p],t||(e.ia=!1)):((e=new qn(e,this.src,c,!!s,a)).ia=t,i.push(e)),e};var Ge="closure_lm_"+(1e6*Math.random()|0),ge={};function de(i,e,t,s,a){if(s&&s.once)return tn(i,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)de(i,e[c],t,s,a);return null}return t=fn(t),i&&i[En]?i.O(e,t,Ee(s)?!!s.capture:!!s,a):it(i,e,t,!1,s,a)}function it(i,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=Ee(a)?!!a.capture:!!a,D=pn(i);if(D||(i[Ge]=D=new jr(i)),(t=D.add(e,t,s,p,c)).proxy)return t;if(s=function lt(){const e=kn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)pe||(a=p),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(Nt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function tn(i,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)tn(i,e[c],t,s,a);return null}return t=fn(t),i&&i[En]?i.P(e,t,Ee(s)?!!s.capture:!!s,a):it(i,e,t,!0,s,a)}function vn(i,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)vn(i,e[c],t,s,a);else s=Ee(s)?!!s.capture:!!s,t=fn(t),i&&i[En]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=dr(c=i.g[e],t,s,a))&&(Fr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=pn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=dr(e,t,s,a)),(t=-1<i?e[i]:null)&&Rn(t))}function Rn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[En])br(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Nt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=pn(e))?(br(t,i),0==t.h&&(t.src=null,e[Ge]=null)):Fr(i)}}}function Nt(i){return i in ge?ge[i]:ge[i]="on"+i}function kn(i,e){if(i.fa)i=!0;else{e=new ir(e,this);var t=i.listener,s=i.la||i.src;i.ia&&Rn(i),i=t.call(s,e)}return i}function pn(i){return(i=i[Ge])instanceof jr?i:null}var yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(i){return"function"==typeof i?i:(i[yr]||(i[yr]=function(e){return i.handleEvent(e)}),i[yr])}function qt(){me.call(this),this.i=new jr(this),this.S=this,this.J=null}function Tt(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ce(e,i);else if(e instanceof Ce)e.target=e.target||i;else{var a=e;ar(e=new Ce(s,i),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=Fn(p,s,!0,e)&&a}if(a=Fn(p=e.g=i,s,!0,e)&&a,a=Fn(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Fn(p=e.g=t[c],s,!1,e)&&a}function Fn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var D=p.listener,O=p.la||p.src;p.ia&&br(i.i,p),a=!1!==D.call(O,s)&&a}}return a&&!s.defaultPrevented}pt(qt,me),qt.prototype[En]=!0,qt.prototype.removeEventListener=function(i,e,t,s){vn(this,i,e,t,s)},qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Fr(t[s]);delete i.g[e],i.h--}}this.J=null},qt.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},qt.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Yn=ee.JSON.stringify;function W(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ze=new class Qe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ot,i=>i.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ae(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function ue(i){ee.setTimeout(()=>{throw i},0)}let Y,K=!1,H=new class fe{constructor(){this.h=this.g=null}add(e,t){const s=Ze.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Te=()=>{const i=ee.Promise.resolve(void 0);Y=()=>{i.then(ft)}};var ft=()=>{for(var i;i=W();){try{i.h.call(i.g)}catch(t){ue(t)}var e=Ze;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}K=!1};function Bt(i,e){qt.call(this),this.h=i||1,this.g=e||ee,this.j=Se(this.qb,this),this.l=Date.now()}function nn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function re(i,e,t){if("function"==typeof i)t&&(i=Se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Se(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function se(i){i.g=re(()=>{i.g=null,i.i&&(i.i=!1,se(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}pt(Bt,qt),(te=Bt.prototype).ga=!1,te.T=null,te.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(nn(this),this.start()))}},te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.N=function(){Bt.$.N.call(this),nn(this),delete this.g};class X extends me{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(i){me.call(this),this.h=i,this.g={}}pt(Re,me);var We=[];function Ut(i,e,t,s){Array.isArray(t)||(t&&(We[0]=t.toString()),t=We);for(var a=0;a<t.length;a++){var c=de(e,t[a],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function gn(i){cr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Rn(e)},i),i.g={}}function Ne(){this.g=!0}function Ct(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Yn(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Re.prototype.N=function(){Re.$.N.call(this),gn(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ne.prototype.Ea=function(){this.g=!1},Ne.prototype.info=function(){};var Un={},Tr=null;function Vn(){return Tr=Tr||new qt}function Hr(i){Ce.call(this,Un.Ta,i)}function Jr(i){const e=Vn();Tt(e,new Hr(e))}function zr(i,e){Ce.call(this,Un.STAT_EVENT,i),this.stat=e}function Dr(i){const e=Vn();Tt(e,new zr(e,i))}function Fi(i,e){Ce.call(this,Un.Ua,i),this.size=e}function Zn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}Un.Ta="serverreachability",pt(Hr,Ce),Un.STAT_EVENT="statevent",pt(zr,Ce),Un.Ua="timingevent",pt(Fi,Ce);var Ri={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ps={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xr(){}function Ki(){}Xr.prototype.h=null;var Li,qr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function os(){Ce.call(this,"d")}function Nr(){Ce.call(this,"c")}function Wr(){}function Lr(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new Re(this),this.P=qi,this.V=new Bt(i=ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}pt(os,Ce),pt(Nr,Ce),pt(Wr,Xr),Wr.prototype.g=function(){return new XMLHttpRequest},Wr.prototype.i=function(){return{}},Li=new Wr;var qi=45e3,gs={},Sr={};function Zi(i,e,t){i.L=1,i.v=as(Ln(e)),i.s=t,i.S=!0,Vi(i,null)}function Vi(i,e){i.G=Date.now(),ur(i),i.A=Ln(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),pi(t.i,"t",s),i.C=0,t=i.l.J,i.h=new ao,i.g=qo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new X(Se(i.Pa,i,i.g),i.O)),Ut(i.U,i.g,"readystatechange",i.nb),e=i.I?Pn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Jr(),function ke(i,e,t,s,a,c){i.info(function(){if(i.g)if(c)for(var p="",D=c.split("&"),O=0;O<D.length;O++){var U=D[O].split("=");if(1<U.length){var Q=U[0];U=U[1];var _e=Q.split("_");p=2<=_e.length&&"type"==_e[1]?p+(Q+"=")+U+"&":p+(Q+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Ms(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ms(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=xa(i,t),a==Sr){4==e&&(i.o=4,Dr(14),s=!1),Ct(i.j,i.m,null,"[Incomplete Response]");break}if(a==gs){i.o=4,Dr(15),Ct(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Ct(i.j,i.m,a,null),be(i,a)}Ms(i)&&a!=Sr&&a!=gs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Dr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),zo(e),e.M=!0,Dr(11))):(Ct(i.j,i.m,t,"[Invalid Chunked Response]"),xe(i),uo(i))}function xa(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Sr:(t=Number(e.substring(t,s)),isNaN(t)?gs:(s+=1)+t>e.length?Sr:(e=e.slice(s,s+t),i.C=s+t,e))}function ur(i){i.Y=Date.now()+i.P,bo(i,i.P)}function bo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Zn(Se(i.lb,i),e)}function To(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function uo(i){0==i.l.H||i.J||Ro(i.l,i)}function xe(i){To(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,nn(i.V),gn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function be(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||vs(t.i,i)))if(!i.K&&vs(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Ko(t),Es(t)}Xs(t),Dr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Zn(Se(t.ib,t),6e3));if(1>=Ks(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ns(t,11)}else if((i.K||t.g==i)&&Ko(t),!ot(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const Q=U[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const _e=U[4];null!=_e&&(t.Ga=_e,t.l.info("SVER="+t.Ga));const qe=U[5];null!=qe&&"number"==typeof qe&&0<qe&&(t.L=s=1.5*qe,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const vt=i.g;if(vt){const $t=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var c=s.i;c.g||-1==$t.indexOf("spdy")&&-1==$t.indexOf("quic")&&-1==$t.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Zr(c,c.h),c.h=null))}if(s.F){const an=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;an&&(s.Da=an,Qn(s.I,s.F,an))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=i;if((s=t).wa=mo(s,s.J?s.pa:null,s.Y),p.K){_s(s.i,p);var D=p,O=s.L;O&&D.setTimeout(O),D.B&&(To(D),ur(D)),s.g=p}else Go(s);0<t.j.length&&di(t)}else"stop"!=U[0]&&"close"!=U[0]||Ns(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?Ns(t,7):Js(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}Jr()}catch{}}function Lt(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Et(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ce(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function je(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],i)}(te=Lr.prototype).setTimeout=function(i){this.P=i},te.nb=function(i){i=i.target;const e=this.M;e&&3==N(i)?e.l():this.Pa(i)},te.Pa=function(i){try{if(i==this.g)e:{const Q=N(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||ze||this.g&&(this.h.h||this.g.ja()||R(this.g)))){this.J||4!=Q||7==e||Jr(),To(this);var t=this.g.da();this.ca=t;t:if(Ms(this)){var s=R(this.g);i="";var a=s.length,c=4==N(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),uo(this);var p="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function Dt(i,e,t,s,a,c,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,O=this.g;if((D=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(D)){var U=D;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Dr(12),xe(this),uo(this);break e}Ct(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,be(this,t)}this.S?(ms(this,Q,p),ze&&this.i&&3==Q&&(Ut(this.U,this.V,"tick",this.mb),this.V.start())):(Ct(this.j,this.m,p,null),be(this,p)),4==Q&&xe(this),this.i&&!this.J&&(4==Q?Ro(this.l,this):(this.i=!1,ur(this)))}else(function M(i){const e={};i=(i.g&&2<=N(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(ot(i[s]))continue;var t=ae(i[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function kt(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),xe(this),uo(this)}}}catch{}},te.mb=function(){if(this.g){var i=N(this.g),e=this.g.ja();this.C<e.length&&(To(this),ms(this,i,e),this.i&&4!=i&&ur(this))}},te.cancel=function(){this.J=!0,xe(this)},te.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Cn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jr(),Dr(17)),xe(this),this.o=2,uo(this)):bo(this,this.Y-i)};var Tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof nr){this.h=i.h,Ui(this,i.j),this.s=i.s,this.g=i.g,Ci(this,i.m),this.l=i.l;var e=i.i,t=new zs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$r(this,t),this.o=i.o}else i&&(e=String(i).match(Tn))?(this.h=!1,Ui(this,e[1]||"",!0),this.s=Bi(e[2]||""),this.g=Bi(e[3]||"",!0),Ci(this,e[4]),this.l=Bi(e[5]||"",!0),$r(this,e[6]||"",!0),this.o=Bi(e[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}function Ln(i){return new nr(i)}function Ui(i,e,t){i.j=t?Bi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ci(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function $r(i,e,t){e instanceof zs?(i.i=e,function Rs(i,e){e&&!i.j&&(Pi(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(So(this,s),pi(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ui(e,$o)),i.i=new zs(e,i.h))}function Qn(i,e,t){i.i.set(e,t)}function as(i){return Qn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ui(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ys),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ys(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}nr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ui(e,xs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ui(e,xs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ui(t,"/"==t.charAt(0)?Yi:aa,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ui(t,Ao)),i.join("")};var xs=/[#\/\?@]/g,aa=/[#\?:]/g,Yi=/[#\?]/g,$o=/[#\?@]/g,Ao=/#/g;function zs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Pi(i){i.g||(i.g=new Map,i.h=0,i.i&&function tr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var c=i[t].substring(0,s);a=i[t].substring(s+1)}else c=i[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function So(i,e){Pi(i),e=lo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Vr(i,e){return Pi(i),e=lo(i,e),i.g.has(e)}function pi(i,e,t){So(i,e),0<t.length&&(i.i=null,i.g.set(lo(i,e),St(t)),i.h+=t.length)}function lo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ua(i){this.l=i||pr,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=zs.prototype).add=function(i,e){Pi(this),this.i=null,i=lo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},te.forEach=function(i,e){Pi(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},te.ta=function(){Pi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},te.Z=function(i){Pi(this);let e=[];if("string"==typeof i)Vr(this,i)&&(e=e.concat(this.g.get(lo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},te.set=function(i,e){return Pi(this),this.i=null,Vr(this,i=lo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},te.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),i.push(a)}}return this.i=i.join("&")};var pr=10;function Ps(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ks(i){return i.h?1:i.g?i.g.size:0}function vs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Zr(i,e){i.g?i.g.add(e):i.h=e}function _s(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function qs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return St(i.i)}function ii(){this.g=new class{stringify(i){return ee.JSON.stringify(i,void 0)}parse(i){return ee.JSON.parse(i,void 0)}}}function Mo(i,e,t){const s=t||"";try{Lt(i,function(a,c){let p=a;Ee(a)&&(p=Yn(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Zs(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function li(i){this.l=i.fc||null,this.j=i.ob||!1}function Yr(i,e){qt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Os,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ua.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},pt(li,Xr),li.prototype.g=function(){return new Yr(this.l,this.j)},li.prototype.i=function(i){return function(){return i}}({}),pt(Yr,qt);var Os=0;function An(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Ys(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ho(i)}function ho(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(te=Yr.prototype).open=function(i,e){if(this.readyState!=Os)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ho(this)},te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ys(this)),this.readyState=Os},te.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;An(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},te.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ys(this):ho(this),3==this.readyState&&An(this)}},te.Za=function(i){this.g&&(this.response=this.responseText=i,Ys(this))},te.Ya=function(i){this.g&&(this.response=i,Ys(this))},te.ka=function(){this.g&&Ys(this)},te.setRequestHeader=function(i,e){this.v.append(i,e)},te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ho=ee.JSON.parse;function kr(i){qt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gi,this.L=this.M=!1}pt(kr,qt);var gi="",fo=/^https?$/i,bi=["POST","PUT"];function bt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,zn(i),po(i)}function zn(i){i.F||(i.F=!0,Tt(i,"complete"),Tt(i,"error"))}function Qs(i){if(i.h&&typeof Oe<"u"&&(!i.C[1]||4!=N(i)||2!=i.da()))if(i.v&&4==N(i))re(i.La,0,i);else if(Tt(i,"readystatechange"),4==N(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===p){var a=String(i.I).match(Tn)[1]||null;!a&&ee.self&&ee.self.location&&(a=ee.self.location.protocol.slice(0,-1)),s=!fo.test(a?a.toLowerCase():"")}t=s}if(t)Tt(i,"complete"),Tt(i,"success");else{i.m=6;try{var c=2<N(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",zn(i)}}finally{po(i)}}}function po(i,e){if(i.g){Gr(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Tt(i,"ready");try{t.onreadystatechange=s}catch{}}}function Gr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function N(i){return i.g?i.g.readyState:0}function R(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case gi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Z(i){let e="";return cr(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function rt(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Z(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Qn(i,e,t))}function Xt(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Wn(i){this.Ga=0,this.j=[],this.l=new Ne,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xt("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xt("baseRetryDelayMs",5e3,i),this.hb=Xt("retryDelaySeedMs",1e4,i),this.eb=Xt("forwardChannelMaxRetries",2,i),this.xa=Xt("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ua(i&&i.concurrentRequestLimit),this.Ja=new ii,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Js(i){if(ci(i),3==i.H){var e=i.W++,t=Ln(i.I);if(Qn(t,"SID",i.K),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),mi(i,t),(e=new Lr(i,i.l,e)).L=2,e.v=as(Ln(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon)try{t=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=qo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ur(e)}Ra(i)}function Es(i){i.g&&(zo(i),i.g.cancel(),i.g=null)}function ci(i){Es(i),i.u&&(ee.clearTimeout(i.u),i.u=null),Ko(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function di(i){if(!Ps(i.i)&&!i.m){i.m=!0;var e=i.Na;Y||Te(),K||(Y(),K=!0),H.add(e,i),i.C=0}}function xo(i,e){var t;t=e?e.m:i.W++;const s=Ln(i.I);Qn(s,"SID",i.K),Qn(s,"RID",t),Qn(s,"AID",i.V),mi(i,s),i.o&&i.s&&rt(s,i.o,i.s),t=new Lr(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=go(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Zr(i.i,t),Zi(t,s,e)}function mi(i,e){i.na&&cr(i.na,function(t,s){Qn(e,s,t)}),i.h&&Lt({},function(t,s){Qn(e,s,t)})}function go(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Se(i.h.Va,i.h,i):null;e:{var a=i.j;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].g,p.push("ofs="+c)):c=0:p.push("ofs="+c);let D=!0;for(let O=0;O<t;O++){let U=a[O].g;const Q=a[O].map;if(U-=c,0>U)c=Math.max(0,a[O].g-100),D=!1;else try{Mo(Q,p,"req"+U+"_")}catch{s&&s(Q)}}if(D){s=p.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function Go(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Y||Te(),K||(Y(),K=!0),H.add(e,i),i.A=0}}function Xs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Zn(Se(i.Ma,i),Oi(i,i.A)),i.A++,0))}function zo(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function Wo(i){i.g=new Lr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ln(i.wa);Qn(e,"RID","rpc"),Qn(e,"SID",i.K),Qn(e,"AID",i.V),Qn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Qn(e,"TO",i.qa),Qn(e,"TYPE","xmlhttp"),mi(i,e),i.o&&i.s&&rt(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=as(Ln(e)),t.s=null,t.S=!0,Vi(t,i)}function Ko(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function Ro(i,e){var t=null;if(i.g==e){Ko(i),zo(i),i.g=null;var s=2}else{if(!vs(i.i,e))return;t=e.F,_s(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Tt(s=Vn(),new Fi(s,t)),di(i)}else Go(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Ji(i,e){return!(Ks(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Zn(Se(i.Na,i,e),Oi(i,i.C)),i.C++,0)))}(i,e)||2==s&&Xs(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:Ns(i,5);break;case 4:Ns(i,10);break;case 3:Ns(i,6);break;default:Ns(i,2)}}function Oi(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Ns(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Se(i.pb,i);t||(t=new nr("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Ui(t,"https"),as(t)),function co(i,e){const t=new Ne;if(ee.Image){const s=new Image;s.onload=yt(Zs,t,s,"TestLoadImage: loaded",!0,e),s.onerror=yt(Zs,t,s,"TestLoadImage: error",!1,e),s.onabort=yt(Zs,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=yt(Zs,t,s,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Dr(2);i.H=0,i.h&&i.h.za(e),Ra(i),ci(i)}function Ra(i){if(i.H=0,i.ma=[],i.h){const e=qs(i.i);(0!=e.length||0!=i.j.length)&&(He(i.ma,e),He(i.ma,i.j),i.i.i.length=0,St(i.j),i.j.length=0),i.h.ya()}}function mo(i,e,t){var s=t instanceof nr?Ln(t):new nr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ci(s,s.m);else{var a=ee.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new nr(null);s&&Ui(c,s),e&&(c.g=e),a&&Ci(c,a),t&&(c.l=t),s=c}return e=i.Da,(t=i.F)&&e&&Qn(s,t,e),Qn(s,"VER",i.ra),mi(i,s),s}function qo(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kr(t&&i.Ha&&!i.va?new li({ob:!0}):i.va)).Oa(i.J),e}function Po(){}function Zo(){if(Ve&&!(10<=Number(Kn)))throw Error("Environmental error: no available transport.")}function Ti(i,e){qt.call(this),this.g=new Wn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!ot(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ot(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new yo(this)}function ks(i){os.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ca(){Nr.call(this),this.status=1}function yo(i){this.g=i}function yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mr(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=i.g[3],p=(e=i.g[0])+(c^(t=i.g[1])&((a=i.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+c&4294967295}function Cr(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var c=0|i[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(te=kr.prototype).Oa=function(i){this.M=i},te.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Li.g(),this.C=function Ar(i){return i.h||(i.h=i.i())}(this.u?this.u:Li),this.g.onreadystatechange=Se(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void bt(this,c)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ee.FormData&&i instanceof ee.FormData,!(0<=st(bi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gr(this),0<this.B&&((this.L=function la(i){return Ve&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.ua,this)):this.A=re(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){bt(this,c)}},te.ua=function(){typeof Oe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tt(this,"complete"),Tt(this,"abort"),po(this))},te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),kr.$.N.call(this)},te.La=function(){this.s||(this.G||this.v||this.l?Qs(this):this.kb())},te.kb=function(){Qs(this)},te.isActive=function(){return!!this.g},te.da=function(){try{return 2<N(this)?this.g.status:-1}catch{return-1}},te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},te.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ho(e)}},te.Ia=function(){return this.m},te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=Wn.prototype).ra=8,te.H=1,te.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new Lr(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Pn(c),ar(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=go(this,a,e),Qn(t=Ln(this.I),"RID",i),Qn(t,"CVER",22),this.F&&Qn(t,"X-HTTP-Session-Id",this.F),mi(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Z(c)))+"&"+e:this.o&&rt(t,this.o,c)),Zr(this.i,a),this.bb&&Qn(t,"TYPE","init"),this.P?(Qn(t,"$req",e),Qn(t,"SID","null"),a.aa=!0,Zi(a,t,null)):Zi(a,t,e),this.H=2}}else 3==this.H&&(i?xo(this,i):0==this.j.length||Ps(this.i)||xo(this))},te.Ma=function(){if(this.u=null,Wo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Zn(Se(this.jb,this),i)}},te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dr(10),Es(this),Wo(this))},te.ib=function(){null!=this.v&&(this.v=null,Es(this),Xs(this),Dr(19))},te.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Dr(2)):(this.l.info("Failed to ping google.com"),Dr(1))},te.isActive=function(){return!!this.h&&this.h.isActive(this)},(te=Po.prototype).Ba=function(){},te.Aa=function(){},te.za=function(){},te.ya=function(){},te.isActive=function(){return!0},te.Va=function(){},Zo.prototype.g=function(i,e){return new Ti(i,e)},pt(Ti,qt),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Dr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=mo(i,null,i.Y),di(i)},Ti.prototype.close=function(){Js(this.g)},Ti.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Yn(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&di(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,Js(this.g),delete this.g,Ti.$.N.call(this)},pt(ks,os),pt(ca,Nr),pt(yo,Po),yo.prototype.Ba=function(){Tt(this.g,"a")},yo.prototype.Aa=function(i){Tt(this.g,new ks(i))},yo.prototype.za=function(i){Tt(this.g,new ca)},yo.prototype.ya=function(){Tt(this.g,"b")},pt(yi,function gr(){this.blockSize=-1}),yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Mr(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[a++]=i.charCodeAt(c++),a==this.blockSize){Mr(this,s),a=0;break}}else for(;c<e;)if(s[a++]=i[c++],a==this.blockSize){Mr(this,s),a=0;break}}this.h=a,this.i+=e},yi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var Oo={};function da(i){return-128<=i&&128>i?function fr(i,e){var t=Oo;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new Cr([0|e],0>e?-1:0)}):new Cr([0|i],0>i?-1:0)}function ji(i){if(isNaN(i)||!isFinite(i))return ws;if(0>i)return vi(ji(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Fs;return new Cr(e,0)}var Fs=4294967296,ws=da(0),Xi=da(1),Qo=da(16777216);function us(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function $i(i){return-1==i.h}function vi(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new Cr(t,~i.h).add(Xi)}function es(i,e){return i.add(vi(e))}function eo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function to(i,e){this.g=i,this.h=e}function no(i,e){if(us(e))throw Error("division by zero");if(us(i))return new to(ws,ws);if($i(i))return e=no(vi(i),e),new to(vi(e.g),vi(e.h));if($i(e))return e=no(i,vi(e)),new to(vi(e.g),e.h);if(30<i.g.length){if($i(i)||$i(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Xi,s=e;0>=s.X(i);)t=vo(t),s=vo(s);var a=No(t,1),c=No(s,1);for(s=No(s,2),t=No(t,2);!us(s);){var p=c.add(s);0>=p.X(i)&&(a=a.add(t),c=p),s=No(s,1),t=No(t,1)}return e=es(i,a.R(e)),new to(a,e)}for(a=ws;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=ji(t)).R(e);$i(p)||0<p.X(i);)p=(c=ji(t-=s)).R(e);us(c)&&(c=Xi),a=a.add(c),i=es(i,p)}return new to(a,i)}function vo(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Cr(t,i.h)}function No(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?i.D(c+t)>>>e|i.D(c+t+1)<<32-e:i.D(c+t);return new Cr(a,i.h)}(te=Cr.prototype).ea=function(){if($i(this))return-vi(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Fs+s)*e,e*=Fs}return i},te.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(us(this))return"0";if($i(this))return"-"+vi(this).toString(i);for(var e=ji(Math.pow(i,6)),t=this,s="";;){var a=no(t,e).g,c=((0<(t=es(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(us(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},te.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},te.X=function(i){return $i(i=es(this,i))?-1:us(i)?0:1},te.abs=function(){return $i(this)?vi(this):this},te.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&i.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new Cr(t,-2147483648&t[t.length-1]?-1:0)},te.R=function(i){if(us(this)||us(i))return ws;if($i(this))return $i(i)?vi(this).R(vi(i)):vi(vi(this).R(i));if($i(i))return vi(this.R(vi(i)));if(0>this.X(Qo)&&0>i.X(Qo))return ji(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),D=i.D(a)>>>16,O=65535&i.D(a);t[2*s+2*a]+=p*O,eo(t,2*s+2*a),t[2*s+2*a+1]+=c*O,eo(t,2*s+2*a+1),t[2*s+2*a+1]+=p*D,eo(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,eo(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Cr(t,0)},te.gb=function(i){return no(this,i).h},te.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new Cr(t,this.h&i.h)},te.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new Cr(t,this.h|i.h)},te.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new Cr(t,this.h^i.h)},Zo.prototype.createWebChannel=Zo.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,ps.COMPLETE="complete",Ki.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",qt.prototype.listen=qt.prototype.O,kr.prototype.listenOnce=kr.prototype.P,kr.prototype.getLastError=kr.prototype.Sa,kr.prototype.getLastErrorCode=kr.prototype.Ia,kr.prototype.getStatus=kr.prototype.da,kr.prototype.getResponseJson=kr.prototype.Wa,kr.prototype.getResponseText=kr.prototype.ja,kr.prototype.send=kr.prototype.ha,kr.prototype.setWithCredentials=kr.prototype.Oa,yi.prototype.digest=yi.prototype.l,yi.prototype.reset=yi.prototype.reset,yi.prototype.update=yi.prototype.j,Cr.prototype.add=Cr.prototype.add,Cr.prototype.multiply=Cr.prototype.R,Cr.prototype.modulo=Cr.prototype.gb,Cr.prototype.compare=Cr.prototype.X,Cr.prototype.toNumber=Cr.prototype.ea,Cr.prototype.toString=Cr.prototype.toString,Cr.prototype.getBits=Cr.prototype.D,Cr.fromNumber=ji,Cr.fromString=function Yo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return vi(Yo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ji(Math.pow(e,8)),s=ws,a=0;a<i.length;a+=8){var c=Math.min(8,i.length-a),p=parseInt(i.substring(a,a+c),e);8>c?(c=ji(Math.pow(e,c)),s=s.R(c).add(ji(p))):s=(s=s.R(t)).add(ji(p))}return s};var ou=De.createWebChannelTransport=function(){return new Zo},b=De.getStatEventTarget=function(){return Vn()},V=De.ErrorCode=Ri,x=De.EventType=ps,z=De.Event=Un,we=De.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},at=De.FetchXmlHttpFactory=li,wt=De.WebChannel=Ki,mn=De.XhrIo=kr,hr=De.Md5=yi,Jn=De.Integer=Cr;const _r="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let xr="9.23.0";const Bn=new he.Yd("@firebase/firestore");function ei(){return Bn.logLevel}function Ls(i){Bn.setLogLevel(i)}function Mt(i,...e){if(Bn.logLevel<=he.in.DEBUG){const t=e.map(ro);Bn.debug(`Firestore (${xr}): ${i}`,...t)}}function vr(i,...e){if(Bn.logLevel<=he.in.ERROR){const t=e.map(ro);Bn.error(`Firestore (${xr}): ${i}`,...t)}}function Rr(i,...e){if(Bn.logLevel<=he.in.WARN){const t=e.map(ro);Bn.warn(`Firestore (${xr}): ${i}`,...t)}}function ro(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function en(i="Unexpected state"){const e=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function un(i,e){i||en()}function ha(i,e){i||en()}function Yt(i,e){return i}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ga{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class xu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nl{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let p=new si;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new si,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const U=p;e.enqueueRetryable((0,d.Z)(function*(){yield U.promise,yield c(s.currentUser)}))},O=U=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new si)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(un("string"==typeof s.accessToken),new Ga(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new In(e)}}class Jo{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Jo(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ol{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Mt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.T=t.token,new Pl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class oi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Wa(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function ln(i,e){return i<e?-1:i>e?1:0}function _o(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function Ru(i){return i+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yn(e)}static min(){return new yn(new Pr(0,0))}static max(){return new yn(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vs{constructor(e,t,s){void 0===t?t=0:t>e.length&&en(),void 0===s?s=e.length-t:s>e.length-t&&en(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Vs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends Vs{construct(e,t,s){return new bn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Rt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const ga=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Vs{construct(e,t,s){return new sr(e,t,s)}static isValidIdentifier(e){return ga.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Rt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new Rt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Rt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===D?(p=!p,a++):"."!==D||p?(s+=D,a++):(c(),a++)}if(c(),p)throw new Rt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(bn.fromString(e))}static fromName(e){return new Qt(bn.fromString(e).popFirst(5))}static empty(){return new Qt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new bn(e.slice()))}}class ls{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function ma(i){return i.fields.find(e=>2===e.kind)}function Xo(i){return i.fields.filter(e=>2!==e.kind)}ls.UNKNOWN_ID=-1;class Pu{constructor(e,t){this.fieldPath=e,this.kind=t}}class ko{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ko(0,Is.min())}}function ya(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=yn.fromTimestamp(1e9===s?new Pr(t+1,0):new Pr(t,s));return new Is(a,Qt.empty(),e)}function Nl(i){return new Is(i.readTime,i.key,-1)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(yn.min(),Qt.empty(),-1)}static max(){return new Is(yn.max(),Qt.empty(),-1)}}function Ou(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(i.documentKey,e.documentKey),0!==t?t:ln(i.largestBatchId,e.largestBatchId))}const va="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _a(i){return ti.apply(this,arguments)}function ti(){return ti=(0,d.Z)(function*(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==va)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),ti.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,s)=>{t(e)})}static reject(e){return new Ke((t,s)=>{s(e)})}static waitFor(e){return new Ke((t,s)=>{let a=0,c=0,p=!1;e.forEach(D=>{++a,D.next(()=>{++c,p&&c===a&&t()},O=>s(O))}),p=!0,c===a&&t()})}static or(e){let t=Ke.resolve(!1);for(const s of e)t=t.next(a=>a?Ke.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ke((s,a)=>{const c=e.length,p=new Array(c);let D=0;for(let O=0;O<c;O++){const U=O;t(e[U]).next(Q=>{p[U]=Q,++D,D===c&&s(p)},Q=>a(Q))}})}static doWhile(e,t){return new Ke((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class ea{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new si,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ai(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=uu(s.target.error);this.v.reject(new Ai(e,a))}}static open(e,t,s,a){try{return new ea(t,e.transaction(a,s))}catch(c){throw new Ai(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new au(t)}}class io{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===io.S((0,le.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),Us(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,le.hl)())return!1;if(io.C())return!0;const e=(0,le.z$)(),t=io.S(e),s=0<t&&t<10,a=io.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||(Mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Ai(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const D=p.target.error;a("VersionError"===D.name?new Rt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Rt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ai(e,D))},c.onupgradeneeded=p=>{Mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,d.Z)(function*(){const p="readonly"===t;let D=0;for(;;){++D;try{c.db=yield c.$(e);const O=ea.open(c.db,e,p?"readonly":"readwrite",s),U=a(O).next(Q=>(O.P(),Q)).catch(Q=>(O.abort(Q),Ke.reject(Q))).toPromise();return U.catch(()=>{}),yield O.R,U}catch(O){const U=O,Q="FirebaseError"!==U.name&&D<3;if(Mt("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Q),c.close(),!Q)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ea{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Us(this.L.delete())}}class Ai extends Rt{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Si(i){return"IndexedDbTransactionError"===i.name}class au{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Us(s)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),Us(this.store.add(e))}get(e){return Us(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),Us(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),Us(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(p,D)=>{c.push(D)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ke((c,p)=>{a.onerror=D=>{p(D.target.error)},a.onsuccess=D=>{c(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ke((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}J(e,t){Mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,p,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ke((s,a)=>{t.onerror=c=>{const p=uu(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(D=>{D?p.continue():s()}):s()}})}W(e,t){const s=[];return new Ke((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const D=p.target.result;if(!D)return void a();const O=new Ea(D),U=t(D.primaryKey,D.value,O);if(U instanceof Ke){const Q=U.catch(_e=>(O.done(),Ke.reject(_e)));s.push(Q)}O.isDone?a():null===O.K?D.continue():D.continue(O.K)}}).next(()=>Ke.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Us(i){return new Ke((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=uu(s.target.error);t(a)}})}let Pa=!1;function uu(i){const e=io.S((0,le.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pa||(Pa=!0,setTimeout(()=>{throw s},0)),s}}return i}class Nu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{Mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Si(s)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield _a(s)}yield t.et(6e4)}))}}class kl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ke.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Mt("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(D=>{a-=D,s.add(p)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,c)).next(D=>(Mt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>p.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Nl(c);Ou(p,s)>0&&(s=p)}),new Is(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let cs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function qa(i){return null==i}function Fo(i){return 0===i&&1/i==-1/0}function ds(i){return"number"==typeof i&&Number.isInteger(i)&&!Fo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function _i(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=E(e)),e=v(i.get(t),e);return E(e)}function v(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function E(i){return i+"\x01\x01"}function y(i){const e=i.length;if(un(e>=2),2===e)return un("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),bn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>t)&&en(),i.charAt(p+1)){case"\x01":const D=i.substring(c,p);let O;0===a.length?O=D:(a+=D,O=a,a=""),s.push(O);break;case"\x10":a+=i.substring(c,p),a+="\0";break;case"\x11":a+=i.substring(c,p+1);break;default:en()}c=p+2}return new bn(s)}const T=["userId","batchId"];function P(i,e){return[i,_i(e)]}function G(i,e,t){return[i,_i(e),t]}const oe={},ye=["prefixPath","collectionGroup","readTime","documentId"],ct=["prefixPath","collectionGroup","documentId"],Kt=["collectionGroup","readTime","prefixPath","documentId"],Nn=["canonicalId","targetId"],cn=["targetId","path"],er=["path","targetId"],Mi=["collectionId","parent"],ai=["indexId","uid"],ta=["uid","sequenceNumber"],Bs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wa=["indexId","uid","orderedDocumentKey"],na=["userId","collectionPath","documentId"],Oa=["userId","collectionPath","largestBatchId"],Ds=["userId","collectionGroup","largestBatchId"],lu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ni=[...lu,"documentOverlays"],ku=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fl=ku,il=[...Fl,"indexConfiguration","indexState","indexEntries"];class Ia extends rl{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Hi(i,e){const t=Yt(i);return io.M(t.ht,e)}function Na(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Za(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ll(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class wr{constructor(e,t){this.comparator=e,this.root=t||hi.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??hi.RED,this.left=a??hi.EMPTY,this.right=c??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new hi(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return hi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(i,e,t,s,a){return this}insert(i,e,t){return new hi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ni{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class Vl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lo(i){return i.hasNext()?i.getNext():void 0}class ts{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new ts([])}unionWith(e){let t=new ni(sr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Tc(){return typeof atob<"u"}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sl("Invalid base64 string: "+a):a}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(i){if(un(!!i),"string"==typeof i){let e=0;const t=du.exec(i);if(un(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ri(i.seconds),nanos:ri(i.nanos)}}function ri(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ka(i){return"string"==typeof i?Ei.fromBase64String(i):Ei.fromUint8Array(i)}function Fu(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lu(i){const e=i.mapValue.fields.__previous_value__;return Fu(e)?Lu(e):e}function ol(i){const e=Eo(i.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class Ul{constructor(e,t,s,a,c,p,D,O,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=D,this.longPollingOptions=O,this.useFetchStreams=U}}class ra{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ra("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}const ia={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fa={nullValue:"NULL_VALUE"};function so(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fu(i)?4:td(i)?9007199254740991:10:en()}function wo(i,e){if(i===e)return!0;const t=so(i);if(t!==so(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ol(i).isEqual(ol(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Eo(s.timestampValue),p=Eo(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,ka(i.bytesValue).isEqual(ka(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return ri(s.geoPointValue.latitude)===ri(a.geoPointValue.latitude)&&ri(s.geoPointValue.longitude)===ri(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ri(s.integerValue)===ri(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ri(s.doubleValue),p=ri(a.doubleValue);return c===p?Fo(c)===Fo(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(Na(c)!==Na(p))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===p[D]||!wo(c[D],p[D])))return!1;return!0}(i,e);default:return en()}var a}function Da(i,e){return void 0!==(i.values||[]).find(t=>wo(t,e))}function sa(i,e){if(i===e)return 0;const t=so(i),s=so(e);if(t!==s)return ln(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ln(i.booleanValue,e.booleanValue);case 2:return function(a,c){const p=ri(a.integerValue||a.doubleValue),D=ri(c.integerValue||c.doubleValue);return p<D?-1:p>D?1:p===D?0:isNaN(p)?isNaN(D)?0:-1:1}(i,e);case 3:return hu(i.timestampValue,e.timestampValue);case 4:return hu(ol(i),ol(e));case 5:return ln(i.stringValue,e.stringValue);case 6:return function(a,c){const p=ka(a),D=ka(c);return p.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),D=c.split("/");for(let O=0;O<p.length&&O<D.length;O++){const U=ln(p[O],D[O]);if(0!==U)return U}return ln(p.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const p=ln(ri(a.latitude),ri(c.latitude));return 0!==p?p:ln(ri(a.longitude),ri(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],D=c.values||[];for(let O=0;O<p.length&&O<D.length;++O){const U=sa(p[O],D[O]);if(U)return U}return ln(p.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===ia.mapValue&&c===ia.mapValue)return 0;if(a===ia.mapValue)return 1;if(c===ia.mapValue)return-1;const p=a.fields||{},D=Object.keys(p),O=c.fields||{},U=Object.keys(O);D.sort(),U.sort();for(let Q=0;Q<D.length&&Q<U.length;++Q){const _e=ln(D[Q],U[Q]);if(0!==_e)return _e;const qe=sa(p[D[Q]],O[U[Q]]);if(0!==qe)return qe}return ln(D.length,U.length)}(i.mapValue,e.mapValue);default:throw en()}}function hu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return ln(i,e);const t=Eo(i),s=Eo(e),a=ln(t.seconds,s.seconds);return 0!==a?a:ln(t.nanos,s.nanos)}function Ya(i){return fu(i)}function fu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=Eo(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ka(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=fu(p);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const D of a)p?p=!1:c+=",",c+=`${D}:${fu(s.fields[D])}`;return c+"}"}(i.mapValue):en();var e}function La(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ed(i){return!!i&&"integerValue"in i}function al(i){return!!i&&"arrayValue"in i}function pu(i){return!!i&&"nullValue"in i}function gu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ul(i){return!!i&&"mapValue"in i}function Uu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Za(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Uu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function td(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ca(i){return"nullValue"in i?Fa:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?La(ra.empty(),Qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:en()}function nd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?La(ra.empty(),Qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ia:en()}function ba(i,e){const t=sa(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bl(i,e){const t=sa(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ul(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=sr.emptyPath(),s={},a=[];e.forEach((p,D)=>{if(!t.isImmediateParentOf(D)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=D.popLast()}p?s[D.lastSegment()]=Uu(p):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ul(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ul(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Za(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ns(Uu(this.value))}}function ll(i){const e=[];return Za(i.fields,(t,s)=>{const a=new sr([t]);if(ul(s)){const c=ll(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new ts(e)}class Kr{constructor(e,t,s,a,c,p,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=D}static newInvalidDocument(e){return new Kr(e,0,yn.min(),yn.min(),yn.min(),ns.empty(),0)}static newFoundDocument(e,t,s,a){return new Kr(e,1,t,yn.min(),s,a,0)}static newNoDocument(e,t){return new Kr(e,2,t,yn.min(),yn.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new Kr(e,3,t,yn.min(),yn.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rs{constructor(e,t){this.position=e,this.inclusive=t}}function rd(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],p=i.position[a];if(s=c.field.isKeyField()?Qt.comparator(Qt.fromName(p.referenceValue),t.key):sa(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function w(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!wo(i.position[t],e.position[t]))return!1;return!0}class A{constructor(e,t="asc"){this.field=e,this.dir=t}}function j(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ne{}class ve extends ne{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ki(e,t,s):"array-contains"===t?new Va(e,s):"in"===t?new yu(e,s):"not-in"===t?new Rf(e,s):"array-contains-any"===t?new Pf(e,s):new ve(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ta(e,s):new mu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sa(t,this.value)):null!==t&&so(this.value)===so(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Me extends ne{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Me(e,t)}matches(e){return dt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function dt(i){return"and"===i.op}function Jt(i){return"or"===i.op}function Zt(i){return wn(i)&&dt(i)}function wn(i){for(const e of i.filters)if(e instanceof Me)return!1;return!0}function Dn(i){if(i instanceof ve)return i.field.canonicalString()+i.op.toString()+Ya(i.value);if(Zt(i))return i.filters.map(e=>Dn(e)).join(",");{const e=i.filters.map(t=>Dn(t)).join(",");return`${i.op}(${e})`}}function jn(i,e){return i instanceof ve?(t=i,(s=e)instanceof ve&&t.op===s.op&&t.field.isEqual(s.field)&&wo(t.value,s.value)):i instanceof Me?function(t,s){return s instanceof Me&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&jn(c,s.filters[p]),!0)}(i,e):void en();var t,s}function hs(i,e){const t=i.filters.concat(e);return Me.create(t,i.op)}function fi(i){return i instanceof ve?`${(e=i).field.canonicalString()} ${e.op} ${Ya(e.value)}`:i instanceof Me?function(e){return e.op.toString()+" {"+e.getFilters().map(fi).join(" ,")+"}"}(i):"Filter";var e}class ki extends ve{constructor(e,t,s){super(e,t,s),this.key=Qt.fromName(s.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ta extends ve{constructor(e,t){super(e,"in",t),this.keys=oo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mu extends ve{constructor(e,t){super(e,"not-in",t),this.keys=oo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oo(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Qt.fromName(s.referenceValue))}class Va extends ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return al(t)&&Da(t.arrayValue,this.value)}}class yu extends ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Da(this.value.arrayValue,t)}}class Rf extends ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Da(this.value.arrayValue,t)}}class Pf extends ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!al(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Da(this.value.arrayValue,s))}}class id{constructor(e,t=null,s=[],a=[],c=null,p=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=D,this.dt=null}}function jl(i,e=null,t=[],s=[],a=null,c=null,p=null){return new id(i,e,t,s,a,c,p)}function Ua(i){const e=Yt(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Dn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),qa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),e.dt=t}return e.dt}function cl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!j(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!jn(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w(i.startAt,e.startAt)&&w(i.endAt,e.endAt)}function Bu(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function dl(i,e){return i.filters.filter(t=>t instanceof ve&&t.field.isEqual(e))}function lh(i,e,t){let s=Fa,a=!0;for(const c of dl(i,e)){let p=Fa,D=!0;switch(c.op){case"<":case"<=":p=Ca(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,D=!1;break;case"!=":case"not-in":p=Fa}ba({value:s,inclusive:a},{value:p,inclusive:D})<0&&(s=p,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];ba({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function sd(i,e,t){let s=ia,a=!0;for(const c of dl(i,e)){let p=ia,D=!0;switch(c.op){case">=":case">":p=nd(c.value),D=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,D=!1;break;case"!=":case"not-in":p=ia}Bl({value:s,inclusive:a},{value:p,inclusive:D})>0&&(s=p,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];Bl({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class Qa{constructor(e,t=null,s=[],a=[],c=null,p="F",D=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=D,this.endAt=O,this.wt=null,this._t=null}}function hl(i,e,t,s,a,c,p,D){return new Qa(i,e,t,s,a,c,p,D)}function ju(i){return new Qa(i)}function ch(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ac(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function h(i){return null!==i.collectionGroup}function g(i){const e=Yt(i);if(null===e.wt){e.wt=[];const t=_(e),s=Ac(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new A(t)),e.wt.push(new A(sr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new A(sr.keyField(),c))}}}return e.wt}function I(i){const e=Yt(i);if(!e._t)if("F"===e.limitType)e._t=jl(e.path,e.collectionGroup,g(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of g(e))t.push(new A(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new rs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new rs(e.startAt.position,e.startAt.inclusive):null;e._t=jl(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function $(i,e){e.getFirstInequalityField(),_(i);const t=i.filters.concat([e]);return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function J(i,e,t){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Pe(i,e){return cl(I(i),I(e))&&i.limitType===e.limitType}function ut(i){return`${Ua(I(i))}|lt:${i.limitType}`}function Gt(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>fi(s)).join(", ")}]`),qa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ya(s)).join(",")),`Target(${t})`}(I(i))}; limitType=${i.limitType})`}function rn(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Qt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of g(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,c,p){const D=rd(a,c,p);return a.inclusive?D<=0:D<0}(t.startAt,g(t),s)||t.endAt&&!function(a,c,p){const D=rd(a,c,p);return a.inclusive?D>=0:D>0}(t.endAt,g(t),s)));var t,s}function Sn(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mr(i){return(e,t)=>{let s=!1;for(const a of g(i)){const c=Io(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Io(i,e,t){const s=i.field.isKeyField()?Qt.comparator(e.key,t.key):function(a,c,p){const D=c.data.field(a),O=p.data.field(a);return null!==D&&null!==O?sa(D,O):en()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return en()}}class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}}const $l=new wr(Qt.comparator);function Cs(){return $l}const Hl=new wr(Qt.comparator);function vu(...i){let e=Hl;for(const t of i)e=e.insert(t.key,t);return e}function od(i){let e=Hl;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function oa(){return $u()}function Sc(){return $u()}function $u(){return new js(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ja=new wr(Qt.comparator),ad=new ni(Qt.comparator);function or(...i){let e=ad;for(const t of i)e=e.add(t);return e}const ud=new ni(ln);function dh(){return ud}function ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fo(e)?"-0":e}}function fg(i){return{integerValue:""+i}}function Of(i,e){return ds(e)?fg(e):ld(i,e)}class cd{constructor(){this._=void 0}}function pg(i,e,t){return i instanceof Hu?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Fu(a)&&(a=Lu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):i instanceof _u?Ff(i,e):i instanceof Gu?hh(i,e):function(s,a){const c=kf(s,a),p=Mc(c)+Mc(s.gt);return ed(c)&&ed(s.gt)?fg(p):ld(s.serializer,p)}(i,e)}function Nf(i,e,t){return i instanceof _u?Ff(i,e):i instanceof Gu?hh(i,e):t}function kf(i,e){return i instanceof fl?ed(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Hu extends cd{}class _u extends cd{constructor(e){super(),this.elements=e}}function Ff(i,e){const t=gg(e);for(const s of i.elements)t.some(a=>wo(a,s))||t.push(s);return{arrayValue:{values:t}}}class Gu extends cd{constructor(e){super(),this.elements=e}}function hh(i,e){let t=gg(e);for(const s of i.elements)t=t.filter(a=>!wo(a,s));return{arrayValue:{values:t}}}class fl extends cd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mc(i){return ri(i.integerValue||i.doubleValue)}function gg(i){return al(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class xc{constructor(e,t){this.field=e,this.transform=t}}class xy{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gl{}function fh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new pl(i.key,wi.none()):new Pc(i.key,i.data,wi.none());{const t=i.data,s=ns.empty();let a=new ni(sr.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new Xa(i.key,s,new ts(a.toArray()),wi.none())}}function zl(i,e,t){i instanceof Pc?function(s,a,c){const p=s.value.clone(),D=Lf(s.fieldTransforms,a,c.transformResults);p.setAll(D),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Xa?function(s,a,c){if(!Rc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Lf(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(mg(s)),D.setAll(p),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dd(i,e,t,s){return i instanceof Pc?function(a,c,p,D){if(!Rc(a.precondition,c))return p;const O=a.value.clone(),U=hd(a.fieldTransforms,D,c);return O.setAll(U),c.convertToFoundDocument(c.version,O).setHasLocalMutations(),null}(i,e,t,s):i instanceof Xa?function(a,c,p,D){if(!Rc(a.precondition,c))return p;const O=hd(a.fieldTransforms,D,c),U=c.data;return U.setAll(mg(a)),U.setAll(O),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(i,e,t,s):(p=t,Rc(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Ry(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=kf(s.transform,a||null);null!=c&&(null===t&&(t=ns.empty()),t.set(s.field,c))}return t||null}function Py(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&_o(t,s,(a,c)=>function My(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof _u&&s instanceof _u||t instanceof Gu&&s instanceof Gu?_o(t.elements,s.elements,wo):t instanceof fl&&s instanceof fl?wo(t.gt,s.gt):t instanceof Hu&&s instanceof Hu);var t,s}(a,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Pc extends Gl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xa extends Gl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Lf(i,e,t){const s=new Map;un(i.length===t.length);for(let a=0;a<t.length;a++){const c=i[a],p=c.transform,D=e.data.field(c.field);s.set(c.field,Nf(p,D,t[a]))}return s}function hd(i,e,t){const s=new Map;for(const a of i){const c=a.transform,p=t.data.field(a.field);s.set(a.field,pg(c,p,e))}return s}class pl extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ph extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gh{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zl(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Sc();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let D=this.applyToLocalView(p,c.mutatedFields);D=t.has(a.key)?null:D;const O=fh(p,D);null!==O&&s.set(a.key,O),p.isValidDocument()||p.convertToNoDocument(yn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>Py(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>Py(t,s))}}class mh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){un(e.mutations.length===s.length);let a=Ja;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new mh(e,t,s,a)}}class yh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ny{constructor(e,t){this.count=e,this.unchangedNames=t}}var fs,Ur;function yg(i){switch(i){default:return en();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function zu(i){if(void 0===i)return vr("GRPC error has no .code"),tt.UNKNOWN;switch(i){case fs.OK:return tt.OK;case fs.CANCELLED:return tt.CANCELLED;case fs.UNKNOWN:return tt.UNKNOWN;case fs.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case fs.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case fs.INTERNAL:return tt.INTERNAL;case fs.UNAVAILABLE:return tt.UNAVAILABLE;case fs.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case fs.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case fs.NOT_FOUND:return tt.NOT_FOUND;case fs.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case fs.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case fs.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case fs.ABORTED:return tt.ABORTED;case fs.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case fs.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case fs.DATA_LOSS:return tt.DATA_LOSS;default:return en()}}(Ur=fs||(fs={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class Wl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vh}static getOrCreateInstance(){return null===vh&&(vh=new Wl),vh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vh=null;function ky(){return new TextEncoder}const H_=new Jn([4294967295,4294967295],0);function Fy(i){const e=ky().encode(i),t=new hr;return t.update(e),new Uint8Array(t.digest())}function Ly(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Jn([t,s],0),new Jn([a,c],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Oc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Jn.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(Jn.fromNumber(s)));return 1===a.compare(H_)&&(a=new Jn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new vg(c,a,t);return s.forEach(D=>p.insert(D)),p}insert(e){if(0===this.It)return;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fd(yn.min(),a,new wr(ln),Cs(),or())}}class pd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pd(s,t,or(),or(),or())}}class _h{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class _g{constructor(e,t){this.targetId=e,this.Vt=t}}class Eh{constructor(e,t,s=Ei.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Eu{constructor(){this.St=0,this.Dt=Uf(),this.Ct=Ei.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=or(),t=or(),s=or();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:en()}}),new pd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Uf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Cs(),this.zt=Vf(),this.Wt=new wr(ln)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(Bu(p))if(0===a){const D=new Qt(p.path);this.Yt(s,D,Kr.newNoDocument(D,yn.min()))}else un(1===a);else{const D=this.ie(s);if(D!==a){const O=this.re(e,D);0!==O&&(this.ee(s),this.Wt=this.Wt.insert(s,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Wl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,Q,_e){var qe,vt,$t,an,dn,lr;const Br={localCacheCount:Q,existenceFilterCount:_e.count},Ir=_e.unchangedNames;return Ir&&(Br.bloomFilter={applied:0===U,hashCount:null!==(qe=Ir?.hashCount)&&void 0!==qe?qe:0,bitmapLength:null!==(an=null===($t=null===(vt=Ir?.bits)||void 0===vt?void 0:vt.bitmap)||void 0===$t?void 0:$t.length)&&void 0!==an?an:0,padding:null!==(lr=null===(dn=Ir?.bits)||void 0===dn?void 0:dn.padding)&&void 0!==lr?lr:0}),Br}(O,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:D=0}=s;let O,U;try{O=ka(c).toUint8Array()}catch(Q){if(Q instanceof sl)return Rr("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{U=new vg(O,p,D)}catch(Q){return Rr(Q instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),D=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(D)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const D=this.se(p);if(D){if(c.current&&Bu(D.target)){const O=new Qt(D.target.path);null!==this.jt.get(O)||this.ae(p,O)||this.Yt(p,O,Kr.newNoDocument(O,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=or();this.zt.forEach((c,p)=>{let D=!0;p.forEachWhile(O=>{const U=this.se(O);return!U||"TargetPurposeLimboResolution"===U.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new fd(e,t,this.Wt,this.jt,s);return this.jt=Cs(),this.zt=Vf(),this.Wt=new wr(ln),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Eu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ni(ln),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Eu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new wr(Qt.comparator)}function Uf(){return new wr(Qt.comparator)}const Eg={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z_={and:"AND",or:"OR"};class W_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function md(i,e){return i.useProto3Json||qa(e)?e:{value:e}}function gl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function K_(i,e){return gl(i,e.toTimestamp())}function Gi(i){return un(!!i),yn.fromTimestamp(function(e){const t=Eo(e);return new Pr(t.seconds,t.nanos)}(i))}function Bf(i,e){return(t=i,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wg(i){const e=bn.fromString(i);return un(Gf(e)),e}function yd(i,e){return Bf(i.databaseId,e.path)}function wu(i,e){const t=wg(e);if(t.get(1)!==i.databaseId.projectId)throw new Rt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Rt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Qt(Ih(t))}function wh(i,e){return Bf(i.databaseId,e)}function vd(i){const e=wg(i);return 4===e.length?bn.emptyPath():Ih(e)}function _d(i){return new bn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ih(i){return un(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ig(i,e,t){return{name:yd(i,e),fields:t.value.mapValue.fields}}function is(i,e,t){const s=wu(i,e.name),a=Gi(e.updateTime),c=e.createTime?Gi(e.createTime):yn.min(),p=new ns({mapValue:{fields:e.fields}}),D=Kr.newFoundDocument(s,a,c,p);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Kl(i,e){let t;if(e instanceof Pc)t={update:Ig(i,e.key,e.value)};else if(e instanceof pl)t={delete:yd(i,e.key)};else if(e instanceof Xa)t={update:Ig(i,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof ph))return en();t={verify:yd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fl)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw en()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:K_(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:en()),t;var a}function Dh(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?wi.updateTime(Gi(a.updateTime)):void 0!==a.exists?wi.exists(a.exists):wi.none():wi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let D=null;"setToServerValue"in p?(un("REQUEST_TIME"===p.setToServerValue),D=new Hu):"appendMissingElements"in p?D=new _u(p.appendMissingElements.values||[]):"removeAllFromArray"in p?D=new Gu(p.removeAllFromArray.values||[]):"increment"in p?D=new fl(c,p.increment):en();const O=sr.fromServerFormat(p.fieldPath);return new xc(O,D)}(i,a)):[];var a;if(e.update){const a=wu(i,e.update.name),c=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ts((e.updateMask.fieldPaths||[]).map(U=>sr.fromServerFormat(U)));return new Xa(a,c,p,t,s)}return new Pc(a,c,t,s)}if(e.delete){const a=wu(i,e.delete);return new pl(a,t)}if(e.verify){const a=wu(i,e.verify);return new ph(a,t)}return en()}function Dg(i,e){return{documents:[wh(i,e.path)]}}function jf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=wh(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wh(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return Hf(Me.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(O){if(0!==O.length)return O.map(U=>{return{field:Wu((Q=U).field),direction:q_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=md(i,e.limit);var D,O;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Cg(i){let e=vd(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){un(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const _e=Hy(Q);return _e instanceof Me&&Zt(_e)?_e.getFilters():[_e]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(Q=>{return new A(ql((_e=Q).field),function(qe){switch(qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let D=null;t.limit&&(D=function(Q){let _e;return _e="object"==typeof Q?Q.value:Q,qa(_e)?null:_e}(t.limit));let O=null;var Q;t.startAt&&(O=new rs((Q=t.startAt).values||[],!!Q.before));let U=null;return t.endAt&&(U=function(Q){return new rs(Q.values||[],!Q.before)}(t.endAt)),hl(e,a,p,c,D,"F",O,U)}function Hy(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ql(e.unaryFilter.field);return ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ql(e.unaryFilter.field);return ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ql(e.unaryFilter.field);return ve.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ql(e.unaryFilter.field);return ve.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(i):void 0!==i.fieldFilter?ve.create(ql((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Me.create(e.compositeFilter.filters.map(t=>Hy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return en()}}(e.compositeFilter.op))}(i):en();var e}function q_(i){return Eg[i]}function Ed(i){return G_[i]}function $f(i){return z_[i]}function Wu(i){return{fieldPath:i.canonicalString()}}function ql(i){return sr.fromServerFormat(i.fieldPath)}function Hf(i){return i instanceof ve?function(e){if("=="===e.op){if(gu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(pu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(pu(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:Ed(e.op),value:e.value}}}(i):i instanceof Me?function(e){const t=e.getFilters().map(s=>Hf(s));return 1===t.length?t[0]:{compositeFilter:{op:$f(e.op),filters:t}}}(i):en()}function Gy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Iu{constructor(e,t,s,a,c=yn.min(),p=yn.min(),D=Ei.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=D,this.expectedCount=O}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ch{constructor(e){this.fe=e}}function bg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:yd(a=i.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:gl(a,c.version.toTimestamp()),createTime:gl(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ml(e.version)};else{if(!e.isUnknownDocument())return en();s.unknownDocument={path:t.path.toArray(),version:ml(e.version)}}var a,c;return s}function Nc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ml(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(i){const e=new Pr(i.seconds,i.nanoseconds);return yn.fromTimestamp(e)}function Aa(i,e){const t=(e.baseMutations||[]).map(c=>Dh(i.fe,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Dh(i.fe,c)),a=Pr.fromMillis(e.localWriteTimeMs);return new gh(e.batchId,a,t,s)}function wd(i){const e=yl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?yl(i.lastLimboFreeSnapshotVersion):yn.min();let s;var a;return void 0!==i.query.documents?(un(1===(a=i.query).documents.length),s=I(ju(vd(a.documents[0])))):s=I(Cg(i.query)),new Iu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Ei.fromBase64String(i.resumeToken))}function bh(i,e){const t=ml(e.snapshotVersion),s=ml(e.lastLimboFreeSnapshotVersion);let a;a=Bu(e.target)?Dg(i.fe,e.target):jf(i.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ua(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function kc(i){const e=Cg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?J(e,e.limit,"L"):e}function zf(i,e){return new yh(e.largestBatchId,Dh(i.fe,e.overlayMutation))}function Th(i,e){const t=e.path.lastSegment();return[i,_i(e.path.popLast()),t]}function Id(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ml(s.readTime),documentKey:_i(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zl{getBundleMetadata(e,t){return Wf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:yl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Wf(e).put({bundleId:(s=t).id,createTime:ml(Gi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ah(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:kc(a.bundledQuery),readTime:yl(a.readTime)};var a})}saveNamedQuery(e,t){return Ah(e).put({name:(s=t).name,readTime:ml(Gi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Wf(i){return Hi(i,"bundles")}function Ah(i){return Hi(i,"namedQueries")}class Sh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Sh(e,t.uid||"")}getOverlay(e,t){return Dd(e).get(Th(this.userId,t)).next(s=>s?zf(this.serializer,s):null)}getOverlays(e,t){const s=oa();return Ke.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const D=new yh(t,p);a.push(this.we(e,D))}),Ke.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(_i(p.getCollectionPath())));const c=[];return a.forEach(p=>{const D=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(Dd(e).J("collectionPathOverlayIndex",D))}),Ke.waitFor(c)}getOverlaysForCollection(e,t,s){const a=oa(),c=_i(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Dd(e).j("collectionPathOverlayIndex",p).next(D=>{for(const O of D){const U=zf(this.serializer,O);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=oa();let p;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dd(e).X({index:"collectionGroupOverlayIndex",range:D},(O,U,Q)=>{const _e=zf(this.serializer,U);c.size()<a||_e.largestBatchId===p?(c.set(_e.getKey(),_e),p=_e.largestBatchId):Q.done()}).next(()=>c)}we(e,t){return Dd(e).put(function(s,a,c){const[p,D,O]=Th(a,c.mutation.key);return{userId:a,collectionPath:D,documentId:O,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Kl(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Dd(i){return Hi(i,"documentOverlays")}class vl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ri(e.integerValue));else if("doubleValue"in e){const s=ri(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Fo(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ka(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?td(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):en()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Qt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fc(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Tg(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Fc(255&t[a]);if(s+=c,8!==c)break}return s}(i);return Math.ceil(e/8)}vl.Ve=new vl;class zy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Wy{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ky{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Yl{constructor(){this.je=new zy,this.ze=new Wy(this.je),this.We=new Ky(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ql{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,s)}}function Ku(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ag(i.arrayValue,e.arrayValue),0!==t?t:(t=Ag(i.directionalValue,e.directionalValue),0!==t?t:Qt.comparator(i.documentKey,e.documentKey)))}function Ag(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Sg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){un(e.collectionGroup===this.collectionId);const t=ma(e);if(void 0!==t&&!this.en(t))return!1;const s=Xo(e);let a=new Set,c=0,p=0;for(;c<s.length&&this.en(s[c]);++c)a=a.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[c];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[p++],D))return!1}++c}for(;c<s.length;++c){const D=s[c];if(p>=this.Ye.length||!this.sn(this.Ye[p++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qy(i){var e,t;if(un(i instanceof ve||i instanceof Me),i instanceof ve){if(i instanceof yu){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>ve.create(i.field,"==",c)))||[];return Me.create(a,"or")}return i}const s=i.filters.map(a=>qy(a));return Me.create(s,i.op)}function Zy(i){if(0===i.getFilters().length)return[];const e=ec(qy(i));return un(Xl(e)),Jl(e)||Kf(e)?[e]:e.getFilters()}function Jl(i){return i instanceof ve}function Kf(i){return i instanceof Me&&Zt(i)}function Xl(i){return Jl(i)||Kf(i)||function(e){if(e instanceof Me&&Jt(e)){for(const t of e.getFilters())if(!Jl(t)&&!Kf(t))return!1;return!0}return!1}(i)}function ec(i){if(un(i instanceof ve||i instanceof Me),i instanceof ve)return i;if(1===i.filters.length)return ec(i.filters[0]);const e=i.filters.map(s=>ec(s));let t=Me.create(e,i.op);return t=Cd(t),Xl(t)?t:(un(t instanceof Me),un(dt(t)),un(t.filters.length>1),t.filters.reduce((s,a)=>qf(s,a)))}function qf(i,e){let t;return un(i instanceof ve||i instanceof Me),un(e instanceof ve||e instanceof Me),t=i instanceof ve?e instanceof ve?Me.create([i,e],"and"):Yy(i,e):e instanceof ve?Yy(e,i):function(s,a){if(un(s.filters.length>0&&a.filters.length>0),dt(s)&&dt(a))return hs(s,a.getFilters());const c=Jt(s)?s:a,p=Jt(s)?a:s,D=c.filters.map(O=>qf(O,p));return Me.create(D,"or")}(i,e),Cd(t)}function Yy(i,e){if(dt(e))return hs(e,i.getFilters());{const t=e.filters.map(s=>qf(i,s));return Me.create(t,"or")}}function Cd(i){if(un(i instanceof ve||i instanceof Me),i instanceof ve)return i;const e=i.getFilters();if(1===e.length)return Cd(e[0]);if(wn(i))return i;const t=e.map(a=>Cd(a)),s=[];return t.forEach(a=>{a instanceof ve?s.push(a):a instanceof Me&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Me.create(s,i.op)}class Qy{constructor(){this.rn=new Zf}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Is.min())}updateCollectionGroup(e,t,s){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class Zf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ni(bn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ni(bn.comparator)).toArray()}}const Mh=new Uint8Array(0);class Mg{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Zf,this.un=new js(s=>Ua(s),(s,a)=>cl(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:_i(a)};return Yf(e).put(c)}return Ke.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ru(t),""],!1,!0);return Yf(e).j(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(y(p.parent))}return s})}addFieldIndex(e,t){const s=Lc(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=bd(e);return c.next(D=>{p.put(Id(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Lc(e),a=bd(e),c=tc(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=tc(e);let a=!0;const c=new Map;return Ke.forEach(this.cn(t),p=>this.an(e,p).next(D=>{a&&(a=!!D),c.set(p,D)})).next(()=>{if(a){let p=or();const D=[];return Ke.forEach(c,(O,U)=>{var Q;Mt("IndexedDbIndexManager",`Using index ${Q=O,`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(Ir=>`${Ir.fieldPath}:${Ir.kind}`).join(",")}`} to execute ${Ua(t)}`);const _e=function(Ir,Gs){const Ss=ma(Gs);if(void 0===Ss)return null;for(const xi of dl(Ir,Ss.fieldPath))switch(xi.op){case"array-contains-any":return xi.value.arrayValue.values||[];case"array-contains":return[xi.value]}return null}(U,O),qe=function(Ir,Gs){const Ss=new Map;for(const xi of Xo(Gs))for(const jo of dl(Ir,xi.fieldPath))switch(jo.op){case"==":case"in":Ss.set(xi.fieldPath.canonicalString(),jo.value);break;case"not-in":case"!=":return Ss.set(xi.fieldPath.canonicalString(),jo.value),Array.from(Ss.values())}return null}(U,O),vt=function(Ir,Gs){const Ss=[];let xi=!0;for(const jo of Xo(Gs)){const Su=0===jo.kind?lh(Ir,jo.fieldPath,Ir.startAt):sd(Ir,jo.fieldPath,Ir.startAt);Ss.push(Su.value),xi&&(xi=Su.inclusive)}return new rs(Ss,xi)}(U,O),$t=function(Ir,Gs){const Ss=[];let xi=!0;for(const jo of Xo(Gs)){const Su=0===jo.kind?sd(Ir,jo.fieldPath,Ir.endAt):lh(Ir,jo.fieldPath,Ir.endAt);Ss.push(Su.value),xi&&(xi=Su.inclusive)}return new rs(Ss,xi)}(U,O),an=this.hn(O,U,vt),dn=this.hn(O,U,$t),lr=this.ln(O,U,qe),Br=this.fn(O.indexId,_e,an,vt.inclusive,dn,$t.inclusive,lr);return Ke.forEach(Br,Ir=>s.H(Ir,t.limit).next(Gs=>{Gs.forEach(Ss=>{const xi=Qt.fromSegments(Ss.documentKey);p.has(xi)||(p=p.add(xi),D.push(xi))})}))}).next(()=>D)}return Ke.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Zy(Me.create(e.filters,"and")).map(s=>jl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,p,D){const O=(null!=t?t.length:1)*Math.max(s.length,c.length),U=O/(null!=t?t.length:1),Q=[];for(let _e=0;_e<O;++_e){const qe=t?this.dn(t[_e/U]):Mh,vt=this.wn(e,qe,s[_e%U],a),$t=this._n(e,qe,c[_e%U],p),an=D.map(dn=>this.wn(e,qe,dn,!0));Q.push(...this.createRange(vt,$t,an))}return Q}wn(e,t,s,a){const c=new Ql(e,Qt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new Ql(e,Qt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Sg(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const D of c)s.tn(D)&&(!p||D.fields.length>p.fields.length)&&(p=D);return p})}getIndexType(e,t){let s=2;const a=this.cn(t);return Ke.forEach(a,c=>this.an(e,c).next(p=>{p?0!==s&&p.fields.length<function(D){let O=new ni(sr.comparator),U=!1;for(const Q of D.filters)for(const _e of Q.getFlattenedFilters())_e.field.isKeyField()||("array-contains"===_e.op||"array-contains-any"===_e.op?U=!0:O=O.add(_e.field));for(const Q of D.orderBy)Q.field.isKeyField()||(O=O.add(Q.field));return O.size+(U?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Yl;for(const a of Xo(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.He(a.kind);vl.Ve._e(c,p)}return s.Qe()}dn(e){const t=new Yl;return vl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Yl;return vl.Ve._e(La(this.databaseId,t),s.He(function(a){const c=Xo(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Yl);let c=0;for(const p of Xo(e)){const D=s[c++];for(const O of a)if(this.yn(t,p.fieldPath)&&al(D))a=this.pn(a,p,D);else{const U=O.He(p.kind);vl.Ve._e(D,U)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const D of a){const O=new Yl;O.seed(D.Qe()),vl.Ve._e(p,O.He(t.kind)),c.push(O)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof ve&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Lc(e),a=bd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const p=[];return Ke.forEach(c,D=>a.get([D.indexId,this.uid]).next(O=>{p.push(function(U,Q){const _e=Q?new ko(Q.sequenceNumber,new Is(yl(Q.readTime),new Qt(y(Q.documentKey)),Q.largestBatchId)):ko.empty(),qe=U.fields.map(([vt,$t])=>new Pu(sr.fromServerFormat(vt),$t));return new ls(U.indexId,U.collectionGroup,qe,_e)}(D,O))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:ln(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Lc(e),c=bd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>Ke.forEach(D,O=>c.put(Id(O.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return Ke.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?Ke.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),Ke.forEach(D,O=>this.En(e,a,O).next(U=>{const Q=this.An(c,O);return U.isEqual(Q)?Ke.resolve():this.vn(e,c,O,U,Q)}))))})}Rn(e,t,s,a){return tc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return tc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=tc(e);let c=new ni(Ku);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(p,D)=>{c=c.add(new Ql(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>c)}An(e,t){let s=new ni(Ku);const a=this.mn(t,e);if(null==a)return s;const c=ma(t);if(null!=c){const p=e.data.field(c.fieldPath);if(al(p))for(const D of p.arrayValue.values||[])s=s.add(new Ql(t.indexId,e.key,this.dn(D),a))}else s=s.add(new Ql(t.indexId,e.key,Mh,a));return s}vn(e,t,s,a,c){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(D,O,U,Q,_e){const qe=D.getIterator(),vt=O.getIterator();let $t=Lo(qe),an=Lo(vt);for(;$t||an;){let dn=!1,lr=!1;if($t&&an){const Br=U($t,an);Br<0?lr=!0:Br>0&&(dn=!0)}else null!=$t?lr=!0:dn=!0;dn?(Q(an),an=Lo(vt)):lr?(_e($t),$t=Lo(qe)):($t=Lo(qe),an=Lo(vt))}}(a,c,Ku,D=>{p.push(this.Rn(e,t,s,D))},D=>{p.push(this.Pn(e,t,s,D))}),Ke.waitFor(p)}Tn(e){let t=1;return bd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,D)=>Ku(p,D)).filter((p,D,O)=>!D||0!==Ku(p,O[D-1]));const a=[];a.push(e);for(const p of s){const D=Ku(p,e),O=Ku(p,t);if(0===D)a[0]=e.Je();else if(D>0&&O<0)a.push(p),a.push(p.Je());else if(O>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Mh,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Mh,[]]))}return c}bn(e,t){return Ku(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xh)}getMinOffset(e,t){return Ke.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||en())).next(xh)}}function Yf(i){return Hi(i,"collectionParents")}function tc(i){return Hi(i,"indexEntries")}function Lc(i){return Hi(i,"indexConfiguration")}function bd(i){return Hi(i,"indexState")}function xh(i){un(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;Ou(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Is(e.readTime,e.documentKey,t)}const Vc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Do(e,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xg(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let D=0;const O=s.X({range:p},(Q,_e,qe)=>(D++,qe.delete()));c.push(O.next(()=>{un(1===D)}));const U=[];for(const Q of t.mutations){const _e=G(e,Q.key.path,t.batchId);c.push(a.delete(_e)),U.push(Q.key)}return Ke.waitFor(c).next(()=>U)}function Rh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw en();e=i.noDocument}return JSON.stringify(e).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class Ph{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){un(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Ph(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).X({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Uc(e),p=_l(e);return p.add({}).next(D=>{un("number"==typeof D);const O=new gh(D,t,s,a),U=function(qe,vt,$t){const an=$t.baseMutations.map(lr=>Kl(qe.fe,lr)),dn=$t.mutations.map(lr=>Kl(qe.fe,lr));return{userId:vt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:an,mutations:dn}}(this.serializer,this.userId,O),Q=[];let _e=new ni((qe,vt)=>ln(qe.canonicalString(),vt.canonicalString()));for(const qe of a){const vt=G(this.userId,qe.key.path,D);_e=_e.add(qe.key.path.popLast()),Q.push(p.put(U)),Q.push(c.put(vt,oe))}return _e.forEach(qe=>{Q.push(this.indexManager.addToCollectionParentIndex(e,qe))}),e.addOnCommittedListener(()=>{this.Vn[D]=O.keys()}),Ke.waitFor(Q).next(()=>O)})}lookupMutationBatch(e,t){return _l(e).get(t).next(s=>s?(un(s.userId===this.userId),Aa(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Ke.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return _l(e).X({index:"userMutationsIndex",range:a},(p,D,O)=>{D.userId===this.userId&&(un(D.batchId>=s),c=Aa(this.serializer,D)),O.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _l(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _l(e).j("userMutationsIndex",t).next(s=>s.map(a=>Aa(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=P(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Uc(e).X({range:a},(p,D,O)=>{const[U,Q,_e]=p,qe=y(Q);if(U===this.userId&&t.path.isEqual(qe))return _l(e).get(_e).next(vt=>{if(!vt)throw en();un(vt.userId===this.userId),c.push(Aa(this.serializer,vt))});O.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ni(ln);const a=[];return t.forEach(c=>{const p=P(this.userId,c.path),D=IDBKeyRange.lowerBound(p),O=Uc(e).X({range:D},(U,Q,_e)=>{const[qe,vt,$t]=U,an=y(vt);qe===this.userId&&c.path.isEqual(an)?s=s.add($t):_e.done()});a.push(O)}),Ke.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=P(this.userId,s),p=IDBKeyRange.lowerBound(c);let D=new ni(ln);return Uc(e).X({range:p},(O,U,Q)=>{const[_e,qe,vt]=O,$t=y(qe);_e===this.userId&&s.isPrefixOf($t)?$t.length===a&&(D=D.add(vt)):Q.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(_l(e).get(c).next(p=>{if(null===p)throw en();un(p.userId===this.userId),s.push(Aa(this.serializer,p))}))}),Ke.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return xg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ke.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Uc(e).X({range:s},(c,p,D)=>{if(c[0]===this.userId){const O=y(c[1]);a.push(O)}else D.done()}).next(()=>{un(0===a.length)})})}containsKey(e,t){return Rg(e,this.userId,t)}xn(e){return nc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rg(i,e,t){const s=P(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Uc(i).X({range:c,Y:!0},(D,O,U)=>{const[Q,_e,qe]=D;Q===e&&_e===a&&(p=!0),U.done()}).next(()=>p)}function _l(i){return Hi(i,"mutations")}function Uc(i){return Hi(i,"documentMutations")}function nc(i){return Hi(i,"mutationQueues")}class Vo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vo(0)}static Mn(){return new Vo(-1)}}class Jy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Vo(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>yn.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(un(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Bc(e).X((p,D)=>{const O=wd(D);O.sequenceNumber<=t&&null===s.get(O.targetId)&&(a++,c.push(this.removeTargetData(e,O)))}).next(()=>Ke.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Bc(e).X((s,a)=>{const c=wd(a);t(c)})}$n(e){return Xy(e).get("targetGlobalKey").next(t=>(un(null!==t),t))}On(e,t){return Xy(e).put("targetGlobalKey",t)}Fn(e,t){return Bc(e).put(bh(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ua(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).X({range:a,index:"queryTargetsIndex"},(p,D,O)=>{const U=wd(D);cl(t,U.target)&&(c=U,O.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=rc(e);return t.forEach(p=>{const D=_i(p.path);a.push(c.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,p))}),Ke.waitFor(a)}removeMatchingKeys(e,t,s){const a=rc(e);return Ke.forEach(t,c=>{const p=_i(c.path);return Ke.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=rc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rc(e);let c=or();return a.X({range:s,Y:!0},(p,D,O)=>{const U=y(p[1]),Q=new Qt(U);c=c.add(Q)}).next(()=>c)}containsKey(e,t){const s=_i(t.path),a=IDBKeyRange.bound([s],[Ru(s)],!1,!0);let c=0;return rc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,D],O,U)=>{0!==p&&(c++,U.done())}).next(()=>c>0)}le(e,t){return Bc(e).get(t).next(s=>s?wd(s):null)}}function Bc(i){return Hi(i,"targets")}function Xy(i){return Hi(i,"targetGlobal")}function rc(i){return Hi(i,"targetDocuments")}function Qf([i,e],[t,s]){const a=ln(i,t);return 0===a?ln(e,s):a}class Y_{constructor(e){this.Ln=e,this.buffer=new ni(Qf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Qf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jf{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Si(s)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield _a(s)}yield t.Qn(3e5)}))}}class Q_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(cs.ct);const s=new Y_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Vc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vc):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,p,D,O,U;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),a=this.params.maximumSequenceNumbersToCollect):a=_e,p=Date.now(),this.nthSequenceNumber(e,a))).next(_e=>(s=_e,D=Date.now(),this.removeTargets(e,s,t))).next(_e=>(c=_e,O=Date.now(),this.removeOrphanedDocuments(e,s))).next(_e=>(U=Date.now(),ei()<=he.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-Q}ms\n\tDetermined least recently used ${a} in `+(D-p)+`ms\n\tRemoved ${c} targets in `+(O-D)+`ms\n\tRemoved ${_e} documents in `+(U-O)+`ms\nTotal Duration: ${U-Q}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:_e})))}}class ev{constructor(e,t){this.db=e,this.garbageCollector=function Xf(i,e){return new Q_(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Td(e,s)}removeReference(e,t,s){return Td(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Td(e,t)}Xn(e,t){return function(s,a){let c=!1;return nc(s).Z(p=>Rg(s,p,a).next(D=>(D&&(c=!0),Ke.resolve(!D)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(p,D)=>{if(D<=t){const O=this.Xn(e,p).next(U=>{if(!U)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,yn.min()),rc(e).delete([0,_i(p.path)])))});a.push(O)}}).next(()=>Ke.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Td(e,t)}Yn(e,t){const s=rc(e);let a,c=cs.ct;return s.X({index:"documentTargetsIndex"},([p,D],{path:O,sequenceNumber:U})=>{0===p?(c!==cs.ct&&t(new Qt(y(a)),c),c=U,a=O):c=cs.ct}).next(()=>{c!==cs.ct&&t(new Qt(y(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Td(i,e){return rc(i).put((s=i.currentSequenceNumber,{targetId:0,path:_i(e.path),sequenceNumber:s}));var s}class Pg{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ke.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ic(e).put(s)}removeEntry(e,t,s){return ic(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Nc(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Kr.newInvalidDocument(t);return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:Kr.newInvalidDocument(t)};return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s={document:this.ts(t,c),size:Rh(c)}}).next(()=>s)}getEntries(e,t){let s=Cs();return this.ns(e,t,(a,c)=>{const p=this.ts(a,c);s=s.insert(a,p)}).next(()=>s)}ss(e,t){let s=Cs(),a=new wr(Qt.comparator);return this.ns(e,t,(c,p)=>{const D=this.ts(c,p);s=s.insert(c,D),a=a.insert(c,Rh(p))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Ke.resolve();let a=new ni(Ng);t.forEach(O=>a=a.add(O));const c=IDBKeyRange.bound(Ad(a.first()),Ad(a.last())),p=a.getIterator();let D=p.getNext();return ic(e).X({index:"documentKeyIndex",range:c},(O,U,Q)=>{const _e=Qt.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;D&&Ng(D,_e)<0;)s(D,null),D=p.getNext();D&&D.isEqual(_e)&&(s(D,U),D=p.hasNext()?p.getNext():null),D?Q.G(Ad(D)):Q.done()}).next(()=>{for(;D;)s(D,null),D=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),Nc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).j(IDBKeyRange.bound(p,D,!0)).next(O=>{let U=Cs();for(const Q of O){const _e=this.ts(Qt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);_e.isFoundDocument()&&(rn(t,_e)||a.has(_e.key))&&(U=U.insert(_e.key,_e))}return U})}getAllFromCollectionGroup(e,t,s,a){let c=Cs();const p=Og(t,s),D=Og(t,Is.max());return ic(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,D,!0)},(O,U,Q)=>{const _e=this.ts(Qt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);c=c.insert(_e.key,_e),c.size===a&&Q.done()}).next(()=>c)}newChangeBuffer(e){return new nv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ep(e).get("remoteDocumentGlobalKey").next(t=>(un(!!t),t))}Zn(e,t){return ep(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Z_(i,e){let t;if(e.document)t=is(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Qt.fromSegments(e.noDocument.path),a=yl(e.noDocument.readTime);t=Kr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const s=Qt.fromSegments(e.unknownDocument.path),a=yl(e.unknownDocument.version);t=Kr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Pr(s[0],s[1]);return yn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(yn.min()))return s}return Kr.newInvalidDocument(e)}}function Ba(i){return new tv(i)}class nv extends Pg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new js(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new ni((c,p)=>ln(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const D=this.us.get(c);if(t.push(this.os.removeEntry(e,c,D.readTime)),p.isValidDocument()){const O=bg(this.os.serializer,p);a=a.add(c.path.popLast()),s+=Rh(O)-D.size,t.push(this.os.addEntry(e,c,O))}else if(s-=D.size,this.trackRemovals){const O=bg(this.os.serializer,p.convertToNoDocument(yn.min()));t.push(this.os.addEntry(e,c,O))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),Ke.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,p)=>{this.us.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function ep(i){return Hi(i,"remoteDocumentGlobal")}function ic(i){return Hi(i,"remoteDocumentsV14")}function Ad(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Og(i,e){const t=e.documentKey.path.toArray();return[i,Nc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ng(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=ln(t[c],s[c]),a)return a;return a=ln(t.length,s.length),a||(a=ln(t[t.length-2],s[s.length-2]),a||ln(t[t.length-1],s[s.length-1]))}class kg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&dd(s.mutation,a,ts.empty(),Pr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,or()).next(()=>s))}getLocalViewOfDocuments(e,t,s=or()){const a=oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=vu();return c.forEach((D,O)=>{p=p.insert(D,O.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=oa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,or()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,D)=>{t.set(p,D)})})}computeViews(e,t,s,a){let c=Cs();const p=$u(),D=$u();return t.forEach((O,U)=>{const Q=s.get(U.key);a.has(U.key)&&(void 0===Q||Q.mutation instanceof Xa)?c=c.insert(U.key,U):void 0!==Q?(p.set(U.key,Q.mutation.getFieldMask()),dd(Q.mutation,U,Q.mutation.getFieldMask(),Pr.now())):p.set(U.key,ts.empty())}),this.recalculateAndSaveOverlays(e,c).next(O=>(O.forEach((U,Q)=>p.set(U,Q)),t.forEach((U,Q)=>{var _e;return D.set(U,new kg(Q,null!==(_e=p.get(U))&&void 0!==_e?_e:null))}),D))}recalculateAndSaveOverlays(e,t){const s=$u();let a=new wr((p,D)=>p-D),c=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const D of p)D.keys().forEach(O=>{const U=t.get(O);if(null===U)return;let Q=s.get(O)||ts.empty();Q=D.applyToLocalView(U,Q),s.set(O,Q);const _e=(a.get(D.batchId)||or()).add(O);a=a.insert(D.batchId,_e)})}).next(()=>{const p=[],D=a.getReverseIterator();for(;D.hasNext();){const O=D.getNext(),U=O.key,Q=O.value,_e=Sc();Q.forEach(qe=>{if(!c.has(qe)){const vt=fh(t.get(qe),s.get(qe));null!==vt&&_e.set(qe,vt),c=c.add(qe)}}),p.push(this.documentOverlayCache.saveOverlays(e,U,_e))}return Ke.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Qt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):h(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ke.resolve(oa());let D=-1,O=c;return p.next(U=>Ke.forEach(U,(Q,_e)=>(D<_e.largestBatchId&&(D=_e.largestBatchId),c.get(Q)?Ke.resolve():this.remoteDocumentCache.getEntry(e,Q).next(qe=>{O=O.insert(Q,qe)}))).next(()=>this.populateOverlays(e,U,c)).next(()=>this.computeViews(e,O,U,or())).next(Q=>({batchId:D,changes:od(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(s=>{let a=vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=vu();return this.indexManager.getCollectionParents(e,a).next(p=>Ke.forEach(p,D=>{const O=(U=t,Q=D.child(a),new Qa(Q,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,Q;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(U=>{U.forEach((Q,_e)=>{c=c.insert(Q,_e)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,O)=>{const U=O.getKey();null===c.get(U)&&(c=c.insert(U,Kr.newInvalidDocument(U)))});let p=vu();return c.forEach((D,O)=>{const U=a.get(D);void 0!==U&&dd(U.mutation,O,ts.empty(),Pr.now()),rn(t,O)&&(p=p.insert(D,O))}),p})}}class rv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Gi(s.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:kc(s.bundledQuery),readTime:Gi(s.readTime)}),Ke.resolve();var s}}class iv{constructor(){this.overlays=new wr(Qt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const s=oa();return Ke.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Ke.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Ke.resolve()}getOverlaysForCollection(e,t,s){const a=oa(),c=t.length+1,p=new Qt(t.child("")),D=this.overlays.getIteratorFrom(p);for(;D.hasNext();){const O=D.getNext().value,U=O.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===c&&O.largestBatchId>s&&a.set(O.getKey(),O)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new wr((U,Q)=>U-Q);const p=this.overlays.getIterator();for(;p.hasNext();){const U=p.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let Q=c.get(U.largestBatchId);null===Q&&(Q=oa(),c=c.insert(U.largestBatchId,Q)),Q.set(U.getKey(),U)}}const D=oa(),O=c.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,Q)=>D.set(U,Q)),!(D.size()>=a)););return Ke.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new yh(t,s));let c=this.ls.get(t);void 0===c&&(c=or(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class rr{constructor(){this.fs=new ni(bs.ds),this.ws=new ni(bs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new bs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new bs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Qt(new bn([])),s=new bs(t,e),a=new bs(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qt(new bn([])),s=new bs(t,e),a=new bs(t,e+1);let c=or();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new bs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class bs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qt.comparator(e.key,t.key)||ln(e.As,t.As)}static _s(e,t){return ln(e.As,t.As)||Qt.comparator(e.key,t.key)}}class Lg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ni(bs.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new gh(c,t,s,a);this.mutationQueue.push(p);for(const D of a)this.Rs=this.Rs.add(new bs(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Ke.resolve(p)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Ke.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new bs(t,0),a=new bs(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const D=this.Ps(p.As);c.push(D)}),Ke.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ni(ln);return t.forEach(a=>{const c=new bs(a,0),p=new bs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],D=>{s=s.add(D.As)})}),Ke.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Qt.isDocumentKey(c)||(c=c.child(""));const p=new bs(new Qt(c),0);let D=new ni(ln);return this.Rs.forEachWhile(O=>{const U=O.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(D=D.add(O.As)),!0)},p),Ke.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){un(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ke.forEach(t.mutations,a=>{const c=new bs(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new bs(t,0),a=this.Rs.firstAfterOrEqual(s);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vg{constructor(e){this.Ds=e,this.docs=new wr(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ke.resolve(s?s.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let s=Cs();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Kr.newInvalidDocument(a))}),Ke.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Cs();const p=t.path,D=new Qt(p.child("")),O=this.docs.getIteratorFrom(D);for(;O.hasNext();){const{key:U,value:{document:Q}}=O.getNext();if(!p.isPrefixOf(U.path))break;U.path.length>p.length+1||Ou(Nl(Q),s)<=0||(a.has(Q.key)||rn(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return Ke.resolve(c)}getAllFromCollectionGroup(e,t,s,a){en()}Cs(e,t){return Ke.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new sv(this)}getSize(e){return Ke.resolve(this.size)}}class sv extends Pg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ov{constructor(e){this.persistence=e,this.xs=new js(t=>Ua(t),cl),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rr,this.targetCount=0,this.Ms=Vo.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Ke.waitFor(c).next(()=>a)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ke.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ke.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Ke.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ke.resolve(s)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Oh{constructor(e,t){this.$s={},this.overlays={},this.Os=new cs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=new Vg(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ch(t),this.qs=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Lg(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("MemoryPersistence","Starting transaction:",e);const a=new av(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Ke.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class av extends rl{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Qs=new rr,this.js=null}static zs(e){return new Sd(e)}get Ws(){if(this.js)return this.js;throw en()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ke.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,s=>{const a=Qt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,yn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uv{constructor(e){this.serializer=e}O(e,t,s,a){const c=new ea("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0}),D.createObjectStore("documentMutations"),lv(e),function(D){D.createObjectStore("remoteDocuments")}(e));let p=Ke.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),lv(e)),p=p.next(()=>function(D){const O=D.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yn.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",U)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(D,O){return O.store("mutations").j().next(U=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0});const Q=O.store("mutations"),_e=U.map(qe=>Q.put(qe));return Ke.waitFor(_e)})}(e,c))),p=p.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ys(c))),s<6&&a>=6&&(p=p.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(p=p.next(()=>this.Zs(c))),s<8&&a>=8&&(p=p.next(()=>this.ti(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.ei(c))),s<11&&a>=11&&(p=p.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(D){const O=D.createObjectStore("documentOverlays",{keyPath:na});O.createIndex("collectionPathOverlayIndex",Oa,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",Ds,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(D){const O=D.createObjectStore("remoteDocumentsV14",{keyPath:ye});O.createIndex("documentKeyIndex",ct),O.createIndex("collectionGroupIndex",Kt)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.si(e,c))),s<15&&a>=15&&(p=p.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:ai}).createIndex("sequenceNumberIndex",ta,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Bs}).createIndex("documentKeyIndex",wa,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Rh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ke.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",p).next(D=>Ke.forEach(D,O=>{un(O.userId===c.userId);const U=Aa(this.serializer,O);return xg(e,c.userId,U).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((p,D)=>{const O=new bn(p),U=[0,_i(O)];c.push(t.get(U).next(Q=>Q?Ke.resolve():t.put({targetId:0,path:_i(O),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Mi});const s=t.store("collectionParents"),a=new Zf,c=p=>{if(a.add(p)){const D=p.lastSegment(),O=p.popLast();return s.put({collectionId:D,parent:_i(O)})}};return t.store("remoteDocuments").X({Y:!0},(p,D)=>{const O=new bn(p);return c(O.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,D,O],U)=>{const Q=y(D);return c(Q.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=wd(a),p=bh(this.serializer,c);return t.put(p)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,p)=>{const D=t.store("remoteDocumentsV14"),O=(U=p,U.document?new Qt(bn.fromString(U.document.name).popFirst(5)):U.noDocument?Qt.fromSegments(U.noDocument.path):U.unknownDocument?Qt.fromSegments(U.unknownDocument.path):en()).path.toArray();var U;const Q={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(D.put(Q))}).next(()=>Ke.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Ba(this.serializer),c=new Oh(Sd.zs,this.serializer.fe);return s.j().next(p=>{const D=new Map;return p.forEach(O=>{var U;let Q=null!==(U=D.get(O.userId))&&void 0!==U?U:or();Aa(this.serializer,O).keys().forEach(_e=>Q=Q.add(_e)),D.set(O.userId,Q)}),Ke.forEach(D,(O,U)=>{const Q=new In(U),_e=Sh.de(this.serializer,Q),qe=c.getIndexManager(Q),vt=Ph.de(Q,this.serializer,qe,c.referenceDelegate);return new Fg(a,vt,_e,qe).recalculateAndSaveOverlaysForDocumentKeys(new Ia(t,cs.ct),O).next()})})}}function lv(i){i.createObjectStore("targetDocuments",{keyPath:cn}).createIndex("documentTargetsIndex",er,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Nn,{unique:!0}),i.createObjectStore("targetGlobal")}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fh{constructor(e,t,s,a,c,p,D,O,U,Q,_e=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=p,this.document=D,this.ri=U,this.oi=Q,this.ui=_e,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=qe=>Promise.resolve(),!Fh.D())throw new Rt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ev(this,a),this.di=t+"main",this.serializer=new Ch(O),this.wi=new io(this.di,this.ui,new uv(this.serializer)),this.Bs=new Jy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ba(this.serializer),this.qs=new Zl,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Q&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(tt.FAILED_PRECONDITION,kh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new cs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,d.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Si(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return eu(e).get("owner").next(t=>Ke.resolve(this.Ri(t)))}Pi(e){return Lh(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hi(s,"clientMetadata");return a.j().next(c=>{const p=e.Si(c,18e5),D=c.filter(O=>-1===p.indexOf(O));return Ke.forEach(D,O=>a.delete(O.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ke.resolve(!0):eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Rt(tt.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Ia(t,cs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Ph.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mg(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Sh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ui)?il:14===p?Fl:13===p?ku:12===p?Ni:11===p?lu:void en();var p;let D;return this.wi.runTransaction(e,a,c,O=>(D=new Ia(O,this.Os?this.Os.next():cs.ct),"readwrite-primary"===t?this.Ti(D).next(U=>!!U||this.Ei(D)).next(U=>{if(!U)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Rt(tt.FAILED_PRECONDITION,va);return s(D)}).next(U=>this.vi(D).next(()=>U)):this.Oi(D).next(()=>s(D)))).then(O=>(D.raiseOnCommittedEvent(),O))}Oi(e){return eu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Rt(tt.FAILED_PRECONDITION,kh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(e).put("owner",t)}static D(){return io.D()}Ai(e){const t=eu(e);return t.get("owner").next(s=>this.Ri(s)?(Mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(vr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,le.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return vr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eu(i){return Hi(i,"owner")}function Lh(i){return Hi(i,"clientMetadata")}function Md(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class xd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=or(),a=or();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new xd(e,t.fromCache,s,a)}}class Ug{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(ch(t))return Ke.resolve(null);let s=I(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=J(t,null,"F"),s=I(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=or(...c);return this.Ui.getDocuments(e,p).next(D=>this.indexManager.getMinOffset(e,s).next(O=>{const U=this.ji(t,D);return this.zi(t,U,p,O.readTime)?this.Ki(e,J(t,null,"F")):this.Wi(e,U,t,O)}))})))}Gi(e,t,s,a){return ch(t)||a.isEqual(yn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(ei()<=he.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Gt(t)),this.Wi(e,p,t,ya(a,-1)))})}ji(e,t){let s=new ni(mr(e));return t.forEach((a,c)=>{rn(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return ei()<=he.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",Gt(t)),this.Ui.getDocumentsMatchingQuery(e,t,Is.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class J_{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new wr(ln),this.Yi=new js(c=>Ua(c),cl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cv(i,e,t,s){return new J_(i,e,t,s)}function dv(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,d.Z)(function*(i,e){const t=Yt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],D=[];let O=or();for(const U of a){p.push(U.batchId);for(const Q of U.mutations)O=O.add(Q.key)}for(const U of c){D.push(U.batchId);for(const Q of U.mutations)O=O.add(Q.key)}return t.localDocuments.getDocuments(s,O).next(U=>({er:U,removedBatchIds:p,addedBatchIds:D}))})})}),tp.apply(this,arguments)}function Bg(i,e){const t=Yt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,D,O,U){const Q=O.batch,_e=Q.keys();let qe=Ke.resolve();return _e.forEach(vt=>{qe=qe.next(()=>U.getEntry(D,vt)).next($t=>{const an=O.docVersions.get(vt);un(null!==an),$t.version.compareTo(an)<0&&(Q.applyToRemoteDocument($t,O),$t.isValidDocument()&&($t.setReadTime(O.commitVersion),U.addEntry($t)))})}),qe.next(()=>p.mutationQueue.removeMutationBatch(D,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let D=or();for(let O=0;O<p.mutationResults.length;++O)p.mutationResults[O].transformResults.length>0&&(D=D.add(p.batch.mutations[O].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function hv(i){const e=Yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function fv(i,e){const t=Yt(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((Q,_e)=>{const qe=a.get(_e);if(!qe)return;D.push(t.Bs.removeMatchingKeys(c,Q.removedDocuments,_e).next(()=>t.Bs.addMatchingKeys(c,Q.addedDocuments,_e)));let vt=qe.withSequenceNumber(c.currentSequenceNumber);var $t,an,dn;null!==e.targetMismatches.get(_e)?vt=vt.withResumeToken(Ei.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):Q.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(Q.resumeToken,s)),a=a.insert(_e,vt),an=vt,dn=Q,(0===($t=qe).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||dn.addedDocuments.size+dn.modifiedDocuments.size+dn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(c,vt))});let O=Cs(),U=or();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),D.push(sc(c,p,e.documentUpdates).next(Q=>{O=Q.nr,U=Q.sr})),!s.isEqual(yn.min())){const Q=t.Bs.getLastRemoteSnapshotVersion(c).next(_e=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(Q)}return Ke.waitFor(D).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,O,U)).next(()=>O)}).then(c=>(t.Ji=a,c))}function sc(i,e,t){let s=or(),a=or();return t.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let p=Cs();return t.forEach((D,O)=>{const U=c.get(D);O.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(D)),O.isNoDocument()&&O.version.isEqual(yn.min())?(e.removeEntry(D,O.readTime),p=p.insert(D,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),p=p.insert(D,O)):Mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",U.version," Watch version:",O.version)}),{nr:p,sr:a}})}function pv(i,e){const t=Yt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oc(i,e){const t=Yt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Ke.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new Iu(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function qu(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,d.Z)(function*(i,e,t){const s=Yt(i),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Si(p))throw p;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),np.apply(this,arguments)}function Rd(i,e,t){const s=Yt(i);let a=yn.min(),c=or();return s.persistence.runTransaction("Execute query","readonly",p=>function(D,O,U){const Q=Yt(D),_e=Q.Yi.get(U);return void 0!==_e?Ke.resolve(Q.Ji.get(_e)):Q.Bs.getTargetData(O,U)}(s,p,I(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,D.targetId).next(O=>{c=O})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:yn.min(),t?c:or())).next(D=>(Hg(s,Sn(e),D),{documents:D,ir:c})))}function jg(i,e){const t=Yt(i),s=Yt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(p=>p?p.target:null))}function $g(i,e){const t=Yt(i),s=t.Xi.get(e)||yn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,ya(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Hg(t,e,a),a))}function Hg(i,e,t){let s=i.Xi.get(e)||yn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Xi.set(e,s)}function rp(){return rp=(0,d.Z)(function*(i,e,t,s){const a=Yt(i);let c=or(),p=Cs();for(const U of t){const Q=e.rr(U.metadata.name);U.document&&(c=c.add(Q));const _e=e.ur(U);_e.setReadTime(e.cr(U.metadata.readTime)),p=p.insert(Q,_e)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),O=yield oc(a,(U=s,I(ju(bn.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>sc(U,D,p).next(Q=>(D.apply(U),Q)).next(Q=>a.Bs.removeMatchingKeysForTargetId(U,O.targetId).next(()=>a.Bs.addMatchingKeys(U,c,O.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,Q.nr,Q.sr)).next(()=>Q.nr)))}),rp.apply(this,arguments)}function Gg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,d.Z)(function*(i,e,t=or()){const s=yield oc(i,I(kc(e.bundledQuery))),a=Yt(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=Gi(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(c,e);const D=s.withResumeToken(Ei.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(c,D).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),ip.apply(this,arguments)}function sp(i,e){return`firestore_clients_${i}_${e}`}function op(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Pd(i,e){return`firestore_targets_${i}_${e}`}class ap{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Rt(a.error.code,a.error.message))),p?new ap(e,t,a.state,c):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ac{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Rt(s.error.code,s.error.message))),c?new ac(e,s.state,a):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=dh();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=ds(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new Vh(e,c):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zg(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class El{constructor(){this.activeTargetIds=dh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new wr(ln),this.started=!1,this.yr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=sp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new El),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(sp(e.persistenceKey,a));if(c){const p=Vh.ar(a,c);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Pd(this.persistenceKey,e));if(s){const a=ac.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pd(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mt("SharedClientState","READ",e,t),t}setItem(e,t){Mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let p=cs.ct;if(null!=c)try{const D=JSON.parse(c);un("number"==typeof D),p=D}catch(D){vr("SharedClientState","Failed to read sequence number from WebStorage",D)}return p}(s.newValue);a!==cs.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new ap(this.currentUser,e,t,s),c=op(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=op(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Pd(this.persistenceKey,e),c=new ac(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Vh.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return ap.ar(new In(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return ac.ar(a,t)}br(e){return zg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),p=[],D=[];return c.forEach(O=>{a.has(O)||p.push(O)}),a.forEach(O=>{c.has(O)||D.push(O)}),this.syncEngine.Wr(p,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=dh();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class up{constructor(){this.Hr=new El,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new El,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bh{Yr(e){}shutdown(){}}class ja{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Od=null;function lp(){return null===Od?Od=268435456+Math.round(2147483648*Math.random()):Od++,"0x"+Od.toString(16)}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $s="WebChannelConnection";class Wg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=lp(),D=this.To(e,t);Mt("RestConnection",`Sending RPC '${e}' ${p}:`,D,s);const O={};return this.Eo(O,a,c),this.Ao(e,D,O,s).then(U=>(Mt("RestConnection",`Received RPC '${e}' ${p}: `,U),U),U=>{throw Rr("RestConnection",`RPC '${e}' ${p} failed with error: `,U,"url: ",D,"request:",s),U})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+xr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=lp();return new Promise((p,D)=>{const O=new mn;O.setWithCredentials(!0),O.listenOnce(x.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case V.NO_ERROR:const Q=O.getResponseJson();Mt($s,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),p(Q);break;case V.TIMEOUT:Mt($s,`RPC '${e}' ${c} timed out`),D(new Rt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case V.HTTP_ERROR:const _e=O.getStatus();if(Mt($s,`RPC '${e}' ${c} failed with status:`,_e,"response text:",O.getResponseText()),_e>0){let qe=O.getResponseJson();Array.isArray(qe)&&(qe=qe[0]);const vt=qe?.error;if(vt&&vt.status&&vt.message){const $t=function(an){const dn=an.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(dn)>=0?dn:tt.UNKNOWN}(vt.status);D(new Rt($t,vt.message))}else D(new Rt(tt.UNKNOWN,"Server responded with status "+O.getStatus()))}else D(new Rt(tt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Mt($s,`RPC '${e}' ${c} completed.`)}});const U=JSON.stringify(a);Mt($s,`RPC '${e}' ${c} sending request:`,a),O.send(t,"POST",U,s,15)})}Ro(e,t,s){const a=lp(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=ou(),D=b(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(O.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(O.xmlHttpFactory=new at({})),this.Eo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const Q=c.join("");Mt($s,`Creating RPC '${e}' stream ${a}: ${Q}`,O);const _e=p.createWebChannel(Q,O);let qe=!1,vt=!1;const $t=new Zu({ro:dn=>{vt?Mt($s,`Not sending because RPC '${e}' stream ${a} is closed:`,dn):(qe||(Mt($s,`Opening RPC '${e}' stream ${a} transport.`),_e.open(),qe=!0),Mt($s,`RPC '${e}' stream ${a} sending:`,dn),_e.send(dn))},oo:()=>_e.close()}),an=(dn,lr,Br)=>{dn.listen(lr,Ir=>{try{Br(Ir)}catch(Gs){setTimeout(()=>{throw Gs},0)}})};return an(_e,wt.EventType.OPEN,()=>{vt||Mt($s,`RPC '${e}' stream ${a} transport opened.`)}),an(_e,wt.EventType.CLOSE,()=>{vt||(vt=!0,Mt($s,`RPC '${e}' stream ${a} transport closed`),$t.wo())}),an(_e,wt.EventType.ERROR,dn=>{vt||(vt=!0,Rr($s,`RPC '${e}' stream ${a} transport errored:`,dn),$t.wo(new Rt(tt.UNAVAILABLE,"The operation could not be completed")))}),an(_e,wt.EventType.MESSAGE,dn=>{var lr;if(!vt){const Br=dn.data[0];un(!!Br);const Ir=Br,Gs=Ir.error||(null===(lr=Ir[0])||void 0===lr?void 0:lr.error);if(Gs){Mt($s,`RPC '${e}' stream ${a} received error:`,Gs);const Ss=Gs.status;let xi=function(Su){const vy=fs[Su];if(void 0!==vy)return zu(vy)}(Ss),jo=Gs.message;void 0===xi&&(xi=tt.INTERNAL,jo="Unknown error status: "+Ss+" with message "+Gs.message),vt=!0,$t.wo(new Rt(xi,jo)),_e.close()}else Mt($s,`RPC '${e}' stream ${a} received:`,Br),$t._o(Br)}}),an(D,z.STAT_EVENT,dn=>{dn.stat===we.PROXY?Mt($s,`RPC '${e}' stream ${a} detected buffering proxy`):dn.stat===we.NOPROXY&&Mt($s,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$t.fo()},0),$t}}function jh(){return typeof window<"u"?window:null}function dp(){return typeof document<"u"?document:null}function jc(i){return new W_(i,!0)}class Kg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Nd{constructor(e,t,s,a,c,p,D,O){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=D,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,d.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Rt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $h extends Nd{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function By(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:en(),a=e.targetChange.targetIds||[],c=function(O,U){return O.useProto3Json?(un(void 0===U||"string"==typeof U),Ei.fromBase64String(U||"")):(un(void 0===U||U instanceof Uint8Array),Ei.fromUint8Array(U||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,D=p&&function(O){const U=void 0===O.code?tt.UNKNOWN:zu(O.code);return new Rt(U,O.message||"")}(p);t=new Eh(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=wu(i,s.document.name),c=Gi(s.document.updateTime),p=s.document.createTime?Gi(s.document.createTime):yn.min(),D=new ns({mapValue:{fields:s.document.fields}}),O=Kr.newFoundDocument(a,c,p,D);t=new _h(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=wu(i,s.document),c=s.readTime?Gi(s.readTime):yn.min(),p=Kr.newNoDocument(a,c);t=new _h([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=wu(i,s.document);t=new _h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return en();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new Ny(a,c);t=new _g(s.targetId,p)}}var O;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return yn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?yn.min():c.readTime?Gi(c.readTime):yn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=_d(this.serializer),t.addTarget=function(a,c){let p;const D=c.target;if(p=Bu(D)?{documents:Dg(a,D)}:{query:jf(a,D)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Vy(a,c.resumeToken);const O=md(a,c.expectedCount);null!==O&&(p.expectedCount=O)}else if(c.snapshotVersion.compareTo(yn.min())>0){p.readTime=gl(a,c.snapshotVersion.toTimestamp());const O=md(a,c.expectedCount);null!==O&&(p.expectedCount=O)}return p}(this.serializer,e);const s=function $y(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=_d(this.serializer),t.removeTarget=e,this.Wo(t)}}class hp extends Nd{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jy(i,e){return i&&i.length>0?(un(void 0!==e),i.map(t=>function(s,a){let c=Gi(s.updateTime?s.updateTime:a);return c.isEqual(yn.min())&&(c=Gi(a)),new xy(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Gi(e.commitTime);return this.listener.cu(s,t)}return un(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_d(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Kl(this.serializer,s))};this.Wo(t)}}class fp extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Rt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rt(tt.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(tt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class mv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(vr(t),this.mu=!1):Mt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yv{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(D=>{s.enqueueAndForget((0,d.Z)(function*(){var O;lc(p)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,d.Z)(function*(U){const Q=Yt(U);Q.vu.add(4),yield uc(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield kd(Q)}),function(U){return O.apply(this,arguments)})(p))}))}),this.bu=new mv(s,a)}}function kd(i){return gp.apply(this,arguments)}function gp(){return gp=(0,d.Z)(function*(i){if(lc(i))for(const e of i.Ru)yield e(!0)}),gp.apply(this,arguments)}function uc(i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,d.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Zg.apply(this,arguments)}function Hh(i,e){const t=Yt(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Fd(t)?yp(t):Cl(t).Ko()&&zh(t,e))}function Gh(i,e){const t=Yt(i),s=Cl(t);t.Au.delete(e),s.Ko()&&mp(t,e),0===t.Au.size&&(s.Ko()?s.jo():lc(t)&&t.bu.set("Unknown"))}function zh(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(i).su(e)}function mp(i,e){i.Vu.qt(e),Cl(i).iu(e)}function yp(i){i.Vu=new gd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Cl(i).start(),i.bu.gu()}function Fd(i){return lc(i)&&!Cl(i).Uo()&&i.Au.size>0}function lc(i){return 0===Yt(i).vu.size}function vv(i){i.Vu=void 0}function X_(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,d.Z)(function*(i){i.Au.forEach((e,t)=>{zh(i,e)})}),Yg.apply(this,arguments)}function e0(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,d.Z)(function*(i,e){vv(i),Fd(i)?(i.bu.Iu(e),yp(i)):i.bu.set("Unknown")}),Qg.apply(this,arguments)}function t0(i,e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,d.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Eh&&2===e.state&&e.cause)try{yield(s=(0,d.Z)(function*(a,c){const p=c.cause;for(const D of c.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,p),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(i,e)}catch(s){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield vp(i,s)}else if(e instanceof _h?i.Vu.Ht(e):e instanceof _g?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(yn.min()))try{const s=yield hv(i.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((D,O)=>{if(D.resumeToken.approximateByteSize()>0){const U=a.Au.get(O);U&&a.Au.set(O,U.withResumeToken(D.resumeToken,c))}}),p.targetMismatches.forEach((D,O)=>{const U=a.Au.get(D);if(!U)return;a.Au.set(D,U.withResumeToken(Ei.EMPTY_BYTE_STRING,U.snapshotVersion)),mp(a,D);const Q=new Iu(U.target,D,O,U.sequenceNumber);zh(a,Q)}),a.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(s){Mt("RemoteStore","Failed to raise snapshot:",s),yield vp(i,s)}var s}),Jg.apply(this,arguments)}function vp(i,e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,d.Z)(function*(i,e,t){if(!Si(e))throw e;i.vu.add(1),yield uc(i),i.bu.set("Offline"),t||(t=()=>hv(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield kd(i)}))}),Xg.apply(this,arguments)}function Yu(i,e){return e().catch(t=>vp(i,t,e))}function wl(i){return _p.apply(this,arguments)}function _p(){return _p=(0,d.Z)(function*(i){const e=Yt(i),t=tu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;em(e);)try{const a=yield pv(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ep(e,a)}catch(a){yield vp(e,a)}wp(e)&&Wh(e)}),_p.apply(this,arguments)}function em(i){return lc(i)&&i.Eu.length<10}function Ep(i,e){i.Eu.push(e);const t=tu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function wp(i){return lc(i)&&!tu(i).Uo()&&i.Eu.length>0}function Wh(i){tu(i).start()}function _v(i){return Du.apply(this,arguments)}function Du(){return Du=(0,d.Z)(function*(i){tu(i).hu()}),Du.apply(this,arguments)}function tm(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,d.Z)(function*(i){const e=tu(i);for(const t of i.Eu)e.uu(t.mutations)}),Ip.apply(this,arguments)}function Ev(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,d.Z)(function*(i,e,t){const s=i.Eu.shift(),a=mh.from(s,e,t);yield Yu(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield wl(i)}),Kh.apply(this,arguments)}function wv(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,d.Z)(function*(i,e){var t;e&&tu(i).ou&&(yield(t=(0,d.Z)(function*(s,a){if(yg(c=a.code)&&c!==tt.ABORTED){const p=s.Eu.shift();tu(s).Qo(),yield Yu(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield wl(s)}var c}),function(s,a){return t.apply(this,arguments)})(i,e)),wp(i)&&Wh(i)}),Dp.apply(this,arguments)}function Ld(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,d.Z)(function*(i,e){const t=Yt(i);t.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const s=lc(t);t.vu.add(3),yield uc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kd(t)}),Il.apply(this,arguments)}function Vd(i,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,d.Z)(function*(i,e){const t=Yt(i);e?(t.vu.delete(2),yield kd(t)):e||(t.vu.add(2),yield uc(t),t.bu.set("Unknown"))}),Dl.apply(this,arguments)}function Cl(i){return i.Su||(i.Su=function(e,t,s){const a=Yt(e);return a.fu(),new $h(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:X_.bind(null,i),ao:e0.bind(null,i),nu:t0.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Su.Qo(),Fd(i)?yp(i):i.bu.set("Unknown")):(yield i.Su.stop(),vv(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function tu(i){return i.Du||(i.Du=function(e,t,s){const a=Yt(e);return a.fu(),new hp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:_v.bind(null,i),ao:wv.bind(null,i),au:tm.bind(null,i),cu:Ev.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Du.Qo(),yield wl(i)):(yield i.Du.stop(),i.Eu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class qh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,D=new qh(e,t,p,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Si(i))return new Rt(tt.UNAVAILABLE,`${e}: ${i}`);throw i}class bl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Qt.comparator(t.key,s.key):(t,s)=>Qt.comparator(t.key,s.key),this.keyedMap=vu(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new bl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new bl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Zh{constructor(){this.Cu=new wr(Qt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):en():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class dc{constructor(e,t,s,a,c,p,D,O,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=D,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(D=>{p.push({type:0,doc:D})}),new dc(e,t,bl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Cp{constructor(){this.Nu=void 0,this.listeners=[]}}class Iv{constructor(){this.queries=new js(e=>ut(e),Pe),this.onlineState="Unknown",this.ku=new Set}}function nm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,d.Z)(function*(i,e){const t=Yt(i),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new Cp),a)try{c.Nu=yield t.onListen(s)}catch(p){const D=cc(p,`Initialization of query '${Gt(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Ap(t)}),bp.apply(this,arguments)}function Yh(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,d.Z)(function*(i,e){const t=Yt(i),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Tp.apply(this,arguments)}function rm(i,e){const t=Yt(i);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const D of p.listeners)D.$u(a)&&(s=!0);p.Nu=a}}s&&Ap(t)}function im(i,e,t){const s=Yt(i),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(i){i.ku.forEach(e=>{e.next()})}class Uo{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new dc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sm{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class om{constructor(e){this.serializer=e}rr(e){return wu(this.serializer,e)}ur(e){return e.metadata.exists?is(this.serializer,e.document,!1):Kr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Gi(e)}}class n0{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=am(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new om(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const p of a.metadata.queries){const D=(t.get(p)||or()).add(c);t.set(p,D)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function gv(i,e,t,s){return rp.apply(this,arguments)}(e.localStore,new om(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Gg(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function am(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Qh{constructor(e){this.key=e}}class Sp{constructor(e){this.key=e}}class um{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=or(),this.mutatedKeys=or(),this.tc=mr(e),this.ec=new bl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Zh,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,D=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,_e)=>{const qe=a.get(Q),vt=rn(this.query,_e)?_e:null,$t=!!qe&&this.mutatedKeys.has(qe.key),an=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let dn=!1;qe&&vt?qe.data.isEqual(vt.data)?$t!==an&&(s.track({type:3,doc:vt}),dn=!0):this.rc(qe,vt)||(s.track({type:2,doc:vt}),dn=!0,(O&&this.tc(vt,O)>0||U&&this.tc(vt,U)<0)&&(D=!0)):!qe&&vt?(s.track({type:0,doc:vt}),dn=!0):qe&&!vt&&(s.track({type:1,doc:qe}),dn=!0,(O||U)&&(D=!0)),dn&&(vt?(p=p.add(vt),c=an?c.add(Q):c.delete(Q)):(p=p.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const Q="F"===this.query.limitType?p.last():p.first();p=p.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{ec:p,ic:s,zi:D,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((U,Q)=>function(_e,qe){const vt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return vt(_e)-vt(qe)}(U.type,Q.type)||this.tc(U.doc,Q.doc)),this.oc(s);const p=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,O=D!==this.Xu;return this.Xu=D,0!==c.length||O?{snapshot:new dc(this.query,e.ec,a,c,e.mutatedKeys,0===D,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=or(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Sp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Qh(s))}),t}hc(e){this.Yu=e.ir,this.Zu=or();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Cv{constructor(e){this.key=e,this.fc=!1}}class lm{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new js(D=>ut(D),Pe),this._c=new Map,this.mc=new Set,this.gc=new wr(Qt.comparator),this.yc=new Map,this.Ic=new rr,this.Tc={},this.Ec=new Map,this.Ac=Vo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bv(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,d.Z)(function*(i,e){const t=uf(i);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield oc(t.localStore,I(e)),D=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Mp(t,e,s,"current"===D,p.resumeToken),t.isPrimaryClient&&Hh(t.remoteStore,p)}return a}),Jh.apply(this,arguments)}function Mp(i,e,t,s,a){return xp.apply(this,arguments)}function xp(){return xp=(0,d.Z)(function*(i,e,t,s,a){i.Rc=(_e,qe,vt)=>{return($t=(0,d.Z)(function*(an,dn,lr,Br){let Ir=dn.view.sc(lr);Ir.zi&&(Ir=yield Rd(an.localStore,dn.query,!1).then(({documents:xi})=>dn.view.sc(xi,Ir)));const Gs=Br&&Br.targetChanges.get(dn.targetId),Ss=dn.view.applyChanges(Ir,an.isPrimaryClient,Gs);return jd(an,dn.targetId,Ss.cc),Ss.snapshot}),function(an,dn,lr,Br){return $t.apply(this,arguments)})(i,_e,qe,vt);var $t};const c=yield Rd(i.localStore,e,!0),p=new um(e,c.ir),D=p.sc(c.documents),O=pd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),U=p.applyChanges(D,i.isPrimaryClient,O);jd(i,t,U.cc);const Q=new Dv(e,t,p);return i.wc.set(e,Q),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),U.snapshot}),xp.apply(this,arguments)}function cm(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,d.Z)(function*(i,e){const t=Yt(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Pe(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield qu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Gh(t.remoteStore,s.targetId),Qu(t,s.targetId)}).catch(_a))):(Qu(t,s.targetId),yield qu(t.localStore,s.targetId,!0))}),Xh.apply(this,arguments)}function $a(){return $a=(0,d.Z)(function*(i,e,t){const s=Gd(i);try{const a=yield function(c,p){const D=Yt(c),O=Pr.now(),U=p.reduce((qe,vt)=>qe.add(vt.key),or());let Q,_e;return D.persistence.runTransaction("Locally write mutations","readwrite",qe=>{let vt=Cs(),$t=or();return D.Zi.getEntries(qe,U).next(an=>{vt=an,vt.forEach((dn,lr)=>{lr.isValidDocument()||($t=$t.add(dn))})}).next(()=>D.localDocuments.getOverlayedDocuments(qe,vt)).next(an=>{Q=an;const dn=[];for(const lr of p){const Br=Ry(lr,Q.get(lr.key).overlayedDocument);null!=Br&&dn.push(new Xa(lr.key,Br,ll(Br.value.mapValue),wi.exists(!0)))}return D.mutationQueue.addMutationBatch(qe,O,dn,p)}).next(an=>{_e=an;const dn=an.applyToLocalDocumentSet(Q,$t);return D.documentOverlayCache.saveOverlays(qe,an.batchId,dn)})}).then(()=>({batchId:_e.batchId,changes:od(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,D){let O=c.Tc[c.currentUser.toKey()];O||(O=new wr(ln)),O=O.insert(p,D),c.Tc[c.currentUser.toKey()]=O}(s,a.batchId,t),yield Cu(s,a.changes),yield wl(s.remoteStore)}catch(a){const c=cc(a,"Failed to persist write");t.reject(c)}}),$a.apply(this,arguments)}function ef(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,d.Z)(function*(i,e){const t=Yt(i);try{const s=yield fv(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?un(p.fc):a.removedDocuments.size>0&&(un(p.fc),p.fc=!1))}),yield Cu(t,s,e)}catch(s){yield _a(s)}}),Rp.apply(this,arguments)}function dm(i,e,t){const s=Yt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const D=p.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(c,p){const D=Yt(c);D.onlineState=p;let O=!1;D.queries.forEach((U,Q)=>{for(const _e of Q.listeners)_e.Mu(p)&&(O=!0)}),O&&Ap(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function r0(i,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,d.Z)(function*(i,e,t){const s=Yt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new wr(Qt.comparator);p=p.insert(c,Kr.newNoDocument(c,yn.min()));const D=or().add(c),O=new fd(yn.min(),new Map,new wr(ln),p,D);yield ef(s,O),s.gc=s.gc.remove(c),s.yc.delete(e),nf(s)}else yield qu(s.localStore,e,!1).then(()=>Qu(s,e,t)).catch(_a)}),tf.apply(this,arguments)}function Av(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,d.Z)(function*(i,e){const t=Yt(i),s=e.batch.batchId;try{const a=yield Bg(t.localStore,e);Bd(t,s,null),$c(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Cu(t,a)}catch(a){yield _a(a)}}),Pp.apply(this,arguments)}function Sv(i,e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,d.Z)(function*(i,e,t){const s=Yt(i);try{const a=yield function(c,p){const D=Yt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return D.mutationQueue.lookupMutationBatch(O,p).next(Q=>(un(null!==Q),U=Q.keys(),D.mutationQueue.removeMutationBatch(O,Q))).next(()=>D.mutationQueue.performConsistencyCheck(O)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(O,U,p)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>D.localDocuments.getDocuments(O,U))})}(s.localStore,e);Bd(s,e,t),$c(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(s,a)}catch(a){yield _a(a)}}),Ud.apply(this,arguments)}function Op(){return Op=(0,d.Z)(function*(i,e){const t=Yt(i);lc(t.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=Yt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>p.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=cc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Op.apply(this,arguments)}function $c(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Bd(i,e,t){const s=Yt(i);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Qu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||xv(i,s)})}function xv(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Gh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),nf(i))}function jd(i,e,t){for(const s of t)s instanceof Qh?(i.Ic.addReference(s.key,e),s0(i,s)):s instanceof Sp?(Mt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||xv(i,s.key)):en()}function s0(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(Mt("SyncEngine","New document in limbo: "+t),i.mc.add(s),nf(i))}function nf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Qt(bn.fromString(e)),s=i.Ac.next();i.yc.set(s,new Cv(t)),i.gc=i.gc.insert(t,s),Hh(i.remoteStore,new Iu(I(ju(t.path)),s,"TargetPurposeLimboResolution",cs.ct))}}function Cu(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,d.Z)(function*(i,e,t){const s=Yt(i),a=[],c=[],p=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,O)=>{p.push(s.Rc(O,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const Q=xd.Li(O.targetId,U);c.push(Q)}}))}),yield Promise.all(p),s.dc.nu(a),yield(D=(0,d.Z)(function*(O,U){const Q=Yt(O);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>Ke.forEach(U,qe=>Ke.forEach(qe.Fi,vt=>Q.persistence.referenceDelegate.addReference(_e,qe.targetId,vt)).next(()=>Ke.forEach(qe.Bi,vt=>Q.persistence.referenceDelegate.removeReference(_e,qe.targetId,vt)))))}catch(_e){if(!Si(_e))throw _e;Mt("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of U){const qe=_e.targetId;if(!_e.fromCache){const vt=Q.Ji.get(qe),an=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);Q.Ji=Q.Ji.insert(qe,an)}}}),function(O,U){return D.apply(this,arguments)})(s.localStore,c))}),rf.apply(this,arguments)}function hm(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,d.Z)(function*(i,e){const t=Yt(i);if(!t.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const s=yield dv(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(D=>{D.reject(new Rt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cu(t,s.er)}var a}),$d.apply(this,arguments)}function Ju(i,e){const t=Yt(i),s=t.yc.get(e);if(s&&s.fc)return or().add(s.key);{let a=or();const c=t._c.get(e);if(!c)return a;for(const p of c){const D=t.wc.get(p);a=a.unionWith(D.view.nc)}return a}}function sf(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,d.Z)(function*(i,e){const t=Yt(i),s=yield Rd(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&jd(t,e.targetId,a.cc),a}),Hc.apply(this,arguments)}function Hd(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,d.Z)(function*(i,e){const t=Yt(i);return $g(t.localStore,e).then(s=>Cu(t,s))}),Np.apply(this,arguments)}function kp(i,e,t,s){return af.apply(this,arguments)}function af(){return af=(0,d.Z)(function*(i,e,t,s){const a=Yt(i),c=yield function(p,D){const O=Yt(p),U=Yt(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",Q=>U.Sn(Q,D).next(_e=>_e?O.localDocuments.getDocuments(Q,_e):Ke.resolve(null)))}(a.localStore,e);var D;null!==c?("pending"===t?yield wl(a.remoteStore):"acknowledged"===t||"rejected"===t?(Bd(a,e,s||null),$c(a,e),D=e,Yt(Yt(a.localStore).mutationQueue).Cn(D)):en(),yield Cu(a,c)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),af.apply(this,arguments)}function Fp(){return Fp=(0,d.Z)(function*(i,e){const t=Yt(i);if(uf(t),Gd(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gc(t,s.toArray());t.vc=!0,yield Vd(t.remoteStore,!0);for(const c of a)Hh(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Qu(t,p),qu(t.localStore,p,!0))),Gh(t.remoteStore,p)}),yield a,yield Gc(t,s),function(c){const p=Yt(c);p.yc.forEach((D,O)=>{Gh(p.remoteStore,O)}),p.Ic.Ts(),p.yc=new Map,p.gc=new wr(Qt.comparator)}(t),t.vc=!1,yield Vd(t.remoteStore,!1)}}),Fp.apply(this,arguments)}function Gc(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,d.Z)(function*(i,e,t){const s=Yt(i),a=[],c=[];for(const p of e){let D;const O=s._c.get(p);if(O&&0!==O.length){D=yield oc(s.localStore,I(O[0]));for(const U of O){const Q=s.wc.get(U),_e=yield sf(s,Q);_e.snapshot&&c.push(_e.snapshot)}}else{const U=yield jg(s.localStore,p);D=yield oc(s.localStore,U),yield Mp(s,Pv(U),p,!1,D.resumeToken)}a.push(D)}return s.dc.nu(c),a}),Lp.apply(this,arguments)}function Pv(i){return hl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ov(i){const e=Yt(i);return Yt(Yt(e.localStore).persistence).$i()}function o0(i,e,t,s){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,d.Z)(function*(i,e,t,s){const a=Yt(i);if(a.vc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield $g(a.localStore,Sn(c[0])),D=fd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield Cu(a,p,D);break}case"rejected":yield qu(a.localStore,e,!0),Qu(a,e,s);break;default:en()}}),Vp.apply(this,arguments)}function Nv(i,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,d.Z)(function*(i,e,t){const s=uf(i);if(s.vc){for(const a of e){if(s._c.has(a)){Mt("SyncEngine","Adding an already active target "+a);continue}const c=yield jg(s.localStore,a),p=yield oc(s.localStore,c);yield Mp(s,Pv(c),p.targetId,!1,p.resumeToken),Hh(s.remoteStore,p)}for(const a of t)s._c.has(a)&&(yield qu(s.localStore,a,!1).then(()=>{Gh(s.remoteStore,a),Qu(s,a)}).catch(_a))}}),Up.apply(this,arguments)}function uf(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ef.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ju.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r0.bind(null,e),e.dc.nu=rm.bind(null,e.eventManager),e.dc.Pc=im.bind(null,e.eventManager),e}function Gd(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Av.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}class hc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=jc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createPersistence(e){return new Oh(Sd.zs,this.serializer)}createSharedClientState(e){return new up}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends hc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Gd(s.Vc.syncEngine),yield wl(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Jf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new kl(t,this.persistence);return new Nu(e.asyncQueue,s)}createPersistence(e){const t=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new Fh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,jh(),dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new up}}class fm extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Uh&&(s.sharedClientState.syncEngine={jr:kp.bind(null,a),zr:o0.bind(null,a),Wr:Nv.bind(null,a),$i:Ov.bind(null,a),Qr:Hd.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,d.Z)(function*(p){yield function Rv(i,e){return Fp.apply(this,arguments)}(s.Vc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jh();if(!Uh.D(t))throw new Rt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class zc{initialize(e,t){var s=this;return(0,d.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>dm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=hm.bind(null,s.syncEngine),yield Vd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Iv}createDatastore(e){const t=jc(e.databaseInfo.databaseId),s=new Wg(e.databaseInfo);return new fp(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>dm(this.syncEngine,D,0),p=ja.D()?new ja:new Bh,new yv(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,D,O,U){const Q=new lm(s,a,c,p,D,O);return U&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const s=Yt(t);Mt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield uc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pm(i,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cf{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new si,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new sm(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class fc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Rt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,d.Z)(function*(c,p){const D=Yt(c),O=_d(D.serializer)+"/documents",U={documents:p.map(vt=>yd(D.serializer,vt))},Q=yield D.vo("BatchGetDocuments",O,U,p.length),_e=new Map;Q.forEach(vt=>{const $t=function Uy(i,e){return"found"in e?function(t,s){un(!!s.found);const a=wu(t,s.found.name),c=Gi(s.found.updateTime),p=s.found.createTime?Gi(s.found.createTime):yn.min(),D=new ns({mapValue:{fields:s.found.fields}});return Kr.newFoundDocument(a,c,p,D)}(i,e):"missing"in e?function(t,s){un(!!s.missing),un(!!s.readTime);const a=wu(t,s.missing),c=Gi(s.readTime);return Kr.newNoDocument(a,c)}(i,e):en()}(D.serializer,vt);_e.set($t.key.toString(),$t)});const qe=[];return p.forEach(vt=>{const $t=_e.get(vt.toString());un(!!$t),qe.push($t)}),qe}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Qt.fromPath(a);e.mutations.push(new ph(c,e.precondition(c)))}),yield(s=(0,d.Z)(function*(a,c){const p=Yt(a),D=_d(p.serializer)+"/documents",O={writes:c.map(U=>Kl(p.serializer,U))};yield p.Io("Commit",D,O)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw en();t=yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Rt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yn.min())?wi.exists(!1):wi.updateTime(t):wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yn.min()))throw new Rt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(t)}return wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Kg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new fc(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!qa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yg(t)}return!1}}class zd{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=oi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,d.Z)(function*(D){Mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Mt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=cc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function df(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,d.Z)(function*(c){s.isEqual(c)||(yield dv(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),jp.apply(this,arguments)}function Wd(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield pc(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>Ld(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>Ld(e.remoteStore,c)),i._onlineComponents=e}),$p.apply(this,arguments)}function nu(i){return"FirebaseError"===i.name?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function pc(i){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield df(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!nu(t))throw t;Rr("Error using user provided cache. Falling back to memory cache: "+t),yield df(i,new hc)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield df(i,new hc);return i._offlineComponents}),Hs.apply(this,arguments)}function bu(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wd(i,i._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Wd(i,new zc))),i._onlineComponents}),Wc.apply(this,arguments)}function Sa(i){return pc(i).then(e=>e.persistence)}function Kc(i){return pc(i).then(e=>e.localStore)}function gc(i){return bu(i).then(e=>e.remoteStore)}function Tl(i){return bu(i).then(e=>e.syncEngine)}function ru(i){return Al.apply(this,arguments)}function Al(){return Al=(0,d.Z)(function*(i){const e=yield bu(i),t=e.eventManager;return t.onListen=bv.bind(null,e.syncEngine),t.onUnlisten=cm.bind(null,e.syncEngine),t}),Al.apply(this,arguments)}function yc(i,e,t={}){const s=new si;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,p,D,O){const U=new lf({next:_e=>{c.enqueueAndForget(()=>Yh(a,Q));const qe=_e.docs.has(p);!qe&&_e.fromCache?O.reject(new Rt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):qe&&_e.fromCache&&D&&"server"===D.source?O.reject(new Rt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(_e)},error:_e=>O.reject(_e)}),Q=new Uo(ju(p.path),U,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield ru(i),i.asyncQueue,e,t,s)})),s.promise}function Hp(i,e,t={}){const s=new si;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,p,D,O){const U=new lf({next:_e=>{c.enqueueAndForget(()=>Yh(a,Q)),_e.fromCache&&"server"===D.source?O.reject(new Rt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(_e)},error:_e=>O.reject(_e)}),Q=new Uo(p,U,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield ru(i),i.asyncQueue,e,t,s)})),s.promise}function Gp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const zp=new Map;function hf(i,e,t){if(!t)throw new Rt(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Em(i,e,t,s){if(!0===e&&!0===s)throw new Rt(tt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wm(i){if(!Qt.isDocumentKey(i))throw new Rt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(Qt.isDocumentKey(i))throw new Rt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":en()}function Or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Rt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new Rt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function pf(i,e){if(e<=0)throw new Rt(tt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gf{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Rt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new za;switch(t.type){case"firstParty":return new fa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Rt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zp.get(e);t&&(Mt("ComponentProvider","Removing Datastore"),zp.delete(e),t.terminate())}(this),Promise.resolve()}}function qd(i,e,t,s={}){var a;const c=(i=Or(i,Kd))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==p&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),s.mockUserToken){let D,O;if("string"==typeof s.mockUserToken)D=s.mockUserToken,O=In.MOCK_USER;else{D=(0,le.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Rt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new In(U)}i._authCredentials=new xu(new Ga(D,O))}}class Ii{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}}class Ts{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Tu extends Ts{constructor(e,t,s){super(e,t,ju(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new Qt(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function Kp(i,e,...t){if(i=(0,le.m9)(i),hf("collection","path",e),i instanceof Kd){const s=bn.fromString(e,...t);return Wp(s),new Tu(i,null,s)}{if(!(i instanceof Ii||i instanceof Tu))throw new Rt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bn.fromString(e,...t));return Wp(s),new Tu(i.firestore,null,s)}}function qp(i,e){if(i=Or(i,Kd),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(i,null,(t=e,new Qa(bn.emptyPath(),t)));var t}function Zp(i,e,...t){if(i=(0,le.m9)(i),1===arguments.length&&(e=oi.A()),hf("doc","path",e),i instanceof Kd){const s=bn.fromString(e,...t);return wm(s),new Ii(i,null,new Qt(s))}{if(!(i instanceof Ii||i instanceof Tu))throw new Rt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bn.fromString(e,...t));return wm(s),new Ii(i.firestore,i instanceof Tu?i.converter:null,new Qt(s))}}function Im(i,e){return i=(0,le.m9)(i),e=(0,le.m9)(e),(i instanceof Ii||i instanceof Tu)&&(e instanceof Ii||e instanceof Tu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zd(i,e){return i=(0,le.m9)(i),e=(0,le.m9)(e),i instanceof Ts&&e instanceof Ts&&i.firestore===e.firestore&&Pe(i._query,e._query)&&i.converter===e.converter}class Dm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kg(this,"async_queue_retry"),this.Xc=()=>{const t=dp();t&&Mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Si(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=qh.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&en()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class Yp{constructor(){this._progressObserver={},this._taskCompletionResolver=new si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Cm=-1;class Di extends Kd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Dm,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qp(this),this._firestoreClient.terminate()}}function zi(i){return i._firestoreClient||Qp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qp(i){var e,t,s;const a=i._freezeSettings(),c=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ul(i._databaseId,D,i._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,Gp(U.experimentalLongPollingOptions),U.useFetchStreams));var D,U;i._firestoreClient=new zd(i._authCredentials,i._appCheckCredentials,i._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uv(i,e){Xp(i=Or(i,Di));const t=zi(i);if(t._uninitializedComponentsProvider)throw new Rt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new zc;return bm(t,a,new Bp(a,s.cacheSizeBytes,e?.forceOwnership))}function Bv(i){Xp(i=Or(i,Di));const e=zi(i);if(e._uninitializedComponentsProvider)throw new Rt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new zc;return bm(e,s,new fm(s,t.cacheSizeBytes))}function bm(i,e,t){const s=new si;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield df(i,t),yield Wd(i,e),s.resolve()}catch(a){const c=a;if(!nu(c))throw c;Rr("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Tm(i){if(i._initialized&&!i._terminated)throw new Rt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new si;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(s){if(!io.D())return Promise.resolve();const a=s+"main";yield io.delete(a)}),function(s){return t.apply(this,arguments)})(Md(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Jp(i){return function(e){const t=new si;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Mv(i,e){return Op.apply(this,arguments)}(yield Tl(e),t)})),t.promise}(zi(i=Or(i,Di)))}function Am(i){return function qc(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Sa(i),t=yield gc(i);return e.setNetworkEnabled(!0),function(s){const a=Yt(s);return a.vu.delete(0),kd(a)}(t)}))}(zi(i=Or(i,Di)))}function Sm(i){return function Zc(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Sa(i),t=yield gc(i);return e.setNetworkEnabled(!1),(s=(0,d.Z)(function*(a){const c=Yt(a);c.vu.add(0),yield uc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(zi(i=Or(i,Di)))}function Mm(i,e){const t=zi(i=Or(i,Di)),s=new Yp;return function ym(i,e,t,s){const a=function(c,p){let D;return D="string"==typeof c?ky().encode(c):c,O=function(O,U){if(O instanceof Uint8Array)return pm(O,U);if(O instanceof ArrayBuffer)return pm(new Uint8Array(O),U);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new cf(O,p);var O}(t,jc(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function kv(i,e,t){const s=Yt(i);var a;(a=(0,d.Z)(function*(c,p,D){try{const O=yield p.getMetadata();if(yield function(qe,vt){const $t=Yt(qe),an=Gi(vt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",dn=>$t.qs.getBundleMetadata(dn,vt.id)).then(dn=>!!dn&&dn.createTime.compareTo(an)>=0)}(c.localStore,O))return yield p.close(),D._completeWith({taskState:"Success",documentsLoaded:(qe=O).totalDocuments,bytesLoaded:qe.totalBytes,totalDocuments:qe.totalDocuments,totalBytes:qe.totalBytes}),Promise.resolve(new Set);D._updateProgress(am(O));const U=new n0(O,c.localStore,p.serializer);let Q=yield p.bc();for(;Q;){const qe=yield U.zu(Q);qe&&D._updateProgress(qe),Q=yield p.bc()}const _e=yield U.complete();return yield Cu(c,_e.Ju,void 0),yield function(qe,vt){const $t=Yt(qe);return $t.persistence.runTransaction("Save bundle","readwrite",an=>$t.qs.saveBundleMetadata(an,vt))}(c.localStore,O),D._completeWith(_e.progress),Promise.resolve(_e.Hu)}catch(O){return Rr("SyncEngine",`Loading bundle failed with ${O}`),D._failWith(O),Promise.resolve(new Set)}var qe}),function(c,p,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Tl(i),a,s)}))}(t,i._databaseId,e,s),s}function xm(i,e){return function vm(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,s){const a=Yt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield Kc(i),e)}))}(zi(i=Or(i,Di)),e).then(t=>t?new Ts(i,null,t.query):null)}function Xp(i){if(i._initialized||i._terminated)throw new Rt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(Ei.fromBase64String(e))}catch(t){throw new Rt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vc(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ml{constructor(e){this._methodName=e}}class yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}}const As=/^__.*__$/;class Pm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Yd{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Nm(this.ca)&&As.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $v{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jc(e)}ya(e,t,s,a=!1){return new Yd({ca:e,methodName:t,ga:s,path:sr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(i){const e=i._freezeSettings(),t=jc(i._databaseId);return new $v(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qd(i,e,t,s,a,c={}){const p=i.ya(c.merge||c.mergeFields?2:0,e,t,a);Ha("Data must be an object, but it was:",p,s);const D=Um(s,p);let O,U;if(c.merge)O=new ts(p.fieldMask),U=p.fieldTransforms;else if(c.mergeFields){const Q=[];for(const _e of c.mergeFields){const qe=Bo(e,_e,t);if(!p.contains(qe))throw new Rt(tt.INVALID_ARGUMENT,`Field '${qe}' is specified in your field mask but missing from your input data.`);Bm(Q,qe)||Q.push(qe)}O=new ts(Q),U=p.fieldTransforms.filter(_e=>O.covers(_e.field))}else O=null,U=p.fieldTransforms;return new Pm(new ns(D),O,U)}class Au extends Ml{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Au}}function km(i,e,t){return new Yd({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eg extends Ml{_toFieldTransform(e){return new xc(e.path,new Hu)}isEqual(e){return e instanceof eg}}class Fm extends Ml{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Co(c,t)),a=new _u(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Hv extends Ml{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Co(c,t)),a=new Gu(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Lm extends Ml{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fl(e.serializer,Of(e.serializer,this.Ia));return new xc(e.path,t)}isEqual(e){return this===e}}function Vm(i,e,t,s){const a=i.ya(1,e,t);Ha("Data must be an object, but it was:",a,s);const c=[],p=ns.empty();Za(s,(O,U)=>{const Q=Jd(e,O,t);U=(0,le.m9)(U);const _e=a.da(Q);if(U instanceof Au)c.push(Q);else{const qe=Co(U,_e);null!=qe&&(c.push(Q),p.set(Q,qe))}});const D=new ts(c);return new Om(p,D,a.fieldTransforms)}function vf(i,e,t,s,a,c){const p=i.ya(1,e,t),D=[Bo(e,s,t)],O=[a];if(c.length%2!=0)throw new Rt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qe=0;qe<c.length;qe+=2)D.push(Bo(e,c[qe])),O.push(c[qe+1]);const U=[],Q=ns.empty();for(let qe=D.length-1;qe>=0;--qe)if(!Bm(U,D[qe])){const vt=D[qe];let $t=O[qe];$t=(0,le.m9)($t);const an=p.da(vt);if($t instanceof Au)U.push(vt);else{const dn=Co($t,an);null!=dn&&(U.push(vt),Q.set(vt,dn))}}const _e=new ts(U);return new Om(Q,_e,p.fieldTransforms)}function _f(i,e,t,s=!1){return Co(t,i.ya(s?4:3,e))}function Co(i,e){if(tg(i=(0,le.m9)(i)))return Ha("Unsupported field value:",e,i),Um(i,e);if(i instanceof Ml)return function(t,s){if(!Nm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let D=Co(p,s.wa(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Of(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Pr.fromDate(t);return{timestampValue:gl(s.serializer,a)}}if(t instanceof Pr){const a=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gl(s.serializer,a)}}if(t instanceof yf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vc)return{bytesValue:Vy(s.serializer,t._byteString)};if(t instanceof Ii){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ff(t)}`)}(i,e)}function Um(i,e){const t={};return Ll(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(i,(s,a)=>{const c=Co(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function tg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Pr||i instanceof yf||i instanceof vc||i instanceof Ii||i instanceof Ml)}function Ha(i,e,t){if(!tg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ff(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Bo(i,e,t){if((e=(0,le.m9)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return Jd(i,e);throw Xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const iu=new RegExp("[~\\*/\\[\\]]");function Jd(i,e,t){if(e.search(iu)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xd(i,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let O="";return(c||p)&&(O+=" (found",c&&(O+=` in field ${s}`),p&&(O+=` in document ${a}`),O+=")"),new Rt(tt.INVALID_ARGUMENT,D+i+O)}function Bm(i,e){return i.some(t=>t.isEqual(e))}class eh{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gv extends eh{data(){return super.data()}}function Ef(i,e){return"string"==typeof e?Jd(i,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}function wf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Rt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _c{}class th extends _c{}function jm(i,e,...t){let s=[];e instanceof _c&&s.push(e),s=s.concat(t),function(a){const c=a.filter(D=>D instanceof Ec).length,p=a.filter(D=>D instanceof nh).length;if(c>1||c>0&&p>0)throw new Rt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class nh extends th{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nh(e,t,s)}_apply(e){const t=this._parse(e);return Ym(e._query,t),new Ts(e.firestore,e.converter,$(e._query,t))}_parse(e){const t=xl(e.firestore);return function(a,c,p,D,O,U,Q){let _e;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Rt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){Zm(Q,U);const qe=[];for(const vt of Q)qe.push(qm(D,a,vt));_e={arrayValue:{values:qe}}}else _e=qm(D,a,Q)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||Zm(Q,U),_e=_f(p,"where",Q,"in"===U||"not-in"===U);return ve.create(O,U,_e)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $m(i,e,t){const s=e,a=Ef("where",i);return nh._create(a,s,t)}class Ec extends _c{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Me.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const D of p)Ym(c,D),c=$(c,D)}(e._query,t),new Ts(e.firestore,e.converter,$(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class If extends th{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new If(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Rt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Rt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new A(a,c);return function(D,O){if(null===Ac(D)){const U=_(D);null!==U&&Qm(0,U,O.field)}}(s,p),p}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Qa(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Hm(i,e="asc"){const t=e,s=Ef("orderBy",i);return If._create(s,t)}class Jc extends th{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jc(e,t,s)}_apply(e){return new Ts(e.firestore,e.converter,J(e._query,this._limit,this._limitType))}}function Df(i){return pf("limit",i),Jc._create("limit",i,"F")}function rg(i){return pf("limitToLast",i),Jc._create("limitToLast",i,"L")}class rh extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new rh(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(a=t,new Qa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function Gm(...i){return rh._create("startAt",i,!0)}function zm(...i){return rh._create("startAfter",i,!1)}class ih extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ih(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(a=t,new Qa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Wm(...i){return ih._create("endBefore",i,!1)}function Km(...i){return ih._create("endAt",i,!0)}function ig(i,e,t,s){if(t[0]=(0,le.m9)(t[0]),t[0]instanceof eh)return function(a,c,p,D,O){if(!D)throw new Rt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const U=[];for(const Q of g(a))if(Q.field.isKeyField())U.push(La(c,D.key));else{const _e=D.data.field(Q.field);if(Fu(_e))throw new Rt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_e){const qe=Q.field.canonicalString();throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qe}' (used as the orderBy) does not exist.`)}U.push(_e)}return new rs(U,O)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=xl(i.firestore);return function(c,p,D,O,U,Q){const _e=c.explicitOrderBy;if(U.length>_e.length)throw new Rt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qe=[];for(let vt=0;vt<U.length;vt++){const $t=U[vt];if(_e[vt].field.isKeyField()){if("string"!=typeof $t)throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof $t}`);if(!h(c)&&-1!==$t.indexOf("/"))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${$t}' contains a slash.`);const an=c.path.child(bn.fromString($t));if(!Qt.isDocumentKey(an))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${an}' is not because it contains an odd number of segments.`);const dn=new Qt(an);qe.push(La(p,dn))}else{const an=_f(D,O,$t);qe.push(an)}}return new rs(qe,Q)}(i._query,i.firestore._databaseId,a,e,t,s)}}function qm(i,e,t){if("string"==typeof(t=(0,le.m9)(t))){if(""===t)throw new Rt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h(e)&&-1!==t.indexOf("/"))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(bn.fromString(t));if(!Qt.isDocumentKey(s))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return La(i,new Qt(s))}if(t instanceof Ii)return La(i,t._key);throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function Zm(i,e){if(!Array.isArray(i)||0===i.length)throw new Rt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ym(i,e){if(e.isInequality()){const s=_(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Ac(i);null!==c&&Qm(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Rt(tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Qm(i,e,t){if(!t.isEqual(e))throw new Rt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sg{convertValue(e,t="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Za(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new yf(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Lu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=Eo(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=bn.fromString(e);un(Gf(s));const a=new ra(s.get(1),s.get(3)),c=new Qt(s.popFirst(5));return a.isEqual(t)||vr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Cf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class zv extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,t)}}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends eh{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sh extends Ic{data(e={}){return super.data(e)}}class Dc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new sh(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new sh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new wc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const D=new sh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new wc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,U=-1;return 0!==p.type&&(O=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),U=c.indexOf(p.doc.key)),{type:Kv(p.type),doc:D,oldIndex:O,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function Xm(i,e){return i instanceof Ic&&e instanceof Ic?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Dc&&e instanceof Dc&&i._firestore===e._firestore&&Zd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ey(i){i=Or(i,Ii);const e=Or(i.firestore,Di);return yc(zi(e),i._key).then(t=>ly(e,i,t))}class Xu extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,t)}}function ty(i){i=Or(i,Ii);const e=Or(i.firestore,Di),t=zi(e),s=new Xu(e);return function Yc(i,e){const t=new si;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(a,c,p){try{const D=yield function(O,U){const Q=Yt(O);return Q.persistence.runTransaction("read document","readonly",_e=>Q.localDocuments.getDocument(_e,U))}(a,c);D.isFoundDocument()?p.resolve(D):D.isNoDocument()?p.resolve(null):p.reject(new Rt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const O=cc(D,`Failed to get document '${c} from cache`);p.reject(O)}}),function(a,c,p){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._key).then(a=>new Ic(e,s,i._key,a,new wc(null!==a&&a.hasLocalMutations,!0),i.converter))}function ny(i){i=Or(i,Ii);const e=Or(i.firestore,Di);return yc(zi(e),i._key,{source:"server"}).then(t=>ly(e,i,t))}function ry(i){i=Or(i,Ts);const e=Or(i.firestore,Di),t=zi(e),s=new Xu(e);return wf(i._query),Hp(t,i._query).then(a=>new Dc(e,s,i,a))}function iy(i){i=Or(i,Ts);const e=Or(i.firestore,Di),t=zi(e),s=new Xu(e);return function gm(i,e){const t=new si;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(a,c,p){try{const D=yield Rd(a,c,!0),O=new um(c,D.ir),U=O.sc(D.documents),Q=O.applyChanges(U,!1);p.resolve(Q.snapshot)}catch(D){const O=cc(D,`Failed to execute query '${c} against cache`);p.reject(O)}}),function(a,c,p){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._query).then(a=>new Dc(e,s,i,a))}function sy(i){i=Or(i,Ts);const e=Or(i.firestore,Di),t=zi(e),s=new Xu(e);return Hp(t,i._query,{source:"server"}).then(a=>new Dc(e,s,i,a))}function oy(i,e,t){i=Or(i,Ii);const s=Or(i.firestore,Di),a=Cf(i.converter,e,t);return su(s,[Qd(xl(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,wi.none())])}function ay(i,e,t,...s){i=Or(i,Ii);const a=Or(i.firestore,Di),c=xl(a);let p;return p="string"==typeof(e=(0,le.m9)(e))||e instanceof Sl?vf(c,"updateDoc",i._key,e,t,s):Vm(c,"updateDoc",i._key,e),su(a,[p.toMutation(i._key,wi.exists(!0))])}function uy(i){return su(Or(i.firestore,Di),[new pl(i._key,wi.none())])}function Cc(i,e){const t=Or(i.firestore,Di),s=Zp(i),a=Cf(i.converter,e);return su(t,[Qd(xl(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,wi.exists(!1))]).then(()=>s)}function qv(i,...e){var t,s,a;i=(0,le.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||mf(e[p])||(c=e[p],p++);const D={includeMetadataChanges:c.includeMetadataChanges};if(mf(e[p])){const _e=e[p];e[p]=null===(t=_e.next)||void 0===t?void 0:t.bind(_e),e[p+1]=null===(s=_e.error)||void 0===s?void 0:s.bind(_e),e[p+2]=null===(a=_e.complete)||void 0===a?void 0:a.bind(_e)}let O,U,Q;if(i instanceof Ii)U=Or(i.firestore,Di),Q=ju(i._key.path),O={next:_e=>{e[p]&&e[p](ly(U,i,_e))},error:e[p+1],complete:e[p+2]};else{const _e=Or(i,Ts);U=Or(_e.firestore,Di),Q=_e._query;const qe=new Xu(U);O={next:vt=>{e[p]&&e[p](new Dc(U,qe,_e,vt))},error:e[p+1],complete:e[p+2]},wf(i._query)}return function(_e,qe,vt,$t){const an=new lf($t),dn=new Uo(qe,an,vt);return _e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return nm(yield ru(_e),dn)})),()=>{an.Dc(),_e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Yh(yield ru(_e),dn)}))}}(zi(U),Q,D,O)}function Zv(i,e){return function mm(i,e){const t=new lf(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield ru(i),a=t,Yt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield ru(i),a=t,void Yt(s).ku.delete(a);var s,a}))}}(zi(i=Or(i,Di)),mf(e)?e:{next:e})}function su(i,e){return function(t,s){const a=new si;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Tv(i,e,t){return $a.apply(this,arguments)}(yield Tl(t),s,a)})),a.promise}(zi(i),e)}function ly(i,e,t){const s=t.docs.get(e._key),a=new Xu(i);return new Ic(i,a,e._key,s,new wc(t.hasPendingWrites,t.fromCache),e.converter)}const _0={maxAttempts:5};class og{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,s){this._verifyNotCommitted();const a=el(e,this._firestore),c=Cf(a.converter,t,s),p=Qd(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,wi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=el(e,this._firestore);let p;return p="string"==typeof(t=(0,le.m9)(t))||t instanceof Sl?vf(this._dataReader,"WriteBatch.update",c._key,t,s,a):Vm(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=el(e,this._firestore);return this._mutations=this._mutations.concat(new pl(t._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function el(i,e){if((i=(0,le.m9)(i)).firestore!==e)throw new Rt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=el(e,this._firestore),s=new zv(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return en();const c=a[0];if(c.isFoundDocument())return new eh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new eh(this._firestore,s,t._key,null,t.converter);throw en()})}set(e,t,s){const a=el(e,this._firestore),c=Cf(a.converter,t,s),p=Qd(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=el(e,this._firestore);let p;return p="string"==typeof(t=(0,le.m9)(t))||t instanceof Sl?vf(this._dataReader,"Transaction.update",c._key,t,s,a):Vm(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=el(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=el(e,this._firestore),s=new Xu(this._firestore);return super.get(e).then(a=>new Ic(this._firestore,s,t._key,a._document,new wc(!1,!1),t.converter))}}function fy(i,e,t){i=Or(i,Di);const s=Object.assign(Object.assign({},_0),t);return function(a){if(a.maxAttempts<1)throw new Rt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const D=new si;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const O=yield function mc(i){return bu(i).then(e=>e.datastore)}(a);new a0(a.asyncQueue,O,p,c,D).run()})),D.promise}(zi(i),a=>e(new Qv(i,a)),s)}function py(){return new Au("deleteField")}function gy(){return new eg("serverTimestamp")}function my(...i){return new Fm("arrayUnion",i)}function Jv(...i){return new Hv("arrayRemove",i)}function Xv(i){return new Lm("increment",i)}!function(i,e=!0){xr=F.SDK_VERSION,(0,F._registerComponent)(new B.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Di(new nl(t.getProvider("auth-internal")),new Ol(t.getProvider("app-check-internal")),function(D,O){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Rt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(D.options.projectId,O)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(_r,"3.13.0",i),(0,F.registerVersion)(_r,"3.13.0","esm2017")}()},2090:(Ht,Be,k)=>{k.d(Be,{$s:()=>W,BH:()=>st,G6:()=>$e,L:()=>Oe,LL:()=>Wt,Pz:()=>nt,Sg:()=>St,UG:()=>pe,US:()=>Ie,ZB:()=>Ee,ZR:()=>xt,aH:()=>me,b$:()=>_t,eu:()=>Je,hl:()=>ze,jU:()=>ot,m9:()=>Ot,ne:()=>ge,pd:()=>dr,r3:()=>qn,ru:()=>Le,tV:()=>ee,uI:()=>Ce,vZ:()=>Pn,w1:()=>fr,xO:()=>jr,xb:()=>cr,z$:()=>He,zI:()=>gt,zd:()=>br});const he=function(ae){const ue=[];let Y=0;for(let K=0;K<ae.length;K++){let H=ae.charCodeAt(K);H<128?ue[Y++]=H:H<2048?(ue[Y++]=H>>6|192,ue[Y++]=63&H|128):55296==(64512&H)&&K+1<ae.length&&56320==(64512&ae.charCodeAt(K+1))?(H=65536+((1023&H)<<10)+(1023&ae.charCodeAt(++K)),ue[Y++]=H>>18|240,ue[Y++]=H>>12&63|128,ue[Y++]=H>>6&63|128,ue[Y++]=63&H|128):(ue[Y++]=H>>12|224,ue[Y++]=H>>6&63|128,ue[Y++]=63&H|128)}return ue},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,ue){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let H=0;H<ae.length;H+=3){const Te=ae[H],ft=H+1<ae.length,Bt=ft?ae[H+1]:0,nn=H+2<ae.length,re=nn?ae[H+2]:0;let Re=(15&Bt)<<2|re>>6,We=63&re;nn||(We=64,ft||(Re=64)),K.push(Y[Te>>2],Y[(3&Te)<<4|Bt>>4],Y[Re],Y[We])}return K.join("")},encodeString(ae,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ae):this.encodeByteArray(he(ae),ue)},decodeString(ae,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ae):function(ae){const ue=[];let Y=0,K=0;for(;Y<ae.length;){const H=ae[Y++];if(H<128)ue[K++]=String.fromCharCode(H);else if(H>191&&H<224){const Te=ae[Y++];ue[K++]=String.fromCharCode((31&H)<<6|63&Te)}else if(H>239&&H<365){const nn=((7&H)<<18|(63&ae[Y++])<<12|(63&ae[Y++])<<6|63&ae[Y++])-65536;ue[K++]=String.fromCharCode(55296+(nn>>10)),ue[K++]=String.fromCharCode(56320+(1023&nn))}else{const Te=ae[Y++],ft=ae[Y++];ue[K++]=String.fromCharCode((15&H)<<12|(63&Te)<<6|63&ft)}}return ue.join("")}(this.decodeStringToByteArray(ae,ue))},decodeStringToByteArray(ae,ue){this.init_();const Y=ue?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let H=0;H<ae.length;){const Te=Y[ae.charAt(H++)],Bt=H<ae.length?Y[ae.charAt(H)]:0;++H;const re=H<ae.length?Y[ae.charAt(H)]:64;++H;const X=H<ae.length?Y[ae.charAt(H)]:64;if(++H,null==Te||null==Bt||null==re||null==X)throw new De;K.push(Te<<2|Bt>>4),64!==re&&(K.push(Bt<<4&240|re>>2),64!==X&&K.push(re<<6&192|X))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(ae){return function(ae){const ue=he(ae);return Ie.encodeByteArray(ue,!0)}(ae).replace(/\./g,"")},ee=function(ae){try{return Ie.decodeString(ae,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function Ee(ae,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return ue}for(const Y in ue)!ue.hasOwnProperty(Y)||!ht(Y)||(ae[Y]=Ee(ae[Y],ue[Y]));return ae}function ht(ae){return"__proto__"!==ae}const Se=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=ae&&ee(ae[1]);return ue&&JSON.parse(ue)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},me=()=>{var ae;return null===(ae=Se())||void 0===ae?void 0:ae.config},nt=ae=>{var ue;return null===(ue=Se())||void 0===ue?void 0:ue[`_${ae}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,Y)=>{this.resolve=ue,this.reject=Y})}wrapCallback(ue){return(Y,K)=>{Y?this.reject(Y):this.resolve(K),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(Y):ue(Y,K))}}}function St(ae,ue){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=ue||"demo-project",H=ae.iat||0,Te=ae.sub||ae.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:H,exp:H+3600,auth_time:H,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(ft)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function pe(){var ae;const ue=null===(ae=Se())||void 0===ae?void 0:ae.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function Le(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fr(){const ae=He();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function $e(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((ae,ue)=>{try{let Y=!0;const K="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(K);H.onsuccess=()=>{H.result.close(),Y||self.indexedDB.deleteDatabase(K),ae(!0)},H.onupgradeneeded=()=>{Y=!1},H.onerror=()=>{var Te;ue((null===(Te=H.error)||void 0===Te?void 0:Te.message)||"")}}catch(Y){ue(Y)}})}function gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xt extends Error{constructor(ue,Y,K){super(Y),this.code=ue,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(ue,Y,K){this.service=ue,this.serviceName=Y,this.errors=K}create(ue,...Y){const K=Y[0]||{},H=`${this.service}/${ue}`,Te=this.errors[ue],ft=Te?function Vt(ae,ue){return ae.replace(sn,(Y,K)=>{const H=ue[K];return null!=H?String(H):`<${K}?>`})}(Te,K):"Error";return new xt(H,`${this.serviceName}: ${ft} (${H}).`,K)}}const sn=/\{\$([^}]+)}/g;function qn(ae,ue){return Object.prototype.hasOwnProperty.call(ae,ue)}function cr(ae){for(const ue in ae)if(Object.prototype.hasOwnProperty.call(ae,ue))return!1;return!0}function Pn(ae,ue){if(ae===ue)return!0;const Y=Object.keys(ae),K=Object.keys(ue);for(const H of Y){if(!K.includes(H))return!1;const Te=ae[H],ft=ue[H];if(On(Te)&&On(ft)){if(!Pn(Te,ft))return!1}else if(Te!==ft)return!1}for(const H of K)if(!Y.includes(H))return!1;return!0}function On(ae){return null!==ae&&"object"==typeof ae}function jr(ae){const ue=[];for(const[Y,K]of Object.entries(ae))Array.isArray(K)?K.forEach(H=>{ue.push(encodeURIComponent(Y)+"="+encodeURIComponent(H))}):ue.push(encodeURIComponent(Y)+"="+encodeURIComponent(K));return ue.length?"&"+ue.join("&"):""}function br(ae){const ue={};return ae.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[H,Te]=K.split("=");ue[decodeURIComponent(H)]=decodeURIComponent(Te)}}),ue}function dr(ae){const ue=ae.indexOf("?");if(!ue)return"";const Y=ae.indexOf("#",ue);return ae.substring(ue,Y>0?Y:void 0)}function ge(ae,ue){const Y=new de(ae,ue);return Y.subscribe.bind(Y)}class de{constructor(ue,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{ue(this)}).catch(K=>{this.error(K)})}next(ue){this.forEachObserver(Y=>{Y.next(ue)})}error(ue){this.forEachObserver(Y=>{Y.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,Y,K){let H;if(void 0===ue&&void 0===Y&&void 0===K)throw new Error("Missing Observer.");H=function lt(ae,ue){if("object"!=typeof ae||null===ae)return!1;for(const Y of ue)if(Y in ae&&"function"==typeof ae[Y])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:Y,complete:K},void 0===H.next&&(H.next=tn),void 0===H.error&&(H.error=tn),void 0===H.complete&&(H.complete=tn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),Te}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,ue)}sendOne(ue,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{Y(this.observers[ue])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tn(){}function W(ae,ue=1e3,Y=2){const K=ue*Math.pow(Y,ae),H=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+H)}function Ot(ae){return ae&&ae._delegate?ae._delegate:ae}},7915:(Ht,Be,k)=>{k.d(Be,{U:()=>St});var d=k(4650),F=k(4985),B=k(8179),he=k(4006),le=k(6895),Ie=k(2121);function De(He,Ce){if(1&He&&(d.TgZ(0,"option",14),d._uU(1),d.qZA()),2&He){const pe=Ce.$implicit;d.Q6J("ngValue",pe),d.xp6(1),d.hij(" ",pe," ")}}const te=function(He){return{"is-invalid":He}};function Oe(He,Ce){if(1&He&&(d.TgZ(0,"select",11)(1,"option",12),d._uU(2,"Seleccione una opcion"),d.qZA(),d.YNc(3,De,2,2,"option",13),d.qZA()),2&He){const pe=d.oxw().$implicit,ot=d.oxw(2);d.Q6J("id",pe.label)("name",pe.label)("ngClass",d.VKq(6,te,(ot.f[pe.label].touched||ot.submitted)&&ot.f[pe.label].errors))("formControlName",pe.label),d.xp6(1),d.Q6J("ngValue",null),d.xp6(2),d.Q6J("ngForOf",pe.value)}}function ee(He,Ce){if(1&He&&d._UZ(0,"input",15),2&He){const pe=d.oxw().$implicit,ot=d.oxw(2);d.Tol("form-control"+pe.classlist),d.Q6J("formControlName",pe.label)("id",pe.label)("name",pe.label)("type",pe.type)("placeholder",pe.placeholder)("value",pe.valueCallback?pe.getValue():pe.value)("ngClass",d.VKq(10,te,(ot.f[pe.label].touched||ot.submitted)&&ot.f[pe.label].errors))("readonly",ot.mode||pe.readonly)}}function ce(He,Ce){1&He&&(d.TgZ(0,"div"),d._uU(1,"El Email es invalido"),d.qZA())}function Ee(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",pe.placeholder," es requerido ")}}function ht(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",pe.placeholder," debe estar seleccionado ")}}function et(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",pe.placeholder," no tiene el patron requerido ")}}function Fe(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit,ot=d.oxw(2);d.xp6(1),d.AsE(" ",pe.placeholder," debe tener almenos ",ot.f[pe.label].errors.minlength.requiredLength," caracteres ")}}function mt(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit,ot=d.oxw(2);d.xp6(1),d.AsE(" ",pe.placeholder," debe tener menos de ",ot.f[pe.label].errors.maxlength.requiredLength," caracteres ")}}function Ue(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit,ot=d.oxw(2);d.xp6(1),d.AsE(" ",pe.placeholder," debe tener menos de ",ot.f[pe.label].errors.maxlength.requiredLength," caracteres ")}}function Se(He,Ce){if(1&He&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&He){const pe=d.oxw(2).$implicit,ot=d.oxw(2);d.xp6(1),d.AsE(" ",pe.placeholder," ",ot.f[pe.label].errors.custom,"")}}function yt(He,Ce){if(1&He&&(d.TgZ(0,"div",16),d.YNc(1,ce,2,0,"div",17),d.YNc(2,Ee,2,1,"div",17),d.YNc(3,ht,2,1,"div",17),d.YNc(4,et,2,1,"div",17),d.YNc(5,Fe,2,2,"div",17),d.YNc(6,mt,2,2,"div",17),d.YNc(7,Ue,2,2,"div",17),d.YNc(8,Se,2,2,"div",17),d.qZA()),2&He){const pe=d.oxw().$implicit,ot=d.oxw(2);d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.email),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.required),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.requiredTrue),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.pattern),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.minlength),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.maxlength),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.maxlength),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors.custom)}}function pt(He,Ce){1&He&&d._UZ(0,"div",18)}function me(He,Ce){if(1&He&&(d.TgZ(0,"div",5),d.YNc(1,Oe,4,8,"select",6),d.YNc(2,ee,1,12,"input",7),d.TgZ(3,"label",8),d._uU(4),d.qZA(),d.YNc(5,yt,9,8,"div",9),d.YNc(6,pt,1,0,"div",10),d.qZA()),2&He){const pe=Ce.$implicit,ot=d.oxw(2);d.xp6(1),d.Q6J("ngIf","select"==pe.type),d.xp6(1),d.Q6J("ngIf","select"!=pe.type),d.xp6(1),d.Q6J("for",pe.label),d.xp6(1),d.hij("",pe.placeholder," "),d.xp6(1),d.Q6J("ngIf",ot.f[pe.label].errors),d.xp6(1),d.Q6J("ngIf","radio"==pe.type)}}function nt(He,Ce){if(1&He&&(d.TgZ(0,"div",3),d.YNc(1,me,7,6,"div",4),d.qZA()),2&He){const pe=Ce.$implicit;d.xp6(1),d.Q6J("ngForOf",pe)}}function st(He,Ce){if(1&He){const pe=d.EpF();d.TgZ(0,"div",19)(1,"app-warn-modal",20),d.NdJ("continue",function(Le){d.CHM(pe);const _t=d.oxw();return d.KtG(_t.onSubmit(Le))})("modalMessage",function(){d.CHM(pe);const Le=d.oxw();return d.KtG(Le.modalMessage)}),d.qZA(),d.TgZ(2,"button",21),d.NdJ("click",function(){d.CHM(pe);const Le=d.oxw();return d.KtG(Le.onReset())}),d._uU(3," Resetear "),d.qZA()()}if(2&He){const pe=d.oxw();d.xp6(1),d.Q6J("btnMessage",pe.btnMes)}}let St=(()=>{class He{constructor(pe,ot){this.cdref=pe,this.fb=ot,this.formModel=new d.vpe,this.reject=new d.vpe,this.mode=!1,this.showBtns=!0,this.btnMes="Registrar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.formObj=[[new F.O("Nombre Completo","fullname","text"),new F.O("Nombre de Usuario","username","text")],[new F.O("Correo Electronico","email","text")],[new F.O("Password","password","password"),new F.O("Confirmar Password","Confirm Password","password")],[new F.O("Aceptar los Terminos","Accept Terms","radio",[],"form-check-input",!1)]],this.continue=!1,this.submitted=!1,this.firstCall=!0}ngOnInit(){var pe={};pe=this.formObj.flat().reduce((ot,Le)=>{if(this.placeHolder){var _t=this.placeHolder[Le.getLabel()];_t instanceof B.EK&&(_t=this.formatDateString(_t.toDate().toLocaleDateString())),Le.control?.patchValue(_t)}return this.mode&&Le.control?.clearValidators(),ot[Le.label]=Le.control,ot},pe),this._form=this.fb.group(pe)}get f(){return this._form.controls}onContinue(pe){this.continue=pe}initPlaceHolder(){this.placeHolder&&this.formObj.forEach(pe=>pe.forEach(ot=>{if(this.placeHolder){var Le=this.placeHolder[ot.getLabel()];Le instanceof B.EK&&(Le=this.formatDateString(Le.toDate().toLocaleDateString())),this.f[ot.getLabel()].patchValue(Le)}}))}ngOnChanges(){this.firstCall||this.initPlaceHolder(),this.firstCall=!1}formatDateString(pe){return pe.split("/").reverse().join("/").replace(/\//g,"-")}ngAfterContentChecked(){this.cdref.detectChanges()}onSubmit(pe){this.submitted=!0,console.log(this.f.clientName.errors.required),console.log(JSON.stringify(this._form.getRawValue(),null,2))}onReset(){this._form.reset(),this.continue=!1,this.submitted=!1}}return He.\u0275fac=function(pe){return new(pe||He)(d.Y36(d.sBO),d.Y36(he.j3))},He.\u0275cmp=d.Xpm({type:He,selectors:[["app-form"]],inputs:{placeHolder:"placeHolder",mode:"mode",showBtns:"showBtns",btnMes:"btnMes",modalMessage:"modalMessage",formObj:"formObj"},outputs:{formModel:"formModel",reject:"reject"},features:[d.TTD],decls:3,vars:3,consts:[["name","form",3,"formGroup","ngSubmit"],["class","input-group mb-2",4,"ngFor","ngForOf"],["class","form-group mt-3",4,"ngIf"],[1,"input-group","mb-2"],["class","form-floating",4,"ngFor","ngForOf"],[1,"form-floating"],["class","form-select",3,"id","name","ngClass","formControlName",4,"ngIf"],[3,"formControlName","class","id","name","type","placeholder","value","ngClass","readonly",4,"ngIf"],[1,"",3,"for"],["class","invalid-feedback",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"form-select",3,"id","name","ngClass","formControlName"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"formControlName","id","name","type","placeholder","value","ngClass","readonly"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-4"],[1,"form-group","mt-3"],["id","1","name","btn1","type","submit",3,"btnMessage","continue","modalMessage"],["type","button",1,"ms-2","btn","btn-outline-primary","rounded-pill",3,"click"]],template:function(pe,ot){1&pe&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return ot.onContinue(!0)}),d.YNc(1,nt,2,1,"div",1),d.YNc(2,st,4,1,"div",2),d.qZA()),2&pe&&(d.Q6J("formGroup",ot._form),d.xp6(1),d.Q6J("ngForOf",ot.formObj),d.xp6(1),d.Q6J("ngIf",!ot.mode&&ot.showBtns))},dependencies:[le.mk,le.sg,le.O5,he._Y,he.YN,he.Kr,he.Fj,he.EJ,he.JJ,he.JL,he.sg,he.u,Ie.u]}),He})()},2121:(Ht,Be,k)=>{k.d(Be,{u:()=>he});var d=k(4650),F=k(6895);const B=function(){return["btn-outline-success","rounded-pill"]};let he=(()=>{class le{constructor(){this.btnMessage="Continuar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.btnType=!1,this.continue=new d.vpe}ngOnInit(){}modalContinue(De){this.continue.emit(De)}}return le.\u0275fac=function(De){return new(De||le)},le.\u0275cmp=d.Xpm({type:le,selectors:[["app-warn-modal"]],inputs:{btnMessage:"btnMessage",modalMessage:"modalMessage",classlist:"classlist",btnType:"btnType"},outputs:{continue:"continue"},decls:17,vars:4,consts:[[1,"container-fluid","my-3","mx-auto"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn",3,"ngClass"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","rounded-pill",3,"click"],["type","submit","data-bs-dismiss","modal",1,"ms-5","pb-2","btn","btn-success","rounded-pill",3,"click"]],template:function(De,te){1&De&&(d.TgZ(0,"div",0)(1,"button",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),d._uU(8,"PRECAUCION"),d.qZA(),d.TgZ(9,"button",7),d.NdJ("click",function(){return te.modalContinue(!1)}),d.qZA()(),d.TgZ(10,"div",8),d._uU(11),d.qZA(),d.TgZ(12,"div",9)(13,"button",10),d.NdJ("click",function(){return te.modalContinue(!1)}),d._uU(14,"Abortar"),d.qZA(),d.TgZ(15,"button",11),d.NdJ("click",function(){return te.modalContinue(!0)}),d._uU(16,"Continuar"),d.qZA()()()()()()),2&De&&(d.xp6(1),d.Q6J("ngClass",te.classlist?te.classlist:d.DdM(3,B)),d.xp6(1),d.hij(" ",te.btnMessage," "),d.xp6(9),d.hij(" ",te.modalMessage," "))},dependencies:[F.mk]}),le})()},4985:(Ht,Be,k)=>{k.d(Be,{O:()=>B});var d=k(4006),F=k(8505);class B{constructor(le,Ie,De,te=[d.kI.required],Oe,ee,ce,Ee,ht=!1){this.value=Oe,this.label=Ie,this.type=De,this.placeholder=le,this.classlist=ee||" ",this.ref=Ee||void 0,this.valueCallback=ce,this.readonly=ht,te.push(d.kI.required),this.control=new d.NI({value:null,disabled:ht},te),this.respondTo$=this.control.valueChanges.pipe((0,F.b)({next:ce,error:et=>console.log(et),complete:()=>console.log("Completed")}))}setReadOnly(le){return this.readonly=le,this}setValue(le){return this.value=le,this}getValue(){this.value=this.ref?this.valueCallback(...this.ref.map(le=>le.value)):this.valueCallback()}getLabel(){return this.label}}},3651:(Ht,Be,k)=>{k.d(Be,{e:()=>mt});var d=k(5861),F=k(1389),De=(k(2090),k(6881),k(1877),k(4859),k(3900)),te=k(9646),Oe=k(5698),ee=k(8505),ce=k(4004),Ee=k(4650),ht=k(1205),et=k(33),Fe=k(1194);let mt=(()=>{class Ue{constructor(yt,pt,me,nt){this.afAuth=yt,this.afs=pt,this.router=me,this.ngZone=nt,this.username="Anonimo",this.user$=this.afAuth.authState.pipe((0,De.w)(st=>st?this.afs.doc(`users/${st.uid}`).valueChanges():(0,te.of)(null)),(0,Oe.q)(1))}isLoggedIn(){var yt=!1;return this.user$.pipe((0,Oe.q)(1),(0,ee.b)(pt=>this.username=pt?.displayName),(0,ce.U)(pt=>!!pt),(0,ee.b)(pt=>{pt&&(yt=!0)})),yt}googleSignin(){var yt=this;return(0,d.Z)(function*(){const pt=yield yt.afAuth.signInWithPopup(new F.V);return pt.user&&yt.router.navigate(["/home"]),console.log("keeps executing"),yt.updateUserData(pt.user)})()}GoogleAuth(){return this.AuthLogin(new F.V)}AuthLogin(yt){var pt=this;return(0,d.Z)(function*(){return pt.afAuth.signInWithPopup(yt).then(me=>{console.log("You have been successfully logged in!")}).catch(me=>{console.log(me)})})()}updateUserData(yt){return this.afs.doc(`users/${yt.uid}`).set({uid:yt.uid,email:yt.email,displayName:yt.displayName},{merge:!0})}signOut(){var yt=this;return(0,d.Z)(function*(){yt.username="Anonimo",yield yt.afAuth.signOut(),yt.router.navigate(["/login"])})()}}return Ue.\u0275fac=function(yt){return new(yt||Ue)(Ee.LFG(ht.zQ),Ee.LFG(et.ST),Ee.LFG(Fe.F0),Ee.LFG(Ee.R0b))},Ue.\u0275prov=Ee.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})()},9741:(Ht,Be,k)=>{k.d(Be,{L:()=>Ee});var d=k(8505),F=k(7886),B=k(4482),he=k(5403),le=k(8737);function Ie(ht,et=null){return et=et??ht,(0,B.e)((Fe,mt)=>{let Ue=[],Se=0;Fe.subscribe((0,he.x)(mt,yt=>{let pt=null;Se++%et==0&&Ue.push([]);for(const me of Ue)me.push(yt),ht<=me.length&&(pt=pt??[],pt.push(me));if(pt)for(const me of pt)(0,le.P)(Ue,me),mt.next(me)},()=>{for(const yt of Ue)mt.next(yt);mt.complete()},void 0,()=>{Ue=null}))})}var De=k(4004),te=k(5577),Oe=k(4650),ee=k(33),ce=k(529);let Ee=(()=>{class ht{constructor(Fe,mt){this.db=Fe,this.ht=mt,this.dbPath="/finishedOrders",this.productsRef=Fe.collection(this.dbPath)}getById(Fe){return this.productsRef.doc(Fe).get()}getAll(){return this.productsRef}create(Fe){return this.productsRef.add({...Fe})}downloadFile(Fe,mt=`Ordenes Terminadas_${(new Date).toLocaleString("es-MX")}`){console.log(Fe);let Ue=this.ConvertToCSV(Fe,Object.keys(Fe[0]));console.log(Ue);let Se=new Blob(["\ufeff"+Ue],{type:"text/csv;charset=utf-8;"}),yt=document.createElement("a"),pt=URL.createObjectURL(Se);-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&yt.setAttribute("target","_blank"),yt.setAttribute("href",pt),yt.setAttribute("download",mt+".csv"),yt.style.visibility="hidden",document.body.appendChild(yt),yt.click(),document.body.removeChild(yt)}ConvertToCSV(Fe,mt){let Ue="object"!=typeof Fe?JSON.parse(Fe):Fe,Se="",yt="S.No,";for(let pt in mt)yt+=mt[pt]+",";yt=yt.slice(0,-1),Se+=yt+"\r\n";for(let pt=0;pt<Ue.length;pt++){let me=pt+1+"";for(let nt in mt)me+=","+Ue[pt][mt[nt]];Se+=me+"\r\n"}return Se}uploadAll(){return this.ht.get("../../../assets/csvjson.json").pipe((0,d.b)(console.log),(0,F.u)(),Ie(50),(0,De.U)(Fe=>{var mt=this.db.firestore.batch();return Fe.map(Ue=>mt.set(this.db.collection(this.dbPath).doc().ref,Ue)),mt.commit()}),(0,d.b)({complete:()=>alert("completo"),error:()=>alert("error")}))}deleteAll(){return this.productsRef.get().pipe((0,De.U)(Fe=>Fe.docs),(0,d.b)(Fe=>this.downloadFile(Fe.map(mt=>mt.data()))),(0,F.u)(),Ie(500),(0,te.z)(Fe=>{var mt=this.db.firestore.batch();return Fe.map(Ue=>mt.delete(Ue.ref)),mt.commit()}))}}return ht.\u0275fac=function(Fe){return new(Fe||ht)(Oe.LFG(ee.ST),Oe.LFG(ce.eN))},ht.\u0275prov=Oe.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})()},4466:(Ht,Be,k)=>{k.d(Be,{m:()=>he});var d=k(6895),F=k(4006),B=k(4650);let he=(()=>{class le{}return le.\u0275fac=function(De){return new(De||le)},le.\u0275mod=B.oAB({type:le}),le.\u0275inj=B.cJS({imports:[d.ez,F.u5,F.UX,F.u5]}),le})()},2955:(Ht,Be,k)=>{var d=k(1481),F=k(4650),B=k(1194),he=k(727),le=k(8505),Ie=k(4985),De=k(7915),te=k(9741);let Oe=(()=>{class pe{constructor(Le){this.fo=Le,this.a=new he.w0,this.form=[[new Ie.O("Numero de Orden de Pedido","name","text"),new Ie.O("Estado","state","text")],[new Ie.O("Nombre del Cliente","clientName","select",[],["Oracle","Microsoft","Sony"])],[new Ie.O("Fecha de Embarque","shipDate","date")],[new Ie.O("Dias de Produccion","productionDays","number",[this.custom]),new Ie.O("Pedido de Insumos","orderInput","number").setReadOnly(!0)],[new Ie.O("Pedido Materia Prima","rmOrderDeadline","date"),new Ie.O("Limite inicio de Produccion","startProductionDeadline","date")],[new Ie.O("Notas","notes","text")]]}ngAfterViewInit(){this.child.f.productionDays.valueChanges.pipe((0,le.b)(_t=>this.child.f.orderInput.patchValue(2*_t))).subscribe()}custom(Le){return Le.value>30||null==Le.value?null:{custom:"debe ser mayor que 30"}}ngOnInit(){}submit(Le){console.log(Le)}filter(){this.q="Esc"}getSelectedElement(Le){console.log(Le)}ngOnDestroy(){this.a.unsubscribe()}}return pe.\u0275fac=function(Le){return new(Le||pe)(F.Y36(te.L))},pe.\u0275cmp=F.Xpm({type:pe,selectors:[["app-home"]],viewQuery:function(Le,_t){if(1&Le&&F.Gf(De.U,5),2&Le){let Pt;F.iGM(Pt=F.CRH())&&(_t.child=Pt.first)}},decls:1,vars:1,consts:[[3,"formObj"]],template:function(Le,_t){1&Le&&F._UZ(0,"app-form",0),2&Le&&F.Q6J("formObj",_t.form)},dependencies:[De.U]}),pe})();var ee=k(5698),ce=k(4004),Ee=k(3651);let ht=(()=>{class pe{constructor(Le,_t){this.auth=Le,this.router=_t}canActivate(Le,_t){return this.auth.user$.pipe((0,ee.q)(1),(0,ce.U)(Pt=>!!Pt),(0,le.b)(Pt=>{Pt||(console.log("access denied"),this.router.navigate(["/login"]))}))}}return pe.\u0275fac=function(Le){return new(Le||pe)(F.LFG(Ee.e),F.LFG(B.F0))},pe.\u0275prov=F.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Fe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class pe{constructor(Le){this.authService=Le}ngOnInit(){}authenticate(){this.authService.googleSignin()}}return pe.\u0275fac=function(Le){return new(Le||pe)(F.Y36(Ee.e))},pe.\u0275cmp=F.Xpm({type:pe,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"d-flex","text-center","text-bg-dark","h-100",2,"background-image","url(assets/img/bg.png)"],[1,"d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"my-auto"],["type","button",1,"btn","btn-lg","btn-outline-light","fw-bold","border-white","rounded-pill",3,"click"],[1,"ms-1"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(Le,_t){1&Le&&(F.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),F._uU(4," IBM Furniture"),F.qZA(),F.TgZ(5,"button",3),F.NdJ("click",function(){return _t.authenticate()}),F._uU(6," Iniciar Sesion con Google "),F.TgZ(7,"span",4),F.O4$(),F.TgZ(8,"svg",5),F._UZ(9,"path",6),F.qZA()()()()()())}}),pe})()},{path:"home",component:Oe},{path:"clients",loadChildren:()=>k.e(737).then(k.bind(k,1737)).then(pe=>pe.ClientModule),canActivate:[ht]},{path:"materials",loadChildren:()=>Promise.all([k.e(21),k.e(434)]).then(k.bind(k,2434)).then(pe=>pe.MaterialModule),canActivate:[ht]},{path:"products",loadChildren:()=>Promise.all([k.e(592),k.e(596)]).then(k.bind(k,2596)).then(pe=>pe.ProductModule),canActivate:[ht]},{path:"orders",loadChildren:()=>Promise.all([k.e(21),k.e(592),k.e(25)]).then(k.bind(k,1025)).then(pe=>pe.OrdersModule),canActivate:[ht]},{path:"shop",loadChildren:()=>Promise.all([k.e(21),k.e(592),k.e(117)]).then(k.bind(k,9117)).then(pe=>pe.ShoppingModule),canActivate:[ht]},{path:"history",loadChildren:()=>k.e(72).then(k.bind(k,2072)).then(pe=>pe.HistoryModule),canActivate:[ht]}];let mt=(()=>{class pe{}return pe.\u0275fac=function(Le){return new(Le||pe)},pe.\u0275mod=F.oAB({type:pe}),pe.\u0275inj=F.cJS({imports:[B.Bz.forRoot(Fe),B.Bz]}),pe})();var Ue=k(2011),Se=k(33),yt=k(6895);let pt=(()=>{class pe{constructor(Le){this.auth=Le,this.signOut=()=>this.auth.signOut()}ngOnInit(){}}return pe.\u0275fac=function(Le){return new(Le||pe)(F.Y36(Ee.e))},pe.\u0275cmp=F.Xpm({type:pe,selectors:[["app-navbar"]],decls:36,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["height","30","src","/assets/img/ibmFurniture_logo.png","alt","","srcset","",1,"rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["routerLink","products",1,"nav-link"],["routerLink","clients",1,"nav-link"],["routerLink","materials",1,"nav-link"],["routerLink","orders",1,"nav-link"],["routerLink","shop",1,"nav-link"],["routerLink","history",1,"nav-link"],[1,"navbar-nav"],[1,"fs-3","nav-link","me-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"]],template:function(Le,_t){1&Le&&(F.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),F._UZ(3,"img",3),F._uU(4," IBM Furniture "),F.qZA(),F.TgZ(5,"button",4),F._UZ(6,"span",5),F.qZA(),F.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),F._uU(11,"Inicio"),F.qZA()(),F.TgZ(12,"li",8)(13,"a",10),F._uU(14,"Productos"),F.qZA()(),F.TgZ(15,"li",8)(16,"a",11),F._uU(17,"Clientes"),F.qZA()(),F.TgZ(18,"li",8)(19,"a",12),F._uU(20,"Materiales"),F.qZA()(),F.TgZ(21,"li",8)(22,"a",13),F._uU(23,"Ordenes"),F.qZA()(),F.TgZ(24,"li",8)(25,"a",14),F._uU(26,"Compras"),F.qZA()(),F.TgZ(27,"li",8)(28,"a",15),F._uU(29,"Historial"),F.qZA()()(),F.TgZ(30,"ul",16)(31,"li",8)(32,"a",17),F.NdJ("click",function(){return _t.signOut()}),F.O4$(),F.TgZ(33,"svg",18),F._UZ(34,"path",19)(35,"path",20),F.qZA()()()()()()())},dependencies:[B.yS]}),pe})();function me(pe,ot){1&pe&&F._UZ(0,"app-navbar")}let nt=(()=>{class pe{constructor(Le){this.auth=Le,this.title="IBMFurniture"}}return pe.\u0275fac=function(Le){return new(Le||pe)(F.Y36(Ee.e))},pe.\u0275cmp=F.Xpm({type:pe,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"vh-100"]],template:function(Le,_t){1&Le&&(F.YNc(0,me,1,0,"app-navbar",0),F.ALo(1,"async"),F.TgZ(2,"div",1),F._UZ(3,"router-outlet"),F.qZA()),2&Le&&F.Q6J("ngIf",F.lcZ(1,1,_t.auth.user$))},dependencies:[yt.O5,B.lC,pt,yt.Ov]}),pe})();const st_firebase={apiKey:"AIzaSyCmya1htVh_wLXOc0zUSpurtnKYROqfSoU",authDomain:"ibmfurniture.firebaseapp.com",projectId:"ibmfurniture",storageBucket:"ibmfurniture.appspot.com",messagingSenderId:"313012116484",appId:"1:313012116484:web:1b535bfdb657c90b742951"};var St=k(4466),He=k(529);let Ce=(()=>{class pe{}return pe.\u0275fac=function(Le){return new(Le||pe)},pe.\u0275mod=F.oAB({type:pe,bootstrap:[nt]}),pe.\u0275inj=F.cJS({imports:[He.JF,d.b2,mt,Ue.hO.initializeApp(st_firebase),Se.yb,St.m]}),pe})();(0,F.G48)(),d.q6().bootstrapModule(Ce).catch(pe=>console.error(pe))},1135:(Ht,Be,k)=>{k.d(Be,{X:()=>F});var d=k(7579);class F extends d.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const le=super._subscribe(he);return!le.closed&&he.next(this._value),le}getValue(){const{hasError:he,thrownError:le,_value:Ie}=this;if(he)throw le;return this._throwIfClosed(),Ie}next(he){super.next(this._value=he)}}},9751:(Ht,Be,k)=>{k.d(Be,{y:()=>te});var d=k(2961),F=k(727),B=k(8822),he=k(9635),le=k(2416),Ie=k(576),De=k(2806);let te=(()=>{class Ee{constructor(et){et&&(this._subscribe=et)}lift(et){const Fe=new Ee;return Fe.source=this,Fe.operator=et,Fe}subscribe(et,Fe,mt){const Ue=function ce(Ee){return Ee&&Ee instanceof d.Lv||function ee(Ee){return Ee&&(0,Ie.m)(Ee.next)&&(0,Ie.m)(Ee.error)&&(0,Ie.m)(Ee.complete)}(Ee)&&(0,F.Nn)(Ee)}(et)?et:new d.Hp(et,Fe,mt);return(0,De.x)(()=>{const{operator:Se,source:yt}=this;Ue.add(Se?Se.call(Ue,yt):yt?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(et){try{return this._subscribe(et)}catch(Fe){et.error(Fe)}}forEach(et,Fe){return new(Fe=Oe(Fe))((mt,Ue)=>{const Se=new d.Hp({next:yt=>{try{et(yt)}catch(pt){Ue(pt),Se.unsubscribe()}},error:Ue,complete:mt});this.subscribe(Se)})}_subscribe(et){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(et)}[B.L](){return this}pipe(...et){return(0,he.U)(et)(this)}toPromise(et){return new(et=Oe(et))((Fe,mt)=>{let Ue;this.subscribe(Se=>Ue=Se,Se=>mt(Se),()=>Fe(Ue))})}}return Ee.create=ht=>new Ee(ht),Ee})();function Oe(Ee){var ht;return null!==(ht=Ee??le.v.Promise)&&void 0!==ht?ht:Promise}},7579:(Ht,Be,k)=>{k.d(Be,{x:()=>De});var d=k(9751),F=k(727);const he=(0,k(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=k(8737),Ie=k(2806);let De=(()=>{class Oe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ee=new te(this,this);return Ee.operator=ce,Ee}_throwIfClosed(){if(this.closed)throw new he}next(ce){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(ce)}})}error(ce){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(ce)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ee,isStopped:ht,observers:et}=this;return Ee||ht?F.Lc:(this.currentObservers=null,et.push(ce),new F.w0(()=>{this.currentObservers=null,(0,le.P)(et,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ee,thrownError:ht,isStopped:et}=this;Ee?ce.error(ht):et&&ce.complete()}asObservable(){const ce=new d.y;return ce.source=this,ce}}return Oe.create=(ee,ce)=>new te(ee,ce),Oe})();class te extends De{constructor(ee,ce){super(),this.destination=ee,this.source=ce}next(ee){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ee||Ee.call(ce,ee)}error(ee){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ee||Ee.call(ce,ee)}complete(){var ee,ce;null===(ce=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ce||ce.call(ee)}_subscribe(ee){var ce,Ee;return null!==(Ee=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ee))&&void 0!==Ee?Ee:F.Lc}}},2961:(Ht,Be,k)=>{k.d(Be,{Hp:()=>mt,Lv:()=>Ee});var d=k(576),F=k(727),B=k(2416),he=k(7849);function le(){}const Ie=Oe("C",void 0,void 0);function Oe(me,nt,st){return{kind:me,value:nt,error:st}}var ee=k(3410),ce=k(2806);class Ee extends F.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,F.Nn)(nt)&&nt.add(this)):this.destination=pt}static create(nt,st,St){return new mt(nt,st,St)}next(nt){this.isStopped?yt(function te(me){return Oe("N",me,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?yt(function De(me){return Oe("E",void 0,me)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?yt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function et(me,nt){return ht.call(me,nt)}class Fe{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:st}=this;if(st.next)try{st.next(nt)}catch(St){Ue(St)}}error(nt){const{partialObserver:st}=this;if(st.error)try{st.error(nt)}catch(St){Ue(St)}else Ue(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(st){Ue(st)}}}class mt extends Ee{constructor(nt,st,St){let He;if(super(),(0,d.m)(nt)||!nt)He={next:nt??void 0,error:st??void 0,complete:St??void 0};else{let Ce;this&&B.v.useDeprecatedNextContext?(Ce=Object.create(nt),Ce.unsubscribe=()=>this.unsubscribe(),He={next:nt.next&&et(nt.next,Ce),error:nt.error&&et(nt.error,Ce),complete:nt.complete&&et(nt.complete,Ce)}):He=nt}this.destination=new Fe(He)}}function Ue(me){B.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(me):(0,he.h)(me)}function yt(me,nt){const{onStoppedNotification:st}=B.v;st&&ee.z.setTimeout(()=>st(me,nt))}const pt={closed:!0,next:le,error:function Se(me){throw me},complete:le}},727:(Ht,Be,k)=>{k.d(Be,{Lc:()=>Ie,w0:()=>le,Nn:()=>De});var d=k(576);const B=(0,k(3888).d)(Oe=>function(ce){Oe(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ee,ht)=>`${ht+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var he=k(8737);class le{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const et of ce)et.remove(this);else ce.remove(this);const{initialTeardown:Ee}=this;if((0,d.m)(Ee))try{Ee()}catch(et){ee=et instanceof B?et.errors:[et]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const et of ht)try{te(et)}catch(Fe){ee=ee??[],Fe instanceof B?ee=[...ee,...Fe.errors]:ee.push(Fe)}}if(ee)throw new B(ee)}}add(ee){var ce;if(ee&&ee!==this)if(this.closed)te(ee);else{if(ee instanceof le){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ee)}}_hasParent(ee){const{_parentage:ce}=this;return ce===ee||Array.isArray(ce)&&ce.includes(ee)}_addParent(ee){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ee),ce):ce?[ce,ee]:ee}_removeParent(ee){const{_parentage:ce}=this;ce===ee?this._parentage=null:Array.isArray(ce)&&(0,he.P)(ce,ee)}remove(ee){const{_finalizers:ce}=this;ce&&(0,he.P)(ce,ee),ee instanceof le&&ee._removeParent(this)}}le.EMPTY=(()=>{const Oe=new le;return Oe.closed=!0,Oe})();const Ie=le.EMPTY;function De(Oe){return Oe instanceof le||Oe&&"closed"in Oe&&(0,d.m)(Oe.remove)&&(0,d.m)(Oe.add)&&(0,d.m)(Oe.unsubscribe)}function te(Oe){(0,d.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(Ht,Be,k)=>{k.d(Be,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1350:(Ht,Be,k)=>{k.d(Be,{z:()=>he});var d=k(7886),F=k(7669),B=k(8996);function he(...le){return(0,d.u)()((0,B.D)(le,(0,F.yG)(le)))}},515:(Ht,Be,k)=>{k.d(Be,{E:()=>F});const F=new(k(9751).y)(le=>le.complete())},4128:(Ht,Be,k)=>{k.d(Be,{D:()=>te});var d=k(9751),F=k(4742),B=k(8421),he=k(7669),le=k(5403),Ie=k(3268),De=k(1810);function te(...Oe){const ee=(0,he.jO)(Oe),{args:ce,keys:Ee}=(0,F.D)(Oe),ht=new d.y(et=>{const{length:Fe}=ce;if(!Fe)return void et.complete();const mt=new Array(Fe);let Ue=Fe,Se=Fe;for(let yt=0;yt<Fe;yt++){let pt=!1;(0,B.Xf)(ce[yt]).subscribe((0,le.x)(et,me=>{pt||(pt=!0,Se--),mt[yt]=me},()=>Ue--,void 0,()=>{(!Ue||!pt)&&(Se||et.next(Ee?(0,De.n)(Ee,mt):mt),et.complete())}))}});return ee?ht.pipe((0,Ie.Z)(ee)):ht}},8996:(Ht,Be,k)=>{k.d(Be,{D:()=>nt});var d=k(8421),F=k(5363),B=k(9468),Ie=k(9751),te=k(2202),Oe=k(576),ee=k(9672);function Ee(st,St){if(!st)throw new Error("Iterable cannot be null");return new Ie.y(He=>{(0,ee.f)(He,St,()=>{const Ce=st[Symbol.asyncIterator]();(0,ee.f)(He,St,()=>{Ce.next().then(pe=>{pe.done?He.complete():He.next(pe.value)})},0,!0)})})}var ht=k(3670),et=k(8239),Fe=k(1144),mt=k(6495),Ue=k(2206),Se=k(4532),yt=k(3260);function nt(st,St){return St?function me(st,St){if(null!=st){if((0,ht.c)(st))return function he(st,St){return(0,d.Xf)(st).pipe((0,B.R)(St),(0,F.Q)(St))}(st,St);if((0,Fe.z)(st))return function De(st,St){return new Ie.y(He=>{let Ce=0;return St.schedule(function(){Ce===st.length?He.complete():(He.next(st[Ce++]),He.closed||this.schedule())})})}(st,St);if((0,et.t)(st))return function le(st,St){return(0,d.Xf)(st).pipe((0,B.R)(St),(0,F.Q)(St))}(st,St);if((0,Ue.D)(st))return Ee(st,St);if((0,mt.T)(st))return function ce(st,St){return new Ie.y(He=>{let Ce;return(0,ee.f)(He,St,()=>{Ce=st[te.h](),(0,ee.f)(He,St,()=>{let pe,ot;try{({value:pe,done:ot}=Ce.next())}catch(Le){return void He.error(Le)}ot?He.complete():He.next(pe)},0,!0)}),()=>(0,Oe.m)(Ce?.return)&&Ce.return()})}(st,St);if((0,yt.L)(st))return function pt(st,St){return Ee((0,yt.Q)(st),St)}(st,St)}throw(0,Se.z)(st)}(st,St):(0,d.Xf)(st)}},8421:(Ht,Be,k)=>{k.d(Be,{Xf:()=>ht});var d=k(7582),F=k(1144),B=k(8239),he=k(9751),le=k(3670),Ie=k(2206),De=k(4532),te=k(6495),Oe=k(3260),ee=k(576),ce=k(7849),Ee=k(8822);function ht(me){if(me instanceof he.y)return me;if(null!=me){if((0,le.c)(me))return function et(me){return new he.y(nt=>{const st=me[Ee.L]();if((0,ee.m)(st.subscribe))return st.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,F.z)(me))return function Fe(me){return new he.y(nt=>{for(let st=0;st<me.length&&!nt.closed;st++)nt.next(me[st]);nt.complete()})}(me);if((0,B.t)(me))return function mt(me){return new he.y(nt=>{me.then(st=>{nt.closed||(nt.next(st),nt.complete())},st=>nt.error(st)).then(null,ce.h)})}(me);if((0,Ie.D)(me))return Se(me);if((0,te.T)(me))return function Ue(me){return new he.y(nt=>{for(const st of me)if(nt.next(st),nt.closed)return;nt.complete()})}(me);if((0,Oe.L)(me))return function yt(me){return Se((0,Oe.Q)(me))}(me)}throw(0,De.z)(me)}function Se(me){return new he.y(nt=>{(function pt(me,nt){var st,St,He,Ce;return(0,d.mG)(this,void 0,void 0,function*(){try{for(st=(0,d.KL)(me);!(St=yield st.next()).done;)if(nt.next(St.value),nt.closed)return}catch(pe){He={error:pe}}finally{try{St&&!St.done&&(Ce=st.return)&&(yield Ce.call(st))}finally{if(He)throw He.error}}nt.complete()})})(me,nt).catch(st=>nt.error(st))})}},6451:(Ht,Be,k)=>{k.d(Be,{T:()=>Ie});var d=k(8189),F=k(8421),B=k(515),he=k(7669),le=k(8996);function Ie(...De){const te=(0,he.yG)(De),Oe=(0,he._6)(De,1/0),ee=De;return ee.length?1===ee.length?(0,F.Xf)(ee[0]):(0,d.J)(Oe)((0,le.D)(ee,te)):B.E}},9646:(Ht,Be,k)=>{k.d(Be,{of:()=>B});var d=k(7669),F=k(8996);function B(...he){const le=(0,d.yG)(he);return(0,F.D)(he,le)}},5403:(Ht,Be,k)=>{k.d(Be,{x:()=>F});var d=k(2961);function F(he,le,Ie,De,te){return new B(he,le,Ie,De,te)}class B extends d.Lv{constructor(le,Ie,De,te,Oe,ee){super(le),this.onFinalize=Oe,this.shouldUnsubscribe=ee,this._next=Ie?function(ce){try{Ie(ce)}catch(Ee){le.error(Ee)}}:super._next,this._error=te?function(ce){try{te(ce)}catch(Ee){le.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(ce){le.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},7886:(Ht,Be,k)=>{k.d(Be,{u:()=>F});var d=k(8189);function F(){return(0,d.J)(1)}},4351:(Ht,Be,k)=>{k.d(Be,{b:()=>B});var d=k(5577),F=k(576);function B(he,le){return(0,F.m)(le)?(0,d.z)(he,le,1):(0,d.z)(he,1)}},6590:(Ht,Be,k)=>{k.d(Be,{d:()=>B});var d=k(4482),F=k(5403);function B(he){return(0,d.e)((le,Ie)=>{let De=!1;le.subscribe((0,F.x)(Ie,te=>{De=!0,Ie.next(te)},()=>{De||Ie.next(he),Ie.complete()}))})}},9300:(Ht,Be,k)=>{k.d(Be,{h:()=>B});var d=k(4482),F=k(5403);function B(he,le){return(0,d.e)((Ie,De)=>{let te=0;Ie.subscribe((0,F.x)(De,Oe=>he.call(le,Oe,te++)&&De.next(Oe)))})}},590:(Ht,Be,k)=>{k.d(Be,{P:()=>De});var d=k(6805),F=k(9300),B=k(5698),he=k(6590),le=k(8068),Ie=k(4671);function De(te,Oe){const ee=arguments.length>=2;return ce=>ce.pipe(te?(0,F.h)((Ee,ht)=>te(Ee,ht,ce)):Ie.y,(0,B.q)(1),ee?(0,he.d)(Oe):(0,le.T)(()=>new d.K))}},4004:(Ht,Be,k)=>{k.d(Be,{U:()=>B});var d=k(4482),F=k(5403);function B(he,le){return(0,d.e)((Ie,De)=>{let te=0;Ie.subscribe((0,F.x)(De,Oe=>{De.next(he.call(le,Oe,te++))}))})}},8189:(Ht,Be,k)=>{k.d(Be,{J:()=>B});var d=k(5577),F=k(4671);function B(he=1/0){return(0,d.z)(F.y,he)}},5577:(Ht,Be,k)=>{k.d(Be,{z:()=>te});var d=k(4004),F=k(8421),B=k(4482),he=k(9672),le=k(5403),De=k(576);function te(Oe,ee,ce=1/0){return(0,De.m)(ee)?te((Ee,ht)=>(0,d.U)((et,Fe)=>ee(Ee,et,ht,Fe))((0,F.Xf)(Oe(Ee,ht))),ce):("number"==typeof ee&&(ce=ee),(0,B.e)((Ee,ht)=>function Ie(Oe,ee,ce,Ee,ht,et,Fe,mt){const Ue=[];let Se=0,yt=0,pt=!1;const me=()=>{pt&&!Ue.length&&!Se&&ee.complete()},nt=St=>Se<Ee?st(St):Ue.push(St),st=St=>{et&&ee.next(St),Se++;let He=!1;(0,F.Xf)(ce(St,yt++)).subscribe((0,le.x)(ee,Ce=>{ht?.(Ce),et?nt(Ce):ee.next(Ce)},()=>{He=!0},void 0,()=>{if(He)try{for(Se--;Ue.length&&Se<Ee;){const Ce=Ue.shift();Fe?(0,he.f)(ee,Fe,()=>st(Ce)):st(Ce)}me()}catch(Ce){ee.error(Ce)}}))};return Oe.subscribe((0,le.x)(ee,nt,()=>{pt=!0,me()})),()=>{mt?.()}}(Ee,ht,Oe,ce)))}},5363:(Ht,Be,k)=>{k.d(Be,{Q:()=>he});var d=k(9672),F=k(4482),B=k(5403);function he(le,Ie=0){return(0,F.e)((De,te)=>{De.subscribe((0,B.x)(te,Oe=>(0,d.f)(te,le,()=>te.next(Oe),Ie),()=>(0,d.f)(te,le,()=>te.complete(),Ie),Oe=>(0,d.f)(te,le,()=>te.error(Oe),Ie)))})}},5026:(Ht,Be,k)=>{k.d(Be,{R:()=>he});var d=k(4482),F=k(5403);function B(le,Ie,De,te,Oe){return(ee,ce)=>{let Ee=De,ht=Ie,et=0;ee.subscribe((0,F.x)(ce,Fe=>{const mt=et++;ht=Ee?le(ht,Fe,mt):(Ee=!0,Fe),te&&ce.next(ht)},Oe&&(()=>{Ee&&ce.next(ht),ce.complete()})))}}function he(le,Ie){return(0,d.e)(B(le,Ie,arguments.length>=2,!0))}},3099:(Ht,Be,k)=>{k.d(Be,{B:()=>le});var d=k(8421),F=k(7579),B=k(2961),he=k(4482);function le(De={}){const{connector:te=(()=>new F.x),resetOnError:Oe=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ce=!0}=De;return Ee=>{let ht,et,Fe,mt=0,Ue=!1,Se=!1;const yt=()=>{et?.unsubscribe(),et=void 0},pt=()=>{yt(),ht=Fe=void 0,Ue=Se=!1},me=()=>{const nt=ht;pt(),nt?.unsubscribe()};return(0,he.e)((nt,st)=>{mt++,!Se&&!Ue&&yt();const St=Fe=Fe??te();st.add(()=>{mt--,0===mt&&!Se&&!Ue&&(et=Ie(me,ce))}),St.subscribe(st),!ht&&mt>0&&(ht=new B.Hp({next:He=>St.next(He),error:He=>{Se=!0,yt(),et=Ie(pt,Oe,He),St.error(He)},complete:()=>{Ue=!0,yt(),et=Ie(pt,ee),St.complete()}}),(0,d.Xf)(nt).subscribe(ht))})(Ee)}}function Ie(De,te,...Oe){if(!0===te)return void De();if(!1===te)return;const ee=new B.Hp({next:()=>{ee.unsubscribe(),De()}});return te(...Oe).subscribe(ee)}},8675:(Ht,Be,k)=>{k.d(Be,{O:()=>he});var d=k(1350),F=k(7669),B=k(4482);function he(...le){const Ie=(0,F.yG)(le);return(0,B.e)((De,te)=>{(Ie?(0,d.z)(le,De,Ie):(0,d.z)(le,De)).subscribe(te)})}},9468:(Ht,Be,k)=>{k.d(Be,{R:()=>F});var d=k(4482);function F(B,he=0){return(0,d.e)((le,Ie)=>{Ie.add(B.schedule(()=>le.subscribe(Ie),he))})}},3900:(Ht,Be,k)=>{k.d(Be,{w:()=>he});var d=k(8421),F=k(4482),B=k(5403);function he(le,Ie){return(0,F.e)((De,te)=>{let Oe=null,ee=0,ce=!1;const Ee=()=>ce&&!Oe&&te.complete();De.subscribe((0,B.x)(te,ht=>{Oe?.unsubscribe();let et=0;const Fe=ee++;(0,d.Xf)(le(ht,Fe)).subscribe(Oe=(0,B.x)(te,mt=>te.next(Ie?Ie(ht,mt,Fe,et++):mt),()=>{Oe=null,Ee()}))},()=>{ce=!0,Ee()}))})}},5698:(Ht,Be,k)=>{k.d(Be,{q:()=>he});var d=k(515),F=k(4482),B=k(5403);function he(le){return le<=0?()=>d.E:(0,F.e)((Ie,De)=>{let te=0;Ie.subscribe((0,B.x)(De,Oe=>{++te<=le&&(De.next(Oe),le<=te&&De.complete())}))})}},8505:(Ht,Be,k)=>{k.d(Be,{b:()=>le});var d=k(576),F=k(4482),B=k(5403),he=k(4671);function le(Ie,De,te){const Oe=(0,d.m)(Ie)||De||te?{next:Ie,error:De,complete:te}:Ie;return Oe?(0,F.e)((ee,ce)=>{var Ee;null===(Ee=Oe.subscribe)||void 0===Ee||Ee.call(Oe);let ht=!0;ee.subscribe((0,B.x)(ce,et=>{var Fe;null===(Fe=Oe.next)||void 0===Fe||Fe.call(Oe,et),ce.next(et)},()=>{var et;ht=!1,null===(et=Oe.complete)||void 0===et||et.call(Oe),ce.complete()},et=>{var Fe;ht=!1,null===(Fe=Oe.error)||void 0===Fe||Fe.call(Oe,et),ce.error(et)},()=>{var et,Fe;ht&&(null===(et=Oe.unsubscribe)||void 0===et||et.call(Oe)),null===(Fe=Oe.finalize)||void 0===Fe||Fe.call(Oe)}))}):he.y}},8068:(Ht,Be,k)=>{k.d(Be,{T:()=>he});var d=k(6805),F=k(4482),B=k(5403);function he(Ie=le){return(0,F.e)((De,te)=>{let Oe=!1;De.subscribe((0,B.x)(te,ee=>{Oe=!0,te.next(ee)},()=>Oe?te.complete():te.error(Ie())))})}function le(){return new d.K}},4408:(Ht,Be,k)=>{k.d(Be,{o:()=>le});var d=k(727);class F extends d.w0{constructor(De,te){super()}schedule(De,te=0){return this}}const B={setInterval(Ie,De,...te){const{delegate:Oe}=B;return Oe?.setInterval?Oe.setInterval(Ie,De,...te):setInterval(Ie,De,...te)},clearInterval(Ie){const{delegate:De}=B;return(De?.clearInterval||clearInterval)(Ie)},delegate:void 0};var he=k(8737);class le extends F{constructor(De,te){super(De,te),this.scheduler=De,this.work=te,this.pending=!1}schedule(De,te=0){var Oe;if(this.closed)return this;this.state=De;const ee=this.id,ce=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ce,ee,te)),this.pending=!0,this.delay=te,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(ce,this.id,te),this}requestAsyncId(De,te,Oe=0){return B.setInterval(De.flush.bind(De,this),Oe)}recycleAsyncId(De,te,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return te;null!=te&&B.clearInterval(te)}execute(De,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(De,te);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,te){let ee,Oe=!1;try{this.work(De)}catch(ce){Oe=!0,ee=ce||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:De,scheduler:te}=this,{actions:Oe}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Oe,this),null!=De&&(this.id=this.recycleAsyncId(te,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ht,Be,k)=>{k.d(Be,{v:()=>B});var d=k(6063);class F{constructor(le,Ie=F.now){this.schedulerActionCtor=le,this.now=Ie}schedule(le,Ie=0,De){return new this.schedulerActionCtor(this,le).schedule(De,Ie)}}F.now=d.l.now;class B extends F{constructor(le,Ie=F.now){super(le,Ie),this.actions=[],this._active=!1}flush(le){const{actions:Ie}=this;if(this._active)return void Ie.push(le);let De;this._active=!0;do{if(De=le.execute(le.state,le.delay))break}while(le=Ie.shift());if(this._active=!1,De){for(;le=Ie.shift();)le.unsubscribe();throw De}}}},4986:(Ht,Be,k)=>{k.d(Be,{z:()=>B});var d=k(4408);const B=new(k(7565).v)(d.o)},6063:(Ht,Be,k)=>{k.d(Be,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Ht,Be,k)=>{k.d(Be,{z:()=>d});const d={setTimeout(F,B,...he){const{delegate:le}=d;return le?.setTimeout?le.setTimeout(F,B,...he):setTimeout(F,B,...he)},clearTimeout(F){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Ht,Be,k)=>{k.d(Be,{h:()=>F});const F=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,Be,k)=>{k.d(Be,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ht,Be,k)=>{k.d(Be,{K:()=>F});const F=(0,k(3888).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ht,Be,k)=>{k.d(Be,{_6:()=>Ie,jO:()=>he,yG:()=>le});var d=k(576);function B(De){return De[De.length-1]}function he(De){return(0,d.m)(B(De))?De.pop():void 0}function le(De){return function F(De){return De&&(0,d.m)(De.schedule)}(B(De))?De.pop():void 0}function Ie(De,te){return"number"==typeof B(De)?De.pop():te}},4742:(Ht,Be,k)=>{k.d(Be,{D:()=>le});const{isArray:d}=Array,{getPrototypeOf:F,prototype:B,keys:he}=Object;function le(De){if(1===De.length){const te=De[0];if(d(te))return{args:te,keys:null};if(function Ie(De){return De&&"object"==typeof De&&F(De)===B}(te)){const Oe=he(te);return{args:Oe.map(ee=>te[ee]),keys:Oe}}}return{args:De,keys:null}}},8737:(Ht,Be,k)=>{function d(F,B){if(F){const he=F.indexOf(B);0<=he&&F.splice(he,1)}}k.d(Be,{P:()=>d})},3888:(Ht,Be,k)=>{function d(F){const he=F(le=>{Error.call(le),le.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}k.d(Be,{d:()=>d})},1810:(Ht,Be,k)=>{function d(F,B){return F.reduce((he,le,Ie)=>(he[le]=B[Ie],he),{})}k.d(Be,{n:()=>d})},2806:(Ht,Be,k)=>{k.d(Be,{O:()=>he,x:()=>B});var d=k(2416);let F=null;function B(le){if(d.v.useDeprecatedSynchronousErrorHandling){const Ie=!F;if(Ie&&(F={errorThrown:!1,error:null}),le(),Ie){const{errorThrown:De,error:te}=F;if(F=null,De)throw te}}else le()}function he(le){d.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=le)}},9672:(Ht,Be,k)=>{function d(F,B,he,le=0,Ie=!1){const De=B.schedule(function(){he(),Ie?F.add(this.schedule(null,le)):this.unsubscribe()},le);if(F.add(De),!Ie)return De}k.d(Be,{f:()=>d})},4671:(Ht,Be,k)=>{function d(F){return F}k.d(Be,{y:()=>d})},1144:(Ht,Be,k)=>{k.d(Be,{z:()=>d});const d=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Ht,Be,k)=>{k.d(Be,{D:()=>F});var d=k(576);function F(B){return Symbol.asyncIterator&&(0,d.m)(B?.[Symbol.asyncIterator])}},576:(Ht,Be,k)=>{function d(F){return"function"==typeof F}k.d(Be,{m:()=>d})},3670:(Ht,Be,k)=>{k.d(Be,{c:()=>B});var d=k(8822),F=k(576);function B(he){return(0,F.m)(he[d.L])}},6495:(Ht,Be,k)=>{k.d(Be,{T:()=>B});var d=k(2202),F=k(576);function B(he){return(0,F.m)(he?.[d.h])}},8239:(Ht,Be,k)=>{k.d(Be,{t:()=>F});var d=k(576);function F(B){return(0,d.m)(B?.then)}},3260:(Ht,Be,k)=>{k.d(Be,{L:()=>he,Q:()=>B});var d=k(7582),F=k(576);function B(le){return(0,d.FC)(this,arguments,function*(){const De=le.getReader();try{for(;;){const{value:te,done:Oe}=yield(0,d.qq)(De.read());if(Oe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(te)}}finally{De.releaseLock()}})}function he(le){return(0,F.m)(le?.getReader)}},4482:(Ht,Be,k)=>{k.d(Be,{A:()=>F,e:()=>B});var d=k(576);function F(he){return(0,d.m)(he?.lift)}function B(he){return le=>{if(F(le))return le.lift(function(Ie){try{return he(Ie,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ht,Be,k)=>{k.d(Be,{Z:()=>he});var d=k(4004);const{isArray:F}=Array;function he(le){return(0,d.U)(Ie=>function B(le,Ie){return F(Ie)?le(...Ie):le(Ie)}(le,Ie))}},9635:(Ht,Be,k)=>{k.d(Be,{U:()=>B,z:()=>F});var d=k(4671);function F(...he){return B(he)}function B(he){return 0===he.length?d.y:1===he.length?he[0]:function(Ie){return he.reduce((De,te)=>te(De),Ie)}}},7849:(Ht,Be,k)=>{k.d(Be,{h:()=>B});var d=k(2416),F=k(3410);function B(he){F.z.setTimeout(()=>{const{onUnhandledError:le}=d.v;if(!le)throw he;le(he)})}},4532:(Ht,Be,k)=>{function d(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Be,{z:()=>d})},6895:(Ht,Be,k)=>{k.d(Be,{Do:()=>pt,EM:()=>Ps,H9:()=>xs,HT:()=>le,JF:()=>qs,K0:()=>De,Mx:()=>Fi,O5:()=>Nr,Ov:()=>be,PM:()=>Rs,S$:()=>Ue,V_:()=>ee,Ye:()=>me,b0:()=>yt,bD:()=>Pi,ez:()=>zs,mk:()=>Zn,q:()=>B,sg:()=>Ki,w_:()=>Ie});var d=k(4650);let F=null;function B(){return F}function le(b){F||(F=b)}class Ie{}const De=new d.OlP("DocumentToken");let te=(()=>{class b{historyGo(x){throw new Error("Not implemented")}}return b.\u0275fac=function(x){return new(x||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return function Oe(){return(0,d.LFG)(ce)}()},providedIn:"platform"}),b})();const ee=new d.OlP("Location Initialized");let ce=(()=>{class b extends te{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(x){const z=B().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",x,!1),()=>z.removeEventListener("popstate",x)}onHashChange(x){const z=B().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",x,!1),()=>z.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,z,we){Ee()?this._history.pushState(x,z,we):this.location.hash=we}replaceState(x,z,we){Ee()?this._history.replaceState(x,z,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(De))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function ht(){return new ce((0,d.LFG)(De))}()},providedIn:"platform"}),b})();function Ee(){return!!window.history.pushState}function et(b,V){if(0==b.length)return V;if(0==V.length)return b;let x=0;return b.endsWith("/")&&x++,V.startsWith("/")&&x++,2==x?b+V.substring(1):1==x?b+V:b+"/"+V}function Fe(b){const V=b.match(/#|\?|$/),x=V&&V.index||b.length;return b.slice(0,x-("/"===b[x-1]?1:0))+b.slice(x)}function mt(b){return b&&"?"!==b[0]?"?"+b:b}let Ue=(()=>{class b{historyGo(x){throw new Error("Not implemented")}}return b.\u0275fac=function(x){return new(x||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)(yt)},providedIn:"root"}),b})();const Se=new d.OlP("appBaseHref");let yt=(()=>{class b extends Ue{constructor(x,z){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return et(this._baseHref,x)}path(x=!1){const z=this._platformLocation.pathname+mt(this._platformLocation.search),we=this._platformLocation.hash;return we&&x?`${z}${we}`:z}pushState(x,z,we,at){const wt=this.prepareExternalUrl(we+mt(at));this._platformLocation.pushState(x,z,wt)}replaceState(x,z,we,at){const wt=this.prepareExternalUrl(we+mt(at));this._platformLocation.replaceState(x,z,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(te),d.LFG(Se,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),pt=(()=>{class b extends Ue{constructor(x,z){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(x){const z=et(this._baseHref,x);return z.length>0?"#"+z:z}pushState(x,z,we,at){let wt=this.prepareExternalUrl(we+mt(at));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(x,z,wt)}replaceState(x,z,we,at){let wt=this.prepareExternalUrl(we+mt(at));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(x,z,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(te),d.LFG(Se,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})(),me=(()=>{class b{constructor(x){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const z=this._locationStrategy.getBaseHref();this._baseHref=Fe(St(z)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,z=""){return this.path()==this.normalize(x+mt(z))}normalize(x){return b.stripTrailingSlash(function st(b,V){return b&&V.startsWith(b)?V.substring(b.length):V}(this._baseHref,St(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,z="",we=null){this._locationStrategy.pushState(we,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+mt(z)),we)}replaceState(x,z="",we=null){this._locationStrategy.replaceState(we,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+mt(z)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",z){this._urlChangeListeners.forEach(we=>we(x,z))}subscribe(x,z,we){return this._subject.subscribe({next:x,error:z,complete:we})}}return b.normalizeQueryParams=mt,b.joinWithSlash=et,b.stripTrailingSlash=Fe,b.\u0275fac=function(x){return new(x||b)(d.LFG(Ue))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function nt(){return new me((0,d.LFG)(Ue))}()},providedIn:"root"}),b})();function St(b){return b.replace(/\/index.html$/,"")}const He={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Percent=1]="Percent",Ce[Ce.Currency=2]="Currency",Ce[Ce.Scientific=3]="Scientific",Ce))(),Pt=(()=>((Pt=Pt||{})[Pt.Decimal=0]="Decimal",Pt[Pt.Group=1]="Group",Pt[Pt.List=2]="List",Pt[Pt.PercentSign=3]="PercentSign",Pt[Pt.PlusSign=4]="PlusSign",Pt[Pt.MinusSign=5]="MinusSign",Pt[Pt.Exponential=6]="Exponential",Pt[Pt.SuperscriptingExponent=7]="SuperscriptingExponent",Pt[Pt.PerMille=8]="PerMille",Pt[Pt.Infinity=9]="Infinity",Pt[Pt.NaN=10]="NaN",Pt[Pt.TimeSeparator=11]="TimeSeparator",Pt[Pt.CurrencyDecimal=12]="CurrencyDecimal",Pt[Pt.CurrencyGroup=13]="CurrencyGroup",Pt))();function sn(b,V){const x=(0,d.cg1)(b),z=x[d.wAp.NumberSymbols][V];if(typeof z>"u"){if(V===Pt.CurrencyDecimal)return x[d.wAp.NumberSymbols][Pt.Decimal];if(V===Pt.CurrencyGroup)return x[d.wAp.NumberSymbols][Pt.Group]}return z}const Bt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ke(b,V,x,z,we){const wt=function Cn(b,V="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},z=b.split(";"),we=z[0],at=z[1],wt=-1!==we.indexOf(".")?we.split("."):[we.substring(0,we.lastIndexOf("0")+1),we.substring(we.lastIndexOf("0")+1)],mn=wt[0],hr=wt[1]||"";x.posPre=mn.substring(0,mn.indexOf("#"));for(let _r=0;_r<hr.length;_r++){const In=hr.charAt(_r);"0"===In?x.minFrac=x.maxFrac=_r+1:"#"===In?x.maxFrac=_r+1:x.posSuf+=In}const Jn=mn.split(",");if(x.gSize=Jn[1]?Jn[1].length:0,x.lgSize=Jn[2]||Jn[1]?(Jn[2]||Jn[1]).length:0,at){const _r=we.length-x.posPre.length-x.posSuf.length,In=at.indexOf("#");x.negPre=at.substring(0,In).replace(/'/g,""),x.negSuf=at.slice(In+_r).replace(/'/g,"")}else x.negPre=V+x.posPre,x.negSuf=x.posSuf;return x}(function hn(b,V){return(0,d.cg1)(b)[d.wAp.NumberFormats][V]}(V,Ce.Currency),sn(V,Pt.MinusSign));return wt.minFrac=function jr(b){let V;const x=He[b];return x&&(V=x[2]),"number"==typeof V?V:2}(z),wt.maxFrac=wt.minFrac,function Ne(b,V,x,z,we,at,wt=!1){let mn="",hr=!1;if(isFinite(b)){let Jn=function Un(b){let z,we,at,wt,mn,V=Math.abs(b)+"",x=0;for((we=V.indexOf("."))>-1&&(V=V.replace(".","")),(at=V.search(/e/i))>0?(we<0&&(we=at),we+=+V.slice(at+1),V=V.substring(0,at)):we<0&&(we=V.length),at=0;"0"===V.charAt(at);at++);if(at===(mn=V.length))z=[0],we=1;else{for(mn--;"0"===V.charAt(mn);)mn--;for(we-=at,z=[],wt=0;at<=mn;at++,wt++)z[wt]=Number(V.charAt(at))}return we>22&&(z=z.splice(0,21),x=we-1,we=1),{digits:z,exponent:x,integerLen:we}}(b);wt&&(Jn=function xn(b){if(0===b.digits[0])return b;const V=b.digits.length-b.integerLen;return b.exponent?b.exponent+=2:(0===V?b.digits.push(0,0):1===V&&b.digits.push(0),b.integerLen+=2),b}(Jn));let _r=V.minInt,In=V.minFrac,xr=V.maxFrac;if(at){const Rr=at.match(Bt);if(null===Rr)throw new Error(`${at} is not a valid digit info`);const ro=Rr[1],en=Rr[3],un=Rr[5];null!=ro&&(_r=Vn(ro)),null!=en&&(In=Vn(en)),null!=un?xr=Vn(un):null!=en&&In>xr&&(xr=In)}!function Tr(b,V,x){if(V>x)throw new Error(`The minimum number of digits after fraction (${V}) is higher than the maximum (${x}).`);let z=b.digits,we=z.length-b.integerLen;const at=Math.min(Math.max(V,we),x);let wt=at+b.integerLen,mn=z[wt];if(wt>0){z.splice(Math.max(b.integerLen,wt));for(let In=wt;In<z.length;In++)z[In]=0}else{we=Math.max(0,we),b.integerLen=1,z.length=Math.max(1,wt=at+1),z[0]=0;for(let In=1;In<wt;In++)z[In]=0}if(mn>=5)if(wt-1<0){for(let In=0;In>wt;In--)z.unshift(0),b.integerLen++;z.unshift(1),b.integerLen++}else z[wt-1]++;for(;we<Math.max(0,at);we++)z.push(0);let hr=0!==at;const Jn=V+b.integerLen,_r=z.reduceRight(function(In,xr,Bn,ei){return ei[Bn]=(xr+=In)<10?xr:xr-10,hr&&(0===ei[Bn]&&Bn>=Jn?ei.pop():hr=!1),xr>=10?1:0},0);_r&&(z.unshift(_r),b.integerLen++)}(Jn,In,xr);let Bn=Jn.digits,ei=Jn.integerLen;const Ls=Jn.exponent;let Mt=[];for(hr=Bn.every(Rr=>!Rr);ei<_r;ei++)Bn.unshift(0);for(;ei<0;ei++)Bn.unshift(0);ei>0?Mt=Bn.splice(ei,Bn.length):(Mt=Bn,Bn=[0]);const vr=[];for(Bn.length>=V.lgSize&&vr.unshift(Bn.splice(-V.lgSize,Bn.length).join(""));Bn.length>V.gSize;)vr.unshift(Bn.splice(-V.gSize,Bn.length).join(""));Bn.length&&vr.unshift(Bn.join("")),mn=vr.join(sn(x,z)),Mt.length&&(mn+=sn(x,we)+Mt.join("")),Ls&&(mn+=sn(x,Pt.Exponential)+"+"+Ls)}else mn=sn(x,Pt.Infinity);return mn=b<0&&!hr?V.negPre+mn+V.negSuf:V.posPre+mn+V.posSuf,mn}(b,wt,V,Pt.CurrencyGroup,Pt.CurrencyDecimal,we).replace("\xa4",x).replace("\xa4","").trim()}function Vn(b){const V=parseInt(b);if(isNaN(V))throw new Error("Invalid integer literal when parsing "+b);return V}function Fi(b,V){V=encodeURIComponent(V);for(const x of b.split(";")){const z=x.indexOf("="),[we,at]=-1==z?[x,""]:[x.slice(0,z),x.slice(z+1)];if(we.trim()===V)return decodeURIComponent(at)}return null}let Zn=(()=>{class b{constructor(x,z,we,at){this._iterableDiffers=x,this._keyValueDiffers=z,this._ngEl=we,this._renderer=at,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(x){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof x?x.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(x){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof x?x.split(/\s+/):x,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const x=this._iterableDiffer.diff(this._rawClass);x&&this._applyIterableChanges(x)}else if(this._keyValueDiffer){const x=this._keyValueDiffer.diff(this._rawClass);x&&this._applyKeyValueChanges(x)}}_applyKeyValueChanges(x){x.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),x.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),x.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(x){x.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),x.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(z=>this._toggleClass(z,!0)):Object.keys(x).forEach(z=>this._toggleClass(z,!!x[z])))}_removeClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(z=>this._toggleClass(z,!1)):Object.keys(x).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(x,z){(x=x.trim())&&x.split(/\s+/g).forEach(we=>{z?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class Ar{constructor(V,x,z,we){this.$implicit=V,this.ngForOf=x,this.index=z,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class b{constructor(x,z,we){this._viewContainer=x,this._template=z,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const z=this._viewContainer;x.forEachOperation((we,at,wt)=>{if(null==we.previousIndex)z.createEmbeddedView(this._template,new Ar(we.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)z.remove(null===at?void 0:at);else if(null!==at){const mn=z.get(at);z.move(mn,wt),qr(mn,we)}});for(let we=0,at=z.length;we<at;we++){const mn=z.get(we).context;mn.index=we,mn.count=at,mn.ngForOf=this._ngForOf}x.forEachIdentityChange(we=>{qr(z.get(we.currentIndex),we)})}static ngTemplateContextGuard(x,z){return!0}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function qr(b,V){b.context.$implicit=V.item}let Nr=(()=>{class b{constructor(x,z){this._viewContainer=x,this._context=new Li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Wr("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Wr("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,z){return!0}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.s_b),d.Y36(d.Rgc))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class Li{constructor(){this.$implicit=null,this.ngIf=null}}function Wr(b,V){if(V&&!V.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,d.AaK)(V)}'.`)}function ur(b,V){return new d.vHH(2100,!1)}class bo{createSubscription(V,x){return V.subscribe({next:x,error:z=>{throw z}})}dispose(V){V.unsubscribe()}}class To{createSubscription(V,x){return V.then(x,z=>{throw z})}dispose(V){}}const uo=new To,xe=new bo;let be=(()=>{class b{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,z=>this._updateLatestValue(x,z))}_selectStrategy(x){if((0,d.QGY)(x))return uo;if((0,d.F4k)(x))return xe;throw ur()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,z){x===this._obj&&(this._latestValue=z,this._ref.markForCheck())}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.sBO,16))},b.\u0275pipe=d.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),xs=(()=>{class b{constructor(x,z="USD"){this._locale=x,this._defaultCurrencyCode=z}transform(x,z=this._defaultCurrencyCode,we="symbol",at,wt){if(!function aa(b){return!(null==b||""===b||b!=b)}(x))return null;wt=wt||this._locale,"boolean"==typeof we&&(we=we?"symbol":"code");let mn=z||this._defaultCurrencyCode;"code"!==we&&(mn="symbol"===we||"symbol-narrow"===we?function On(b,V,x="en"){const z=function Gn(b){return(0,d.cg1)(b)[d.wAp.Currencies]}(x)[b]||He[b]||[],we=z[1];return"narrow"===V&&"string"==typeof we?we:z[0]||b}(mn,"symbol"===we?"wide":"narrow",wt):we);try{return ke(function Yi(b){if("string"==typeof b&&!isNaN(Number(b)-parseFloat(b)))return Number(b);if("number"!=typeof b)throw new Error(`${b} is not a number`);return b}(x),wt,mn,z,at)}catch(hr){throw ur()}}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},b.\u0275pipe=d.Yjl({name:"currency",type:b,pure:!0,standalone:!0}),b})();let zs=(()=>{class b{}return b.\u0275fac=function(x){return new(x||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({}),b})();const Pi="browser";function Rs(b){return"server"===b}let Ps=(()=>{class b{}return b.\u0275prov=(0,d.Yz7)({token:b,providedIn:"root",factory:()=>new Ks((0,d.LFG)(De),window)}),b})();class Ks{constructor(V,x){this.document=V,this.window=x,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const x=function Zr(b,V){const x=b.getElementById(V)||b.getElementsByName(V)[0];if(x)return x;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const z=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let we=z.currentNode;for(;we;){const at=we.shadowRoot;if(at){const wt=at.getElementById(V)||at.querySelector(`[name="${V}"]`);if(wt)return wt}we=z.nextNode()}}return null}(this.document,V);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=V)}}scrollToElement(V){const x=V.getBoundingClientRect(),z=x.left+this.window.pageXOffset,we=x.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(z-at[0],we-at[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=vs(this.window.history)||vs(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vs(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class qs{}},529:(Ht,Be,k)=>{k.d(Be,{JF:()=>jr,eN:()=>Xe});var d=k(6895),F=k(4650),B=k(9646),he=k(9751),le=k(4351),Ie=k(9300),De=k(4004);class te{}class Oe{}class ee{constructor(ge){this.normalizedNames=new Map,this.lazyUpdate=null,ge?this.lazyInit="string"==typeof ge?()=>{this.headers=new Map,ge.split("\n").forEach(de=>{const it=de.indexOf(":");if(it>0){const lt=de.slice(0,it),tn=lt.toLowerCase(),vn=de.slice(it+1).trim();this.maybeSetNormalizedName(lt,tn),this.headers.has(tn)?this.headers.get(tn).push(vn):this.headers.set(tn,[vn])}})}:()=>{this.headers=new Map,Object.keys(ge).forEach(de=>{let it=ge[de];const lt=de.toLowerCase();"string"==typeof it&&(it=[it]),it.length>0&&(this.headers.set(lt,it),this.maybeSetNormalizedName(de,lt))})}:this.headers=new Map}has(ge){return this.init(),this.headers.has(ge.toLowerCase())}get(ge){this.init();const de=this.headers.get(ge.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ge){return this.init(),this.headers.get(ge.toLowerCase())||null}append(ge,de){return this.clone({name:ge,value:de,op:"a"})}set(ge,de){return this.clone({name:ge,value:de,op:"s"})}delete(ge,de){return this.clone({name:ge,value:de,op:"d"})}maybeSetNormalizedName(ge,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,ge)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ge=>this.applyUpdate(ge)),this.lazyUpdate=null))}copyFrom(ge){ge.init(),Array.from(ge.headers.keys()).forEach(de=>{this.headers.set(de,ge.headers.get(de)),this.normalizedNames.set(de,ge.normalizedNames.get(de))})}clone(ge){const de=new ee;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([ge]),de}applyUpdate(ge){const de=ge.name.toLowerCase();switch(ge.op){case"a":case"s":let it=ge.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(ge.name,de);const lt=("a"===ge.op?this.headers.get(de):void 0)||[];lt.push(...it),this.headers.set(de,lt);break;case"d":const tn=ge.value;if(tn){let vn=this.headers.get(de);if(!vn)return;vn=vn.filter(Rn=>-1===tn.indexOf(Rn)),0===vn.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,vn)}else this.headers.delete(de),this.normalizedNames.delete(de)}}forEach(ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>ge(this.normalizedNames.get(de),this.headers.get(de)))}}class Ee{encodeKey(ge){return mt(ge)}encodeValue(ge){return mt(ge)}decodeKey(ge){return decodeURIComponent(ge)}decodeValue(ge){return decodeURIComponent(ge)}}const et=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mt(Ge){return encodeURIComponent(Ge).replace(et,(ge,de)=>Fe[de]??ge)}function Ue(Ge){return`${Ge}`}class Se{constructor(ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ge.encoder||new Ee,ge.fromString){if(ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht(Ge,ge){const de=new Map;return Ge.length>0&&Ge.replace(/^\?/,"").split("&").forEach(lt=>{const tn=lt.indexOf("="),[vn,Rn]=-1==tn?[ge.decodeKey(lt),""]:[ge.decodeKey(lt.slice(0,tn)),ge.decodeValue(lt.slice(tn+1))],Nt=de.get(vn)||[];Nt.push(Rn),de.set(vn,Nt)}),de}(ge.fromString,this.encoder)}else ge.fromObject?(this.map=new Map,Object.keys(ge.fromObject).forEach(de=>{const it=ge.fromObject[de],lt=Array.isArray(it)?it.map(Ue):[Ue(it)];this.map.set(de,lt)})):this.map=null}has(ge){return this.init(),this.map.has(ge)}get(ge){this.init();const de=this.map.get(ge);return de?de[0]:null}getAll(ge){return this.init(),this.map.get(ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ge,de){return this.clone({param:ge,value:de,op:"a"})}appendAll(ge){const de=[];return Object.keys(ge).forEach(it=>{const lt=ge[it];Array.isArray(lt)?lt.forEach(tn=>{de.push({param:it,value:tn,op:"a"})}):de.push({param:it,value:lt,op:"a"})}),this.clone(de)}set(ge,de){return this.clone({param:ge,value:de,op:"s"})}delete(ge,de){return this.clone({param:ge,value:de,op:"d"})}toString(){return this.init(),this.keys().map(ge=>{const de=this.encoder.encodeKey(ge);return this.map.get(ge).map(it=>de+"="+this.encoder.encodeValue(it)).join("&")}).filter(ge=>""!==ge).join("&")}clone(ge){const de=new Se({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(ge),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ge=>this.map.set(ge,this.cloneFrom.map.get(ge))),this.updates.forEach(ge=>{switch(ge.op){case"a":case"s":const de=("a"===ge.op?this.map.get(ge.param):void 0)||[];de.push(Ue(ge.value)),this.map.set(ge.param,de);break;case"d":if(void 0===ge.value){this.map.delete(ge.param);break}{let it=this.map.get(ge.param)||[];const lt=it.indexOf(Ue(ge.value));-1!==lt&&it.splice(lt,1),it.length>0?this.map.set(ge.param,it):this.map.delete(ge.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(ge,de){return this.map.set(ge,de),this}get(ge){return this.map.has(ge)||this.map.set(ge,ge.defaultValue()),this.map.get(ge)}delete(ge){return this.map.delete(ge),this}has(ge){return this.map.has(ge)}keys(){return this.map.keys()}}function nt(Ge){return typeof ArrayBuffer<"u"&&Ge instanceof ArrayBuffer}function st(Ge){return typeof Blob<"u"&&Ge instanceof Blob}function St(Ge){return typeof FormData<"u"&&Ge instanceof FormData}class Ce{constructor(ge,de,it,lt){let tn;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ge.toUpperCase(),function me(Ge){switch(Ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==it?it:null,tn=lt):tn=it,tn&&(this.reportProgress=!!tn.reportProgress,this.withCredentials=!!tn.withCredentials,tn.responseType&&(this.responseType=tn.responseType),tn.headers&&(this.headers=tn.headers),tn.context&&(this.context=tn.context),tn.params&&(this.params=tn.params)),this.headers||(this.headers=new ee),this.context||(this.context=new pt),this.params){const vn=this.params.toString();if(0===vn.length)this.urlWithParams=de;else{const Rn=de.indexOf("?");this.urlWithParams=de+(-1===Rn?"?":Rn<de.length-1?"&":"")+vn}}else this.params=new Se,this.urlWithParams=de}serializeBody(){return null===this.body?null:nt(this.body)||st(this.body)||St(this.body)||function He(Ge){return typeof URLSearchParams<"u"&&Ge instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||St(this.body)?null:st(this.body)?this.body.type||null:nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ge={}){const de=ge.method||this.method,it=ge.url||this.url,lt=ge.responseType||this.responseType,tn=void 0!==ge.body?ge.body:this.body,vn=void 0!==ge.withCredentials?ge.withCredentials:this.withCredentials,Rn=void 0!==ge.reportProgress?ge.reportProgress:this.reportProgress;let Nt=ge.headers||this.headers,kn=ge.params||this.params;const pn=ge.context??this.context;return void 0!==ge.setHeaders&&(Nt=Object.keys(ge.setHeaders).reduce((yr,fn)=>yr.set(fn,ge.setHeaders[fn]),Nt)),ge.setParams&&(kn=Object.keys(ge.setParams).reduce((yr,fn)=>yr.set(fn,ge.setParams[fn]),kn)),new Ce(de,it,tn,{params:kn,headers:Nt,context:pn,reportProgress:Rn,responseType:lt,withCredentials:vn})}}var pe=(()=>((pe=pe||{})[pe.Sent=0]="Sent",pe[pe.UploadProgress=1]="UploadProgress",pe[pe.ResponseHeader=2]="ResponseHeader",pe[pe.DownloadProgress=3]="DownloadProgress",pe[pe.Response=4]="Response",pe[pe.User=5]="User",pe))();class ot{constructor(ge,de=200,it="OK"){this.headers=ge.headers||new ee,this.status=void 0!==ge.status?ge.status:de,this.statusText=ge.statusText||it,this.url=ge.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends ot{constructor(ge={}){super(ge),this.type=pe.ResponseHeader}clone(ge={}){return new Le({headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class _t extends ot{constructor(ge={}){super(ge),this.type=pe.Response,this.body=void 0!==ge.body?ge.body:null}clone(ge={}){return new _t({body:void 0!==ge.body?ge.body:this.body,headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class Pt extends ot{constructor(ge){super(ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ge.url||"(unknown url)"}`:`Http failure response for ${ge.url||"(unknown url)"}: ${ge.status} ${ge.statusText}`,this.error=ge.error||null}}function fr(Ge,ge){return{body:ge,headers:Ge.headers,context:Ge.context,observe:Ge.observe,params:Ge.params,reportProgress:Ge.reportProgress,responseType:Ge.responseType,withCredentials:Ge.withCredentials}}let Xe=(()=>{class Ge{constructor(de){this.handler=de}request(de,it,lt={}){let tn;if(de instanceof Ce)tn=de;else{let Nt,kn;Nt=lt.headers instanceof ee?lt.headers:new ee(lt.headers),lt.params&&(kn=lt.params instanceof Se?lt.params:new Se({fromObject:lt.params})),tn=new Ce(de,it,void 0!==lt.body?lt.body:null,{headers:Nt,context:lt.context,params:kn,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials})}const vn=(0,B.of)(tn).pipe((0,le.b)(Nt=>this.handler.handle(Nt)));if(de instanceof Ce||"events"===lt.observe)return vn;const Rn=vn.pipe((0,Ie.h)(Nt=>Nt instanceof _t));switch(lt.observe||"body"){case"body":switch(tn.responseType){case"arraybuffer":return Rn.pipe((0,De.U)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nt.body}));case"blob":return Rn.pipe((0,De.U)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof Blob))throw new Error("Response is not a Blob.");return Nt.body}));case"text":return Rn.pipe((0,De.U)(Nt=>{if(null!==Nt.body&&"string"!=typeof Nt.body)throw new Error("Response is not a string.");return Nt.body}));default:return Rn.pipe((0,De.U)(Nt=>Nt.body))}case"response":return Rn;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(de,it={}){return this.request("DELETE",de,it)}get(de,it={}){return this.request("GET",de,it)}head(de,it={}){return this.request("HEAD",de,it)}jsonp(de,it){return this.request("JSONP",de,{params:(new Se).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,it={}){return this.request("OPTIONS",de,it)}patch(de,it,lt={}){return this.request("PATCH",de,fr(lt,it))}post(de,it,lt={}){return this.request("POST",de,fr(lt,it))}put(de,it,lt={}){return this.request("PUT",de,fr(lt,it))}}return Ge.\u0275fac=function(de){return new(de||Ge)(F.LFG(te))},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class Ve{constructor(ge,de){this.next=ge,this.interceptor=de}handle(ge){return this.interceptor.intercept(ge,this.next)}}const $e=new F.OlP("HTTP_INTERCEPTORS");let ze=(()=>{class Ge{intercept(de,it){return it.handle(de)}}return Ge.\u0275fac=function(de){return new(de||Ge)},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Kn=/^\)\]\}',?\n/;let Gn=(()=>{class Ge{constructor(de){this.xhrFactory=de}handle(de){if("JSONP"===de.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he.y(it=>{const lt=this.xhrFactory.build();if(lt.open(de.method,de.urlWithParams),de.withCredentials&&(lt.withCredentials=!0),de.headers.forEach((qt,Tt)=>lt.setRequestHeader(qt,Tt.join(","))),de.headers.has("Accept")||lt.setRequestHeader("Accept","application/json, text/plain, */*"),!de.headers.has("Content-Type")){const qt=de.detectContentTypeHeader();null!==qt&&lt.setRequestHeader("Content-Type",qt)}if(de.responseType){const qt=de.responseType.toLowerCase();lt.responseType="json"!==qt?qt:"text"}const tn=de.serializeBody();let vn=null;const Rn=()=>{if(null!==vn)return vn;const qt=lt.statusText||"OK",Tt=new ee(lt.getAllResponseHeaders()),Fn=function ir(Ge){return"responseURL"in Ge&&Ge.responseURL?Ge.responseURL:/^X-Request-URL:/m.test(Ge.getAllResponseHeaders())?Ge.getResponseHeader("X-Request-URL"):null}(lt)||de.url;return vn=new Le({headers:Tt,status:lt.status,statusText:qt,url:Fn}),vn},Nt=()=>{let{headers:qt,status:Tt,statusText:Fn,url:Yn}=Rn(),Qe=null;204!==Tt&&(Qe=typeof lt.response>"u"?lt.responseText:lt.response),0===Tt&&(Tt=Qe?200:0);let W=Tt>=200&&Tt<300;if("json"===de.responseType&&"string"==typeof Qe){const fe=Qe;Qe=Qe.replace(Kn,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(Ze){Qe=fe,W&&(W=!1,Qe={error:Ze,text:Qe})}}W?(it.next(new _t({body:Qe,headers:qt,status:Tt,statusText:Fn,url:Yn||void 0})),it.complete()):it.error(new Pt({error:Qe,headers:qt,status:Tt,statusText:Fn,url:Yn||void 0}))},kn=qt=>{const{url:Tt}=Rn(),Fn=new Pt({error:qt,status:lt.status||0,statusText:lt.statusText||"Unknown Error",url:Tt||void 0});it.error(Fn)};let pn=!1;const yr=qt=>{pn||(it.next(Rn()),pn=!0);let Tt={type:pe.DownloadProgress,loaded:qt.loaded};qt.lengthComputable&&(Tt.total=qt.total),"text"===de.responseType&&!!lt.responseText&&(Tt.partialText=lt.responseText),it.next(Tt)},fn=qt=>{let Tt={type:pe.UploadProgress,loaded:qt.loaded};qt.lengthComputable&&(Tt.total=qt.total),it.next(Tt)};return lt.addEventListener("load",Nt),lt.addEventListener("error",kn),lt.addEventListener("timeout",kn),lt.addEventListener("abort",kn),de.reportProgress&&(lt.addEventListener("progress",yr),null!==tn&&lt.upload&&lt.upload.addEventListener("progress",fn)),lt.send(tn),it.next({type:pe.Sent}),()=>{lt.removeEventListener("error",kn),lt.removeEventListener("abort",kn),lt.removeEventListener("load",Nt),lt.removeEventListener("timeout",kn),de.reportProgress&&(lt.removeEventListener("progress",yr),null!==tn&&lt.upload&&lt.upload.removeEventListener("progress",fn)),lt.readyState!==lt.DONE&&lt.abort()}})}}return Ge.\u0275fac=function(de){return new(de||Ge)(F.LFG(d.JF))},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const En=new F.OlP("XSRF_COOKIE_NAME"),jt=new F.OlP("XSRF_HEADER_NAME");class qn{}let Fr=(()=>{class Ge{constructor(de,it,lt){this.doc=de,this.platform=it,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const de=this.doc.cookie||"";return de!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(de,this.cookieName),this.lastCookieString=de),this.lastToken}}return Ge.\u0275fac=function(de){return new(de||Ge)(F.LFG(d.K0),F.LFG(F.Lbi),F.LFG(En))},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),cr=(()=>{class Ge{constructor(de,it){this.tokenService=de,this.headerName=it}intercept(de,it){const lt=de.url.toLowerCase();if("GET"===de.method||"HEAD"===de.method||lt.startsWith("http://")||lt.startsWith("https://"))return it.handle(de);const tn=this.tokenService.getToken();return null!==tn&&!de.headers.has(this.headerName)&&(de=de.clone({headers:de.headers.set(this.headerName,tn)})),it.handle(de)}}return Ge.\u0275fac=function(de){return new(de||Ge)(F.LFG(qn),F.LFG(jt))},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),kt=(()=>{class Ge{constructor(de,it){this.backend=de,this.injector=it,this.chain=null}handle(de){if(null===this.chain){const it=this.injector.get($e,[]);this.chain=it.reduceRight((lt,tn)=>new Ve(lt,tn),this.backend)}return this.chain.handle(de)}}return Ge.\u0275fac=function(de){return new(de||Ge)(F.LFG(Oe),F.LFG(F.zs3))},Ge.\u0275prov=F.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),ar=(()=>{class Ge{static disable(){return{ngModule:Ge,providers:[{provide:cr,useClass:ze}]}}static withOptions(de={}){return{ngModule:Ge,providers:[de.cookieName?{provide:En,useValue:de.cookieName}:[],de.headerName?{provide:jt,useValue:de.headerName}:[]]}}}return Ge.\u0275fac=function(de){return new(de||Ge)},Ge.\u0275mod=F.oAB({type:Ge}),Ge.\u0275inj=F.cJS({providers:[cr,{provide:$e,useExisting:cr,multi:!0},{provide:qn,useClass:Fr},{provide:En,useValue:"XSRF-TOKEN"},{provide:jt,useValue:"X-XSRF-TOKEN"}]}),Ge})(),jr=(()=>{class Ge{}return Ge.\u0275fac=function(de){return new(de||Ge)},Ge.\u0275mod=F.oAB({type:Ge}),Ge.\u0275inj=F.cJS({providers:[Xe,{provide:te,useClass:kt},Gn,{provide:Oe,useExisting:Gn}],imports:[ar.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ge})()},4650:(Ht,Be,k)=>{k.d(Be,{$8M:()=>yn,$Z:()=>Uh,AFp:()=>xE,ALo:()=>Y0,AaK:()=>te,AsE:()=>rg,CHM:()=>Qs,CRH:()=>aE,CZH:()=>Dy,CqO:()=>mf,D6c:()=>OD,DdM:()=>H0,EJc:()=>qI,EpF:()=>Im,F4k:()=>Dm,FYo:()=>Cd,FiY:()=>wr,G48:()=>gD,Gf:()=>sE,GfV:()=>Mg,Gpc:()=>ce,JOm:()=>rs,KtG:()=>po,LFG:()=>Ni,LSH:()=>Kl,Lbi:()=>zI,Lck:()=>jw,MMx:()=>a_,NdJ:()=>Yp,O4$:()=>Cr,OlP:()=>Er,Oqu:()=>Jc,PXZ:()=>lD,Q6J:()=>pf,QGY:()=>Zd,QP$:()=>ft,Qsj:()=>Qy,R0b:()=>Mu,RDi:()=>mg,Rgc:()=>dg,SBq:()=>ec,Sil:()=>YI,Suo:()=>oE,TTD:()=>ys,TgZ:()=>qd,Tol:()=>tg,VKq:()=>G0,X6Q:()=>pD,XFs:()=>kt,Xpm:()=>Yn,Xts:()=>$f,Y36:()=>El,YKP:()=>N0,YNc:()=>Wp,Yjl:()=>Y,Yz7:()=>Wt,Z0I:()=>_n,ZZ4:()=>P_,_Bn:()=>O0,_UZ:()=>Ts,_Vd:()=>Jl,_c5:()=>RD,_uU:()=>Hm,aQg:()=>O_,c2e:()=>WI,cJS:()=>sn,cg1:()=>cy,dDg:()=>sD,dqk:()=>lt,eFA:()=>HE,ekj:()=>_f,eoX:()=>BE,f3M:()=>Fl,g9A:()=>PE,h0i:()=>Sf,hGG:()=>PD,hij:()=>Df,iGM:()=>iE,ifc:()=>it,ip1:()=>ME,jDz:()=>F0,kL8:()=>dy,kcU:()=>da,lG2:()=>ue,lcZ:()=>Q0,lqb:()=>Zl,lri:()=>VE,n5z:()=>ln,oAB:()=>Ze,oxw:()=>Qp,q4F:()=>Yf,qLn:()=>Vc,qOj:()=>Gd,qZA:()=>Ii,rWj:()=>UE,sBO:()=>mD,sIi:()=>zd,s_b:()=>Ey,soG:()=>Cy,tb:()=>OE,tp0:()=>hi,uIk:()=>Kc,vHH:()=>Fe,vpe:()=>Rl,wAp:()=>$n,xi3:()=>J0,xp6:()=>bs,z2F:()=>by,zSh:()=>bh,zs3:()=>eu});var d=k(7579),F=k(727),B=k(9751),he=k(6451),le=k(3099);function Ie(n){for(let r in n)if(n[r]===Ie)return r;throw Error("Could not find renamed property on target object.")}function De(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Oe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ee=Ie({__forward_ref__:Ie});function ce(n){return n.__forward_ref__=ce,n.toString=function(){return te(this())},n}function Ee(n){return ht(n)?n():n}function ht(n){return"function"==typeof n&&n.hasOwnProperty(ee)&&n.__forward_ref__===ce}class Fe extends Error{constructor(r,o){super(function mt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Ue(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n,r){throw new Fe(-201,!1)}function ze(n,r){null==n&&function Je(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Wt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hn(n){return Kn(n,jt)||Kn(n,Fr)}function _n(n){return null!==hn(n)}function Kn(n,r){return n.hasOwnProperty(r)?n[r]:null}function En(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(cr))?n[qn]:null}const jt=Ie({\u0275prov:Ie}),qn=Ie({\u0275inj:Ie}),Fr=Ie({ngInjectableDef:Ie}),cr=Ie({ngInjectorDef:Ie});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Pn;function ar(n){const r=Pn;return Pn=n,r}function jr(n,r,o){const u=hn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&kt.Optional?null:void 0!==r?r:void nt(te(n))}function dr(n){return{toString:n}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),it=(()=>{return(n=it||(it={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",it;var n})();const lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rn={},Nt=[],kn=Ie({\u0275cmp:Ie}),pn=Ie({\u0275dir:Ie}),yr=Ie({\u0275pipe:Ie}),fn=Ie({\u0275mod:Ie}),qt=Ie({\u0275fac:Ie}),Tt=Ie({__NG_ELEMENT_ID__:Ie});let Fn=0;function Yn(n){return dr(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||it.Emulated,id:"c"+Fn++,styles:n.styles||Nt,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,m=n.features;return l.inputs=ae(n.inputs,u),l.outputs=ae(n.outputs),m&&m.forEach(C=>C(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(W).filter(fe):null,l.pipeDefs=f?()=>("function"==typeof f?f():f).map(Te).filter(fe):null,l})}function W(n){return K(n)||H(n)}function fe(n){return null!==n}function Ze(n){return dr(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ae(n,r){if(null==n)return Rn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,r&&(r[l]=f)}return o}const ue=Yn;function Y(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function K(n){return n[kn]||null}function H(n){return n[pn]||null}function Te(n){return n[yr]||null}function ft(n){const r=K(n)||H(n)||Te(n);return null!==r&&r.standalone}function Bt(n,r){const o=n[fn]||null;if(!o&&!0===r)throw new Error(`Type ${te(n)} does not have '\u0275mod' property.`);return o}function Wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Lr(n){return Array.isArray(n)&&!0===n[1]}function ao(n){return 0!=(8&n.flags)}function qi(n){return 2==(2&n.flags)}function gs(n){return 1==(1&n.flags)}function Sr(n){return null!==n.template}function Zi(n){return 0!=(256&n[2])}function Bi(n,r){return n.hasOwnProperty(qt)?n[qt]:null}class ui{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ys(){return xs}function xs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yi),aa}function aa(){const n=Ao(this),r=n?.current;if(r){const o=n.previous;if(o===Rn)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Yi(n,r,o,u){const l=Ao(n)||function zs(n,r){return n[$o]=r}(n,{previous:Rn,current:null}),f=l.current||(l.current={}),m=l.previous,C=this.declaredInputs[o],S=m[C];f[C]=new ui(S&&S.currentValue,r,m===Rn),n[u]=r}ys.ngInherit=!0;const $o="__ngSimpleChanges__";function Ao(n){return n[$o]||null}function pr(n){for(;Array.isArray(n);)n=n[0];return n}function vs(n,r){return pr(r[n])}function Zr(n,r){return pr(r[n.index])}function qs(n,r){return n.data[r]}function Qi(n,r){return n[r]}function ii(n,r){const o=r[n];return Wr(o)?o:o[0]}function co(n){return 64==(64&n[2])}function li(n,r){return null==r?null:n[r]}function Yr(n){n[18]=0}function Os(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const An={lFrame:Po(null),bindingsEnabled:!0};function fo(){return An.bindingsEnabled}function bt(){return An.lFrame.lView}function zn(){return An.lFrame.tView}function Qs(n){return An.lFrame.contextLView=n,n[8]}function po(n){return An.lFrame.contextLView=null,n}function Gr(){let n=N();for(;null!==n&&64===n.type;)n=n.parent;return n}function N(){return An.lFrame.currentTNode}function M(n,r){const o=An.lFrame;o.currentTNode=n,o.isParent=r}function Z(){return An.lFrame.isParent}function ci(){const n=An.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function xo(){return An.lFrame.bindingIndex++}function mi(n){const r=An.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Xs(n,r){const o=An.lFrame;o.bindingIndex=o.bindingRootIndex=n,Wo(r)}function Wo(n){An.lFrame.currentDirectiveIndex=n}function Ro(){return An.lFrame.currentQueryIndex}function Oi(n){An.lFrame.currentQueryIndex=n}function Ns(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ra(n,r,o){if(o&kt.SkipSelf){let l=r,f=n;for(;!(l=l.parent,null!==l||o&kt.Host||(l=Ns(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;r=l,n=f}const u=An.lFrame=qo();return u.currentTNode=r,u.lView=n,!0}function mo(n){const r=qo(),o=n[1];An.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function qo(){const n=An.lFrame,r=null===n?null:n.child;return null===r?Po(n):r}function Po(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Zo(){const n=An.lFrame;return An.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ti=Zo;function ks(){const n=Zo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gr(){return An.lFrame.selectedIndex}function yi(n){An.lFrame.selectedIndex=n}function Mr(){const n=An.lFrame;return qs(n.tView,n.selectedIndex)}function Cr(){An.lFrame.currentNamespace="svg"}function da(){!function ji(){An.lFrame.currentNamespace=null}()}function ws(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:L,ngOnDestroy:q}=f;m&&(n.contentHooks||(n.contentHooks=[])).push(-o,m),C&&((n.contentHooks||(n.contentHooks=[])).push(o,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,C)),S&&(n.viewHooks||(n.viewHooks=[])).push(-o,S),L&&((n.viewHooks||(n.viewHooks=[])).push(o,L),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,L)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(o,q)}}function Xi(n,r,o){$i(n,r,3,o)}function Qo(n,r,o,u){(3&n[2])===o&&$i(n,r,o,u)}function us(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function $i(n,r,o,u){const f=u??-1,m=r.length-1;let C=0;for(let S=void 0!==u?65535&n[18]:0;S<m;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=u&&C>=u)break}else r[S]<0&&(n[18]+=65536),(C<f||-1==f)&&(vi(n,o,r,S),n[18]=(4294901760&n[18])+S+2),S++}function vi(n,r,o,u){const l=o[u]<0,f=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class eo{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function z(n,r,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],m=o[u++],C=o[u++];n.setAttribute(r,m,C,f)}else{const f=l,m=o[++u];at(f)?n.setProperty(r,f,m):n.setAttribute(r,f,m),u++}}return u}function we(n){return 3===n||4===n||6===n}function at(n){return 64===n.charCodeAt(0)}function wt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?o=l:0===o||mn(n,o,l,null,-1===o||2===o?r[++u]:null)}}return n}function mn(n,r,o,u,l){let f=0,m=n.length;if(-1===r)m=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===r){m=-1;break}if(C>r){m=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[f+1]=l));if(u===n[f+1])return void(n[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==m&&(n.splice(m,0,r),f=m+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==l&&n.splice(f++,0,l)}function hr(n){return-1!==n}function Jn(n){return 32767&n}function In(n,r){let o=function _r(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let xr=!0;function Bn(n){const r=xr;return xr=n,r}let vr=0;const Rr={};function en(n,r){const o=ha(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,un(u.data,n),un(r,null),un(u.blueprint,null));const l=Yt(n,r),f=n.injectorIndex;if(hr(l)){const m=Jn(l),C=In(l,r),S=C[1].data;for(let L=0;L<8;L++)r[f+L]=C[m+L]|S[m+L]}return r[f+8]=l,f}function un(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ha(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Yt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=r;for(;null!==l;){if(u=Pr(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function tt(n,r,o){!function ro(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Tt)&&(u=o[Tt]),null==u&&(u=o[Tt]=vr++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function si(n,r,o){if(o&kt.Optional||void 0!==n)return n;nt()}function Ga(n,r,o,u){if(o&kt.Optional&&void 0===u&&(u=null),0==(o&(kt.Self|kt.Host))){const l=n[9],f=ar(void 0);try{return l?l.get(r,u,o&kt.Optional):jr(r,u,o&kt.Optional)}finally{ar(f)}}return si(u,0,o)}function za(n,r,o,u=kt.Default,l){if(null!==n){if(1024&r[2]){const m=function Ru(n,r,o,u,l){let f=n,m=r;for(;null!==f&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=xu(f,m,o,u|kt.Self,Rr);if(C!==Rr)return C;let S=f.parent;if(!S){const L=m[21];if(L){const q=L.get(o,Rr,u);if(q!==Rr)return q}S=Pr(m),m=m[15]}f=S}return l}(n,r,o,u,Rr);if(m!==Rr)return m}const f=xu(n,r,o,u,Rr);if(f!==Rr)return f}return Ga(r,o,u,l)}function xu(n,r,o,u,l){const f=function Pl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Tt)?n[Tt]:void 0;return"number"==typeof r?r>=0?255&r:oi:r}(o);if("function"==typeof f){if(!Ra(r,n,u))return u&kt.Host?si(l,0,u):Ga(r,o,u,l);try{const m=f(u);if(null!=m||u&kt.Optional)return m;nt()}finally{Ti()}}else if("number"==typeof f){let m=null,C=ha(n,r),S=-1,L=u&kt.Host?r[16][6]:null;for((-1===C||u&kt.SkipSelf)&&(S=-1===C?Yt(n,r):r[C+8],-1!==S&&pa(u,!1)?(m=r[1],C=Jn(S),r=In(S,r)):C=-1);-1!==C;){const q=r[1];if(Ol(f,C,q.data)){const ie=nl(C,r,o,m,u,L);if(ie!==Rr)return ie}S=r[C+8],-1!==S&&pa(u,r[1].data[C+8]===L)&&Ol(f,C,r)?(m=q,C=Jn(S),r=In(S,r)):C=-1}}return l}function nl(n,r,o,u,l,f){const m=r[1],C=m.data[n+8],q=Jo(C,m,o,null==u?qi(C)&&xr:u!=m&&0!=(3&C.type),l&kt.Host&&f===C);return null!==q?fa(r,m,q,C):Rr}function Jo(n,r,o,u,l){const f=n.providerIndexes,m=r.data,C=1048575&f,S=n.directiveStart,q=f>>20,Ae=l?C+q:n.directiveEnd;for(let Ye=u?C:C+q;Ye<Ae;Ye++){const At=m[Ye];if(Ye<S&&o===At||Ye>=S&&At.type===o)return Ye}if(l){const Ye=m[S];if(Ye&&Sr(Ye)&&Ye.type===o)return S}return null}function fa(n,r,o,u){let l=n[o];const f=r.data;if(function to(n){return n instanceof eo}(l)){const m=l;m.resolving&&function yt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ue(n)}(f[o]));const C=Bn(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?ar(m.injectImpl):null;Ra(n,u,kt.Default);try{l=n[o]=m.factory(void 0,f,n,u),r.firstCreatePass&&o>=u.directiveStart&&function Fs(n,r,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=r.type.prototype;if(u){const m=xs(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],r)}finally{null!==S&&ar(S),Bn(C),m.resolving=!1,Ti()}}return l}function Ol(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function pa(n,r){return!(n&kt.Self||n&kt.Host&&r)}class Wa{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return za(this._tNode,this._lView,r,u,o)}}function oi(){return new Wa(Gr(),bt())}function ln(n){return dr(()=>{const r=n.prototype.constructor,o=r[qt]||_o(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const f=l[qt]||_o(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function _o(n){return ht(n)?()=>{const r=_o(Ee(n));return r&&r()}:Bi(n)}function Pr(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function yn(n){return function Rt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(we(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===r)return o[l+1];l+=2}}}return null}(Gr(),n)}const bn="__parameters__";function ls(n,r,o){return dr(()=>{const u=function Qt(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(r);function l(...f){if(this instanceof l)return u.apply(this,f),this;const m=new l(...f);return C.annotation=m,C;function C(S,L,q){const ie=S.hasOwnProperty(bn)?S[bn]:Object.defineProperty(S,bn,{value:[]})[bn];for(;ie.length<=q;)ie.push(null);return(ie[q]=ie[q]||[]).push(m),S}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Er{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Wt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ai(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(r===n&&(r=n.slice(0,o)),Ai(u,r)):r!==n&&r.push(u)}return r}function Si(n,r){n.forEach(o=>Array.isArray(o)?Si(o,r):r(o))}function au(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Us(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ds(n,r,o){let u=v(n,r);return u>=0?n[1|u]=o:(u=~u,function kl(n,r,o,u){let l=n.length;if(l==r)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function _i(n,r){const o=v(n,r);if(o>=0)return n[1|o]}function v(n,r){return function y(n,r,o){let u=0,l=n.length>>o;for(;l!==u;){const f=u+(l-u>>1),m=n[f<<o];if(r===m)return f<<o;m>r?l=f:u=f+1}return~(l<<o)}(n,r,1)}const er={},Mi="__NG_DI_FLAG__",ai="ngTempTokenPath",Bs=/\n/gm,na="__source";let Oa;function Ds(n){const r=Oa;return Oa=n,r}function lu(n,r=kt.Default){if(void 0===Oa)throw new Fe(-203,!1);return null===Oa?jr(n,void 0,r):Oa.get(n,r&kt.Optional?null:void 0,r)}function Ni(n,r=kt.Default){return(function On(){return Pn}()||lu)(Ee(n),r)}function Fl(n,r=kt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ni(n,r)}function il(n){const r=[];for(let o=0;o<n.length;o++){const u=Ee(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let l,f=kt.Default;for(let m=0;m<u.length;m++){const C=u[m],S=Hi(C);"number"==typeof S?-1===S?l=C.token:f|=S:l=C}r.push(Ni(l,f))}else r.push(Ni(u))}return r}function Ia(n,r){return n[Mi]=r,n.prototype[Mi]=r,n}function Hi(n){return n[Mi]}const wr=Ia(ls("Optional"),8),hi=Ia(ls("SkipSelf"),4);var rs=(()=>((rs=rs||{})[rs.Important=1]="Important",rs[rs.DashCase=2]="DashCase",rs))();const ne=new Map;let ve=0;const fi="__ngContext__";function ki(n,r){Wr(r)?(n[fi]=r[20],function dt(n){ne.set(n[20],n)}(r)):n[fi]=r}function dl(n,r){return undefined(n,r)}function hl(n){const r=n[3];return Lr(r)?r[3]:r}function Ac(n){return h(n[13])}function _(n){return h(n[4])}function h(n){for(;null!==n&&!Lr(n);)n=n[4];return n}function I(n,r,o,u,l){if(null!=u){let f,m=!1;Lr(u)?f=u:Wr(u)&&(m=!0,u=u[0]);const C=pr(u);0===n&&null!==o?null==l?ad(r,o,C):Ja(r,o,C,l||null,!0):1===n&&null!==o?Ja(r,o,C,l||null,!0):2===n?function hh(n,r,o){const u=ld(n,r);u&&function ud(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,C,m):3===n&&r.destroyNode(C),null!=f&&function My(n,r,o,u,l){const f=o[7];f!==pr(o)&&I(r,n,u,f,l);for(let C=10;C<o.length;C++){const S=o[C];Mc(S[1],S,n,r,u,f)}}(r,n,f,o,l)}}function ut(n,r,o){return n.createElement(r,o)}function $l(n,r){const o=n[9],u=o.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Os(l,-1)),o.splice(u,1)}function Cs(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&$l(l,u),r>0&&(n[o-1][4]=u[4]);const f=Us(n,10+r);!function Gt(n,r){Mc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const m=f[19];null!==m&&m.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Hl(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Mc(n,r,o,3,null,null),function mr(n){let r=n[13];if(!r)return vu(n[1],n);for(;r;){let o=null;if(Wr(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)Wr(r)&&vu(r[1],r),r=r[3];null===r&&(r=n),Wr(r)&&vu(r[1],r),o=r&&r[4]}r=o}}(r)}}function vu(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function oa(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=r[o[u]];if(!(l instanceof eo)){const f=o[u+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const C=l[f[m]],S=f[m+1];try{S.call(C)}finally{}}else try{f.call(l)}finally{}}}}(n,r),function od(n,r){const o=n.cleanup,u=r[7];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+1],C="function"==typeof m?m(r):pr(r[m]),S=u[l=o[f+2]],L=o[f+3];"boolean"==typeof L?C.removeEventListener(o[f],S,L):L>=0?u[l=L]():u[l=-L].unsubscribe(),f+=2}else{const m=u[l=o[f+1]];o[f].call(m)}if(null!==u){for(let f=l+1;f<u.length;f++)(0,u[f])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&Lr(r[3])){o!==r[3]&&$l(o,r);const u=r[19];null!==u&&u.detachView(n)}!function Zt(n){ne.delete(n[20])}(r)}}function Sc(n,r,o){return function $u(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===it.None||l===it.Emulated)return null}return Zr(u,o)}(n,r.parent,o)}function Ja(n,r,o,u,l){n.insertBefore(r,o,u,l)}function ad(n,r,o){n.appendChild(r,o)}function or(n,r,o,u,l){null!==u?Ja(n,r,o,u,l):ad(n,r,o)}function ld(n,r){return n.parentNode(r)}let Xa,pg=function cd(n,r,o){return 40&n.type?Zr(n,o):null};function Hu(n,r,o,u){const l=Sc(n,u,r),f=r[11],C=function Of(n,r,o){return pg(n,r,o)}(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(o))for(let S=0;S<o.length;S++)or(f,l,o[S],C,!1);else or(f,l,o,C,!1)}function _u(n,r){if(null!==r){const o=r.type;if(3&o)return Zr(r,n);if(4&o)return Gu(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return _u(n,u);{const l=n[r.index];return Lr(l)?Gu(-1,l):pr(l)}}if(32&o)return dl(r,n)()||pr(n[r.index]);{const u=Ff(n,r);return null!==u?Array.isArray(u)?u[0]:_u(hl(n[16]),u):_u(n,r.next)}}return null}function Ff(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Gu(n,r){const o=10+n+1;if(o<r.length){const u=r[o],l=u[1].firstChild;if(null!==l)return _u(u,l)}return r[7]}function fl(n,r,o,u,l,f,m){for(;null!=o;){const C=u[o.index],S=o.type;if(m&&0===r&&(C&&ki(pr(C),u),o.flags|=4),64!=(64&o.flags))if(8&S)fl(n,r,o.child,u,l,f,!1),I(r,n,l,C,f);else if(32&S){const L=dl(o,u);let q;for(;q=L();)I(r,n,l,q,f);I(r,n,l,C,f)}else 16&S?xc(n,r,u,o,l,f):I(r,n,l,C,f);o=m?o.projectionNext:o.next}}function Mc(n,r,o,u,l,f){fl(o,u,n.firstChild,r,l,f,!1)}function xc(n,r,o,u,l,f){const m=o[16],S=m[6].projection[u.projection];if(Array.isArray(S))for(let L=0;L<S.length;L++)I(r,n,l,S[L],f);else fl(n,r,S,m[3],l,f,!0)}function wi(n,r,o){n.setAttribute(r,"style",o)}function Rc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function mg(n){Xa=n}class yh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function zu(n){return n instanceof yh?n.changingThisBreaksApplicationSecurity:n}const _g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var is=(()=>((is=is||{})[is.NONE=0]="NONE",is[is.HTML=1]="HTML",is[is.STYLE=2]="STYLE",is[is.SCRIPT=3]="SCRIPT",is[is.URL=4]="URL",is[is.RESOURCE_URL=5]="RESOURCE_URL",is))();function Kl(n){const r=function Ed(){const n=bt();return n&&n[12]}();return r?r.sanitize(is.URL,n)||"":function Wl(n,r){const o=function vh(n){return n instanceof yh&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?zu(n):function Eh(n){return(n=String(n)).match(_g)?n:"unsafe:"+n}(Ue(n))}const $f=new Er("ENVIRONMENT_INITIALIZER"),Wu=new Er("INJECTOR",-1),ql=new Er("INJECTOR_DEF_TYPES");class Hf{get(r,o=er){if(o===er){const u=new Error(`NullInjectorError: No provider for ${te(r)}!`);throw u.name="NullInjectorError",u}return o}}function Gy(...n){return{\u0275providers:Gf(0,n)}}function Gf(n,...r){const o=[],u=new Set;let l;return Si(r,f=>{const m=f;Ch(m,o,[],u)&&(l||(l=[]),l.push(m))}),void 0!==l&&Iu(l,o),o}function Iu(n,r){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Si(l,f=>{r.push(f)})}}function Ch(n,r,o,u){if(!(n=Ee(n)))return!1;let l=null,f=En(n);const m=!f&&K(n);if(f||m){if(m&&!m.standalone)return!1;l=n}else{const S=n.ngModule;if(f=En(S),!f)return!1;l=S}const C=u.has(l);if(m){if(C)return!1;if(u.add(l),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of S)Ch(L,r,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let L;u.add(l);try{Si(f.imports,q=>{Ch(q,r,o,u)&&(L||(L=[]),L.push(q))})}finally{}void 0!==L&&Iu(L,r)}if(!C){const L=Bi(l)||(()=>new l);r.push({provide:l,useFactory:L,deps:Nt},{provide:ql,useValue:l,multi:!0},{provide:$f,useValue:()=>Ni(l),multi:!0})}const S=f.providers;null==S||C||Si(S,q=>{r.push(q)})}}return l!==n&&void 0!==n.providers}const bg=Ie({provide:String,useValue:Ie});function Nc(n){return null!==n&&"object"==typeof n&&bg in n}function Aa(n){return"function"==typeof n}const bh=new Er("Set Injector scope."),kc={},zf={};let Th;function Id(){return void 0===Th&&(Th=new Hf),Th}class Zl{}class Wf extends Zl{constructor(r,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,m=>this.processProvider(m)),this.records.set(Wu,Fc(void 0,this)),l.has("environment")&&this.records.set(Zl,Fc(void 0,this));const f=this.records.get(bh);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ql.multi,Nt,kt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Ds(this),u=ar(void 0);try{return r()}finally{Ds(o),ar(u)}}get(r,o=er,u=kt.Default){this.assertNotDestroyed();const l=Ds(this),f=ar(void 0);try{if(!(u&kt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const S=function Wy(n){return"function"==typeof n||"object"==typeof n&&n instanceof Er}(r)&&hn(r);C=S&&this.injectableDefInScope(S)?Fc(Ah(r),kc):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(u&kt.Self?Id():this.parent).get(r,o=u&kt.Optional&&o===er?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[ai]=m[ai]||[]).unshift(te(r)),l)throw m;return function Na(n,r,o,u){const l=n[ai];throw r[na]&&l.unshift(r[na]),n.message=function Za(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=te(r);if(Array.isArray(r))l=r.map(te).join(" -> ");else if("object"==typeof r){let f=[];for(let m in r)if(r.hasOwnProperty(m)){let C=r[m];f.push(m+":"+("string"==typeof C?JSON.stringify(C):te(C)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Bs,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[ai]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{ar(f),Ds(l)}}resolveInjectorInitializers(){const r=Ds(this),o=ar(void 0);try{const u=this.get($f.multi,Nt,kt.Self);for(const l of u)l()}finally{Ds(r),ar(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(te(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(r){let o=Aa(r=Ee(r))?r:Ee(r&&r.provide);const u=function Dd(n){return Nc(n)?Fc(void 0,n.useValue):Fc(vl(n),kc)}(r);if(Aa(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Fc(void 0,kc,!0),l.factory=()=>il(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===kc&&(o.value=zf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function zy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ee(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ah(n){const r=hn(n),o=null!==r?r.factory:Bi(n);if(null!==o)return o;if(n instanceof Er)throw new Fe(204,!1);if(n instanceof Function)return function Sh(n){const r=n.length;if(r>0)throw function Pa(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}(r,"?"),new Fe(204,!1);const o=function ir(n){const r=n&&(n[jt]||n[Fr]);if(r){const o=function Gn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function vl(n,r,o){let u;if(Aa(n)){const l=Ee(n);return Bi(l)||Ah(l)}if(Nc(n))u=()=>Ee(n.useValue);else if(function yl(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...il(n.deps||[]));else if(function ml(n){return!(!n||!n.useExisting)}(n))u=()=>Ni(Ee(n.useExisting));else{const l=Ee(n&&(n.useClass||n.provide));if(!function Tg(n){return!!n.deps}(n))return Bi(l)||Ah(l);u=()=>new l(...il(n.deps))}return u}function Fc(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Ky(n){return!!n.\u0275providers}function Yl(n,r){for(const o of n)Array.isArray(o)?Yl(o,r):Ky(o)?Yl(o.\u0275providers,r):r(o)}class Ku{}class Zy{resolveComponentFactory(r){throw function Ag(n){const r=Error(`No component factory found for ${te(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Jl=(()=>{class n{}return n.NULL=new Zy,n})();function Kf(){return Xl(Gr(),bt())}function Xl(n,r){return new ec(Zr(n,r))}let ec=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Kf,n})();function qf(n){return n instanceof ec?n.nativeElement:n}class Cd{}let Qy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zf(){const n=bt(),o=ii(Gr().index,n);return(Wr(o)?o:n)[11]}(),n})(),Mh=(()=>{class n{}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>null}),n})();class Mg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yf=new Mg("14.3.0"),tc={};function xh(n){return n.ngOriginalError}class Vc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&xh(r);for(;o&&xh(o);)o=xh(o);return o||null}}function Vo(n){return n instanceof Function?n():n}function Jf(n,r,o){let u=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=r.length;if(l+f===u||n.charCodeAt(l+f)<=32)return l}o=l+1}}const Xf="ng-template";function ev(n,r,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==Jf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Td(n){return 4===n.type&&n.value!==Xf}function Pg(n,r,o){return r===(4!==n.type||o?n.value:Xf)}function tv(n,r,o){let u=4;const l=n.attrs||[],f=function Ad(n){for(let r=0;r<n.length;r++)if(we(n[r]))return r;return n.length}(l);let m=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!m)if(4&u){if(u=2|1&u,""!==S&&!Pg(n,S,o)||""===S&&1===r.length){if(Ba(u))return!1;m=!0}}else{const L=8&u?S:r[++C];if(8&u&&null!==n.attrs){if(!ev(n.attrs,L,o)){if(Ba(u))return!1;m=!0}continue}const ie=nv(8&u?"class":S,l,Td(n),o);if(-1===ie){if(Ba(u))return!1;m=!0;continue}if(""!==L){let Ae;Ae=ie>f?"":l[ie+1].toLowerCase();const Ye=8&u?Ae:null;if(Ye&&-1!==Jf(Ye,L,0)||2&u&&L!==Ae){if(Ba(u))return!1;m=!0}}}}else{if(!m&&!Ba(u)&&!Ba(S))return!1;if(m&&Ba(S))continue;m=!1,u=S|1&u}}return Ba(u)||m}function Ba(n){return 0==(1&n)}function nv(n,r,o,u){if(null===r)return-1;let l=0;if(u||!o){let f=!1;for(;l<r.length;){const m=r[l];if(m===n)return l;if(3===m||6===m)f=!0;else{if(1===m||2===m){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=f?1:2}return-1}return function Og(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function ep(n,r,o=!1){for(let u=0;u<r.length;u++)if(tv(n,r[u],o))return!0;return!1}function kg(n,r){return n?":not("+r.trim()+")":r}function Fg(n){let r=n[0],o=1,u=2,l="",f=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const C=n[++o];l+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Ba(m)&&(r+=kg(f,l),l=""),u=m,f=f||!Ba(u);o++}return""!==l&&(r+=kg(f,l)),r}const rr={};function bs(n){Lg(zn(),bt(),gr()+n,!1)}function Lg(n,r,o,u){if(!u)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Xi(r,f,o)}else{const f=n.preOrderHooks;null!==f&&Qo(r,f,0,o)}yi(o)}function kh(n,r=null,o=null,u){const l=Fh(n,r,o,u);return l.resolveInjectorInitializers(),l}function Fh(n,r=null,o=null,u,l=new Set){const f=[o||Nt,Gy(n)];return u=u||("object"==typeof n?void 0:te(n)),new Wf(f,r||Id(),u||null,l)}let eu=(()=>{class n{static create(o,u){if(Array.isArray(o))return kh({name:""},u,o,"");{const l=o.name??"";return kh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=er,n.NULL=new Hf,n.\u0275prov=Wt({token:n,providedIn:"any",factory:()=>Ni(Wu)}),n.__NG_ELEMENT_ID__=-1,n})();function El(n,r=kt.Default){const o=bt();return null===o?Ni(n,r):za(Gr(),o,Ee(n),r)}function Uh(){throw new Error("invalid")}function Bh(n,r){return n<<17|r<<2}function ja(n){return n>>17&32767}function cp(n){return 2|n}function Zu(n){return(131068&n)>>2}function $s(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Kh(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],f=o[u+1];if(-1!==f){const m=n.data[f];Oi(l),m.contentQueries(2,r[f],f)}}}function Ld(n,r,o,u,l,f,m,C,S,L,q){const ie=r.blueprint.slice();return ie[0]=l,ie[2]=76|u,(null!==q||n&&1024&n[2])&&(ie[2]|=1024),Yr(ie),ie[3]=ie[15]=n,ie[8]=o,ie[10]=m||n&&n[10],ie[11]=C||n&&n[11],ie[12]=S||n&&n[12]||null,ie[9]=L||n&&n[9]||null,ie[6]=f,ie[20]=function Me(){return ve++}(),ie[21]=q,ie[16]=2==r.type?n[16]:ie,ie}function Il(n,r,o,u,l){let f=n.data[r];if(null===f)f=function Vd(n,r,o,u,l){const f=N(),m=Z(),S=n.data[r]=function Tp(n,r,o,u,l,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,r,u,l);return null===n.firstChild&&(n.firstChild=S),null!==f&&(m?null==f.child&&null!==S.parent&&(f.child=S):null===f.next&&(f.next=S)),S}(n,r,o,u,l),function go(){return An.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const m=function R(){const n=An.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return M(f,!0),f}function Dl(n,r,o,u){if(0===o)return-1;const l=r.length;for(let f=0;f<o;f++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function Cl(n,r,o){mo(r);try{const u=n.viewQuery;null!==u&&jd(1,u,o);const l=n.template;null!==l&&qh(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kh(n,r),n.staticViewQueries&&jd(2,n.viewQuery,o);const f=n.components;null!==f&&function Dp(n,r){for(let o=0;o<r.length;o++)Mv(n,r[o])}(r,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,ks()}}function tu(n,r,o,u){const l=r[2];if(128!=(128&l)){mo(r);try{Yr(r),function Ji(n){return An.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&qh(n,r,o,2,u);const m=3==(3&l);if(m){const L=n.preOrderCheckHooks;null!==L&&Xi(r,L,null)}else{const L=n.preOrderHooks;null!==L&&Qo(r,L,0,null),us(r,0)}if(function Pp(n){for(let r=Ac(n);null!==r;r=_(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const l=o[u],f=l[3];0==(512&l[2])&&Os(f,1),l[2]|=512}}}(r),function Av(n){for(let r=Ac(n);null!==r;r=_(r))for(let o=10;o<r.length;o++){const u=r[o],l=u[1];co(u)&&tu(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&Kh(n,r),m){const L=n.contentCheckHooks;null!==L&&Xi(r,L)}else{const L=n.contentHooks;null!==L&&Qo(r,L,1),us(r,1)}!function Ev(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)yi(~l);else{const f=l,m=o[++u],C=o[++u];Xs(m,f),C(2,r[f])}}}finally{yi(-1)}}(n,r);const C=n.components;null!==C&&function wv(n,r){for(let o=0;o<r.length;o++)Sv(n,r[o])}(r,C);const S=n.viewQuery;if(null!==S&&jd(2,S,u),m){const L=n.viewCheckHooks;null!==L&&Xi(r,L)}else{const L=n.viewHooks;null!==L&&Qo(r,L,2),us(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Os(r[3],-1))}finally{ks()}}}function qh(n,r,o,u,l){const f=gr(),m=2&u;try{yi(-1),m&&r.length>22&&Lg(n,r,22,!1),o(u,l)}finally{yi(f)}}function bl(n,r,o){!fo()||(function Dv(n,r,o,u){const l=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||en(o,r),ki(u,r);const m=o.initialInputs;for(let C=l;C<f;C++){const S=n.data[C],L=Sr(S);L&&Tv(r,o,S);const q=fa(r,n,C,o);ki(q,r),null!==m&&Rp(0,C-l,q,S,0,m),L&&(ii(o.index,r)[8]=q)}}(n,r,o,Zr(o,r)),128==(128&o.flags)&&function Cv(n,r,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,m=function zo(){return An.lFrame.currentDirectiveIndex}();try{yi(f);for(let C=u;C<l;C++){const S=n.data[C],L=r[C];Wo(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&lm(S,L)}}finally{yi(-1),Wo(m)}}(n,r,o))}function Zh(n,r,o=Zr){const u=r.localNames;if(null!==u){let l=r.index+1;for(let f=0;f<u.length;f+=2){const m=u[f+1],C=-1===m?o(r,n):n[m];n[l++]=C}}}function dc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Cp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Cp(n,r,o,u,l,f,m,C,S,L){const q=22+u,ie=q+l,Ae=function Iv(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:rr);return o}(q,ie),Ye="function"==typeof L?L():L;return Ae[1]={type:n,blueprint:Ae,template:o,queries:null,viewQuery:C,declTNode:r,data:Ae.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:Ye,incompleteFirstPass:!1}}function Yh(n,r,o,u){const l=nf(r);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Cu(n).push(u,l.length-1))}function rm(n,r,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(r,l):o[u]=[r,l]}return o}function im(n,r){const u=r.directiveEnd,l=n.data,f=r.attrs,m=[];let C=null,S=null;for(let L=r.directiveStart;L<u;L++){const q=l[L],ie=q.inputs,Ae=null===f||Td(r)?null:dm(ie,f);m.push(Ae),C=rm(ie,L,C),S=rm(q.outputs,L,S)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=C,r.outputs=S}function sm(n,r){const o=ii(r,n);16&o[2]||(o[2]|=32)}function Qh(n,r,o,u){let l=!1;if(fo()){const f=function bv(n,r,o){const u=n.directiveRegistry;let l=null;if(u)for(let f=0;f<u.length;f++){const m=u[f];ep(o,m.selectors,!1)&&(l||(l=[]),tt(en(o,r),n,m.type),Sr(m)?(Jh(n,o),l.unshift(m)):l.push(m))}return l}(n,r,o),m=null===u?null:{"":-1};if(null!==f){l=!0,cm(o,n.data.length,f.length);for(let q=0;q<f.length;q++){const ie=f[q];ie.providersResolver&&ie.providersResolver(ie)}let C=!1,S=!1,L=Dl(n,r,f.length,null);for(let q=0;q<f.length;q++){const ie=f[q];o.mergedAttrs=wt(o.mergedAttrs,ie.hostAttrs),Xh(n,o,r,L,ie),xp(L,ie,m),null!==ie.contentQueries&&(o.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=128);const Ae=ie.type.prototype;!C&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),C=!0),!S&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),S=!0),L++}im(n,o)}m&&function Mp(n,r,o){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const f=o[r[l+1]];if(null==f)throw new Fe(-301,!1);u.push(r[l],f)}}}(o,u,m)}return o.mergedAttrs=wt(o.mergedAttrs,o.attrs),l}function Sp(n,r,o,u,l,f){const m=f.hostBindings;if(m){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const S=~r.index;(function um(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=S&&C.push(S),C.push(u,l,m)}}function lm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Jh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function xp(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Sr(r)&&(o[""]=n)}}function cm(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Xh(n,r,o,u,l){n.data[u]=l;const f=l.factory||(l.factory=Bi(l.type)),m=new eo(f,Sr(l),El);n.blueprint[u]=m,o[u]=m,Sp(n,r,0,u,Dl(n,o,l.hostVars,rr),l)}function Tv(n,r,o){const u=Zr(r,n),l=dc(o),f=n[10],m=$c(n,Ld(n,l,null,o.onPush?32:16,u,r,f,f.createRenderer(u,o),null,null,null));n[r.index]=m}function $a(n,r,o,u,l,f){const m=Zr(n,r);!function ef(n,r,o,u,l,f,m){if(null==f)n.removeAttribute(r,l,o);else{const C=null==m?Ue(f):m(f,u||"",l);n.setAttribute(r,l,C,o)}}(r[11],m,f,n.value,o,u,l)}function Rp(n,r,o,u,l,f){const m=f[r];if(null!==m){const C=u.setInput;for(let S=0;S<m.length;){const L=m[S++],q=m[S++],ie=m[S++];null!==C?u.setInput(o,ie,L,q):o[q]=ie}}}function dm(n,r){let o=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return o}function tf(n,r,o,u){return new Array(n,!0,!1,r,null,0,u,o,null,null)}function Sv(n,r){const o=ii(r,n);if(co(o)){const u=o[1];48&o[2]?tu(u,o,u.template,o[8]):o[5]>0&&Ud(o)}}function Ud(n){for(let u=Ac(n);null!==u;u=_(u))for(let l=10;l<u.length;l++){const f=u[l];if(co(f))if(512&f[2]){const m=f[1];tu(m,f,m.template,f[8])}else f[5]>0&&Ud(f)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ii(o[u],n);co(l)&&l[5]>0&&Ud(l)}}function Mv(n,r){const o=ii(r,n),u=o[1];(function Op(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),Cl(u,o,o[8])}function $c(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Bd(n){for(;n;){n[2]|=32;const r=hl(n);if(Zi(n)&&!r)return n;n=r}return null}function Qu(n,r,o,u=!0){const l=r[10];l.begin&&l.begin();try{tu(n,r,n.template,o)}catch(m){throw u&&hm(r,m),m}finally{l.end&&l.end()}}function jd(n,r,o){Oi(0),r(n,o)}function nf(n){return n[7]||(n[7]=[])}function Cu(n){return n.cleanup||(n.cleanup=[])}function hm(n,r){const o=n[9],u=o?o.get(Vc,null):null;u&&u.handleError(r)}function $d(n,r,o,u,l){for(let f=0;f<o.length;){const m=o[f++],C=o[f++],S=r[m],L=n.data[m];null!==L.setInput?L.setInput(S,l,u,C):S[C]=l}}function Ju(n,r,o){const u=vs(r,n);!function J(n,r,o){n.setValue(r,o)}(n[11],u,o)}function sf(n,r,o){let u=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?f=C:1==f?l=Oe(l,C):2==f&&(u=Oe(u,C+": "+r[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Hc(n,r,o,u,l=!1){for(;null!==o;){const f=r[o.index];if(null!==f&&u.push(pr(f)),Lr(f))for(let C=10;C<f.length;C++){const S=f[C],L=S[1].firstChild;null!==L&&Hc(S[1],S,L,u)}const m=o.type;if(8&m)Hc(n,r,o.child,u);else if(32&m){const C=dl(o,r);let S;for(;S=C();)u.push(S)}else if(16&m){const C=Ff(r,o);if(Array.isArray(C))u.push(...C);else{const S=hl(r[16]);Hc(S[1],S,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Hc(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Lr(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(Cs(r,u),Us(o,u))}this._attachedToViewContainer=!1}Hl(this._lView[1],this._lView)}onDestroy(r){Yh(this._lView[1],this._lView,null,r)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sn(n,r){Mc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=r}}class Np extends Hd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Qu(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kp extends Jl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=K(r);return new Gc(o,this.ngModule)}}function af(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fp{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){const l=this.injector.get(r,tc,u);return l!==tc||o===tc?l:this.parentInjector.get(r,o,u)}}class Gc extends Ku{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function rv(n){return n.map(Fg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return af(this.componentDef.inputs)}get outputs(){return af(this.componentDef.outputs)}create(r,o,u,l){let f=(l=l||this.ngModule)instanceof Zl?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Fp(r,f):r,C=m.get(Cd,null);if(null===C)throw new Fe(407,!1);const S=m.get(Mh,null),L=C.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",ie=u?function bp(n,r,o){return n.selectRootElement(r,o===it.ShadowDom)}(L,u,this.componentDef.encapsulation):ut(L,q,function Rv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(q)),Ae=this.componentDef.onPush?288:272,Ye=Cp(0,null,null,1,0,null,null,null,null,null),At=Ld(null,Ye,null,Ae,null,null,C,L,S,m,null);let zt,on;mo(At);try{const Mn=function Vp(n,r,o,u,l,f){const m=o[1];o[22]=n;const S=Il(m,22,2,"#host",null),L=S.mergedAttrs=r.hostAttrs;null!==L&&(sf(S,L,!0),null!==n&&(z(l,n,L),null!==S.classes&&Rc(l,n,S.classes),null!==S.styles&&wi(l,n,S.styles)));const q=u.createRenderer(n,r),ie=Ld(o,dc(r),null,r.onPush?32:16,o[22],S,u,q,f||null,null,null);return m.firstCreatePass&&(tt(en(S,o),m,r.type),Jh(m,S),cm(S,o.length,1)),$c(o,ie),o[22]=ie}(ie,this.componentDef,At,C,L);if(ie)if(u)z(L,ie,["ng-version",Yf.full]);else{const{attrs:Hn,classes:Ft}=function iv(n){const r=[],o=[];let u=1,l=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===l?""!==f&&r.push(f,n[++u]):8===l&&o.push(f);else{if(!Ba(l))break;l=f}u++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Hn&&z(L,ie,Hn),Ft&&Ft.length>0&&Rc(L,ie,Ft.join(" "))}if(on=qs(Ye,22),void 0!==o){const Hn=on.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const Xn=o[Ft];Hn.push(null!=Xn?Array.from(Xn):null)}}zt=function Nv(n,r,o,u){const l=o[1],f=function am(n,r,o){const u=Gr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xh(n,u,r,Dl(n,r,1,null),o),im(n,u));const l=fa(r,n,u.directiveStart,u);ki(l,r);const f=Zr(u,r);return f&&ki(f,r),l}(l,o,r);if(n[8]=o[8]=f,null!==u)for(const C of u)C(f,r);if(r.contentQueries){const C=Gr();r.contentQueries(1,f,C.directiveStart)}const m=Gr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(yi(m.index),Sp(o[1],m,0,m.directiveStart,m.directiveEnd,r),lm(r,f)),f}(Mn,this.componentDef,At,[Up]),Cl(Ye,At,null)}finally{ks()}return new Ov(this.componentType,zt,Xl(on,At),At,on)}}class Ov extends class Ql{}{constructor(r,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Np(l),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[r])){const f=this._rootLView;$d(f[1],f,l,r,o),sm(f,this._tNode.index)}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Up(){const n=Gr();ws(bt()[1],n)}function Gd(n){let r=function uf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let l;if(Sr(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Fe(903,!1);l=r.\u0275dir}if(l){if(o){u.push(l);const m=n;m.inputs=hc(n.inputs),m.declaredInputs=hc(n.declaredInputs),m.outputs=hc(n.outputs);const C=l.hostBindings;C&&fm(n,C);const S=l.viewQuery,L=l.contentQueries;if(S&&Fv(n,S),L&&Bp(n,L),De(n.inputs,l.inputs),De(n.declaredInputs,l.declaredInputs),De(n.outputs,l.outputs),Sr(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let m=0;m<f.length;m++){const C=f[m];C&&C.ngInherit&&C(n),C===Gd&&(o=!1)}}r=Object.getPrototypeOf(r)}!function kv(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=wt(l.hostAttrs,o=wt(o,l.hostAttrs))}}(u)}function hc(n){return n===Rn?{}:n===Nt?[]:n}function Fv(n,r){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{r(u,l),o(u,l)}:r}function Bp(n,r){const o=n.contentQueries;n.contentQueries=o?(u,l,f)=>{r(u,l,f),o(u,l,f)}:r}function fm(n,r){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{r(u,l),o(u,l)}:r}let cf=null;function fc(){if(!cf){const n=lt.Symbol;if(n&&n.iterator)cf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(cf=u)}}}return cf}function zd(n){return!!Wd(n)&&(Array.isArray(n)||!(n instanceof Map)&&fc()in n)}function Wd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function nu(n,r,o){return n[r]=o}function Hs(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function bu(n,r,o,u){const l=Hs(n,r,o);return Hs(n,r+1,u)||l}function Kc(n,r,o,u){const l=bt();return Hs(l,xo(),r)&&(zn(),$a(Mr(),l,n,r,o,u)),Kc}function mc(n,r,o,u,l,f){const C=bu(n,function di(){return An.lFrame.bindingIndex}(),o,l);return mi(2),C?r+Ue(o)+u+Ue(l)+f:rr}function Wp(n,r,o,u,l,f,m,C){const S=bt(),L=zn(),q=n+22,ie=L.firstCreatePass?function wm(n,r,o,u,l,f,m,C,S){const L=r.consts,q=Il(r,n,4,m||null,li(L,C));Qh(r,o,q,li(L,S)),ws(r,q);const ie=q.tViews=Cp(2,q,u,l,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,L);return null!==r.queries&&(r.queries.template(r,q),ie.queries=r.queries.embeddedTView(q)),q}(q,L,S,r,o,u,l,f,m):L.data[q];M(ie,!1);const Ae=S[11].createComment("");Hu(L,S,Ae,ie),ki(Ae,S),$c(S,S[q]=tf(Ae,S,Ae,ie)),gs(ie)&&bl(L,S,ie),null!=m&&Zh(S,ie,C)}function pf(n,r,o){const u=bt();return Hs(u,xo(),r)&&function Uo(n,r,o,u,l,f,m,C){const S=Zr(r,o);let q,L=r.inputs;!C&&null!=L&&(q=L[u])?($d(n,o,q,u,l),qi(r)&&sm(o,r.index)):3&r.type&&(u=function Ap(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=m?m(l,r.value||"",u):l,f.setProperty(S,u,l))}(zn(),Mr(),u,n,r,u[11],o,!1),pf}function gf(n,r,o,u,l){const m=l?"class":"style";$d(n,o,r.inputs[m],m,u)}function qd(n,r,o,u){const l=bt(),f=zn(),m=22+n,C=l[11],S=l[m]=ut(C,r,function Yo(){return An.lFrame.currentNamespace}()),L=f.firstCreatePass?function Kd(n,r,o,u,l,f,m){const C=r.consts,L=Il(r,n,2,l,li(C,f));return Qh(r,o,L,li(C,m)),null!==L.attrs&&sf(L,L.attrs,!1),null!==L.mergedAttrs&&sf(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(m,f,l,0,r,o,u):f.data[m];M(L,!0);const q=L.mergedAttrs;null!==q&&z(C,S,q);const ie=L.classes;null!==ie&&Rc(C,S,ie);const Ae=L.styles;return null!==Ae&&wi(C,S,Ae),64!=(64&L.flags)&&Hu(f,l,S,L),0===function Ho(){return An.lFrame.elementDepthCount}()&&ki(S,l),function kr(){An.lFrame.elementDepthCount++}(),gs(L)&&(bl(f,l,L),function cc(n,r,o){if(ao(r)){const l=r.directiveEnd;for(let f=r.directiveStart;f<l;f++){const m=n.data[f];m.contentQueries&&m.contentQueries(1,o[f],f)}}}(f,L,l)),null!==u&&Zh(l,L),qd}function Ii(){let n=Gr();Z()?function rt(){An.lFrame.isParent=!1}():(n=n.parent,M(n,!1));const r=n;!function gi(){An.lFrame.elementDepthCount--}();const o=zn();return o.firstCreatePass&&(ws(o,n),ao(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ou(n){return 0!=(16&n.flags)}(r)&&gf(o,r,bt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function b(n){return 0!=(32&n.flags)}(r)&&gf(o,r,bt(),r.stylesWithoutHost,!1),Ii}function Ts(n,r,o,u){return qd(n,r,o,u),Ii(),Ts}function Im(){return bt()}function Zd(n){return!!n&&"function"==typeof n.then}function Dm(n){return!!n&&"function"==typeof n.subscribe}const mf=Dm;function Yp(n,r,o,u){const l=bt(),f=zn(),m=Gr();return function Lv(n,r,o,u,l,f,m,C){const S=gs(u),q=n.firstCreatePass&&Cu(n),ie=r[8],Ae=nf(r);let Ye=!0;if(3&u.type||C){const on=Zr(u,r),Mn=C?C(on):on,Hn=Ae.length,Ft=C?Qr=>C(pr(Qr[u.index])):u.index;let Xn=null;if(!C&&S&&(Xn=function Di(n,r,o,u){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const m=l[f];if(m===o&&l[f+1]===u){const C=r[7],S=l[f+2];return C.length>S?C[S]:null}"string"==typeof m&&(f+=2)}return null}(n,r,l,u.index)),null!==Xn)(Xn.__ngLastListenerFn__||Xn).__ngNextListenerFn__=f,Xn.__ngLastListenerFn__=f,Ye=!1;else{f=zi(u,r,ie,f,!1);const Qr=o.listen(Mn,l,f);Ae.push(f,Qr),q&&q.push(l,Ft,Hn,Hn+1)}}else f=zi(u,r,ie,f,!1);const At=u.outputs;let zt;if(Ye&&null!==At&&(zt=At[l])){const on=zt.length;if(on)for(let Mn=0;Mn<on;Mn+=2){const Wi=r[zt[Mn]][zt[Mn+1]].subscribe(f),uh=Ae.length;Ae.push(f,Wi),q&&q.push(l,u.index,uh,-(uh+1))}}}(f,l,l[11],m,n,r,0,u),Yp}function Vv(n,r,o,u){try{return!1!==o(u)}catch(l){return hm(n,l),!1}}function zi(n,r,o,u,l){return function f(m){if(m===Function)return u;Bd(2&n.flags?ii(n.index,r):r);let S=Vv(r,0,u,m),L=f.__ngNextListenerFn__;for(;L;)S=Vv(r,0,L,m)&&S,L=L.__ngNextListenerFn__;return l&&!1===S&&(m.preventDefault(),m.returnValue=!1),S}}function Qp(n=1){return function ca(n){return(An.lFrame.contextLView=function yo(n,r){for(;n>0;)r=r[15],n--;return r}(n,An.lFrame.contextLView))[8]}(n)}function Ml(n,r,o,u,l){const f=n[o+1],m=null===r;let C=u?ja(f):Zu(f),S=!1;for(;0!==C&&(!1===S||m);){const q=n[C+1];yf(n[C],r)&&(S=!0,n[C+1]=u?jh(q):cp(q)),C=u?ja(q):Zu(q)}S&&(n[o+1]=u?cp(f):jh(f))}function yf(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&v(n,r)>=0}const As={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pm(n){return n.substring(As.key,As.keyEnd)}function Yd(n,r){const o=As.textEnd;return o===r?-1:(r=As.keyEnd=function km(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,As.key=r,o),Au(n,r,o))}function Au(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function _f(n,r){return function Bo(n,r,o,u){const l=bt(),f=zn(),m=mi(2);f.firstUpdatePass&&Xd(f,n,m,u),r!==rr&&Hs(l,m,r)&&$m(f,f.data[gr()],l,l[11],n,l[m+1]=function l0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=te(zu(n)))),n}(r,o),u,m)}(n,r,null,!0),_f}function tg(n){!function iu(n,r,o,u){const l=zn(),f=mi(2);l.firstUpdatePass&&Xd(l,null,f,u);const m=bt();if(o!==rr&&Hs(m,f,o)){const C=l.data[gr()];if(If(C,u)&&!Jd(l,f)){let S=u?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(o=Oe(S,o||"")),gf(l,C,m,o,u)}else!function nh(n,r,o,u,l,f,m,C){l===rr&&(l=Nt);let S=0,L=0,q=0<l.length?l[0]:null,ie=0<f.length?f[0]:null;for(;null!==q||null!==ie;){const Ae=S<l.length?l[S+1]:void 0,Ye=L<f.length?f[L+1]:void 0;let zt,At=null;q===ie?(S+=2,L+=2,Ae!==Ye&&(At=ie,zt=Ye)):null===ie||null!==q&&q<ie?(S+=2,At=q):(L+=2,At=ie,zt=Ye),null!==At&&$m(n,r,o,u,At,zt,m,C),q=S<l.length?l[S]:null,ie=L<f.length?f[L]:null}}(l,C,m,m[11],m[f+1],m[f+1]=function th(n,r,o){if(null==o||""===o)return Nt;const u=[],l=zu(o);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(u,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(u,f,l[f]);else"string"==typeof l&&r(u,l);return u}(n,r,o),u,f)}}(ds,Ha,n,!0)}function Ha(n,r){for(let o=function Nm(n){return function Qd(n){As.key=0,As.keyEnd=0,As.value=0,As.valueEnd=0,As.textEnd=n.length}(n),Yd(n,Au(n,0,As.textEnd))}(r);o>=0;o=Yd(r,o))ds(n,Pm(r),!0)}function Jd(n,r){return r>=n.expandoStartIndex}function Xd(n,r,o,u){const l=n.data;if(null===l[o+1]){const f=l[gr()],m=Jd(n,o);If(f,u)&&null===r&&!m&&(r=!1),r=function Bm(n,r,o,u){const l=function Ko(n){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(o=_c(o=wf(null,n,r,o,u),r.attrs,u),f=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==l)if(o=wf(l,n,r,o,u),null===f){let S=function eh(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Zu(u))return n[ja(u)]}(n,r,u);void 0!==S&&Array.isArray(S)&&(S=wf(null,n,r,S[1],u),S=_c(S,r.attrs,u),function Gv(n,r,o,u){n[ja(o?r.classBindings:r.styleBindings)]=u}(n,r,u,S))}else f=function Ef(n,r,o){let u;const l=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<l;f++)u=_c(u,n[f].hostAttrs,o);return _c(u,r.attrs,o)}(n,r,u)}return void 0!==f&&(u?r.residualClasses=f:r.residualStyles=f),o}(l,f,r,u),function Sl(n,r,o,u,l,f){let m=f?r.classBindings:r.styleBindings,C=ja(m),S=Zu(m);n[u]=o;let q,L=!1;if(Array.isArray(o)){const ie=o;q=ie[1],(null===q||v(ie,q)>0)&&(L=!0)}else q=o;if(l)if(0!==S){const Ae=ja(n[C+1]);n[u+1]=Bh(Ae,C),0!==Ae&&(n[Ae+1]=$s(n[Ae+1],u)),n[C+1]=function lp(n,r){return 131071&n|r<<17}(n[C+1],u)}else n[u+1]=Bh(C,0),0!==C&&(n[C+1]=$s(n[C+1],u)),C=u;else n[u+1]=Bh(S,0),0===C?C=u:n[S+1]=$s(n[S+1],u),S=u;L&&(n[u+1]=cp(n[u+1])),Ml(n,q,u,!0),Ml(n,q,u,!1),function u0(n,r,o,u,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&v(f,r)>=0&&(o[u+1]=jh(o[u+1]))}(r,q,n,u,f),m=Bh(C,S),f?r.classBindings=m:r.styleBindings=m}(l,f,r,o,m,u)}}function wf(n,r,o,u,l){let f=null;const m=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<m&&(f=r[C],u=_c(u,f.hostAttrs,l),f!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function _c(n,r,o){const u=o?1:2;let l=-1;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?l=m:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ds(n,m,!!o||r[++f]))}return void 0===n?null:n}function $m(n,r,o,u,l,f,m,C){if(!(3&r.type))return;const S=n.data,L=S[C+1];ng(function Wg(n){return 1==(1&n)}(L)?Ec(S,r,o,l,Zu(L),m):void 0)||(ng(f)||function Od(n){return 2==(2&n)}(L)&&(f=Ec(S,null,o,l,C,m)),function xy(n,r,o,u,l){if(r)l?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:rs.DashCase;null==l?n.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=rs.Important),n.setStyle(o,u,l,f))}}(u,m,vs(gr(),o),l,f))}function Ec(n,r,o,u,l,f){const m=null===r;let C;for(;l>0;){const S=n[l],L=Array.isArray(S),q=L?S[1]:S,ie=null===q;let Ae=o[l+1];Ae===rr&&(Ae=ie?Nt:void 0);let Ye=ie?_i(Ae,u):q===u?Ae:void 0;if(L&&!ng(Ye)&&(Ye=_i(S,u)),ng(Ye)&&(C=Ye,m))return C;const At=n[l+1];l=m?ja(At):Zu(At)}if(null!==r){let S=f?r.residualClasses:r.residualStyles;null!=S&&(C=_i(S,u))}return C}function ng(n){return void 0!==n}function If(n,r){return 0!=(n.flags&(r?16:32))}function Hm(n,r=""){const o=bt(),u=zn(),l=n+22,f=u.firstCreatePass?Il(u,l,1,r,null):u.data[l],m=o[l]=function $(n,r){return n.createText(r)}(o[11],r);Hu(u,o,m,f),M(f,!1)}function Jc(n){return Df("",n,""),Jc}function Df(n,r,o){const u=bt(),l=function Tl(n,r,o,u){return Hs(n,xo(),o)?r+Ue(o)+u:rr}(u,n,r,o);return l!==rr&&Ju(u,gr(),l),Df}function rg(n,r,o,u,l){const f=bt(),m=mc(f,n,r,o,u,l);return m!==rr&&Ju(f,gr(),m),rg}const Cc=void 0;var Zv=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let su={};function cy(n){const r=function m0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=hy(r);if(o)return o;const u=r.split("-")[0];if(o=hy(u),o)return o;if("en"===u)return Zv;throw new Fe(701,!1)}function dy(n){return cy(n)[$n.PluralCase]}function hy(n){return n in su||(su[n]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[n]),su[n]}var $n=(()=>(($n=$n||{})[$n.LocaleId=0]="LocaleId",$n[$n.DayPeriodsFormat=1]="DayPeriodsFormat",$n[$n.DayPeriodsStandalone=2]="DayPeriodsStandalone",$n[$n.DaysFormat=3]="DaysFormat",$n[$n.DaysStandalone=4]="DaysStandalone",$n[$n.MonthsFormat=5]="MonthsFormat",$n[$n.MonthsStandalone=6]="MonthsStandalone",$n[$n.Eras=7]="Eras",$n[$n.FirstDayOfWeek=8]="FirstDayOfWeek",$n[$n.WeekendRange=9]="WeekendRange",$n[$n.DateFormat=10]="DateFormat",$n[$n.TimeFormat=11]="TimeFormat",$n[$n.DateTimeFormat=12]="DateTimeFormat",$n[$n.NumberSymbols=13]="NumberSymbols",$n[$n.NumberFormats=14]="NumberFormats",$n[$n.CurrencyCode=15]="CurrencyCode",$n[$n.CurrencySymbol=16]="CurrencySymbol",$n[$n.CurrencyName=17]="CurrencyName",$n[$n.Currencies=18]="Currencies",$n[$n.Directionality=19]="Directionality",$n[$n.PluralCase=20]="PluralCase",$n[$n.ExtraData=21]="ExtraData",$n))();const oh="en-US";let og=oh;function n_(n,r,o,u,l){if(n=Ee(n),Array.isArray(n))for(let f=0;f<n.length;f++)n_(n[f],r,o,u,l);else{const f=zn(),m=bt();let C=Aa(n)?n:Ee(n.provide),S=vl(n);const L=Gr(),q=1048575&L.providerIndexes,ie=L.directiveStart,Ae=L.providerIndexes>>20;if(Aa(n)||!n.multi){const Ye=new eo(S,l,El),At=i_(C,r,l?q:q+Ae,ie);-1===At?(tt(en(L,m),f,C),r_(f,n,r.length),r.push(C),L.directiveStart++,L.directiveEnd++,l&&(L.providerIndexes+=1048576),o.push(Ye),m.push(Ye)):(o[At]=Ye,m[At]=Ye)}else{const Ye=i_(C,r,q+Ae,ie),At=i_(C,r,q,q+Ae),zt=Ye>=0&&o[Ye],on=At>=0&&o[At];if(l&&!on||!l&&!zt){tt(en(L,m),f,C);const Mn=function Bw(n,r,o,u,l){const f=new eo(n,o,El);return f.multi=[],f.index=r,f.componentProviders=0,P0(f,l,u&&!o),f}(l?Uw:Vw,o.length,l,u,S);!l&&on&&(o[At].providerFactory=Mn),r_(f,n,r.length,0),r.push(C),L.directiveStart++,L.directiveEnd++,l&&(L.providerIndexes+=1048576),o.push(Mn),m.push(Mn)}else r_(f,n,Ye>-1?Ye:At,P0(o[l?At:Ye],S,!l&&u));!l&&u&&on&&o[At].componentProviders++}}}function r_(n,r,o,u){const l=Aa(r),f=function wd(n){return!!n.useClass}(r);if(l||f){const S=(f?Ee(r.useClass):r).prototype.ngOnDestroy;if(S){const L=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=L.indexOf(o);-1===q?L.push(o,[u,S]):L[q+1].push(u,S)}else L.push(o,S)}}}function P0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function i_(n,r,o,u){for(let l=o;l<u;l++)if(r[l]===n)return l;return-1}function Vw(n,r,o,u){return s_(this.multi,[])}function Uw(n,r,o,u){const l=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=fa(o,o[1],this.providerFactory.index,u);f=C.slice(0,m),s_(l,f);for(let S=m;S<C.length;S++)f.push(C[S])}else f=[],s_(l,f);return f}function s_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function O0(n,r=[]){return o=>{o.providersResolver=(u,l)=>function Lw(n,r,o){const u=zn();if(u.firstCreatePass){const l=Sr(n);n_(o,u.data,u.blueprint,l,!0),n_(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class Sf{}class N0{}function jw(n,r){return new k0(n,r??null)}class k0 extends Sf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kp(this);const u=Bt(r);this._bootstrapComponents=Vo(u.bootstrap),this._r3Injector=Fh(r,o,[{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],te(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class o_ extends N0{constructor(r){super(),this.moduleType=r}create(r){return new k0(this.moduleType,r)}}class $w extends Sf{constructor(r,o,u){super(),this.componentFactoryResolver=new kp(this),this.instance=null;const l=new Wf([...r,{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],o||Id(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function a_(n,r,o=null){return new $w(n,r,o).injector}let Hw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Gf(0,o.type),l=u.length>0?a_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Wt({token:n,providedIn:"environment",factory:()=>new n(Ni(Zl))}),n})();function F0(n){n.getStandaloneInjector=r=>r.get(Hw).getOrCreateStandaloneInjector(n)}function H0(n,r,o){const u=ci()+n,l=bt();return l[u]===rr?nu(l,u,o?r.call(o):r()):function pc(n,r){return n[r]}(l,u)}function G0(n,r,o,u){return z0(bt(),ci(),n,r,o,u)}function lg(n,r){const o=n[r];return o===rr?void 0:o}function z0(n,r,o,u,l,f){const m=r+o;return Hs(n,m,l)?nu(n,m+1,f?u.call(f,l):u(l)):lg(n,m+1)}function Y0(n,r){const o=zn();let u;const l=n+22;o.firstCreatePass?(u=function oI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const f=u.factory||(u.factory=Bi(u.type)),m=ar(El);try{const C=Bn(!1),S=f();return Bn(C),function ff(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,bt(),l,S),S}finally{ar(m)}}function Q0(n,r,o){const u=n+22,l=bt(),f=Qi(l,u);return cg(l,u)?z0(l,ci(),r,f.transform,o,f):f.transform(o)}function J0(n,r,o,u){const l=n+22,f=bt(),m=Qi(f,l);return cg(f,l)?function W0(n,r,o,u,l,f,m){const C=r+o;return bu(n,C,l,f)?nu(n,C+2,m?u.call(m,l,f):u(l,f)):lg(n,C+2)}(f,ci(),r,m.transform,o,u,m):m.transform(o,u)}function cg(n,r){return n[1].data[r].pure}function l_(n){return r=>{setTimeout(n,void 0,r)}}const Rl=class cI extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let l=r,f=o||(()=>null),m=u;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),f=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(f=l_(f),l&&(l=l_(l)),m&&(m=l_(m)));const C=super.subscribe({next:l,error:f,complete:m});return r instanceof F.w0&&r.add(C),C}};function dI(){return this._results[fc()]()}class c_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fc(),u=c_.prototype;u[o]||(u[o]=dI)}get changes(){return this._changes||(this._changes=new Rl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const l=Ai(r);(this._changesDetected=!function Ea(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],f=r[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();const hI=dg,fI=class extends hI{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r,o){const u=this._declarationTContainer.tViews,l=Ld(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(u)),Cl(u,l,r),new Hd(l)}};function pI(){return _y(Gr(),bt())}function _y(n,r){return 4&n.type?new fI(r,n,Xl(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(){return tE(Gr(),bt())}const mI=Ey,X0=class extends mI{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yt(this._hostTNode,this._hostLView);if(hr(r)){const o=In(r,this._hostLView),u=Jn(r);return new Wa(o[1].data[u+8],o)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=eE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const m=r.createEmbeddedView(o||{},f);return this.insert(m,l),m}createComponent(r,o,u,l,f){const m=r&&!function ea(n){return"function"==typeof n}(r);let C;if(m)C=o;else{const ie=o||{};C=ie.index,u=ie.injector,l=ie.projectableNodes,f=ie.environmentInjector||ie.ngModuleRef}const S=m?r:new Gc(K(r)),L=u||this.parentInjector;if(!f&&null==S.ngModule){const Ae=(m?L:this.parentInjector).get(Zl,null);Ae&&(f=Ae)}const q=S.create(L,l,void 0,f);return this.insert(q.hostView,C),q}insert(r,o){const u=r._lView,l=u[1];if(function Zs(n){return Lr(n[3])}(u)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const ie=u[3],Ae=new X0(ie,ie[6],ie[3]);Ae.detach(Ae.indexOf(r))}}const f=this._adjustIndex(o),m=this._lContainer;!function Io(n,r,o,u){const l=10+u,f=o.length;u>0&&(o[l-1][4]=r),u<f-10?(r[4]=o[l],au(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const m=r[17];null!==m&&o!==m&&function js(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(m,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=64}(l,u,m,f);const C=Gu(f,m),S=u[11],L=ld(S,m[7]);return null!==L&&function rn(n,r,o,u,l,f){u[0]=l,u[6]=r,Mc(n,u,o,1,l,f)}(l,m[6],S,u,L,C),r.attachToViewContainerRef(),au(d_(m),f,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=eE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=Cs(this._lContainer,o);u&&(Us(d_(this._lContainer),o),Hl(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=Cs(this._lContainer,o);return u&&null!=Us(d_(this._lContainer),o)?new Hd(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function eE(n){return n[8]}function d_(n){return n[8]||(n[8]=[])}function tE(n,r){let o;const u=r[n.index];if(Lr(u))o=u;else{let l;if(8&n.type)l=pr(u);else{const f=r[11];l=f.createComment("");const m=Zr(n,r);Ja(f,ld(f,m),l,function fg(n,r){return n.nextSibling(r)}(f,m),!1)}r[n.index]=o=tf(u,r,l,n),$c(r,o)}return new X0(o,n,r)}class h_{constructor(r){this.queryList=r,this.matches=null}clone(){return new h_(this.queryList)}setDirty(){this.queryList.setDirty()}}class f_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const m=o.getByIndex(f);l.push(this.queries[m.indexInDeclarationView].clone())}return new f_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==cE(r,o).matches&&this.queries[o].setDirty()}}class nE{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class p_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(r,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new p_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class g_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new g_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(r,o,_I(o,f)),this.matchTNodeWithReadOption(r,o,Jo(o,r,f,!1,!1))}else u===dg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Jo(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ec||l===Ey||l===dg&&4&o.type)this.addMatch(o.index,-2);else{const f=Jo(o,r,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function _I(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function wI(n,r,o,u){return-1===o?function EI(n,r){return 11&n.type?Xl(n,r):4&n.type?_y(n,r):null}(r,n):-2===o?function II(n,r,o){return o===ec?Xl(r,n):o===dg?_y(r,n):o===Ey?tE(r,n):void 0}(n,r,u):fa(n,n[1],o,r)}function rE(n,r,o,u){const l=r[19].queries[u];if(null===l.matches){const f=n.data,m=o.matches,C=[];for(let S=0;S<m.length;S+=2){const L=m[S];C.push(L<0?null:wI(r,f[L],m[S+1],o.metadata.read))}l.matches=C}return l.matches}function m_(n,r,o,u){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const m=rE(n,r,l,o);for(let C=0;C<f.length;C+=2){const S=f[C];if(S>0)u.push(m[C/2]);else{const L=f[C+1],q=r[-S];for(let ie=10;ie<q.length;ie++){const Ae=q[ie];Ae[17]===Ae[3]&&m_(Ae[1],Ae,L,u)}if(null!==q[9]){const ie=q[9];for(let Ae=0;Ae<ie.length;Ae++){const Ye=ie[Ae];m_(Ye[1],Ye,L,u)}}}}}return u}function iE(n){const r=bt(),o=zn(),u=Ro();Oi(u+1);const l=cE(o,u);if(n.dirty&&function Mo(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?m_(o,r,u,[]):rE(o,r,l,u);n.reset(f,qf),n.notifyOnChanges()}return!0}return!1}function sE(n,r,o){const u=zn();u.firstCreatePass&&(lE(u,new nE(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),uE(u,bt(),r)}function oE(n,r,o,u){const l=zn();if(l.firstCreatePass){const f=Gr();lE(l,new nE(r,o,u),f.index),function CI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}uE(l,bt(),o)}function aE(){return function DI(n,r){return n[19].queries[r].queryList}(bt(),Ro())}function uE(n,r,o){const u=new c_(4==(4&o));Yh(n,r,u,u.destroy),null===r[19]&&(r[19]=new f_),r[19].queries.push(new h_(u))}function lE(n,r,o){null===n.queries&&(n.queries=new p_),n.queries.track(new g_(r,o))}function cE(n,r){return n.queries.getByIndex(r)}function Iy(...n){}const ME=new Er("Application Initializer");let Dy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(Zd(f))o.push(f);else if(mf(f)){const m=new Promise((C,S)=>{f.subscribe({complete:C,error:S})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ni(ME,8))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xE=new Er("AppId",{providedIn:"root",factory:function RE(){return`${w_()}${w_()}${w_()}`}});function w_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PE=new Er("Platform Initializer"),zI=new Er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OE=new Er("appBootstrapListener");let WI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Er("LocaleId",{providedIn:"root",factory:()=>Fl(Cy,kt.Optional|kt.SkipSelf)||function KI(){return typeof $localize<"u"&&$localize.locale||oh}()}),qI=new Er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let YI=(()=>{class n{compileModuleSync(o){return new o_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Vo(Bt(o).declarations).reduce((m,C)=>{const S=K(C);return S&&m.push(new Gc(S)),m},[]);return new ZI(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function I_(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function eD(){let n=lt.requestAnimationFrame,r=lt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function nD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,D_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,m,C)=>{try{return FE(n),o.invokeTask(l,f,m,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),LE(n)}},onInvoke:(o,u,l,f,m,C,S)=>{try{return FE(n),o.invoke(l,f,m,C,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),LE(n)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,C_(n),D_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new Fe(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,l){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+l,r,tD,Iy,Iy);try{return f.runTask(m,o,u)}finally{f.cancelTask(m)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function D_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LE(n){n._nesting--,D_(n)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,l){return r.apply(o,u)}}const VE=new Er(""),UE=new Er("");let b_,sD=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b_||(function oD(n){b_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),I_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ni(Mu),Ni(BE),Ni(UE))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac}),n})(),BE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return b_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xc=null;const jE=new Er("AllowMultipleToken"),T_=new Er("PlatformDestroyListeners");class lD{constructor(r,o){this.name=r,this.token=o}}function HE(n,r,o=[]){const u=`Platform: ${r}`,l=new Er(u);return(f=[])=>{let m=A_();if(!m||m.injector.get(jE,!1)){const C=[...o,...f,{provide:l,useValue:!0}];n?n(C):function cD(n){if(Xc&&!Xc.get(jE,!1))throw new Fe(400,!1);Xc=n;const r=n.get(zE);(function $E(n){const r=n.get(PE,null);r&&r.forEach(o=>o())})(n)}(function GE(n=[],r){return eu.create({name:r,providers:[{provide:bh,useValue:"platform"},{provide:T_,useValue:new Set([()=>Xc=null])},...n]})}(C,u))}return function hD(n){const r=A_();if(!r)throw new Fe(401,!1);return r}()}}function A_(){return Xc?.get(zE)??null}let zE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function KE(n,r){let o;return o="noop"===n?new iD:("zone.js"===n?void 0:n)||new Mu(r),o}(u?.ngZone,function WE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Mu,useValue:l}];return l.run(()=>{const m=eu.create({providers:f,parent:this.injector,name:o.moduleType.name}),C=o.create(m),S=C.injector.get(Vc,null);if(!S)throw new Fe(402,!1);return l.runOutsideAngular(()=>{const L=l.onError.subscribe({next:q=>{S.handleError(q)}});C.onDestroy(()=>{Ty(this._modules,C),L.unsubscribe()})}),function qE(n,r,o){try{const u=o();return Zd(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(S,l,()=>{const L=C.injector.get(Dy);return L.runInitializers(),L.donePromise.then(()=>(function el(n){ze(n,"Expected localeId to be defined"),"string"==typeof n&&(og=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Cy,oh)||oh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=ZE({},u);return function aD(n,r,o){const u=new o_(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(by);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(T_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ni(eu))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ZE(n,r){return Array.isArray(r)?r.reduce(ZE,n):{...n,...r}}let by=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new B.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new B.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),I_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),L.unsubscribe()}});this.isStable=(0,he.T)(f,m.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Ku;if(!this._injector.get(Dy).done)throw!l&&ft(o),new Fe(405,false);let m;m=l?o:this._injector.get(Jl).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const C=function uD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Sf),L=m.create(eu.NULL,[],u||m.selector,C),q=L.location.nativeElement,ie=L.injector.get(VE,null);return ie?.registerApplication(q),L.onDestroy(()=>{this.detachView(L.hostView),Ty(this.components,L),ie?.unregisterApplication(q)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ty(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(OE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ty(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Ni(Mu),Ni(Zl),Ni(Vc))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let QE=!0,JE=!1;function pD(){return JE=!0,QE}function gD(){if(JE)throw new Error("Cannot enable prod mode after platform setup.");QE=!1}let mD=(()=>{class n{}return n.__NG_ELEMENT_ID__=yD,n})();function yD(n){return function vD(n,r,o){if(qi(n)&&!o){const u=ii(n.index,r);return new Hd(u,u)}return 47&n.type?new Hd(r[16],r):null}(Gr(),bt(),16==(16&n))}class nw{constructor(){}supports(r){return zd(r)}create(r){return new CD(r)}}const DD=(n,r)=>r;class CD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const m=!u||o&&o.currentIndex<iw(u,l,f)?o:u,C=iw(m,l,f),S=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{f||(f=[]);const L=C-l,q=S-l;if(L!=q){for(let Ae=0;Ae<L;Ae++){const Ye=Ae<f.length?f[Ae]:f[Ae]=0,At=Ye+Ae;q<=At&&At<L&&(f[Ae]=Ye+1)}f[m.previousIndex]=q-L}}C!==S&&r(m,C,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!zd(r))throw new Fe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,f,m,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)f=r[C],m=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,f,m,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,C),u=!0),o=o._next}else l=0,function jp(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[fc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,C=>{m=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,C,m,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,l){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,l)):r=this._addAfter(new bD(o,u),f,l),r}_verifyReinsertion(r,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?r=this._reinsertAfter(f,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,f=r._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new rw),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class rw{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new TD,this.map.set(o,u)),u.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iw(n,r,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+r+l}class sw{constructor(){}supports(r){return r instanceof Map||Wd(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Wd(r)))throw new Fe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const f=l._prev,m=l._next;return f&&(f._next=m),m&&(m._prev=f),l._next=null,l._prev=null,l}const u=new SD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ow(){return new P_([new nw])}let P_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||ow()),deps:[[n,new hi,new wr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:ow}),n})();function aw(){return new O_([new sw])}let O_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||aw()),deps:[[n,new hi,new wr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:aw}),n})();const RD=HE(null,"core",[]);let PD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ni(by))},n.\u0275mod=Ze({type:n}),n.\u0275inj=sn({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Ht,Be,k)=>{k.d(Be,{EJ:()=>Yi,F:()=>Xr,Fd:()=>pr,Fj:()=>et,JJ:()=>kt,JL:()=>Pn,Kr:()=>pi,NI:()=>qr,On:()=>Ms,Q7:()=>_s,UX:()=>gi,Wl:()=>ee,YN:()=>$o,_Y:()=>ms,j3:()=>Qs,kI:()=>me,qQ:()=>Ks,sg:()=>Ln,u:()=>ui,u5:()=>kr,wV:()=>ur});var d=k(4650),F=k(6895),B=k(8996),he=k(4128),le=k(4004);let Ie=(()=>{class N{constructor(M,Z){this._renderer=M,this._elementRef=Z,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(M,Z){this._renderer.setProperty(this._elementRef.nativeElement,M,Z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(d.Qsj),d.Y36(d.SBq))},N.\u0275dir=d.lG2({type:N}),N})(),De=(()=>{class N extends Ie{}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,features:[d.qOj]}),N})();const te=new d.OlP("NgValueAccessor"),Oe={provide:te,useExisting:(0,d.Gpc)(()=>ee),multi:!0};let ee=(()=>{class N extends De{writeValue(M){this.setProperty("checked",M)}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,Z){1&M&&d.NdJ("change",function(Xt){return Z.onChange(Xt.target.checked)})("blur",function(){return Z.onTouched()})},features:[d._Bn([Oe]),d.qOj]}),N})();const ce={provide:te,useExisting:(0,d.Gpc)(()=>et),multi:!0},ht=new d.OlP("CompositionEventMode");let et=(()=>{class N extends Ie{constructor(M,Z,rt){super(M,Z),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const N=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ht,8))},N.\u0275dir=d.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,Z){1&M&&d.NdJ("input",function(Xt){return Z._handleInput(Xt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(Xt){return Z._compositionEnd(Xt.target.value)})},features:[d._Bn([ce]),d.qOj]}),N})();function mt(N){return null==N||("string"==typeof N||Array.isArray(N))&&0===N.length}function Ue(N){return null!=N&&"number"==typeof N.length}const Se=new d.OlP("NgValidators"),yt=new d.OlP("NgAsyncValidators"),pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class me{static min(R){return nt(R)}static max(R){return st(R)}static required(R){return St(R)}static requiredTrue(R){return function He(N){return!0===N.value?null:{required:!0}}(R)}static email(R){return function Ce(N){return mt(N.value)||pt.test(N.value)?null:{email:!0}}(R)}static minLength(R){return function pe(N){return R=>mt(R.value)||!Ue(R.value)?null:R.value.length<N?{minlength:{requiredLength:N,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function ot(N){return R=>Ue(R.value)&&R.value.length>N?{maxlength:{requiredLength:N,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Le(N){if(!N)return _t;let R,M;return"string"==typeof N?(M="","^"!==N.charAt(0)&&(M+="^"),M+=N,"$"!==N.charAt(N.length-1)&&(M+="$"),R=new RegExp(M)):(M=N.toString(),R=N),Z=>{if(mt(Z.value))return null;const rt=Z.value;return R.test(rt)?null:{pattern:{requiredPattern:M,actualValue:rt}}}}(R)}static nullValidator(R){return null}static compose(R){return Je(R)}static composeAsync(R){return It(R)}}function nt(N){return R=>{if(mt(R.value)||mt(N))return null;const M=parseFloat(R.value);return!isNaN(M)&&M<N?{min:{min:N,actual:R.value}}:null}}function st(N){return R=>{if(mt(R.value)||mt(N))return null;const M=parseFloat(R.value);return!isNaN(M)&&M>N?{max:{max:N,actual:R.value}}:null}}function St(N){return mt(N.value)?{required:!0}:null}function _t(N){return null}function Pt(N){return null!=N}function fr(N){return(0,d.QGY)(N)?(0,B.D)(N):N}function Xe(N){let R={};return N.forEach(M=>{R=null!=M?{...R,...M}:R}),0===Object.keys(R).length?null:R}function Ve(N,R){return R.map(M=>M(N))}function ze(N){return N.map(R=>function $e(N){return!N.validate}(R)?R:M=>R.validate(M))}function Je(N){if(!N)return null;const R=N.filter(Pt);return 0==R.length?null:function(M){return Xe(Ve(M,R))}}function gt(N){return null!=N?Je(ze(N)):null}function It(N){if(!N)return null;const R=N.filter(Pt);return 0==R.length?null:function(M){const Z=Ve(M,R).map(fr);return(0,he.D)(Z).pipe((0,le.U)(Xe))}}function xt(N){return null!=N?It(ze(N)):null}function Wt(N,R){return null===N?[R]:Array.isArray(N)?[...N,R]:[N,R]}function Vt(N){return N._rawValidators}function sn(N){return N._rawAsyncValidators}function hn(N){return N?Array.isArray(N)?N:[N]:[]}function _n(N,R){return Array.isArray(N)?N.includes(R):N===R}function Kn(N,R){const M=hn(R);return hn(N).forEach(rt=>{_n(M,rt)||M.push(rt)}),M}function ir(N,R){return hn(R).filter(M=>!_n(N,M))}class Gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=gt(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,M){return!!this.control&&this.control.hasError(R,M)}getError(R,M){return this.control?this.control.getError(R,M):null}}class En extends Gn{get formDirective(){return null}get path(){return null}}class jt extends Gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kt=(()=>{class N extends qn{constructor(M){super(M)}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(jt,2))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,Z){2&M&&d.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[d.qOj]}),N})(),Pn=(()=>{class N extends qn{constructor(M){super(M)}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(En,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,Z){2&M&&d.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[d.qOj]}),N})();const qt="VALID",Tt="INVALID",Fn="PENDING",Yn="DISABLED";function Qe(N){return(Ot(N)?N.validators:N)||null}function W(N){return Array.isArray(N)?gt(N):N||null}function fe(N,R){return(Ot(R)?R.asyncValidators:N)||null}function Ze(N){return Array.isArray(N)?xt(N):N||null}function Ot(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}function ae(N,R,M){const Z=N.controls;if(!(R?Object.keys(Z):Z).length)throw new d.vHH(1e3,"");if(!Z[M])throw new d.vHH(1001,"")}function ue(N,R,M){N._forEachChild((Z,rt)=>{if(void 0===M[rt])throw new d.vHH(1002,"")})}class Y{constructor(R,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=M,this._composedValidatorFn=W(this._rawValidators),this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===Tt}get pending(){return this.status==Fn}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=W(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=Ze(R)}addValidators(R){this.setValidators(Kn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Kn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(ir(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(ir(R,this._rawAsyncValidators))}hasValidator(R){return _n(this._rawValidators,R)}hasAsyncValidator(R){return _n(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Fn,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(Z=>{Z.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=qt,this._forEachChild(Z=>{Z.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===Fn)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const M=fr(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,M={}){this.errors=R,this._updateControlsErrors(!1!==M.emitEvent)}get(R){let M=R;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((Z,rt)=>Z&&Z._find(rt),this)}getError(R,M){const Z=M?this.get(M):this;return Z&&Z.errors?Z.errors[R]:null}hasError(R,M){return!!this.getError(R,M)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(Tt)?Tt:qt}_anyControlsHaveStatus(R){return this._anyControls(M=>M.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Ot(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}class K extends Y{constructor(R,M,Z){super(Qe(M),fe(Z,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,M){return this.controls[R]?this.controls[R]:(this.controls[R]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(R,M,Z={}){this.registerControl(R,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(R,M={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(R,M,Z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],M&&this.registerControl(R,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,M={}){ue(this,0,R),Object.keys(R).forEach(Z=>{ae(this,!0,Z),this.controls[Z].setValue(R[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(Object.keys(R).forEach(Z=>{const rt=this.controls[Z];rt&&rt.patchValue(R[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R={},M={}){this._forEachChild((Z,rt)=>{Z.reset(R[rt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(R,M,Z)=>(R[Z]=M.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(M,Z)=>!!Z._syncPendingControls()||M);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(M=>{const Z=this.controls[M];Z&&R(Z,M)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[M,Z]of Object.entries(this.controls))if(this.contains(M)&&R(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,Z,rt)=>((Z.enabled||this.disabled)&&(M[rt]=Z.value),M))}_reduceChildren(R,M){let Z=R;return this._forEachChild((rt,Xt)=>{Z=M(Z,rt,Xt)}),Z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class ft extends K{}function nn(N,R){return[...R.path,N]}function re(N,R){We(N,R),R.valueAccessor.writeValue(N.value),N.disabled&&R.valueAccessor.setDisabledState?.(!0),function gn(N,R){R.valueAccessor.registerOnChange(M=>{N._pendingValue=M,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&ke(N,R)})}(N,R),function Dt(N,R){const M=(Z,rt)=>{R.valueAccessor.writeValue(Z),rt&&R.viewToModelUpdate(Z)};N.registerOnChange(M),R._registerOnDestroy(()=>{N._unregisterOnChange(M)})}(N,R),function Ne(N,R){R.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&ke(N,R),"submit"!==N.updateOn&&N.markAsTouched()})}(N,R),function Re(N,R){if(R.valueAccessor.setDisabledState){const M=Z=>{R.valueAccessor.setDisabledState(Z)};N.registerOnDisabledChange(M),R._registerOnDestroy(()=>{N._unregisterOnDisabledChange(M)})}}(N,R)}function se(N,R,M=!0){const Z=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(Z),R.valueAccessor.registerOnTouched(Z)),Ut(N,R),N&&(R._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function X(N,R){N.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(R)})}function We(N,R){const M=Vt(N);null!==R.validator?N.setValidators(Wt(M,R.validator)):"function"==typeof M&&N.setValidators([M]);const Z=sn(N);null!==R.asyncValidator?N.setAsyncValidators(Wt(Z,R.asyncValidator)):"function"==typeof Z&&N.setAsyncValidators([Z]);const rt=()=>N.updateValueAndValidity();X(R._rawValidators,rt),X(R._rawAsyncValidators,rt)}function Ut(N,R){let M=!1;if(null!==N){if(null!==R.validator){const rt=Vt(N);if(Array.isArray(rt)&&rt.length>0){const Xt=rt.filter(Wn=>Wn!==R.validator);Xt.length!==rt.length&&(M=!0,N.setValidators(Xt))}}if(null!==R.asyncValidator){const rt=sn(N);if(Array.isArray(rt)&&rt.length>0){const Xt=rt.filter(Wn=>Wn!==R.asyncValidator);Xt.length!==rt.length&&(M=!0,N.setAsyncValidators(Xt))}}}const Z=()=>{};return X(R._rawValidators,Z),X(R._rawAsyncValidators,Z),M}function ke(N,R){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function Ct(N,R){We(N,R)}function Hr(N,R){if(!N.hasOwnProperty("model"))return!1;const M=N.model;return!!M.isFirstChange()||!Object.is(R,M.currentValue)}function zr(N,R){N._syncPendingControls(),R.forEach(M=>{const Z=M.control;"submit"===Z.updateOn&&Z._pendingChange&&(M.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}function Dr(N,R){if(!R)return null;let M,Z,rt;return Array.isArray(R),R.forEach(Xt=>{Xt.constructor===et?M=Xt:function Jr(N){return Object.getPrototypeOf(N.constructor)===De}(Xt)?Z=Xt:rt=Xt}),rt||Z||M||null}const Ri={provide:En,useExisting:(0,d.Gpc)(()=>Xr)},ps=(()=>Promise.resolve())();let Xr=(()=>{class N extends En{constructor(M,Z){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new K({},gt(M),xt(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){ps.then(()=>{const Z=this._findContainer(M.path);M.control=Z.registerControl(M.name,M.control),re(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){ps.then(()=>{const Z=this._findContainer(M.path);Z&&Z.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){ps.then(()=>{const Z=this._findContainer(M.path),rt=new K({});Ct(rt,M),Z.registerControl(M.name,rt),rt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){ps.then(()=>{const Z=this._findContainer(M.path);Z&&Z.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,Z){ps.then(()=>{this.form.get(M.path).setValue(Z)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,zr(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(Se,10),d.Y36(yt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,Z){1&M&&d.NdJ("submit",function(Xt){return Z.onSubmit(Xt)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ri]),d.qOj]}),N})();function Ar(N,R){const M=N.indexOf(R);M>-1&&N.splice(M,1)}function Ki(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}const qr=class extends Y{constructor(R=null,M,Z){super(Qe(M),fe(Z,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ot(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=Ki(R)?R.value:R)}setValue(R,M={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(R,M={}){this.setValue(R,M)}reset(R=this.defaultValue,M={}){this._applyFormState(R),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Ar(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Ar(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Ki(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},Zi={provide:jt,useExisting:(0,d.Gpc)(()=>Ms)},Vi=(()=>Promise.resolve())();let Ms=(()=>{class N extends jt{constructor(M,Z,rt,Xt,Wn){super(),this._changeDetectorRef=Wn,this.control=new qr,this._registered=!1,this.update=new d.vpe,this._parent=M,this._setValidators(Z),this._setAsyncValidators(rt),this.valueAccessor=Dr(0,Xt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const Z=M.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),Hr(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){re(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Vi.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const Z=M.isDisabled.currentValue,rt=0!==Z&&(0,d.D6c)(Z);Vi.then(()=>{rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?nn(M,this._parent):[M]}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(En,9),d.Y36(Se,10),d.Y36(yt,10),d.Y36(te,10),d.Y36(d.sBO,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Zi]),d.qOj,d.TTD]}),N})(),ms=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const xa={provide:te,useExisting:(0,d.Gpc)(()=>ur),multi:!0};let ur=(()=>{class N extends De{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=Z=>{M(""==Z?null:parseFloat(Z))}}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,Z){1&M&&d.NdJ("input",function(Xt){return Z.onChange(Xt.target.value)})("blur",function(){return Z.onTouched()})},features:[d._Bn([xa]),d.qOj]}),N})(),uo=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({}),N})();const Lt=new d.OlP("NgModelWithFormControlWarning"),nr={provide:En,useExisting:(0,d.Gpc)(()=>Ln)};let Ln=(()=>{class N extends En{constructor(M,Z){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(M),this._setAsyncValidators(Z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ut(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Z=this.form.get(M.path);return re(Z,M),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Z}getControl(M){return this.form.get(M.path)}removeControl(M){se(M.control||null,M,!1),function Fi(N,R){const M=N.indexOf(R);M>-1&&N.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Z){this.form.get(M.path).setValue(Z)}onSubmit(M){return this.submitted=!0,zr(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Z=M.control,rt=this.form.get(M.path);Z!==rt&&(se(Z||null,M),(N=>N instanceof qr)(rt)&&(re(rt,M),M.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Z=this.form.get(M.path);Ct(Z,M),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Z=this.form.get(M.path);Z&&function Cn(N,R){return Ut(N,R)}(Z,M)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){We(this.form,this),this._oldForm&&Ut(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(Se,10),d.Y36(yt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(M,Z){1&M&&d.NdJ("submit",function(Xt){return Z.onSubmit(Xt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([nr]),d.qOj,d.TTD]}),N})();const Bi={provide:jt,useExisting:(0,d.Gpc)(()=>ui)};let ui=(()=>{class N extends jt{constructor(M,Z,rt,Xt,Wn){super(),this._ngModelWarningConfig=Wn,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(Z),this._setAsyncValidators(rt),this.valueAccessor=Dr(0,Xt)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),Hr(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return nn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(M){return new(M||N)(d.Y36(En,13),d.Y36(Se,10),d.Y36(yt,10),d.Y36(te,10),d.Y36(Lt,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Bi]),d.qOj,d.TTD]}),N})();const ys={provide:te,useExisting:(0,d.Gpc)(()=>Yi),multi:!0};function xs(N,R){return null==N?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${N}: ${R}`.slice(0,50))}let Yi=(()=>{class N extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const rt=xs(this._getOptionId(M),M);this.setProperty("value",rt)}registerOnChange(M){this.onChange=Z=>{this.value=this._getOptionValue(Z),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),M))return Z;return null}_getOptionValue(M){const Z=function aa(N){return N.split(":")[0]}(M);return this._optionMap.has(Z)?this._optionMap.get(Z):M}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,Z){1&M&&d.NdJ("change",function(Xt){return Z.onChange(Xt.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([ys]),d.qOj]}),N})(),$o=(()=>{class N{constructor(M,Z,rt){this._element=M,this._renderer=Z,this._select=rt,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(xs(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Yi,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const Ao={provide:te,useExisting:(0,d.Gpc)(()=>Vr),multi:!0};function zs(N,R){return null==N?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${N}: ${R}`.slice(0,50))}let Vr=(()=>{class N extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let Z;if(this.value=M,Array.isArray(M)){const rt=M.map(Xt=>this._getOptionId(Xt));Z=(Xt,Wn)=>{Xt._setSelected(rt.indexOf(Wn.toString())>-1)}}else Z=(rt,Xt)=>{rt._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(M){this.onChange=Z=>{const rt=[],Xt=Z.selectedOptions;if(void 0!==Xt){const Wn=Xt;for(let Js=0;Js<Wn.length;Js++){const ci=this._getOptionValue(Wn[Js].value);rt.push(ci)}}else{const Wn=Z.options;for(let Js=0;Js<Wn.length;Js++){const Es=Wn[Js];if(Es.selected){const ci=this._getOptionValue(Es.value);rt.push(ci)}}}this.value=rt,M(rt)}}_registerOption(M){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,M),Z}_getOptionId(M){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,M))return Z;return null}_getOptionValue(M){const Z=function Pi(N){return N.split(":")[0]}(M);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:M}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,Z){1&M&&d.NdJ("change",function(Xt){return Z.onChange(Xt.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ao]),d.qOj]}),N})(),pi=(()=>{class N{constructor(M,Z,rt){this._element=M,this._renderer=Z,this._select=rt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(zs(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(zs(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(M){return new(M||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Vr,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();function Rs(N){return"number"==typeof N?N:parseFloat(N)}let Ws=(()=>{class N{constructor(){this._validator=_t}ngOnChanges(M){if(this.inputName in M){const Z=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):_t,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275dir=d.lG2({type:N,features:[d.TTD]}),N})();const ua={provide:Se,useExisting:(0,d.Gpc)(()=>pr),multi:!0};let pr=(()=>{class N extends Ws{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=M=>Rs(M),this.createValidator=M=>st(M)}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,Z){2&M&&d.uIk("max",Z._enabled?Z.max:null)},inputs:{max:"max"},features:[d._Bn([ua]),d.qOj]}),N})();const Ps={provide:Se,useExisting:(0,d.Gpc)(()=>Ks),multi:!0};let Ks=(()=>{class N extends Ws{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=M=>Rs(M),this.createValidator=M=>nt(M)}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,Z){2&M&&d.uIk("min",Z._enabled?Z.min:null)},inputs:{min:"min"},features:[d._Bn([Ps]),d.qOj]}),N})();const vs={provide:Se,useExisting:(0,d.Gpc)(()=>_s),multi:!0};let _s=(()=>{class N extends Ws{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=M=>St}enabled(M){return M}}return N.\u0275fac=function(){let R;return function(Z){return(R||(R=d.n5z(N)))(Z||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,Z){2&M&&d.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([vs]),d.qOj]}),N})(),Ho=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[uo]}),N})(),kr=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[Ho]}),N})(),gi=(()=>{class N{static withConfig(M){return{ngModule:N,providers:[{provide:Lt,useValue:M.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[Ho]}),N})();class fo extends Y{constructor(R,M,Z){super(Qe(M),fe(Z,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,M={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(R,M,Z={}){this.controls.splice(R,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(R,M={}){let Z=this._adjustIndex(R);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(R,M,Z={}){let rt=this._adjustIndex(R);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),M&&(this.controls.splice(rt,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,M={}){ue(this,0,R),R.forEach((Z,rt)=>{ae(this,!1,rt),this.at(rt).setValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(R.forEach((Z,rt)=>{this.at(rt)&&this.at(rt).patchValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R=[],M={}){this._forEachChild((Z,rt)=>{Z.reset(R[rt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((M,Z)=>!!Z._syncPendingControls()||M,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((M,Z)=>{R(M,Z)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(M=>M.enabled&&R(M))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function bt(N){return!!N&&(void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn)}let zn=(()=>{class N{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new N;return M.useNonNullable=!0,M}group(M,Z=null){const rt=this._reduceControls(M);let Xt={};return bt(Z)?Xt=Z:null!==Z&&(Xt.validators=Z.validator,Xt.asyncValidators=Z.asyncValidator),new K(rt,Xt)}record(M,Z=null){const rt=this._reduceControls(M);return new ft(rt,Z)}control(M,Z,rt){let Xt={};return this.useNonNullable?(bt(Z)?Xt=Z:(Xt.validators=Z,Xt.asyncValidators=rt),new qr(M,{...Xt,nonNullable:!0})):new qr(M,Z,rt)}array(M,Z,rt){const Xt=M.map(Wn=>this._createControl(Wn));return new fo(Xt,Z,rt)}_reduceControls(M){const Z={};return Object.keys(M).forEach(rt=>{Z[rt]=this._createControl(M[rt])}),Z}_createControl(M){return M instanceof qr||M instanceof Y?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275prov=d.Yz7({token:N,factory:N.\u0275fac,providedIn:gi}),N})(),Qs=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275prov=d.Yz7({token:N,factory:function(){return(0,d.f3M)(zn).nonNullable},providedIn:gi}),N})()},1481:(Ht,Be,k)=>{k.d(Be,{Dx:()=>Ge,b2:()=>On,q6:()=>Fr});var d=k(6895),F=k(4650);class B extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends B{static makeCurrent(){(0,d.HT)(new he)}onAndCancel(se,X,Re){return se.addEventListener(X,Re,!1),()=>{se.removeEventListener(X,Re,!1)}}dispatchEvent(se,X){se.dispatchEvent(X)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,X){return(X=X||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,X){return"window"===X?window:"document"===X?se:"body"===X?se.body:null}getBaseHref(se){const X=function Ie(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==X?null:function te(re){De=De||document.createElement("a"),De.setAttribute("href",re);const se=De.pathname;return"/"===se.charAt(0)?se:`/${se}`}(X)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,d.Mx)(document.cookie,se)}}let De,le=null;const Oe=new F.OlP("TRANSITION_ID"),ce=[{provide:F.ip1,useFactory:function ee(re,se,X){return()=>{X.get(F.CZH).donePromise.then(()=>{const Re=(0,d.q)(),We=se.querySelectorAll(`style[ng-transition="${re}"]`);for(let Ut=0;Ut<We.length;Ut++)Re.remove(We[Ut])})}},deps:[Oe,d.K0,F.zs3],multi:!0}];let ht=(()=>{class re{build(){return new XMLHttpRequest}}return re.\u0275fac=function(X){return new(X||re)},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();const et=new F.OlP("EventManagerPlugins");let Fe=(()=>{class re{constructor(X,Re){this._zone=Re,this._eventNameToPlugin=new Map,X.forEach(We=>We.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,Re,We){return this._findPluginFor(Re).addEventListener(X,Re,We)}addGlobalEventListener(X,Re,We){return this._findPluginFor(Re).addGlobalEventListener(X,Re,We)}getZone(){return this._zone}_findPluginFor(X){const Re=this._eventNameToPlugin.get(X);if(Re)return Re;const We=this._plugins;for(let Ut=0;Ut<We.length;Ut++){const gn=We[Ut];if(gn.supports(X))return this._eventNameToPlugin.set(X,gn),gn}throw new Error(`No event manager plugin found for event ${X}`)}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(et),F.LFG(F.R0b))},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();class mt{constructor(se){this._doc=se}addGlobalEventListener(se,X,Re){const We=(0,d.q)().getGlobalEventTarget(this._doc,se);if(!We)throw new Error(`Unsupported event target ${We} for event ${X}`);return this.addEventListener(We,X,Re)}}let Ue=(()=>{class re{constructor(){this._stylesSet=new Set}addStyles(X){const Re=new Set;X.forEach(We=>{this._stylesSet.has(We)||(this._stylesSet.add(We),Re.add(We))}),this.onStylesAdded(Re)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}return re.\u0275fac=function(X){return new(X||re)},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})(),Se=(()=>{class re extends Ue{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,Re,We){X.forEach(Ut=>{const gn=this._doc.createElement("style");gn.textContent=Ut,We.push(Re.appendChild(gn))})}addHost(X){const Re=[];this._addStylesToHost(this._stylesSet,X,Re),this._hostNodes.set(X,Re)}removeHost(X){const Re=this._hostNodes.get(X);Re&&Re.forEach(yt),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((Re,We)=>{this._addStylesToHost(X,We,Re)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(yt))}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(d.K0))},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();function yt(re){(0,d.q)().remove(re)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},me=/%COMP%/g;function ot(re,se,X){for(let Re=0;Re<se.length;Re++){let We=se[Re];Array.isArray(We)?ot(re,We,X):(We=We.replace(me,re),X.push(We))}return X}function Le(re){return se=>{if("__ngUnwrap__"===se)return re;!1===re(se)&&(se.preventDefault(),se.returnValue=!1)}}let Pt=(()=>{class re{constructor(X,Re,We){this.eventManager=X,this.sharedStylesHost=Re,this.appId=We,this.rendererByCompId=new Map,this.defaultRenderer=new fr(X)}createRenderer(X,Re){if(!X||!Re)return this.defaultRenderer;switch(Re.encapsulation){case F.ifc.Emulated:{let We=this.rendererByCompId.get(Re.id);return We||(We=new ze(this.eventManager,this.sharedStylesHost,Re,this.appId),this.rendererByCompId.set(Re.id,We)),We.applyToHost(X),We}case 1:case F.ifc.ShadowDom:return new Je(this.eventManager,this.sharedStylesHost,X,Re);default:if(!this.rendererByCompId.has(Re.id)){const We=ot(Re.id,Re.styles,[]);this.sharedStylesHost.addStyles(We),this.rendererByCompId.set(Re.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(Fe),F.LFG(Se),F.LFG(F.AFp))},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();class fr{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,X){return X?document.createElementNS(pt[X]||X,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,X){($e(se)?se.content:se).appendChild(X)}insertBefore(se,X,Re){se&&($e(se)?se.content:se).insertBefore(X,Re)}removeChild(se,X){se&&se.removeChild(X)}selectRootElement(se,X){let Re="string"==typeof se?document.querySelector(se):se;if(!Re)throw new Error(`The selector "${se}" did not match any elements`);return X||(Re.textContent=""),Re}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,X,Re,We){if(We){X=We+":"+X;const Ut=pt[We];Ut?se.setAttributeNS(Ut,X,Re):se.setAttribute(X,Re)}else se.setAttribute(X,Re)}removeAttribute(se,X,Re){if(Re){const We=pt[Re];We?se.removeAttributeNS(We,X):se.removeAttribute(`${Re}:${X}`)}else se.removeAttribute(X)}addClass(se,X){se.classList.add(X)}removeClass(se,X){se.classList.remove(X)}setStyle(se,X,Re,We){We&(F.JOm.DashCase|F.JOm.Important)?se.style.setProperty(X,Re,We&F.JOm.Important?"important":""):se.style[X]=Re}removeStyle(se,X,Re){Re&F.JOm.DashCase?se.style.removeProperty(X):se.style[X]=""}setProperty(se,X,Re){se[X]=Re}setValue(se,X){se.nodeValue=X}listen(se,X,Re){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,X,Le(Re)):this.eventManager.addEventListener(se,X,Le(Re))}}function $e(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class ze extends fr{constructor(se,X,Re,We){super(se),this.component=Re;const Ut=ot(We+"-"+Re.id,Re.styles,[]);X.addStyles(Ut),this.contentAttr=function Ce(re){return"_ngcontent-%COMP%".replace(me,re)}(We+"-"+Re.id),this.hostAttr=function pe(re){return"_nghost-%COMP%".replace(me,re)}(We+"-"+Re.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,X){const Re=super.createElement(se,X);return super.setAttribute(Re,this.contentAttr,""),Re}}class Je extends fr{constructor(se,X,Re,We){super(se),this.sharedStylesHost=X,this.hostEl=Re,this.shadowRoot=Re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=ot(We.id,We.styles,[]);for(let gn=0;gn<Ut.length;gn++){const Ne=document.createElement("style");Ne.textContent=Ut[gn],this.shadowRoot.appendChild(Ne)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,X){return super.appendChild(this.nodeOrShadowRoot(se),X)}insertBefore(se,X,Re){return super.insertBefore(this.nodeOrShadowRoot(se),X,Re)}removeChild(se,X){return super.removeChild(this.nodeOrShadowRoot(se),X)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let gt=(()=>{class re extends mt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,Re,We){return X.addEventListener(Re,We,!1),()=>this.removeEventListener(X,Re,We)}removeEventListener(X,Re,We){return X.removeEventListener(Re,We)}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(d.K0))},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();const It=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Vt=(()=>{class re extends mt{constructor(X){super(X)}supports(X){return null!=re.parseEventName(X)}addEventListener(X,Re,We){const Ut=re.parseEventName(Re),gn=re.eventCallback(Ut.fullKey,We,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(X,Ut.domEventName,gn))}static parseEventName(X){const Re=X.toLowerCase().split("."),We=Re.shift();if(0===Re.length||"keydown"!==We&&"keyup"!==We)return null;const Ut=re._normalizeKey(Re.pop());let gn="",Ne=Re.indexOf("code");if(Ne>-1&&(Re.splice(Ne,1),gn="code."),It.forEach(Dt=>{const Ct=Re.indexOf(Dt);Ct>-1&&(Re.splice(Ct,1),gn+=Dt+".")}),gn+=Ut,0!=Re.length||0===Ut.length)return null;const ke={};return ke.domEventName=We,ke.fullKey=gn,ke}static matchEventFullKeyCode(X,Re){let We=xt[X.key]||X.key,Ut="";return Re.indexOf("code.")>-1&&(We=X.code,Ut="code."),!(null==We||!We)&&(We=We.toLowerCase()," "===We?We="space":"."===We&&(We="dot"),It.forEach(gn=>{gn!==We&&(0,Wt[gn])(X)&&(Ut+=gn+".")}),Ut+=We,Ut===Re)}static eventCallback(X,Re,We){return Ut=>{re.matchEventFullKeyCode(Ut,X)&&We.runGuarded(()=>Re(Ut))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(d.K0))},re.\u0275prov=F.Yz7({token:re,factory:re.\u0275fac}),re})();const Fr=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:d.bD},{provide:F.g9A,useValue:function Gn(){he.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function jt(){return(0,F.RDi)(document),document},deps:[]}]),cr=new F.OlP(""),kt=[{provide:F.rWj,useClass:class Ee{addToWindow(se){F.dqk.getAngularTestability=(Re,We=!0)=>{const Ut=se.findTestabilityInTree(Re,We);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},F.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Re=>{const We=F.dqk.getAllAngularTestabilities();let Ut=We.length,gn=!1;const Ne=function(ke){gn=gn||ke,Ut--,0==Ut&&Re(gn)};We.forEach(function(ke){ke.whenStable(Ne)})})}findTestabilityInTree(se,X,Re){return null==X?null:se.getTestability(X)??(Re?(0,d.q)().isShadowRoot(X)?this.findTestabilityInTree(se,X.host,!0):this.findTestabilityInTree(se,X.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Pn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function En(){return new F.qLn},deps:[]},{provide:et,useClass:gt,multi:!0,deps:[d.K0,F.R0b,F.Lbi]},{provide:et,useClass:Vt,multi:!0,deps:[d.K0]},{provide:Pt,useClass:Pt,deps:[Fe,Se,F.AFp]},{provide:F.FYo,useExisting:Pt},{provide:Ue,useExisting:Se},{provide:Se,useClass:Se,deps:[d.K0]},{provide:Fe,useClass:Fe,deps:[et,F.R0b]},{provide:d.JF,useClass:ht,deps:[]},[]];let On=(()=>{class re{constructor(X){}static withServerTransition(X){return{ngModule:re,providers:[{provide:F.AFp,useValue:X.appId},{provide:Oe,useExisting:F.AFp},ce]}}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(cr,12))},re.\u0275mod=F.oAB({type:re}),re.\u0275inj=F.cJS({providers:[...Pn,...kt],imports:[d.ez,F.hGG]}),re})(),Ge=(()=>{class re{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return re.\u0275fac=function(X){return new(X||re)(F.LFG(d.K0))},re.\u0275prov=F.Yz7({token:re,factory:function(X){let Re=null;return Re=X?new X:function dr(){return new Ge((0,F.LFG)(d.K0))}(),Re},providedIn:"root"}),re})();typeof window<"u"&&window},1194:(Ht,Be,k)=>{k.d(Be,{F0:()=>ln,rH:()=>Pr,yS:()=>yn,Bz:()=>Pa,lC:()=>qs});var d=k(4650),F=k(8996),B=k(9646),he=k(1135),le=k(6805),Ie=k(9751),De=k(4742),te=k(4671),Oe=k(3268),ee=k(7669),ce=k(1810),Ee=k(5403),ht=k(9672);function et(...v){const E=(0,ee.yG)(v),y=(0,ee.jO)(v),{args:T,keys:P}=(0,De.D)(v);if(0===T.length)return(0,F.D)([],E);const G=new Ie.y(function Fe(v,E,y=te.y){return T=>{mt(E,()=>{const{length:P}=v,G=new Array(P);let oe=P,ye=P;for(let ct=0;ct<P;ct++)mt(E,()=>{const Kt=(0,F.D)(v[ct],E);let Nn=!1;Kt.subscribe((0,Ee.x)(T,cn=>{G[ct]=cn,Nn||(Nn=!0,ye--),ye||T.next(y(G.slice()))},()=>{--oe||T.complete()}))},T)},T)}}(T,E,P?oe=>(0,ce.n)(P,oe):te.y));return y?G.pipe((0,Oe.Z)(y)):G}function mt(v,E,y){v?(0,ht.f)(y,v,E):E()}var Ue=k(1350),Se=k(8421);function yt(v){return new Ie.y(E=>{(0,Se.Xf)(v()).subscribe(E)})}var pt=k(9635),me=k(576);function nt(v,E){const y=(0,me.m)(v)?v:()=>v,T=P=>P.error(y());return new Ie.y(E?P=>E.schedule(T,0,P):T)}var st=k(515),St=k(727),He=k(4482);function Ce(){return(0,He.e)((v,E)=>{let y=null;v._refCount++;const T=(0,Ee.x)(E,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const P=v._connection,G=y;y=null,P&&(!G||P===G)&&P.unsubscribe(),E.unsubscribe()});v.subscribe(T),T.closed||(y=v.connect())})}class pe extends Ie.y{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,He.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new St.w0;const y=this.getSubject();E.add(this.source.subscribe((0,Ee.x)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=St.w0.EMPTY)}return E}refCount(){return Ce()(this)}}var ot=k(7579),Le=k(6895),_t=k(4004),Pt=k(3900),fr=k(5698),Xe=k(8675),Ve=k(9300),$e=k(5577),ze=k(590),Je=k(4351),gt=k(8505);function It(v){return(0,He.e)((E,y)=>{let G,T=null,P=!1;T=E.subscribe((0,Ee.x)(y,void 0,void 0,oe=>{G=(0,Se.Xf)(v(oe,It(v)(E))),T?(T.unsubscribe(),T=null,G.subscribe(y)):P=!0})),P&&(T.unsubscribe(),T=null,G.subscribe(y))})}var xt=k(5026);function Wt(v){return v<=0?()=>st.E:(0,He.e)((E,y)=>{let T=[];E.subscribe((0,Ee.x)(y,P=>{T.push(P),v<T.length&&T.shift()},()=>{for(const P of T)y.next(P);y.complete()},void 0,()=>{T=null}))})}var Vt=k(8068),sn=k(6590);function hn(v,E){const y=arguments.length>=2;return T=>T.pipe(v?(0,Ve.h)((P,G)=>v(P,G,T)):te.y,Wt(1),y?(0,sn.d)(E):(0,Vt.T)(()=>new le.K))}function ir(v){return(0,He.e)((E,y)=>{try{E.subscribe(y)}finally{y.add(v)}})}var Gn=k(8189),En=k(1481);const jt="primary",qn=Symbol("RouteTitle");class Fr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function cr(v){return new Fr(v)}function kt(v,E,y){const T=y.path.split("/");if(T.length>v.length||"full"===y.pathMatch&&(E.hasChildren()||T.length<v.length))return null;const P={};for(let G=0;G<T.length;G++){const oe=T[G],ye=v[G];if(oe.startsWith(":"))P[oe.substring(1)]=ye;else if(oe!==ye.path)return null}return{consumed:v.slice(0,T.length),posParams:P}}function On(v,E){const y=v?Object.keys(v):void 0,T=E?Object.keys(E):void 0;if(!y||!T||y.length!=T.length)return!1;let P;for(let G=0;G<y.length;G++)if(P=y[G],!ar(v[P],E[P]))return!1;return!0}function ar(v,E){if(Array.isArray(v)&&Array.isArray(E)){if(v.length!==E.length)return!1;const y=[...v].sort(),T=[...E].sort();return y.every((P,G)=>T[G]===P)}return v===E}function jr(v){return Array.prototype.concat.apply([],v)}function br(v){return v.length>0?v[v.length-1]:null}function Ge(v,E){for(const y in v)v.hasOwnProperty(y)&&E(v[y],y)}function ge(v){return(0,d.CqO)(v)?v:(0,d.QGY)(v)?(0,F.D)(Promise.resolve(v)):(0,B.of)(v)}const lt={exact:function Nt(v,E,y){if(!Qe(v.segments,E.segments)||!fn(v.segments,E.segments,y)||v.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!v.children[T]||!Nt(v.children[T],E.children[T],y))return!1;return!0},subset:pn},tn={exact:function Rn(v,E){return On(v,E)},subset:function kn(v,E){return Object.keys(E).length<=Object.keys(v).length&&Object.keys(E).every(y=>ar(v[y],E[y]))},ignored:()=>!0};function vn(v,E,y){return lt[y.paths](v.root,E.root,y.matrixParams)&&tn[y.queryParams](v.queryParams,E.queryParams)&&!("exact"===y.fragment&&v.fragment!==E.fragment)}function pn(v,E,y){return yr(v,E,E.segments,y)}function yr(v,E,y,T){if(v.segments.length>y.length){const P=v.segments.slice(0,y.length);return!(!Qe(P,y)||E.hasChildren()||!fn(P,y,T))}if(v.segments.length===y.length){if(!Qe(v.segments,y)||!fn(v.segments,y,T))return!1;for(const P in E.children)if(!v.children[P]||!pn(v.children[P],E.children[P],T))return!1;return!0}{const P=y.slice(0,v.segments.length),G=y.slice(v.segments.length);return!!(Qe(v.segments,P)&&fn(v.segments,P,T)&&v.children[jt])&&yr(v.children[jt],E,G,T)}}function fn(v,E,y){return E.every((T,P)=>tn[y](v[P].parameters,T.parameters))}class qt{constructor(E,y,T){this.root=E,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class Tt{constructor(E,y){this.segments=E,this.children=y,this.parent=null,Ge(y,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ae(this)}}class Fn{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=cr(this.parameters)),this._parameterMap}toString(){return nn(this)}}function Qe(v,E){return v.length===E.length&&v.every((y,T)=>y.path===E[T].path)}let fe=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=d.Yz7({token:v,factory:function(){return new Ze},providedIn:"root"}),v})();class Ze{parse(E){const y=new ke(E);return new qt(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${ue(E.root,!0)}`,T=function se(v){const E=Object.keys(v).map(y=>{const T=v[y];return Array.isArray(T)?T.map(P=>`${K(y)}=${K(P)}`).join("&"):`${K(y)}=${K(T)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${T}${"string"==typeof E.fragment?`#${function H(v){return encodeURI(v)}(E.fragment)}`:""}`}}const Ot=new Ze;function ae(v){return v.segments.map(E=>nn(E)).join("/")}function ue(v,E){if(!v.hasChildren())return ae(v);if(E){const y=v.children[jt]?ue(v.children[jt],!1):"",T=[];return Ge(v.children,(P,G)=>{G!==jt&&T.push(`${G}:${ue(P,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function W(v,E){let y=[];return Ge(v.children,(T,P)=>{P===jt&&(y=y.concat(E(T,P)))}),Ge(v.children,(T,P)=>{P!==jt&&(y=y.concat(E(T,P)))}),y}(v,(T,P)=>P===jt?[ue(v.children[jt],!1)]:[`${P}:${ue(T,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[jt]?`${ae(v)}/${y[0]}`:`${ae(v)}/(${y.join("//")})`}}function Y(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function K(v){return Y(v).replace(/%3B/gi,";")}function Te(v){return Y(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(v){return decodeURIComponent(v)}function Bt(v){return ft(v.replace(/\+/g,"%20"))}function nn(v){return`${Te(v.path)}${function re(v){return Object.keys(v).map(E=>`;${Te(E)}=${Te(v[E])}`).join("")}(v.parameters)}`}const X=/^[^\/()?;=#]+/;function Re(v){const E=v.match(X);return E?E[0]:""}const We=/^[^=?&#]+/,gn=/^[^&#]+/;class ke{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(T[jt]=new Tt(E,y)),T}parseSegment(){const E=Re(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(E),new Fn(ft(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=Re(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const P=Re(this.remaining);P&&(T=P,this.capture(T))}E[ft(y)]=ft(T)}parseQueryParam(E){const y=function Ut(v){const E=v.match(We);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const oe=function Ne(v){const E=v.match(gn);return E?E[0]:""}(this.remaining);oe&&(T=oe,this.capture(T))}const P=Bt(y),G=Bt(T);if(E.hasOwnProperty(P)){let oe=E[P];Array.isArray(oe)||(oe=[oe],E[P]=oe),oe.push(G)}else E[P]=G}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Re(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new d.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):E&&(G=jt);const oe=this.parseChildren();y[G]=1===Object.keys(oe).length?oe[jt]:new Tt([],oe),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new d.vHH(4011,!1)}}function Dt(v){return v.segments.length>0?new Tt([],{[jt]:v}):v}function Ct(v){const E={};for(const T of Object.keys(v.children)){const G=Ct(v.children[T]);(G.segments.length>0||G.hasChildren())&&(E[T]=G)}return function Cn(v){if(1===v.numberOfChildren&&v.children[jt]){const E=v.children[jt];return new Tt(v.segments.concat(E.segments),E.children)}return v}(new Tt(v.segments,E))}function xn(v){return v instanceof qt}function Jr(v,E,y,T,P){if(0===y.length)return Fi(E.root,E.root,E.root,T,P);const G=function ps(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Ri(!0,0,v);let E=0,y=!1;const T=v.reduce((P,G,oe)=>{if("object"==typeof G&&null!=G){if(G.outlets){const ye={};return Ge(G.outlets,(ct,Kt)=>{ye[Kt]="string"==typeof ct?ct.split("/"):ct}),[...P,{outlets:ye}]}if(G.segmentPath)return[...P,G.segmentPath]}return"string"!=typeof G?[...P,G]:0===oe?(G.split("/").forEach((ye,ct)=>{0==ct&&"."===ye||(0==ct&&""===ye?y=!0:".."===ye?E++:""!=ye&&P.push(ye))}),P):[...P,G]},[]);return new Ri(y,E,T)}(y);return G.toRoot()?Fi(E.root,E.root,new Tt([],{}),T,P):function oe(ct){const Kt=function Ki(v,E,y,T){if(v.isAbsolute)return new Xr(E.root,!0,0);if(-1===T)return new Xr(y,y===E.root,0);return function qr(v,E,y){let T=v,P=E,G=y;for(;G>P;){if(G-=P,T=T.parent,!T)throw new d.vHH(4005,!1);P=T.segments.length}return new Xr(T,!1,P-G)}(y,T+(zr(v.commands[0])?0:1),v.numberOfDoubleDots)}(G,E,v.snapshot?._urlSegment,ct),Nn=Kt.processChildren?Li(Kt.segmentGroup,Kt.index,G.commands):Nr(Kt.segmentGroup,Kt.index,G.commands);return Fi(E.root,Kt.segmentGroup,Nn,T,P)}(v.snapshot?._lastPathIndex)}function zr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Dr(v){return"object"==typeof v&&null!=v&&v.outlets}function Fi(v,E,y,T,P){let oe,G={};T&&Ge(T,(ct,Kt)=>{G[Kt]=Array.isArray(ct)?ct.map(Nn=>`${Nn}`):`${ct}`}),oe=v===E?y:Zn(v,E,y);const ye=Dt(Ct(oe));return new qt(ye,G,P)}function Zn(v,E,y){const T={};return Ge(v.children,(P,G)=>{T[G]=P===E?y:Zn(P,E,y)}),new Tt(v.segments,T)}class Ri{constructor(E,y,T){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=T,E&&T.length>0&&zr(T[0]))throw new d.vHH(4003,!1);const P=T.find(Dr);if(P&&P!==br(T))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xr{constructor(E,y,T){this.segmentGroup=E,this.processChildren=y,this.index=T}}function Nr(v,E,y){if(v||(v=new Tt([],{})),0===v.segments.length&&v.hasChildren())return Li(v,E,y);const T=function Wr(v,E,y){let T=0,P=E;const G={match:!1,pathIndex:0,commandIndex:0};for(;P<v.segments.length;){if(T>=y.length)return G;const oe=v.segments[P],ye=y[T];if(Dr(ye))break;const ct=`${ye}`,Kt=T<y.length-1?y[T+1]:null;if(P>0&&void 0===ct)break;if(ct&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!gs(ct,Kt,oe))return G;T+=2}else{if(!gs(ct,{},oe))return G;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(v,E,y),P=y.slice(T.commandIndex);if(T.match&&T.pathIndex<v.segments.length){const G=new Tt(v.segments.slice(0,T.pathIndex),{});return G.children[jt]=new Tt(v.segments.slice(T.pathIndex),v.children),Li(G,0,P)}return T.match&&0===P.length?new Tt(v.segments,{}):T.match&&!v.hasChildren()?Lr(v,E,y):T.match?Li(v,0,P):Lr(v,E,y)}function Li(v,E,y){if(0===y.length)return new Tt(v.segments,{});{const T=function os(v){return Dr(v[0])?v[0].outlets:{[jt]:v}}(y),P={};return Ge(T,(G,oe)=>{"string"==typeof G&&(G=[G]),null!==G&&(P[oe]=Nr(v.children[oe],E,G))}),Ge(v.children,(G,oe)=>{void 0===T[oe]&&(P[oe]=G)}),new Tt(v.segments,P)}}function Lr(v,E,y){const T=v.segments.slice(0,E);let P=0;for(;P<y.length;){const G=y[P];if(Dr(G)){const ct=ao(G.outlets);return new Tt(T,ct)}if(0===P&&zr(y[0])){T.push(new Fn(v.segments[E].path,qi(y[0]))),P++;continue}const oe=Dr(G)?G.outlets[jt]:`${G}`,ye=P<y.length-1?y[P+1]:null;oe&&ye&&zr(ye)?(T.push(new Fn(oe,qi(ye))),P+=2):(T.push(new Fn(oe,{})),P++)}return new Tt(T,{})}function ao(v){const E={};return Ge(v,(y,T)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[T]=Lr(new Tt([],{}),0,y))}),E}function qi(v){const E={};return Ge(v,(y,T)=>E[T]=`${y}`),E}function gs(v,E,y){return v==y.path&&On(E,y.parameters)}class Sr{constructor(E,y){this.id=E,this.url=y}}class Zi extends Sr{constructor(E,y,T="imperative",P=null){super(E,y),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends Sr{constructor(E,y,T){super(E,y),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ms extends Sr{constructor(E,y,T,P){super(E,y),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ms extends Sr{constructor(E,y,T,P){super(E,y),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xa extends Sr{constructor(E,y,T,P){super(E,y),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Sr{constructor(E,y,T,P){super(E,y),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends Sr{constructor(E,y,T,P,G){super(E,y),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class To extends Sr{constructor(E,y,T,P){super(E,y),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo extends Sr{constructor(E,y,T,P){super(E,y),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class be{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class je{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(E,y,T){this.routerEvent=E,this.position=y,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=Ui(E,this._root);return y?y.children.map(T=>T.value):[]}firstChild(E){const y=Ui(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=Ci(E,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return Ci(E,this._root).map(y=>y.value)}}function Ui(v,E){if(v===E.value)return E;for(const y of E.children){const T=Ui(v,y);if(T)return T}return null}function Ci(v,E){if(v===E.value)return[E];for(const y of E.children){const T=Ci(v,y);if(T.length)return T.unshift(E),T}return[]}class $r{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function Qn(v){const E={};return v&&v.children.forEach(y=>E[y.value.outlet]=y),E}class as extends Ln{constructor(E,y){super(E),this.snapshot=y,Ao(this,E)}toString(){return this.snapshot.toString()}}function Bi(v,E){const y=function ui(v,E){const oe=new Yi([],{},{},"",{},jt,E,null,v.root,-1,{});return new $o("",new $r(oe,[]))}(v,E),T=new he.X([new Fn("",{})]),P=new he.X({}),G=new he.X({}),oe=new he.X({}),ye=new he.X(""),ct=new ys(T,P,oe,ye,G,jt,E,y.root);return ct.snapshot=y.root,new as(new $r(ct,[]),y)}class ys{constructor(E,y,T,P,G,oe,ye,ct){this.url=E,this.params=y,this.queryParams=T,this.fragment=P,this.data=G,this.outlet=oe,this.component=ye,this.title=this.data?.pipe((0,_t.U)(Kt=>Kt[qn]))??(0,B.of)(void 0),this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(E=>cr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(E=>cr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xs(v,E="emptyOnly"){const y=v.pathFromRoot;let T=0;if("always"!==E)for(T=y.length-1;T>=1;){const P=y[T],G=y[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(G.component)break;T--}}return function aa(v){return v.reduce((E,y)=>({params:{...E.params,...y.params},data:{...E.data,...y.data},resolve:{...y.data,...E.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(T))}class Yi{constructor(E,y,T,P,G,oe,ye,ct,Kt,Nn,cn,er){this.url=E,this.params=y,this.queryParams=T,this.fragment=P,this.data=G,this.outlet=oe,this.component=ye,this.title=this.data?.[qn],this.routeConfig=ct,this._urlSegment=Kt,this._lastPathIndex=Nn,this._correctedLastPathIndex=er??Nn,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends Ln{constructor(E,y){super(y),this.url=E,Ao(this,y)}toString(){return zs(this._root)}}function Ao(v,E){E.value._routerState=v,E.children.forEach(y=>Ao(v,y))}function zs(v){const E=v.children.length>0?` { ${v.children.map(zs).join(", ")} } `:"";return`${v.value}${E}`}function Pi(v){if(v.snapshot){const E=v.snapshot,y=v._futureSnapshot;v.snapshot=y,On(E.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),E.fragment!==y.fragment&&v.fragment.next(y.fragment),On(E.params,y.params)||v.params.next(y.params),function Pn(v,E){if(v.length!==E.length)return!1;for(let y=0;y<v.length;++y)if(!On(v[y],E[y]))return!1;return!0}(E.url,y.url)||v.url.next(y.url),On(E.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function So(v,E){const y=On(v.params,E.params)&&function Yn(v,E){return Qe(v,E)&&v.every((y,T)=>On(y.parameters,E[T].parameters))}(v.url,E.url);return y&&!(!v.parent!=!E.parent)&&(!v.parent||So(v.parent,E.parent))}function pi(v,E,y){if(y&&v.shouldReuseRoute(E.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=E.value;const P=function lo(v,E,y){return E.children.map(T=>{for(const P of y.children)if(v.shouldReuseRoute(T.value,P.value.snapshot))return pi(v,T,P);return pi(v,T)})}(v,E,y);return new $r(T,P)}{if(v.shouldAttach(E.value)){const G=v.retrieve(E.value);if(null!==G){const oe=G.route;return oe.value._futureSnapshot=E.value,oe.children=E.children.map(ye=>pi(v,ye)),oe}}const T=function Rs(v){return new ys(new he.X(v.url),new he.X(v.params),new he.X(v.queryParams),new he.X(v.fragment),new he.X(v.data),v.outlet,v.component,v)}(E.value),P=E.children.map(G=>pi(v,G));return new $r(T,P)}}const Ws="ngNavigationCancelingError";function ua(v,E){const{redirectTo:y,navigationBehaviorOptions:T}=xn(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,P=pr(!1,0,E);return P.url=y,P.navigationBehaviorOptions=T,P}function pr(v,E,y){const T=new Error("NavigationCancelingError: "+(v||""));return T[Ws]=!0,T.cancellationCode=E,y&&(T.url=y),T}function Ps(v){return Ks(v)&&xn(v.url)}function Ks(v){return v&&v[Ws]}class vs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zr,this.attachRef=null}}let Zr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,T){const P=this.getOrCreateContext(y);P.outlet=T,this.contexts.set(y,P)}onChildOutletDestroyed(y){const T=this.getContext(y);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let T=this.getContext(y);return T||(T=new vs,this.contexts.set(y,T)),T}getContext(y){return this.contexts.get(y)||null}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const _s=!1;let qs=(()=>{class v{constructor(y,T,P,G,oe){this.parentContexts=y,this.location=T,this.changeDetector=G,this.environmentInjector=oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=P||jt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,_s);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,_s);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,_s);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new d.vHH(4013,_s);this._activatedRoute=y;const P=this.location,oe=y._futureSnapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ct=new Qi(y,ye,P.injector);if(T&&function ii(v){return!!v.resolveComponentFactory}(T)){const Kt=T.resolveComponentFactory(oe);this.activated=P.createComponent(Kt,P.length,ct)}else this.activated=P.createComponent(oe,{index:P.length,injector:ct,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(d.Y36(Zr),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},v.\u0275dir=d.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class Qi{constructor(E,y,T){this.route=E,this.childContexts=y,this.parent=T}get(E,y){return E===ys?this.route:E===Zr?this.childContexts:this.parent.get(E,y)}}let Mo=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=d.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(y,T){1&y&&d._UZ(0,"router-outlet")},dependencies:[qs],encapsulation:2}),v})();function co(v,E){return v.providers&&!v._injector&&(v._injector=(0,d.MMx)(v.providers,E,`Route: ${v.path}`)),v._injector??E}function kr(v){const E=v.children&&v.children.map(kr),y=E?{...v,children:E}:{...v};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==jt&&(y.component=Mo),y}function gi(v){return v.outlet||jt}function fo(v,E){const y=v.filter(T=>gi(T)===E);return y.push(...v.filter(T=>gi(T)!==E)),y}function bi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let E=v.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class bt{constructor(E,y,T,P){this.routeReuseStrategy=E,this.futureState=y,this.currState=T,this.forwardEvent=P}activate(E){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,E),Pi(this.futureState.root),this.activateChildRoutes(y,T,E)}deactivateChildRoutes(E,y,T){const P=Qn(y);E.children.forEach(G=>{const oe=G.value.outlet;this.deactivateRoutes(G,P[oe],T),delete P[oe]}),Ge(P,(G,oe)=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(E,y,T){const P=E.value,G=y?y.value:null;if(P===G)if(P.component){const oe=T.getContext(P.outlet);oe&&this.deactivateChildRoutes(E,y,oe.children)}else this.deactivateChildRoutes(E,y,T);else G&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const T=y.getContext(E.value.outlet),P=T&&E.value.component?T.children:y,G=Qn(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],P);if(T&&T.outlet){const oe=T.outlet.detach(),ye=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:oe,route:E,contexts:ye})}}deactivateRouteAndOutlet(E,y){const T=y.getContext(E.value.outlet),P=T&&E.value.component?T.children:y,G=Qn(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,y,T){const P=Qn(y);E.children.forEach(G=>{this.activateRoutes(G,P[G.value.outlet],T),this.forwardEvent(new Tn(G.value.snapshot))}),E.children.length&&this.forwardEvent(new Et(E.value.snapshot))}activateRoutes(E,y,T){const P=E.value,G=y?y.value:null;if(Pi(P),P===G)if(P.component){const oe=T.getOrCreateContext(P.outlet);this.activateChildRoutes(E,y,oe.children)}else this.activateChildRoutes(E,y,T);else if(P.component){const oe=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ye=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),oe.children.onOutletReAttached(ye.contexts),oe.attachRef=ye.componentRef,oe.route=ye.route.value,oe.outlet&&oe.outlet.attach(ye.componentRef,ye.route.value),Pi(ye.route.value),this.activateChildRoutes(E,null,oe.children)}else{const ye=bi(P.snapshot),ct=ye?.get(d._Vd)??null;oe.attachRef=null,oe.route=P,oe.resolver=ct,oe.injector=ye,oe.outlet&&oe.outlet.activateWith(P,oe.injector),this.activateChildRoutes(E,null,oe.children)}}else this.activateChildRoutes(E,null,T)}}class zn{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Qs{constructor(E,y){this.component=E,this.route=y}}function po(v,E,y){const T=v._root;return R(T,E?E._root:null,y,[T.value])}function N(v,E){const y=Symbol(),T=E.get(v,y);return T===y?"function"!=typeof v||(0,d.Z0I)(v)?E.get(v):v:T}function R(v,E,y,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=Qn(E);return v.children.forEach(oe=>{(function M(v,E,y,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=v.value,oe=E?E.value:null,ye=y?y.getContext(v.value.outlet):null;if(oe&&G.routeConfig===oe.routeConfig){const ct=function Z(v,E,y){if("function"==typeof y)return y(v,E);switch(y){case"pathParamsChange":return!Qe(v.url,E.url);case"pathParamsOrQueryParamsChange":return!Qe(v.url,E.url)||!On(v.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(v,E)||!On(v.queryParams,E.queryParams);default:return!So(v,E)}}(oe,G,G.routeConfig.runGuardsAndResolvers);ct?P.canActivateChecks.push(new zn(T)):(G.data=oe.data,G._resolvedData=oe._resolvedData),R(v,E,G.component?ye?ye.children:null:y,T,P),ct&&ye&&ye.outlet&&ye.outlet.isActivated&&P.canDeactivateChecks.push(new Qs(ye.outlet.component,oe))}else oe&&rt(E,ye,P),P.canActivateChecks.push(new zn(T)),R(v,null,G.component?ye?ye.children:null:y,T,P)})(oe,G[oe.value.outlet],y,T.concat([oe.value]),P),delete G[oe.value.outlet]}),Ge(G,(oe,ye)=>rt(oe,y.getContext(ye),P)),P}function rt(v,E,y){const T=Qn(v),P=v.value;Ge(T,(G,oe)=>{rt(G,P.component?E?E.children.getContext(oe):null:E,y)}),y.canDeactivateChecks.push(new Qs(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}function Xt(v){return"function"==typeof v}function go(v){return v instanceof le.K||"EmptyError"===v?.name}const Go=Symbol("INITIAL_VALUE");function Xs(){return(0,Pt.w)(v=>et(v.map(E=>E.pipe((0,fr.q)(1),(0,Xe.O)(Go)))).pipe((0,_t.U)(E=>{for(const y of E)if(!0!==y){if(y===Go)return Go;if(!1===y||y instanceof qt)return y}return!0}),(0,Ve.h)(E=>E!==Go),(0,fr.q)(1)))}function Po(v){return(0,pt.z)((0,gt.b)(E=>{if(xn(E))throw ua(0,E)}),(0,_t.U)(E=>!0===E))}const Ti={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ks(v,E,y,T,P){const G=ca(v,E,y);return G.matched?function Zo(v,E,y,T){const P=E.canMatch;if(!P||0===P.length)return(0,B.of)(!0);const G=P.map(oe=>{const ye=N(oe,v);return ge(function Ji(v){return v&&Xt(v.canMatch)}(ye)?ye.canMatch(E,y):v.runInContext(()=>ye(E,y)))});return(0,B.of)(G).pipe(Xs(),Po())}(T=co(E,T),E,y).pipe((0,_t.U)(oe=>!0===oe?G:{...Ti})):(0,B.of)(G)}function ca(v,E,y){if(""===E.path)return"full"===E.pathMatch&&(v.hasChildren()||y.length>0)?{...Ti}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const P=(E.matcher||kt)(y,v,E);if(!P)return{...Ti};const G={};Ge(P.posParams,(ye,ct)=>{G[ct]=ye.path});const oe=P.consumed.length>0?{...G,...P.consumed[P.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:P.consumed,remainingSegments:y.slice(P.consumed.length),parameters:oe,positionalParamSegments:P.posParams??{}}}function yo(v,E,y,T,P="corrected"){if(y.length>0&&function Mr(v,E,y){return y.some(T=>Oo(v,E,T)&&gi(T)!==jt)}(v,y,T)){const oe=new Tt(E,function yi(v,E,y,T){const P={};P[jt]=T,T._sourceSegment=v,T._segmentIndexShift=E.length;for(const G of y)if(""===G.path&&gi(G)!==jt){const oe=new Tt([],{});oe._sourceSegment=v,oe._segmentIndexShift=E.length,P[gi(G)]=oe}return P}(v,E,T,new Tt(y,v.children)));return oe._sourceSegment=v,oe._segmentIndexShift=E.length,{segmentGroup:oe,slicedSegments:[]}}if(0===y.length&&function Cr(v,E,y){return y.some(T=>Oo(v,E,T))}(v,y,T)){const oe=new Tt(v.segments,function gr(v,E,y,T,P,G){const oe={};for(const ye of T)if(Oo(v,y,ye)&&!P[gi(ye)]){const ct=new Tt([],{});ct._sourceSegment=v,ct._segmentIndexShift="legacy"===G?v.segments.length:E.length,oe[gi(ye)]=ct}return{...P,...oe}}(v,E,y,T,v.children,P));return oe._sourceSegment=v,oe._segmentIndexShift=E.length,{segmentGroup:oe,slicedSegments:y}}const G=new Tt(v.segments,v.children);return G._sourceSegment=v,G._segmentIndexShift=E.length,{segmentGroup:G,slicedSegments:y}}function Oo(v,E,y){return(!(v.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function da(v,E,y,T){return!!(gi(v)===T||T!==jt&&Oo(E,y,v))&&("**"===v.path||ca(E,v,y).matched)}function ji(v,E,y){return 0===E.length&&!v.children[y]}const Yo=!1;class Fs{constructor(E){this.segmentGroup=E||null}}class ws{constructor(E){this.urlTree=E}}function Xi(v){return nt(new Fs(v))}function Qo(v){return nt(new ws(v))}class es{constructor(E,y,T,P,G){this.injector=E,this.configLoader=y,this.urlSerializer=T,this.urlTree=P,this.config=G,this.allowRedirects=!0}apply(){const E=yo(this.urlTree.root,[],[],this.config).segmentGroup,y=new Tt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,y,jt).pipe((0,_t.U)(G=>this.createUrlTree(Ct(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(It(G=>{if(G instanceof ws)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof Fs?this.noMatchError(G):G}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,jt).pipe((0,_t.U)(P=>this.createUrlTree(Ct(P),E.queryParams,E.fragment))).pipe(It(P=>{throw P instanceof Fs?this.noMatchError(P):P}))}noMatchError(E){return new d.vHH(4002,Yo)}createUrlTree(E,y,T){const P=Dt(E);return new qt(P,y,T)}expandSegmentGroup(E,y,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,y,T).pipe((0,_t.U)(G=>new Tt([],G))):this.expandSegment(E,T,y,T.segments,P,!0)}expandChildren(E,y,T){const P=[];for(const G of Object.keys(T.children))"primary"===G?P.unshift(G):P.push(G);return(0,F.D)(P).pipe((0,Je.b)(G=>{const oe=T.children[G],ye=fo(y,G);return this.expandSegmentGroup(E,ye,oe,G).pipe((0,_t.U)(ct=>({segment:ct,outlet:G})))}),(0,xt.R)((G,oe)=>(G[oe.outlet]=oe.segment,G),{}),hn())}expandSegment(E,y,T,P,G,oe){return(0,F.D)(T).pipe((0,Je.b)(ye=>this.expandSegmentAgainstRoute(E,y,T,ye,P,G,oe).pipe(It(Kt=>{if(Kt instanceof Fs)return(0,B.of)(null);throw Kt}))),(0,ze.P)(ye=>!!ye),It((ye,ct)=>{if(go(ye))return ji(y,P,G)?(0,B.of)(new Tt([],{})):Xi(y);throw ye}))}expandSegmentAgainstRoute(E,y,T,P,G,oe,ye){return da(P,y,G,oe)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,y,P,G,oe):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,T,P,G,oe):Xi(y):Xi(y)}expandSegmentAgainstRouteUsingRedirect(E,y,T,P,G,oe){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,P,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,T,P,G,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,T,P){const G=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Qo(G):this.lineralizeSegments(T,G).pipe((0,$e.z)(oe=>{const ye=new Tt(oe,{});return this.expandSegment(E,ye,y,oe,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,T,P,G,oe){const{matched:ye,consumedSegments:ct,remainingSegments:Kt,positionalParamSegments:Nn}=ca(y,P,G);if(!ye)return Xi(y);const cn=this.applyRedirectCommands(ct,P.redirectTo,Nn);return P.redirectTo.startsWith("/")?Qo(cn):this.lineralizeSegments(P,cn).pipe((0,$e.z)(er=>this.expandSegment(E,y,T,er.concat(Kt),oe,!1)))}matchSegmentAgainstRoute(E,y,T,P,G){return"**"===T.path?(E=co(T,E),T.loadChildren?(T._loadedRoutes?(0,B.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,_t.U)(ye=>(T._loadedRoutes=ye.routes,T._loadedInjector=ye.injector,new Tt(P,{})))):(0,B.of)(new Tt(P,{}))):ks(y,T,P,E).pipe((0,Pt.w)(({matched:oe,consumedSegments:ye,remainingSegments:ct})=>oe?this.getChildConfig(E=T._injector??E,T,P).pipe((0,$e.z)(Nn=>{const cn=Nn.injector??E,er=Nn.routes,{segmentGroup:Mi,slicedSegments:ai}=yo(y,ye,ct,er),ta=new Tt(Mi.segments,Mi.children);if(0===ai.length&&ta.hasChildren())return this.expandChildren(cn,er,ta).pipe((0,_t.U)(Oa=>new Tt(ye,Oa)));if(0===er.length&&0===ai.length)return(0,B.of)(new Tt(ye,{}));const Bs=gi(T)===G;return this.expandSegment(cn,ta,er,ai,Bs?jt:G,!0).pipe((0,_t.U)(na=>new Tt(ye.concat(na.segments),na.children)))})):Xi(y)))}getChildConfig(E,y,T){return y.children?(0,B.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,B.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function qo(v,E,y,T){const P=E.canLoad;if(void 0===P||0===P.length)return(0,B.of)(!0);const G=P.map(oe=>{const ye=N(oe,v);return ge(function Js(v){return v&&Xt(v.canLoad)}(ye)?ye.canLoad(E,y):v.runInContext(()=>ye(E,y)))});return(0,B.of)(G).pipe(Xs(),Po())}(E,y,T).pipe((0,$e.z)(P=>P?this.configLoader.loadChildren(E,y).pipe((0,gt.b)(G=>{y._loadedRoutes=G.routes,y._loadedInjector=G.injector})):function $i(v){return nt(pr(Yo,3))}())):(0,B.of)({routes:[],injector:E})}lineralizeSegments(E,y){let T=[],P=y.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,B.of)(T);if(P.numberOfChildren>1||!P.children[jt])return nt(new d.vHH(4e3,Yo));P=P.children[jt]}}applyRedirectCommands(E,y,T){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,T)}applyRedirectCreateUrlTree(E,y,T,P){const G=this.createSegmentGroup(E,y.root,T,P);return new qt(G,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const T={};return Ge(E,(P,G)=>{if("string"==typeof P&&P.startsWith(":")){const ye=P.substring(1);T[G]=y[ye]}else T[G]=P}),T}createSegmentGroup(E,y,T,P){const G=this.createSegments(E,y.segments,T,P);let oe={};return Ge(y.children,(ye,ct)=>{oe[ct]=this.createSegmentGroup(E,ye,T,P)}),new Tt(G,oe)}createSegments(E,y,T,P){return y.map(G=>G.path.startsWith(":")?this.findPosParam(E,G,P):this.findOrReturn(G,T))}findPosParam(E,y,T){const P=T[y.path.substring(1)];if(!P)throw new d.vHH(4001,Yo);return P}findOrReturn(E,y){let T=0;for(const P of y){if(P.path===E.path)return y.splice(T),P;T++}return E}}class no{}class ou{constructor(E,y,T,P,G,oe,ye,ct){this.injector=E,this.rootComponentType=y,this.config=T,this.urlTree=P,this.url=G,this.paramsInheritanceStrategy=oe,this.relativeLinkResolution=ye,this.urlSerializer=ct}recognize(){const E=yo(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,jt).pipe((0,_t.U)(y=>{if(null===y)return null;const T=new Yi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new $r(T,y),G=new $o(this.url,P);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(E){const y=E.value,T=xs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,y,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,y,T):this.processSegment(E,y,T,T.segments,P)}processChildren(E,y,T){return(0,F.D)(Object.keys(T.children)).pipe((0,Je.b)(P=>{const G=T.children[P],oe=fo(y,P);return this.processSegmentGroup(E,oe,G,P)}),(0,xt.R)((P,G)=>P&&G?(P.push(...G),P):null),function _n(v,E=!1){return(0,He.e)((y,T)=>{let P=0;y.subscribe((0,Ee.x)(T,G=>{const oe=v(G,P++);(oe||E)&&T.next(G),!oe&&T.complete()}))})}(P=>null!==P),(0,sn.d)(null),hn(),(0,_t.U)(P=>{if(null===P)return null;const G=z(P);return function b(v){v.sort((E,y)=>E.value.outlet===jt?-1:y.value.outlet===jt?1:E.value.outlet.localeCompare(y.value.outlet))}(G),G}))}processSegment(E,y,T,P,G){return(0,F.D)(y).pipe((0,Je.b)(oe=>this.processSegmentAgainstRoute(oe._injector??E,oe,T,P,G)),(0,ze.P)(oe=>!!oe),It(oe=>{if(go(oe))return ji(T,P,G)?(0,B.of)([]):(0,B.of)(null);throw oe}))}processSegmentAgainstRoute(E,y,T,P,G){if(y.redirectTo||!da(y,T,P,G))return(0,B.of)(null);let oe;if("**"===y.path){const ye=P.length>0?br(P).parameters:{},ct=wt(T)+P.length,Kt=new Yi(P,ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hr(y),gi(y),y.component??y._loadedComponent??null,y,at(T),ct,Jn(y),ct);oe=(0,B.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]})}else oe=ks(T,y,P,E).pipe((0,_t.U)(({matched:ye,consumedSegments:ct,remainingSegments:Kt,parameters:Nn})=>{if(!ye)return null;const cn=wt(T)+ct.length;return{snapshot:new Yi(ct,Nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hr(y),gi(y),y.component??y._loadedComponent??null,y,at(T),cn,Jn(y),cn),consumedSegments:ct,remainingSegments:Kt}}));return oe.pipe((0,Pt.w)(ye=>{if(null===ye)return(0,B.of)(null);const{snapshot:ct,consumedSegments:Kt,remainingSegments:Nn}=ye;E=y._injector??E;const cn=y._loadedInjector??E,er=function V(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Mi,slicedSegments:ai}=yo(T,Kt,Nn,er.filter(Bs=>void 0===Bs.redirectTo),this.relativeLinkResolution);if(0===ai.length&&Mi.hasChildren())return this.processChildren(cn,er,Mi).pipe((0,_t.U)(Bs=>null===Bs?null:[new $r(ct,Bs)]));if(0===er.length&&0===ai.length)return(0,B.of)([new $r(ct,[])]);const ta=gi(y)===G;return this.processSegment(cn,er,Mi,ai,ta?jt:G).pipe((0,_t.U)(Bs=>null===Bs?null:[new $r(ct,Bs)]))}))}}function x(v){const E=v.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function z(v){const E=[],y=new Set;for(const T of v){if(!x(T)){E.push(T);continue}const P=E.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==P?(P.children.push(...T.children),y.add(P)):E.push(T)}for(const T of y){const P=z(T.children);E.push(new $r(T.value,P))}return E.filter(T=>!y.has(T))}function at(v){let E=v;for(;E._sourceSegment;)E=E._sourceSegment;return E}function wt(v){let E=v,y=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift??0;return y-1}function hr(v){return v.data||{}}function Jn(v){return v.resolve||{}}function Mt(v){return"string"==typeof v.title||null===v.title}function vr(v){return(0,Pt.w)(E=>{const y=v(E);return y?(0,F.D)(y).pipe((0,_t.U)(()=>E)):(0,B.of)(E)})}let Rr=(()=>{class v{buildTitle(y){let T,P=y.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(G=>G.outlet===jt);return T}getResolvedTitleForRoute(y){return y.data[qn]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=d.Yz7({token:v,factory:function(){return(0,d.f3M)(ro)},providedIn:"root"}),v})(),ro=(()=>{class v extends Rr{constructor(y){super(),this.title=y}updateTitle(y){const T=this.buildTitle(y);void 0!==T&&this.title.setTitle(T)}}return v.\u0275fac=function(y){return new(y||v)(d.LFG(En.Dx))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class un{}class Yt extends class ha{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const Rt=new d.OlP("",{providedIn:"root",factory:()=>({})}),Ga=new d.OlP("ROUTES");let za=(()=>{class v{constructor(y,T){this.injector=y,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,B.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const T=ge(y.loadComponent()).pipe((0,gt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=G}),ir(()=>{this.componentLoaders.delete(y)})),P=new pe(T,()=>new ot.x).pipe(Ce());return this.componentLoaders.set(y,P),P}loadChildren(y,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,B.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,_t.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(T);let ct,Kt,Nn=!1;Array.isArray(ye)?Kt=ye:(ct=ye.create(y).injector,Kt=jr(ct.get(Ga,[],d.XFs.Self|d.XFs.Optional)));return{routes:Kt.map(kr),injector:ct}}),ir(()=>{this.childrenLoaders.delete(T)})),oe=new pe(G,()=>new ot.x).pipe(Ce());return this.childrenLoaders.set(T,oe),oe}loadModuleFactoryOrRoutes(y){return ge(y()).pipe((0,$e.z)(T=>T instanceof d.YKP||Array.isArray(T)?(0,B.of)(T):(0,F.D)(this.compiler.compileModuleAsync(T))))}}return v.\u0275fac=function(y){return new(y||v)(d.LFG(d.zs3),d.LFG(d.Sil))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class xu{}class nl{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function fa(v){throw v}function Pl(v,E,y){return E.parse("/")}const Ol={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function oi(){const v=(0,d.f3M)(fe),E=(0,d.f3M)(Zr),y=(0,d.f3M)(Le.Ye),T=(0,d.f3M)(d.zs3),P=(0,d.f3M)(d.Sil),G=(0,d.f3M)(Ga,{optional:!0})??[],oe=(0,d.f3M)(Rt,{optional:!0})??{},ye=(0,d.f3M)(ro),ct=(0,d.f3M)(Rr,{optional:!0}),Kt=(0,d.f3M)(xu,{optional:!0}),Nn=(0,d.f3M)(un,{optional:!0}),cn=new ln(null,v,E,y,T,P,jr(G));return Kt&&(cn.urlHandlingStrategy=Kt),Nn&&(cn.routeReuseStrategy=Nn),cn.titleStrategy=ct??ye,function Wa(v,E){v.errorHandler&&(E.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(E.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(E.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(E.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(E.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(E.canceledNavigationResolution=v.canceledNavigationResolution)}(oe,cn),cn}let ln=(()=>{class v{constructor(y,T,P,G,oe,ye,ct){this.rootComponentType=y,this.urlSerializer=T,this.rootContexts=P,this.location=G,this.config=ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ot.x,this.errorHandler=fa,this.malformedUriErrorHandler=Pl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,B.of)(void 0),this.urlHandlingStrategy=new nl,this.routeReuseStrategy=new Yt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=oe.get(za),this.configLoader.onLoadEndListener=er=>this.triggerEvent(new be(er)),this.configLoader.onLoadStartListener=er=>this.triggerEvent(new xe(er)),this.ngModule=oe.get(d.h0i),this.console=oe.get(d.c2e);const cn=oe.get(d.R0b);this.isNgZoneEnabled=cn instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(ct),this.currentUrlTree=function it(){return new qt(new Tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bi(this.currentUrlTree,this.rootComponentType),this.transitions=new he.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const T=this.events;return y.pipe((0,Ve.h)(P=>0!==P.id),(0,_t.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Pt.w)(P=>{let G=!1,oe=!1;return(0,B.of)(P).pipe((0,gt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pt.w)(ye=>{const ct=this.browserUrlTree.toString(),Kt=!this.navigated||ye.extractedUrl.toString()!==ct||ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Kt)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Ru(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,B.of)(ye).pipe((0,Pt.w)(cn=>{const er=this.transitions.getValue();return T.next(new Zi(cn.id,this.serializeUrl(cn.extractedUrl),cn.source,cn.restoredState)),er!==this.transitions.getValue()?st.E:Promise.resolve(cn)}),function eo(v,E,y,T){return(0,Pt.w)(P=>function vi(v,E,y,T,P){return new es(v,E,y,T,P).apply()}(v,E,y,P.extractedUrl,T).pipe((0,_t.U)(G=>({...P,urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gt.b)(cn=>{this.currentNavigation={...this.currentNavigation,finalUrl:cn.urlAfterRedirects},P.urlAfterRedirects=cn.urlAfterRedirects}),function _r(v,E,y,T,P,G){return(0,$e.z)(oe=>function No(v,E,y,T,P,G,oe="emptyOnly",ye="legacy"){return new ou(v,E,y,T,P,oe,ye,G).recognize().pipe((0,Pt.w)(ct=>null===ct?function vo(v){return new Ie.y(E=>E.error(v))}(new no):(0,B.of)(ct)))}(v,E,y,oe.urlAfterRedirects,T.serialize(oe.urlAfterRedirects),T,P,G).pipe((0,_t.U)(ye=>({...oe,targetSnapshot:ye}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gt.b)(cn=>{if(P.targetSnapshot=cn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const Mi=this.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);this.setBrowserUrl(Mi,cn)}this.browserUrlTree=cn.urlAfterRedirects}const er=new xa(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);T.next(er)}));if(Kt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:er,extractedUrl:Mi,source:ai,restoredState:ta,extras:Bs}=ye,wa=new Zi(er,this.serializeUrl(Mi),ai,ta);T.next(wa);const na=Bi(Mi,this.rootComponentType).snapshot;return P={...ye,targetSnapshot:na,urlAfterRedirects:Mi,extras:{...Bs,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(P)}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),st.E}),(0,gt.b)(ye=>{const ct=new ur(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(ct)}),(0,_t.U)(ye=>P={...ye,guards:po(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function zo(v,E){return(0,$e.z)(y=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:G,canDeactivateChecks:oe}}=y;return 0===oe.length&&0===G.length?(0,B.of)({...y,guardsResult:!0}):function Wo(v,E,y,T){return(0,F.D)(v).pipe((0,$e.z)(P=>function mo(v,E,y,T,P){const G=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,B.of)(!0);const oe=G.map(ye=>{const ct=bi(E)??P,Kt=N(ye,ct);return ge(function di(v){return v&&Xt(v.canDeactivate)}(Kt)?Kt.canDeactivate(v,E,y,T):ct.runInContext(()=>Kt(v,E,y,T))).pipe((0,ze.P)())});return(0,B.of)(oe).pipe(Xs())}(P.component,P.route,y,E,T)),(0,ze.P)(P=>!0!==P,!0))}(oe,T,P,v).pipe((0,$e.z)(ye=>ye&&function Wn(v){return"boolean"==typeof v}(ye)?function Ko(v,E,y,T){return(0,F.D)(E).pipe((0,Je.b)(P=>(0,Ue.z)(function Oi(v,E){return null!==v&&E&&E(new je(v)),(0,B.of)(!0)}(P.route.parent,T),function Ro(v,E){return null!==v&&E&&E(new Lt(v)),(0,B.of)(!0)}(P.route,T),function Ra(v,E,y){const T=E[E.length-1],G=E.slice(0,E.length-1).reverse().map(oe=>function Gr(v){const E=v.routeConfig?v.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:v,guards:E}:null}(oe)).filter(oe=>null!==oe).map(oe=>yt(()=>{const ye=oe.guards.map(ct=>{const Kt=bi(oe.node)??y,Nn=N(ct,Kt);return ge(function ci(v){return v&&Xt(v.canActivateChild)}(Nn)?Nn.canActivateChild(T,v):Kt.runInContext(()=>Nn(T,v))).pipe((0,ze.P)())});return(0,B.of)(ye).pipe(Xs())}));return(0,B.of)(G).pipe(Xs())}(v,P.path,y),function Ns(v,E,y){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,B.of)(!0);const P=T.map(G=>yt(()=>{const oe=bi(E)??y,ye=N(G,oe);return ge(function Es(v){return v&&Xt(v.canActivate)}(ye)?ye.canActivate(E,v):oe.runInContext(()=>ye(E,v))).pipe((0,ze.P)())}));return(0,B.of)(P).pipe(Xs())}(v,P.route,y))),(0,ze.P)(P=>!0!==P,!0))}(T,G,v,E):(0,B.of)(ye)),(0,_t.U)(ye=>({...y,guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,gt.b)(ye=>{if(P.guardsResult=ye.guardsResult,xn(ye.guardsResult))throw ua(0,ye.guardsResult);const ct=new bo(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(ct)}),(0,Ve.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),vr(ye=>{if(ye.guards.canActivateChecks.length)return(0,B.of)(ye).pipe((0,gt.b)(ct=>{const Kt=new To(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Kt)}),(0,Pt.w)(ct=>{let Kt=!1;return(0,B.of)(ct).pipe(function In(v,E){return(0,$e.z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,B.of)(y);let G=0;return(0,F.D)(P).pipe((0,Je.b)(oe=>function xr(v,E,y,T){const P=v.routeConfig,G=v._resolve;return void 0!==P?.title&&!Mt(P)&&(G[qn]=P.title),function Bn(v,E,y,T){const P=function ei(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===P.length)return(0,B.of)({});const G={};return(0,F.D)(P).pipe((0,$e.z)(oe=>function Ls(v,E,y,T){const P=bi(E)??T,G=N(v,P);return ge(G.resolve?G.resolve(E,y):P.runInContext(()=>G(E,y)))}(v[oe],E,y,T).pipe((0,ze.P)(),(0,gt.b)(ye=>{G[oe]=ye}))),Wt(1),function Kn(v){return(0,_t.U)(()=>v)}(G),It(oe=>go(oe)?st.E:nt(oe)))}(G,v,E,T).pipe((0,_t.U)(oe=>(v._resolvedData=oe,v.data=xs(v,y).resolve,P&&Mt(P)&&(v.data[qn]=P.title),null)))}(oe.route,T,v,E)),(0,gt.b)(()=>G++),Wt(1),(0,$e.z)(oe=>G===P.length?(0,B.of)(y):st.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gt.b)({next:()=>Kt=!0,complete:()=>{Kt||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,"",2))}}))}),(0,gt.b)(ct=>{const Kt=new uo(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Kt)}))}),vr(ye=>{const ct=Kt=>{const Nn=[];Kt.routeConfig?.loadComponent&&!Kt.routeConfig._loadedComponent&&Nn.push(this.configLoader.loadComponent(Kt.routeConfig).pipe((0,gt.b)(cn=>{Kt.component=cn}),(0,_t.U)(()=>{})));for(const cn of Kt.children)Nn.push(...ct(cn));return Nn};return et(ct(ye.targetSnapshot.root)).pipe((0,sn.d)(),(0,fr.q)(1))}),vr(()=>this.afterPreactivation()),(0,_t.U)(ye=>{const ct=function Vr(v,E,y){const T=pi(v,E._root,y?y._root:void 0);return new as(T,E)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return P={...ye,targetRouterState:ct}}),(0,gt.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((v,E,y)=>(0,_t.U)(T=>(new bt(E,T.targetRouterState,T.currentRouterState,y).activate(v),T)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,gt.b)({next(){G=!0},complete(){G=!0}}),ir(()=>{G||oe||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),It(ye=>{if(oe=!0,Ks(ye)){Ps(ye)||(this.navigated=!0,this.restoreHistory(P,!0));const ct=new Ms(P.id,this.serializeUrl(P.extractedUrl),ye.message,ye.cancellationCode);if(T.next(ct),Ps(ye)){const Kt=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),Nn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ru(P.source)};this.scheduleNavigation(Kt,"imperative",null,Nn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const ct=new ms(P.id,this.serializeUrl(P.extractedUrl),ye,P.targetSnapshot??void 0);T.next(ct);try{P.resolve(this.errorHandler(ye))}catch(Kt){P.reject(Kt)}}return st.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const T="popstate"===y.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const P={replaceUrl:!0},G=y.state?.navigationId?y.state:null;if(G){const ye={...G};delete ye.navigationId,delete ye.\u0275routerPageId,0!==Object.keys(ye).length&&(P.state=ye)}const oe=this.parseUrl(y.url);this.scheduleNavigation(oe,T,G,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,T={}){const{relativeTo:P,queryParams:G,fragment:oe,queryParamsHandling:ye,preserveFragment:ct}=T,Kt=P||this.routerState.root,Nn=ct?this.currentUrlTree.fragment:oe;let cn=null;switch(ye){case"merge":cn={...this.currentUrlTree.queryParams,...G};break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=G||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),Jr(Kt,this.currentUrlTree,y,cn,Nn??null)}navigateByUrl(y,T={skipLocationChange:!1}){const P=xn(y)?y:this.parseUrl(y),G=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,T)}navigate(y,T={skipLocationChange:!1}){return function _o(v){for(let E=0;E<v.length;E++){if(null==v[E])throw new d.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let T;try{T=this.urlSerializer.parse(y)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,y)}return T}isActive(y,T){let P;if(P=!0===T?{...Ol}:!1===T?{...pa}:T,xn(y))return vn(this.currentUrlTree,y,P);const G=this.parseUrl(y);return vn(this.currentUrlTree,G,P)}removeEmptyProps(y){return Object.keys(y).reduce((T,P)=>{const G=y[P];return null!=G&&(T[P]=G),T},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Vi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,T,P,G,oe){if(this.disposed)return Promise.resolve(!1);let ye,ct,Kt;oe?(ye=oe.resolve,ct=oe.reject,Kt=oe.promise):Kt=new Promise((er,Mi)=>{ye=er,ct=Mi});const Nn=++this.navigationId;let cn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),cn=P&&P.\u0275routerPageId?P.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):cn=0,this.setTransition({id:Nn,targetPageId:cn,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:G,resolve:ye,reject:ct,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(er=>Promise.reject(er))}setBrowserUrl(y,T){const P=this.urlSerializer.serialize(y),G={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",G):this.location.go(P,"",G)}restoreHistory(y,T=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,T,P){const G=new Ms(y.id,this.serializeUrl(y.extractedUrl),T,P);this.triggerEvent(G),y.resolve(!1)}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}}return v.\u0275fac=function(y){d.$Z()},v.\u0275prov=d.Yz7({token:v,factory:function(){return oi()},providedIn:"root"}),v})();function Ru(v){return"imperative"!==v}let Pr=(()=>{class v{constructor(y,T,P,G,oe){this.router=y,this.route=T,this.tabIndexAttribute=P,this.renderer=G,this.el=oe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ot.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const T=this.renderer,P=this.el.nativeElement;null!==y?T.setAttribute(P,"tabindex",y):T.removeAttribute(P,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(d.Y36(ln),d.Y36(ys),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},v.\u0275dir=d.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,T){1&y&&d.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),v})(),yn=(()=>{class v{constructor(y,T,P){this.router=y,this.route=T,this.locationStrategy=P,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ot.x,this.subscription=y.events.subscribe(G=>{G instanceof Vi&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,T,P,G,oe){return!!(0!==y||T||P||G||oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(d.Y36(ln),d.Y36(ys),d.Y36(Le.S$))},v.\u0275dir=d.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,T){1&y&&d.NdJ("click",function(G){return T.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&y&&d.uIk("target",T.target)("href",T.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),v})();class ga{}let ls=(()=>{class v{constructor(y,T,P,G,oe){this.router=y,this.injector=P,this.preloadingStrategy=G,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(y=>y instanceof Vi),(0,Je.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,T){const P=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,d.MMx)(G.providers,y,`Route: ${G.path}`));const oe=G._injector??y,ye=G._loadedInjector??oe;G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent?P.push(this.preloadConfig(oe,G)):(G.children||G._loadedRoutes)&&P.push(this.processRoutes(ye,G.children??G._loadedRoutes))}return(0,F.D)(P).pipe((0,Gn.J)())}preloadConfig(y,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(y,T):(0,B.of)(null);const G=P.pipe((0,$e.z)(oe=>null===oe?(0,B.of)(void 0):(T._loadedRoutes=oe.routes,T._loadedInjector=oe.injector,this.processRoutes(oe.injector??y,oe.routes))));if(T.loadComponent&&!T._loadedComponent){const oe=this.loader.loadComponent(T);return(0,F.D)([G,oe]).pipe((0,Gn.J)())}return G})}}return v.\u0275fac=function(y){return new(y||v)(d.LFG(ln),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ga),d.LFG(za))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ma=new d.OlP("");let Xo=(()=>{class v{constructor(y,T,P={}){this.router=y,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Vi&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof tr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,T){this.router.triggerEvent(new tr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){d.$Z()},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();function ko(v,E){return{\u0275kind:v,\u0275providers:E}}function ya(v){return[{provide:Ga,multi:!0,useValue:v}]}function Is(){const v=(0,d.f3M)(d.zs3);return E=>{const y=v.get(d.z2F);if(E!==y.components[0])return;const T=v.get(ln),P=v.get(Ou);1===v.get(va)&&T.initialNavigation(),v.get(Ke,null,d.XFs.Optional)?.setUpPreloading(),v.get(ma,null,d.XFs.Optional)?.init(),T.resetRootComponentType(y.componentTypes[0]),P.closed||(P.next(),P.unsubscribe())}}const Ou=new d.OlP("",{factory:()=>new ot.x}),va=new d.OlP("",{providedIn:"root",factory:()=>1});const Ke=new d.OlP("");function ea(v){return ko(0,[{provide:Ke,useExisting:ls},{provide:ga,useExisting:v}])}const Si=new d.OlP("ROUTER_FORROOT_GUARD"),au=[Le.Ye,{provide:fe,useClass:Ze},{provide:ln,useFactory:oi},Zr,{provide:ys,useFactory:function Ka(v){return v.routerState.root},deps:[ln]},za];function Us(){return new d.PXZ("Router",ln)}let Pa=(()=>{class v{constructor(y){}static forRoot(y,T){return{ngModule:v,providers:[au,[],ya(y),{provide:Si,useFactory:cs,deps:[[ln,new d.FiY,new d.tp0]]},{provide:Rt,useValue:T||{}},T?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:ma,useFactory:()=>{const v=(0,d.f3M)(ln),E=(0,d.f3M)(Le.EM),y=(0,d.f3M)(Rt);return y.scrollOffset&&E.setOffset(y.scrollOffset),new Xo(v,E,y)}},T?.preloadingStrategy?ea(T.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Us},T?.initialNavigation?qa(T):[],[{provide:Fo,useFactory:Is},{provide:d.tb,multi:!0,useExisting:Fo}]]}}static forChild(y){return{ngModule:v,providers:[ya(y)]}}}return v.\u0275fac=function(y){return new(y||v)(d.LFG(Si,8))},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({imports:[Mo]}),v})();function cs(v){return"guarded"}function qa(v){return["disabled"===v.initialNavigation?ko(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const E=(0,d.f3M)(ln);return()=>{E.setUpLocationChangeListener()}}},{provide:va,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?ko(2,[{provide:va,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:E=>{const y=E.get(Le.V_,Promise.resolve());let T=!1;return()=>y.then(()=>new Promise(G=>{const oe=E.get(ln),ye=E.get(Ou);(function P(G){E.get(ln).events.pipe((0,Ve.h)(ye=>ye instanceof Vi||ye instanceof Ms||ye instanceof ms),(0,_t.U)(ye=>ye instanceof Vi||ye instanceof Ms&&(0===ye.code||1===ye.code)&&null),(0,Ve.h)(ye=>null!==ye),(0,fr.q)(1)).subscribe(()=>{G()})})(()=>{G(!0),T=!0}),oe.afterPreactivation=()=>(G(!0),T||ye.closed?(0,B.of)(void 0):ye),oe.initialNavigation()}))}}]).\u0275providers:[]]}const Fo=new d.OlP("")},3942:(Ht,Be,k)=>{k.d(Be,{Z:()=>Fe});var d=k(2090),F=k(4859),B=k(6881),he=k(1877);class le{constructor(Ue,Se){this._delegate=Ue,this.firebase=Se,(0,B._addComponent)(Ue,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Ue,Se=B._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Ue);return!pt.isInitialized()&&"EXPLICIT"===(null===(yt=pt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Se})}_removeServiceInstance(Ue,Se=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(Se)}_addComponent(Ue){(0,B._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,B._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Oe(){const mt=function te(mt){const Ue={},Se={__esModule:!0,initializeApp:function me(He,Ce={}){const pe=B.initializeApp(He,Ce);if((0,d.r3)(Ue,pe.name))return Ue[pe.name];const ot=new mt(pe,Se);return Ue[pe.name]=ot,ot},app:pt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function st(He){const Ce=He.name,pe=Ce.replace("-compat","");if(B._registerComponent(He)&&"PUBLIC"===He.type){const ot=(Le=pt())=>{if("function"!=typeof Le[pe])throw De.create("invalid-app-argument",{appName:Ce});return Le[pe]()};void 0!==He.serviceProps&&(0,d.ZB)(ot,He.serviceProps),Se[pe]=ot,mt.prototype[pe]=function(...Le){return this._getService.bind(this,Ce).apply(this,He.multipleInstances?Le:[])}}return"PUBLIC"===He.type?Se[pe]:null},removeApp:function yt(He){delete Ue[He]},useAsService:function St(He,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:B}};function pt(He){if(!(0,d.r3)(Ue,He=He||B._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:He});return Ue[He]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function nt(){return Object.keys(Ue).map(He=>Ue[He])}}),pt.App=mt,Se}(le);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function Ue(Se){(0,d.ZB)(mt,Se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),mt}(),ce=new he.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=ee;!function et(mt){(0,B.registerVersion)("@firebase/app-compat","0.2.13",mt)}()},6881:(Ht,Be,k)=>{k.r(Be),k.d(Be,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>br,_addComponent:()=>de,_addOrOverwriteComponent:()=>it,_apps:()=>Ge,_clearComponents:()=>Rn,_components:()=>ge,_getProvider:()=>tn,_registerComponent:()=>lt,_removeServiceInstance:()=>vn,deleteApp:()=>Fn,getApp:()=>qt,getApps:()=>Tt,initializeApp:()=>fn,onLog:()=>W,registerVersion:()=>Qe,setLogLevel:()=>fe});var d=k(5861),F=k(4859),B=k(1877),he=k(2090);let Ie,De;const ee=new WeakMap,ce=new WeakMap,Ee=new WeakMap,ht=new WeakMap,et=new WeakMap;let Ue={get(Ne,ke,Dt){if(Ne instanceof IDBTransaction){if("done"===ke)return ce.get(Ne);if("objectStoreNames"===ke)return Ne.objectStoreNames||Ee.get(Ne);if("store"===ke)return Dt.objectStoreNames[1]?void 0:Dt.objectStore(Dt.objectStoreNames[0])}return me(Ne[ke])},set:(Ne,ke,Dt)=>(Ne[ke]=Dt,!0),has:(Ne,ke)=>Ne instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in Ne};function pt(Ne){return"function"==typeof Ne?function yt(Ne){return Ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ne)?function(...ke){return Ne.apply(nt(this),ke),me(ee.get(this))}:function(...ke){return me(Ne.apply(nt(this),ke))}:function(ke,...Dt){const Ct=Ne.call(nt(this),ke,...Dt);return Ee.set(Ct,ke.sort?ke.sort():[ke]),me(Ct)}}(Ne):(Ne instanceof IDBTransaction&&function mt(Ne){if(ce.has(Ne))return;const ke=new Promise((Dt,Ct)=>{const Cn=()=>{Ne.removeEventListener("complete",xn),Ne.removeEventListener("error",Un),Ne.removeEventListener("abort",Un)},xn=()=>{Dt(),Cn()},Un=()=>{Ct(Ne.error||new DOMException("AbortError","AbortError")),Cn()};Ne.addEventListener("complete",xn),Ne.addEventListener("error",Un),Ne.addEventListener("abort",Un)});ce.set(Ne,ke)}(Ne),((Ne,ke)=>ke.some(Dt=>Ne instanceof Dt))(Ne,function te(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ne,Ue):Ne)}function me(Ne){if(Ne instanceof IDBRequest)return function Fe(Ne){const ke=new Promise((Dt,Ct)=>{const Cn=()=>{Ne.removeEventListener("success",xn),Ne.removeEventListener("error",Un)},xn=()=>{Dt(me(Ne.result)),Cn()},Un=()=>{Ct(Ne.error),Cn()};Ne.addEventListener("success",xn),Ne.addEventListener("error",Un)});return ke.then(Dt=>{Dt instanceof IDBCursor&&ee.set(Dt,Ne)}).catch(()=>{}),et.set(ke,Ne),ke}(Ne);if(ht.has(Ne))return ht.get(Ne);const ke=pt(Ne);return ke!==Ne&&(ht.set(Ne,ke),et.set(ke,Ne)),ke}const nt=Ne=>et.get(Ne),He=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],pe=new Map;function ot(Ne,ke){if(!(Ne instanceof IDBDatabase)||ke in Ne||"string"!=typeof ke)return;if(pe.get(ke))return pe.get(ke);const Dt=ke.replace(/FromIndex$/,""),Ct=ke!==Dt,Cn=Ce.includes(Dt);if(!(Dt in(Ct?IDBIndex:IDBObjectStore).prototype)||!Cn&&!He.includes(Dt))return;const xn=function(){var Un=(0,d.Z)(function*(Tr,...Vn){const Hr=this.transaction(Tr,Cn?"readwrite":"readonly");let Jr=Hr.store;return Ct&&(Jr=Jr.index(Vn.shift())),(yield Promise.all([Jr[Dt](...Vn),Cn&&Hr.done]))[0]});return function(Vn){return Un.apply(this,arguments)}}();return pe.set(ke,xn),xn}!function Se(Ne){Ue=Ne(Ue)}(Ne=>({...Ne,get:(ke,Dt,Ct)=>ot(ke,Dt)||Ne.get(ke,Dt,Ct),has:(ke,Dt)=>!!ot(ke,Dt)||Ne.has(ke,Dt)}));class Le{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(Dt=>{if(function _t(Ne){return"VERSION"===Ne.getComponent()?.type}(Dt)){const Ct=Dt.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Dt=>Dt).join(" ")}}const Pt="@firebase/app",Xe=new B.Yd("@firebase/app"),br="[DEFAULT]",dr={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,ge=new Map;function de(Ne,ke){try{Ne.container.addComponent(ke)}catch(Dt){Xe.debug(`Component ${ke.name} failed to register with FirebaseApp ${Ne.name}`,Dt)}}function it(Ne,ke){Ne.container.addOrOverwriteComponent(ke)}function lt(Ne){const ke=Ne.name;if(ge.has(ke))return Xe.debug(`There were multiple attempts to register component ${ke}.`),!1;ge.set(ke,Ne);for(const Dt of Ge.values())de(Dt,Ne);return!0}function tn(Ne,ke){const Dt=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Dt&&Dt.triggerHeartbeat(),Ne.container.getProvider(ke)}function vn(Ne,ke,Dt=br){tn(Ne,ke).clearInstance(Dt)}function Rn(){ge.clear()}const kn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(ke,Dt,Ct){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},Dt),this._name=Dt.name,this._automaticDataCollectionEnabled=Dt.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const yr="9.23.0";function fn(Ne,ke={}){let Dt=Ne;"object"!=typeof ke&&(ke={name:ke});const Ct=Object.assign({name:br,automaticDataCollectionEnabled:!1},ke),Cn=Ct.name;if("string"!=typeof Cn||!Cn)throw kn.create("bad-app-name",{appName:String(Cn)});if(Dt||(Dt=(0,he.aH)()),!Dt)throw kn.create("no-options");const xn=Ge.get(Cn);if(xn){if((0,he.vZ)(Dt,xn.options)&&(0,he.vZ)(Ct,xn.config))return xn;throw kn.create("duplicate-app",{appName:Cn})}const Un=new F.H0(Cn);for(const Vn of ge.values())Un.addComponent(Vn);const Tr=new pn(Dt,Ct,Un);return Ge.set(Cn,Tr),Tr}function qt(Ne=br){const ke=Ge.get(Ne);if(!ke&&Ne===br&&(0,he.aH)())return fn();if(!ke)throw kn.create("no-app",{appName:Ne});return ke}function Tt(){return Array.from(Ge.values())}function Fn(Ne){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(Ne){const ke=Ne.name;Ge.has(ke)&&(Ge.delete(ke),yield Promise.all(Ne.container.getProviders().map(Dt=>Dt.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function Qe(Ne,ke,Dt){var Ct;let Cn=null!==(Ct=dr[Ne])&&void 0!==Ct?Ct:Ne;Dt&&(Cn+=`-${Dt}`);const xn=Cn.match(/\s|\//),Un=ke.match(/\s|\//);if(xn||Un){const Tr=[`Unable to register library "${Cn}" with version "${ke}":`];return xn&&Tr.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),xn&&Un&&Tr.push("and"),Un&&Tr.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void Xe.warn(Tr.join(" "))}lt(new F.wA(`${Cn}-version`,()=>({library:Cn,version:ke}),"VERSION"))}function W(Ne,ke){if(null!==Ne&&"function"!=typeof Ne)throw kn.create("invalid-log-argument");(0,B.Am)(Ne,ke)}function fe(Ne){(0,B.Ub)(Ne)}const ae="firebase-heartbeat-store";let ue=null;function Y(){return ue||(ue=function st(Ne,ke,{blocked:Dt,upgrade:Ct,blocking:Cn,terminated:xn}={}){const Un=indexedDB.open(Ne,ke),Tr=me(Un);return Ct&&Un.addEventListener("upgradeneeded",Vn=>{Ct(me(Un.result),Vn.oldVersion,Vn.newVersion,me(Un.transaction),Vn)}),Dt&&Un.addEventListener("blocked",Vn=>Dt(Vn.oldVersion,Vn.newVersion,Vn)),Tr.then(Vn=>{xn&&Vn.addEventListener("close",()=>xn()),Cn&&Vn.addEventListener("versionchange",Hr=>Cn(Hr.oldVersion,Hr.newVersion,Hr))}).catch(()=>{}),Tr}("firebase-heartbeat-database",1,{upgrade:(Ne,ke)=>{0===ke&&Ne.createObjectStore(ae)}}).catch(Ne=>{throw kn.create("idb-open",{originalErrorMessage:Ne.message})})),ue}function H(){return(H=(0,d.Z)(function*(Ne){try{return yield(yield Y()).transaction(ae).objectStore(ae).get(Bt(Ne))}catch(ke){if(ke instanceof he.ZR)Xe.warn(ke.message);else{const Dt=kn.create("idb-get",{originalErrorMessage:ke?.message});Xe.warn(Dt.message)}}})).apply(this,arguments)}function Te(Ne,ke){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(Ne,ke){try{const Ct=(yield Y()).transaction(ae,"readwrite");yield Ct.objectStore(ae).put(ke,Bt(Ne)),yield Ct.done}catch(Dt){if(Dt instanceof he.ZR)Xe.warn(Dt.message);else{const Ct=kn.create("idb-set",{originalErrorMessage:Dt?.message});Xe.warn(Ct.message)}}})).apply(this,arguments)}function Bt(Ne){return`${Ne.name}!${Ne.options.appId}`}class se{constructor(ke){this.container=ke,this._heartbeatsCache=null;const Dt=this.container.getProvider("app").getImmediate();this._storage=new We(Dt),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var ke=this;return(0,d.Z)(function*(){const Ct=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=X();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!ke._heartbeatsCache.heartbeats.some(xn=>xn.date===Cn))return ke._heartbeatsCache.heartbeats.push({date:Cn,agent:Ct}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(xn=>{const Un=new Date(xn.date).valueOf();return Date.now()-Un<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,d.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const Dt=X(),{heartbeatsToSend:Ct,unsentEntries:Cn}=function Re(Ne,ke=1024){const Dt=[];let Ct=Ne.slice();for(const Cn of Ne){const xn=Dt.find(Un=>Un.agent===Cn.agent);if(xn){if(xn.dates.push(Cn.date),Ut(Dt)>ke){xn.dates.pop();break}}else if(Dt.push({agent:Cn.agent,dates:[Cn.date]}),Ut(Dt)>ke){Dt.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Dt,unsentEntries:Ct}}(ke._heartbeatsCache.heartbeats),xn=(0,he.L)(JSON.stringify({version:2,heartbeats:Ct}));return ke._heartbeatsCache.lastSentHeartbeatDate=Dt,Cn.length>0?(ke._heartbeatsCache.heartbeats=Cn,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),xn})()}}function X(){return(new Date).toISOString().substring(0,10)}class We{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,d.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function K(Ne){return H.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var Dt=this;return(0,d.Z)(function*(){var Ct;if(yield Dt._canUseIndexedDBPromise){const xn=yield Dt.read();return Te(Dt.app,{lastSentHeartbeatDate:null!==(Ct=ke.lastSentHeartbeatDate)&&void 0!==Ct?Ct:xn.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var Dt=this;return(0,d.Z)(function*(){var Ct;if(yield Dt._canUseIndexedDBPromise){const xn=yield Dt.read();return Te(Dt.app,{lastSentHeartbeatDate:null!==(Ct=ke.lastSentHeartbeatDate)&&void 0!==Ct?Ct:xn.lastSentHeartbeatDate,heartbeats:[...xn.heartbeats,...ke.heartbeats]})}})()}}function Ut(Ne){return(0,he.L)(JSON.stringify({version:2,heartbeats:Ne})).length}!function gn(Ne){lt(new F.wA("platform-logger",ke=>new Le(ke),"PRIVATE")),lt(new F.wA("heartbeat",ke=>new se(ke),"PRIVATE")),Qe(Pt,"0.9.13",Ne),Qe(Pt,"0.9.13","esm2017"),Qe("fire-js","")}("")},4859:(Ht,Be,k)=>{k.d(Be,{H0:()=>te,wA:()=>B});var d=k(5861),F=k(2090);class B{constructor(ee,ce,Ee){this.name=ee,this.instanceFactory=ce,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const he="[DEFAULT]";class le{constructor(ee,ce){this.name=ee,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ce=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ce)){const Ee=new F.BH;if(this.instancesDeferred.set(ce,Ee),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:ce});ht&&Ee.resolve(ht)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ee){var ce;const Ee=this.normalizeInstanceIdentifier(ee?.identifier),ht=null!==(ce=ee?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(et){if(ht)return null;throw et}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function De(Oe){return"EAGER"===Oe.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ce,Ee]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(ce);try{const et=this.getOrInitializeService({instanceIdentifier:ht});Ee.resolve(et)}catch{}}}}clearInstance(ee=he){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,d.Z)(function*(){const ce=Array.from(ee.instances.values());yield Promise.all([...ce.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...ce.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=he){return this.instances.has(ee)}getOptions(ee=he){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ce={}}=ee,Ee=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Ee,options:ce});for(const[et,Fe]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(et)&&Fe.resolve(ht);return ht}onInit(ee,ce){var Ee;const ht=this.normalizeInstanceIdentifier(ce),et=null!==(Ee=this.onInitCallbacks.get(ht))&&void 0!==Ee?Ee:new Set;et.add(ee),this.onInitCallbacks.set(ht,et);const Fe=this.instances.get(ht);return Fe&&ee(Fe,ht),()=>{et.delete(ee)}}invokeOnInitCallbacks(ee,ce){const Ee=this.onInitCallbacks.get(ce);if(Ee)for(const ht of Ee)try{ht(ee,ce)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ce={}}){let Ee=this.instances.get(ee);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ee,Oe===he?void 0:Oe),options:ce}),this.instances.set(ee,Ee),this.instancesOptions.set(ee,ce),this.invokeOnInitCallbacks(Ee,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ee)}catch{}var Oe;return Ee||null}normalizeInstanceIdentifier(ee=he){return this.component?this.component.multipleInstances?ee:he:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ce=this.getProvider(ee.name);if(ce.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ce.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ce=new le(ee,this);return this.providers.set(ee,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(Ht,Be,k)=>{k.d(Be,{Am:()=>Oe,Ub:()=>te,Yd:()=>De,in:()=>F});const d=[];var F=(()=>{return(ee=F||(F={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",F;var ee})();const B={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},he=F.INFO,le={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ie=(ee,ce,...Ee)=>{if(ce<ee.logLevel)return;const ht=(new Date).toISOString(),et=le[ce];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[et](`[${ht}]  ${ee.name}:`,...Ee)};class De{constructor(ce){this.name=ce,this._logLevel=he,this._logHandler=Ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in F))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?B[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...ce),this._logHandler(this,F.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...ce),this._logHandler(this,F.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,F.INFO,...ce),this._logHandler(this,F.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,F.WARN,...ce),this._logHandler(this,F.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...ce),this._logHandler(this,F.ERROR,...ce)}}function te(ee){d.forEach(ce=>{ce.setLogLevel(ee)})}function Oe(ee,ce){for(const Ee of d){let ht=null;ce&&ce.level&&(ht=B[ce.level]),Ee.userLogHandler=null===ee?null:(et,Fe,...mt)=>{const Ue=mt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Fe>=(ht??et.logLevel)&&ee({level:F[Fe].toLowerCase(),message:Ue,args:mt,type:et.name})}}}},259:(Ht,Be,k)=>{k.d(Be,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=k(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(Ht,Be,k)=>{k.d(Be,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Ht,Be,k)=>{k.r(Be);var d=k(5861),F=k(3942),B=k(1389),he=k(2090),De=(k(6881),k(1877),k(4859));function te(){return window}function ce(){return(ce=(0,d.Z)(function*(Y,K,H){var Te;const{BuildInfo:ft}=te();(0,B.as)(K.sessionId,"AuthEvent did not contain a session ID");const Bt=yield Se(K.sessionId),nn={};return(0,B.at)()?nn.ibi=ft.packageName:(0,B.au)()?nn.apn=ft.packageName:(0,B.av)(Y,"operation-not-supported-in-this-environment"),ft.displayName&&(nn.appDisplayName=ft.displayName),nn.sessionId=Bt,(0,B.aw)(Y,H,K.type,void 0,null!==(Te=K.eventId)&&void 0!==Te?Te:void 0,nn)})).apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(Y){const{BuildInfo:K}=te(),H={};(0,B.at)()?H.iosBundleId=K.packageName:(0,B.au)()?H.androidPackageName=K.packageName:(0,B.av)(Y,"operation-not-supported-in-this-environment"),yield(0,B.ax)(Y,H)})).apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(Y,K,H){const{cordova:Te}=te();let ft=()=>{};try{yield new Promise((Bt,nn)=>{let re=null;function se(){var We;Bt();const Ut=null===(We=Te.plugins.browsertab)||void 0===We?void 0:We.close;"function"==typeof Ut&&Ut(),"function"==typeof H?.close&&H.close()}function X(){re||(re=window.setTimeout(()=>{nn((0,B.az)(Y,"redirect-cancelled-by-user"))},2e3))}function Re(){"visible"===document?.visibilityState&&X()}K.addPassiveListener(se),document.addEventListener("resume",X,!1),(0,B.au)()&&document.addEventListener("visibilitychange",Re,!1),ft=()=>{K.removePassiveListener(se),document.removeEventListener("resume",X,!1),document.removeEventListener("visibilitychange",Re,!1),re&&window.clearTimeout(re)}})}finally{ft()}})).apply(this,arguments)}function Se(Y){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(Y){const K=pt(Y),H=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(H)).map(ft=>ft.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(Y){if((0,B.as)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const K=new ArrayBuffer(Y.length),H=new Uint8Array(K);for(let Te=0;Te<Y.length;Te++)H[Te]=Y.charCodeAt(Te);return H}class nt extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(K)),super.onEvent(K)}initialized(){var K=this;return(0,d.Z)(function*(){yield K.initPromise})()}}function He(Y){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(Y){const K=yield Le()._get(_t(Y));return K&&(yield Le()._remove(_t(Y))),K})).apply(this,arguments)}function ot(){const Y=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Te=Math.floor(Math.random()*K.length);Y.push(K.charAt(Te))}return Y.join("")}function Le(){return(0,B.aC)(B.b)}function _t(Y){return(0,B.aD)("authEvent",Y.config.apiKey,Y.name)}function Xe(Y){if(!Y?.includes("?"))return{};const[K,...H]=Y.split("?");return(0,he.zd)(H.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function Vt(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function hn(Y=(0,he.z$)()){return!("file:"!==Vt()&&"ionic:"!==Vt()&&"capacitor:"!==Vt()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function En(){try{const Y=self.localStorage,K=B.aL();if(Y)return Y.setItem(K,"1"),Y.removeItem(K),!function Gn(Y=(0,he.z$)()){return function Kn(){return(0,he.w1)()&&11===document?.documentMode}()||function ir(Y=(0,he.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,he.hl)()}catch{return jt()&&(0,he.hl)()}return!1}function jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function sn(){return"http:"===Vt()||"https:"===Vt()}()||(0,he.ru)()||hn())&&!function _n(){return(0,he.b$)()||(0,he.UG)()}()&&En()&&!jt()}function Fr(){return hn()&&typeof document<"u"}function kt(){return(kt=(0,d.Z)(function*(){return!!Fr()&&new Promise(Y=>{const K=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),Y(!0)})})})).apply(this,arguments)}const On={LOCAL:"local",NONE:"none",SESSION:"session"},ar=B.aA,jr="persistence";function dr(Y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(Y){yield Y._initializationPromise;const K=de(),H=B.aD(jr,Y.config.apiKey,Y.name);K&&K.setItem(H,Y._getPersistence())})).apply(this,arguments)}function de(){var Y;try{return(null===(Y=function Pn(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const it=B.aA;class lt{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(class $e{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(K){var H=this;return(0,d.Z)(function*(){const Te=K._key();let ft=H.eventManagers.get(Te);return ft||(ft=new nt(K),H.eventManagers.set(Te,ft),H.attachCallbackListeners(K,ft)),ft})()}_openPopup(K){(0,B.av)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,H,Te,ft){var Bt=this;return(0,d.Z)(function*(){!function Ue(Y){var K,H,Te,ft,Bt,nn,re,se,X,Re;const We=te();(0,B.aA)("function"==typeof(null===(K=We?.universalLinks)||void 0===K?void 0:K.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(H=We?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(Bt=null===(ft=null===(Te=We?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===Bt?void 0:Bt.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(se=null===(re=null===(nn=We?.cordova)||void 0===nn?void 0:nn.plugins)||void 0===re?void 0:re.browsertab)||void 0===se?void 0:se.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(Re=null===(X=We?.cordova)||void 0===X?void 0:X.InAppBrowser)||void 0===Re?void 0:Re.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const nn=yield Bt._initialize(K);yield nn.initialized(),nn.resetRedirect(),(0,B.aG)(),yield Bt._originValidation(K);const re=function st(Y,K,H=null){return{type:K,eventId:H,urlResponse:null,sessionId:ot(),postBody:null,tenantId:Y.tenantId,error:(0,B.az)(Y,"no-auth-event")}}(K,Te,ft);yield function St(Y,K){return Le()._set(_t(Y),K)}(K,re);const se=yield function ee(Y,K,H){return ce.apply(this,arguments)}(K,re,H),X=yield function et(Y){const{cordova:K}=te();return new Promise(H=>{K.plugins.browsertab.isAvailable(Te=>{let ft=null;Te?K.plugins.browsertab.openUrl(Y):ft=K.InAppBrowser.open(Y,(0,B.ay)()?"_blank":"_system","location=yes"),H(ft)})})}(se);return function Fe(Y,K,H){return mt.apply(this,arguments)}(K,nn,X)})()}_isIframeWebStorageSupported(K,H){throw new Error("Method not implemented.")}_originValidation(K){const H=K._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function Ee(Y){return ht.apply(this,arguments)}(K)),this.originValidationPromises[H]}attachCallbackListeners(K,H){const{universalLinks:Te,handleOpenURL:ft,BuildInfo:Bt}=te(),nn=setTimeout((0,d.Z)(function*(){yield He(K),H.onEvent(Je())}),500),re=function(){var Re=(0,d.Z)(function*(We){clearTimeout(nn);const Ut=yield He(K);let gn=null;Ut&&We?.url&&(gn=function pe(Y,K){var H,Te;const ft=function fr(Y){const K=Xe(Y),H=K.link?decodeURIComponent(K.link):void 0,Te=Xe(H).link,ft=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Xe(ft).link||ft||Te||H||Y}(K);if(ft.includes("/__/auth/callback")){const Bt=Xe(ft),nn=Bt.firebaseError?function Pt(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(Bt.firebaseError)):null,re=null===(Te=null===(H=nn?.code)||void 0===H?void 0:H.split("auth/"))||void 0===Te?void 0:Te[1],se=re?(0,B.az)(re):null;return se?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:se,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:ft,postBody:null}}return null}(Ut,We.url)),H.onEvent(gn||Je())});return function(Ut){return Re.apply(this,arguments)}}();typeof Te<"u"&&"function"==typeof Te.subscribe&&Te.subscribe(null,re);const se=ft,X=`${Bt.packageName.toLowerCase()}://`;te().handleOpenURL=function(){var Re=(0,d.Z)(function*(We){if(We.toLowerCase().startsWith(X)&&re({url:We}),"function"==typeof se)try{se(We)}catch(Ut){console.error(Ut)}});return function(We){return Re.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(K){var H=this;return(0,d.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,H,Te,ft){var Bt=this;return(0,d.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openPopup(K,H,Te,ft)})()}_openRedirect(K,H,Te,ft){var Bt=this;return(0,d.Z)(function*(){return yield Bt.selectUnderlyingResolver(),Bt.assertedUnderlyingResolver._openRedirect(K,H,Te,ft)})()}_isIframeWebStorageSupported(K,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,H)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return it(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,d.Z)(function*(){if(K.underlyingResolver)return;const H=yield function cr(){return kt.apply(this,arguments)}();K.underlyingResolver=H?K.cordovaResolver:K.browserResolver})()}}function tn(Y){return Y.unwrap()}function Rn(Y){return kn(Y)}function kn(Y){const{_tokenResponse:K}=Y instanceof he.ZR?Y.customData:Y;if(!K)return null;if(!(Y instanceof he.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return B.P.credentialFromResult(Y);const H=K.providerId;if(!H||H===B.p.PASSWORD)return null;let Te;switch(H){case B.p.GOOGLE:Te=B.V;break;case B.p.FACEBOOK:Te=B.U;break;case B.p.GITHUB:Te=B.W;break;case B.p.TWITTER:Te=B.Z;break;default:const{oauthIdToken:ft,oauthAccessToken:Bt,oauthTokenSecret:nn,pendingToken:re,nonce:se}=K;return Bt||nn||ft||re?re?H.startsWith("saml.")?B.aO._create(H,re):B.L._fromParams({providerId:H,signInMethod:H,pendingToken:re,idToken:ft,accessToken:Bt}):new B.X(H).credential({idToken:ft,accessToken:Bt,rawNonce:se}):null}return Y instanceof he.ZR?Te.credentialFromError(Y):Te.credentialFromResult(Y)}function pn(Y,K){return K.catch(H=>{throw H instanceof he.ZR&&function Nt(Y,K){var H;const Te=null===(H=K.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===K?.code)K.resolver=new qt(Y,B.aq(Y,K));else if(Te){const ft=kn(K),Bt=K;ft&&(Bt.credential=ft,Bt.tenantId=Te.tenantId||void 0,Bt.email=Te.email||void 0,Bt.phoneNumber=Te.phoneNumber||void 0)}}(Y,H),H}).then(H=>{const ft=H.user;return{operationType:H.operationType,credential:Rn(H),additionalUserInfo:B.ao(H),user:Tt.getOrCreate(ft)}})}function yr(Y,K){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(Y,K){const H=yield K;return{verificationId:H.verificationId,confirm:Te=>pn(Y,H.confirm(Te))}})).apply(this,arguments)}class qt{constructor(K,H){this.resolver=H,this.auth=function vn(Y){return Y.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return pn(tn(this.auth),this.resolver.resolveSignIn(K))}}class Tt{constructor(K){this._delegate=K,this.multiFactor=B.ar(K)}static getOrCreate(K){return Tt.USER_MAP.has(K)||Tt.USER_MAP.set(K,new Tt(K)),Tt.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var H=this;return(0,d.Z)(function*(){return pn(H.auth,B.a0(H._delegate,K))})()}linkWithPhoneNumber(K,H){var Te=this;return(0,d.Z)(function*(){return yr(Te.auth,B.l(Te._delegate,K,H))})()}linkWithPopup(K){var H=this;return(0,d.Z)(function*(){return pn(H.auth,B.d(H._delegate,K,lt))})()}linkWithRedirect(K){var H=this;return(0,d.Z)(function*(){return yield dr(B.aH(H.auth)),B.g(H._delegate,K,lt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var H=this;return(0,d.Z)(function*(){return pn(H.auth,B.a1(H._delegate,K))})()}reauthenticateWithPhoneNumber(K,H){return yr(this.auth,B.r(this._delegate,K,H))}reauthenticateWithPopup(K){return pn(this.auth,B.e(this._delegate,K,lt))}reauthenticateWithRedirect(K){var H=this;return(0,d.Z)(function*(){return yield dr(B.aH(H.auth)),B.h(H._delegate,K,lt)})()}sendEmailVerification(K){return B.ae(this._delegate,K)}unlink(K){var H=this;return(0,d.Z)(function*(){return yield B.an(H._delegate,K),H})()}updateEmail(K){return B.aj(this._delegate,K)}updatePassword(K){return B.ak(this._delegate,K)}updatePhoneNumber(K){return B.u(this._delegate,K)}updateProfile(K){return B.ai(this._delegate,K)}verifyBeforeUpdateEmail(K,H){return B.af(this._delegate,K,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const Fn=B.aA;let Yn=(()=>{class Y{constructor(H,Te){if(this.app=H,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ft}=H.options;Fn(ft,"invalid-api-key",{appName:H.name}),Fn(ft,"invalid-api-key",{appName:H.name});const Bt=typeof window<"u"?lt:void 0;this._delegate=Te.initialize({options:{persistence:W(ft,H.name),popupRedirectResolver:Bt}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Te){B.I(this._delegate,H,Te)}applyActionCode(H){return B.a5(this._delegate,H)}checkActionCode(H){return B.a6(this._delegate,H)}confirmPasswordReset(H,Te){return B.a4(this._delegate,H,Te)}createUserWithEmailAndPassword(H,Te){var ft=this;return(0,d.Z)(function*(){return pn(ft._delegate,B.a8(ft._delegate,H,Te))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return B.ad(this._delegate,H)}isSignInWithEmailLink(H){return B.ab(this._delegate,H)}getRedirectResult(){var H=this;return(0,d.Z)(function*(){Fn(qn(),H._delegate,"operation-not-supported-in-this-environment");const Te=yield B.j(H._delegate,lt);return Te?pn(H._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function gt(Y,K){(0,B.aH)(Y)._logFramework(K)}(this._delegate,H)}onAuthStateChanged(H,Te,ft){const{next:Bt,error:nn,complete:re}=Qe(H,Te,ft);return this._delegate.onAuthStateChanged(Bt,nn,re)}onIdTokenChanged(H,Te,ft){const{next:Bt,error:nn,complete:re}=Qe(H,Te,ft);return this._delegate.onIdTokenChanged(Bt,nn,re)}sendSignInLinkToEmail(H,Te){return B.aa(this._delegate,H,Te)}sendPasswordResetEmail(H,Te){return B.a3(this._delegate,H,Te||void 0)}setPersistence(H){var Te=this;return(0,d.Z)(function*(){let ft;switch(function br(Y,K){ar(Object.values(On).includes(K),Y,"invalid-persistence-type"),(0,he.b$)()?ar(K!==On.SESSION,Y,"unsupported-persistence-type"):(0,he.UG)()?ar(K===On.NONE,Y,"unsupported-persistence-type"):jt()?ar(K===On.NONE||K===On.LOCAL&&(0,he.hl)(),Y,"unsupported-persistence-type"):ar(K===On.NONE||En(),Y,"unsupported-persistence-type")}(Te._delegate,H),H){case On.SESSION:ft=B.a;break;case On.LOCAL:ft=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case On.NONE:ft=B.N;break;default:return B.av("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(ft)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return pn(this._delegate,B._(this._delegate))}signInWithCredential(H){return pn(this._delegate,B.$(this._delegate,H))}signInWithCustomToken(H){return pn(this._delegate,B.a2(this._delegate,H))}signInWithEmailAndPassword(H,Te){return pn(this._delegate,B.a9(this._delegate,H,Te))}signInWithEmailLink(H,Te){return pn(this._delegate,B.ac(this._delegate,H,Te))}signInWithPhoneNumber(H,Te){return yr(this._delegate,B.s(this._delegate,H,Te))}signInWithPopup(H){var Te=this;return(0,d.Z)(function*(){return Fn(qn(),Te._delegate,"operation-not-supported-in-this-environment"),pn(Te._delegate,B.c(Te._delegate,H,lt))})()}signInWithRedirect(H){var Te=this;return(0,d.Z)(function*(){return Fn(qn(),Te._delegate,"operation-not-supported-in-this-environment"),yield dr(Te._delegate),B.f(Te._delegate,H,lt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return B.a7(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=On,Y})();function Qe(Y,K,H){let Te=Y;"function"!=typeof Y&&({next:Te,error:K,complete:H}=Y);const ft=Te;return{next:nn=>ft(nn&&Tt.getOrCreate(nn)),error:K,complete:H}}function W(Y,K){const H=function ge(Y,K){const H=de();if(!H)return[];const Te=B.aD(jr,Y,K);switch(H.getItem(Te)){case On.NONE:return[B.N];case On.LOCAL:return[B.i,B.a];case On.SESSION:return[B.a];default:return[]}}(Y,K);if(typeof self<"u"&&!H.includes(B.i)&&H.push(B.i),typeof window<"u")for(const Te of[B.b,B.a])H.includes(Te)||H.push(Te);return H.includes(B.N)||H.push(B.N),H}class fe{constructor(){this.providerId="phone",this._delegate=new B.P(tn(F.Z.auth()))}static credential(K,H){return B.P.credential(K,H)}verifyPhoneNumber(K,H){return this._delegate.verifyPhoneNumber(K,H)}unwrap(){return this._delegate}}fe.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,fe.PROVIDER_ID=B.P.PROVIDER_ID;const Ze=B.aA;class Ot{constructor(K,H,Te=F.Z.app()){var ft;Ze(null===(ft=Te.options)||void 0===ft?void 0:ft.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new B.R(K,H,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(Y){Y.INTERNAL.registerComponent(new De.wA("auth-compat",K=>{const H=K.getProvider("app-compat").getImmediate(),Te=K.getProvider("auth");return new Yn(H,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:fe,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Ot,TwitterAuthProvider:B.Z,Auth:Yn,AuthCredential:B.J,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.4.2")}(F.Z)},8179:(Ht,Be,k)=>{k.d(Be,{EK:()=>d.EK});var d=k(2810)},5861:(Ht,Be,k)=>{function d(B,he,le,Ie,De,te,Oe){try{var ee=B[te](Oe),ce=ee.value}catch(Ee){return void le(Ee)}ee.done?he(ce):Promise.resolve(ce).then(Ie,De)}function F(B){return function(){var he=this,le=arguments;return new Promise(function(Ie,De){var te=B.apply(he,le);function Oe(ce){d(te,Ie,De,Oe,ee,"next",ce)}function ee(ce){d(te,Ie,De,Oe,ee,"throw",ce)}Oe(void 0)})}}k.d(Be,{Z:()=>F})},7582:(Ht,Be,k)=>{function he(Xe,Ve){var $e={};for(var ze in Xe)Object.prototype.hasOwnProperty.call(Xe,ze)&&Ve.indexOf(ze)<0&&($e[ze]=Xe[ze]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ze=Object.getOwnPropertySymbols(Xe);Je<ze.length;Je++)Ve.indexOf(ze[Je])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ze[Je])&&($e[ze[Je]]=Xe[ze[Je]])}return $e}function Ee(Xe,Ve,$e,ze){return new($e||($e=Promise))(function(gt,It){function xt(sn){try{Vt(ze.next(sn))}catch(hn){It(hn)}}function Wt(sn){try{Vt(ze.throw(sn))}catch(hn){It(hn)}}function Vt(sn){sn.done?gt(sn.value):function Je(gt){return gt instanceof $e?gt:new $e(function(It){It(gt)})}(sn.value).then(xt,Wt)}Vt((ze=ze.apply(Xe,Ve||[])).next())})}function me(Xe){return this instanceof me?(this.v=Xe,this):new me(Xe)}function nt(Xe,Ve,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ze=$e.apply(Xe,Ve||[]),gt=[];return Je={},It("next"),It("throw"),It("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function It(_n){ze[_n]&&(Je[_n]=function(Kn){return new Promise(function(ir,Gn){gt.push([_n,Kn,ir,Gn])>1||xt(_n,Kn)})})}function xt(_n,Kn){try{!function Wt(_n){_n.value instanceof me?Promise.resolve(_n.value.v).then(Vt,sn):hn(gt[0][2],_n)}(ze[_n](Kn))}catch(ir){hn(gt[0][3],ir)}}function Vt(_n){xt("next",_n)}function sn(_n){xt("throw",_n)}function hn(_n,Kn){_n(Kn),gt.shift(),gt.length&&xt(gt[0][0],gt[0][1])}}function St(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ve=Xe[Symbol.asyncIterator];return Ve?Ve.call(Xe):(Xe=function mt(Xe){var Ve="function"==typeof Symbol&&Symbol.iterator,$e=Ve&&Xe[Ve],ze=0;if($e)return $e.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&ze>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[ze++],done:!Xe}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),$e={},ze("next"),ze("throw"),ze("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function ze(gt){$e[gt]=Xe[gt]&&function(It){return new Promise(function(xt,Wt){!function Je(gt,It,xt,Wt){Promise.resolve(Wt).then(function(Vt){gt({value:Vt,done:xt})},It)}(xt,Wt,(It=Xe[gt](It)).done,It.value)})}}}k.d(Be,{FC:()=>nt,KL:()=>St,_T:()=>he,mG:()=>Ee,qq:()=>me})}},Ht=>{Ht(Ht.s=2955)}]);