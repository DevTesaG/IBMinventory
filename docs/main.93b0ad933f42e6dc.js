"use strict";(self.webpackChunkInvFurniture=self.webpackChunkInvFurniture||[]).push([[179],{6217:(Ut,ke,R)=>{R.d(ke,{nm:()=>ss});var d=R(4976);R(4650),R(259);var ge=R(5861),st=R(6881),at=R(4859),Et=R(2090),Fe=R(1877);const Ce=new Map,Me={activated:!1,tokenObservers:[]},pt={initialized:!1,enabled:!1};function ft(Re){return Ce.get(Re)||Object.assign({},Me)}function Pt(){return pt}class _t{constructor(Te,Ge,yt,Lt,bn){if(this.operation=Te,this.retryPolicy=Ge,this.getWaitDuration=yt,this.lowerBound=Lt,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Ge=this;return(0,ge.Z)(function*(){Ge.stop();try{Ge.pending=new Et.BH,yield function Ct(Re){return new Promise(Te=>{setTimeout(Te,Re)})}(Ge.getNextRun(Te)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new Et.BH,yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(yt){Ge.retryPolicy(yt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const Ht=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nn(Re){if(!ft(Re).activated)throw Ht.create("use-before-activation",{appName:Re.name})}function Ln(Re,Te){return rr.apply(this,arguments)}function rr(){return(rr=(0,ge.Z)(function*({url:Re,body:Te},Ge){const yt={"Content-Type":"application/json"},Lt=Ge.getImmediate({optional:!0});if(Lt){const pi=yield Lt.getHeartbeatsHeader();pi&&(yt["X-Firebase-Client"]=pi)}const bn={method:"POST",body:JSON.stringify(Te),headers:yt};let sr,Xn;try{sr=yield fetch(Re,bn)}catch(pi){throw Ht.create("fetch-network-error",{originalErrorMessage:pi?.message})}if(200!==sr.status)throw Ht.create("fetch-status-error",{httpStatus:sr.status});try{Xn=yield sr.json()}catch(pi){throw Ht.create("fetch-parse-error",{originalErrorMessage:pi?.message})}const kn=Xn.ttl.match(/^([\d.]+)(s)$/);if(!kn||!kn[2]||isNaN(Number(kn[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xn.ttl}`});const ei=1e3*Number(kn[1]),li=Date.now();return{token:Xn.token,expireTimeMillis:li+ei,issuedAtTimeMillis:li}})).apply(this,arguments)}function xn(Re,Te){const{projectId:Ge,appId:yt,apiKey:Lt}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ge}/apps/${yt}:exchangeDebugToken?key=${Lt}`,body:{debug_token:Te}}}const _r="firebase-app-check-store";let Mn=null;function jn(){return Mn||(Mn=new Promise((Re,Te)=>{try{const Ge=indexedDB.open("firebase-app-check-database",1);Ge.onsuccess=yt=>{Re(yt.target.result)},Ge.onerror=yt=>{var Lt;Te(Ht.create("storage-open",{originalErrorMessage:null===(Lt=yt.target.error)||void 0===Lt?void 0:Lt.message}))},Ge.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(_r,{keyPath:"compositeKey"})}}catch(Ge){Te(Ht.create("storage-open",{originalErrorMessage:Ge?.message}))}}),Mn)}function me(){return(me=(0,ge.Z)(function*(Re,Te){const yt=(yield jn()).transaction(_r,"readwrite"),bn=yt.objectStore(_r).put({compositeKey:Re,value:Te});return new Promise((sr,Xn)=>{bn.onsuccess=kn=>{sr()},yt.onerror=kn=>{var ei;Xn(Ht.create("storage-set",{originalErrorMessage:null===(ei=kn.target.error)||void 0===ei?void 0:ei.message}))}})})).apply(this,arguments)}const Xt=new Fe.Yd("@firebase/app-check");function Ot(Re,Te){return(0,Et.hl)()?function Br(Re,Te){return function rt(Re,Te){return me.apply(this,arguments)}(function ut(Re){return`${Re.options.appId}-${Re.name}`}(Re),Te)}(Re,Te).catch(Ge=>{Xt.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function tr(){return Pt().enabled}function kt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,ge.Z)(function*(){const Re=Pt();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pn={error:"UNKNOWN_ERROR"};function Zn(Re){return Et.US.encodeString(JSON.stringify(Re),!1)}function Xe(Re){return L.apply(this,arguments)}function L(){return(L=(0,ge.Z)(function*(Re,Te=!1){const Ge=Re.app;nn(Ge);const yt=ft(Ge);let bn,Lt=yt.token;if(Lt&&!G(Lt)&&(yt.token=void 0,Lt=void 0),!Lt){const kn=yield yt.cachedTokenPromise;kn&&(G(kn)?Lt=kn:yield Ot(Ge,void 0))}if(!Te&&Lt&&G(Lt))return{token:Lt.token};let Xn,sr=!1;if(tr()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=Ln(xn(Ge,yield kt()),Re.heartbeatServiceProvider).finally(()=>{yt.exchangeTokenPromise=void 0}),sr=!0);const kn=yield yt.exchangeTokenPromise;return yield Ot(Ge,kn),yt.token=kn,{token:kn.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().finally(()=>{yt.exchangeTokenPromise=void 0}),sr=!0),Lt=yield ft(Ge).exchangeTokenPromise}catch(kn){"appCheck/throttled"===kn.code?Xt.warn(kn.message):Xt.error(kn),bn=kn}return Lt?bn?Xn=G(Lt)?{token:Lt.token,internalError:bn}:be(bn):(Xn={token:Lt.token},yt.token=Lt,yield Ot(Ge,Lt)):Xn=be(bn),sr&&Z(Ge,Xn),Xn})).apply(this,arguments)}function de(){return(de=(0,ge.Z)(function*(Re){const Te=Re.app;nn(Te);const{provider:Ge}=ft(Te);if(tr()){const yt=yield kt(),{token:Lt}=yield Ln(xn(Te,yt),Re.heartbeatServiceProvider);return{token:Lt}}{const{token:yt}=yield Ge.getToken();return{token:yt}}})).apply(this,arguments)}function re(Re,Te){const Ge=ft(Re),yt=Ge.tokenObservers.filter(Lt=>Lt.next!==Te);0===yt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ge.tokenObservers=yt}function oe(Re){const{app:Te}=Re,Ge=ft(Te);let yt=Ge.tokenRefresher;yt||(yt=function z(Re){const{app:Te}=Re;return new _t((0,ge.Z)(function*(){let yt;if(yt=ft(Te).token?yield Xe(Re,!0):yield Xe(Re),yt.error)throw yt.error;if(yt.internalError)throw yt.internalError}),()=>!0,()=>{const Ge=ft(Te);if(Ge.token){let yt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,Ge.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Re),Ge.tokenRefresher=yt),!yt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&yt.start()}function Z(Re,Te){const Ge=ft(Re).tokenObservers;for(const yt of Ge)try{"EXTERNAL"===yt.type&&null!=Te.error?yt.error(Te.error):yt.next(Te)}catch{}}function G(Re){return Re.expireTimeMillis-Date.now()>0}function be(Re){return{token:Zn(Pn),error:Re}}class dt{constructor(Te,Ge){this.app=Te,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:Te}=ft(this.app);for(const Ge of Te)re(this.app,Ge.next);return Promise.resolve()}}const Ki="app-check-internal";!function Kr(){(0,st._registerComponent)(new at.wA("app-check",Re=>function jt(Re,Te){return new dt(Re,Te)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,Te,Ge)=>{Re.getProvider(Ki).initialize()})),(0,st._registerComponent)(new at.wA(Ki,Re=>function sn(Re){return{getToken:Te=>Xe(Re,Te),getLimitedUseToken:()=>function X(Re){return de.apply(this,arguments)}(Re),addTokenListener:Te=>function He(Re,Te,Ge,yt){const{app:Lt}=Re,bn=ft(Lt);if(bn.tokenObservers=[...bn.tokenObservers,{next:Ge,error:yt,type:Te}],bn.token&&G(bn.token)){const Xn=bn.token;Promise.resolve().then(()=>{Ge({token:Xn.token}),oe(Re)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>oe(Re))}(Re,"INTERNAL",Te),removeTokenListener:Te=>re(Re.app,Te)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.8.0")}();class ss{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(Ut,ke,R)=>{R.d(ke,{zQ:()=>ur,rT:()=>pt,f7:()=>Bt,L6:()=>Ce,_Q:()=>Me,lh:()=>ft,Qv:()=>Fe,nw:()=>Pt});var d=R(4650),F=R(7579),U=R(9646),ce=R(9751),ae=R(8996),we=R(6451),De=R(5363),ee=R(3900),Pe=R(4004),ne=R(6063);class ue extends F.x{constructor(Je=1/0,$e=1/0,tt=ne.l){super(),this._bufferSize=Je,this._windowTime=$e,this._timestampProvider=tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$e===1/0,this._bufferSize=Math.max(1,Je),this._windowTime=Math.max(1,$e)}next(Je){const{isStopped:$e,_buffer:tt,_infiniteTimeWindow:_t,_timestampProvider:Ct,_windowTime:At}=this;$e||(tt.push(Je),!_t&&tt.push(Ct.now()+At)),this._trimBuffer(),super.next(Je)}_subscribe(Je){this._throwIfClosed(),this._trimBuffer();const $e=this._innerSubscribe(Je),{_infiniteTimeWindow:tt,_buffer:_t}=this,Ct=_t.slice();for(let At=0;At<Ct.length&&!Je.closed;At+=tt?1:2)Je.next(Ct[At]);return this._checkFinalizedStatuses(Je),$e}_trimBuffer(){const{_bufferSize:Je,_timestampProvider:$e,_buffer:tt,_infiniteTimeWindow:_t}=this,Ct=(_t?1:2)*Je;if(Je<1/0&&Ct<tt.length&&tt.splice(0,tt.length-Ct),!_t){const At=$e.now();let Ht=0;for(let Nt=1;Nt<tt.length&&tt[Nt]<=At;Nt+=2)Ht=Nt;Ht&&tt.splice(0,Ht+1)}}}var ye=R(3099);function qe(Be,Je,$e){let tt,_t=!1;return Be&&"object"==typeof Be?({bufferSize:tt=1/0,windowTime:Je=1/0,refCount:_t=!1,scheduler:$e}=Be):tt=Be??1/0,(0,ye.B)({connector:()=>new ue(tt,Je,$e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_t})}var ze=R(590),We=R(576);function wt(Be,Je){return(0,We.m)(Je)?(0,ee.w)(()=>Be,Je):(0,ee.w)(()=>Be)}var Ue=R(9468),Se=R(9300),bt=R(4976),mt=R(2011),ge=R(6895),st=R(6217);R(9260);const Fe=new d.OlP("angularfire2.auth.use-emulator"),Ce=new d.OlP("angularfire2.auth.settings"),Me=new d.OlP("angularfire2.auth.tenant-id"),pt=new d.OlP("angularfire2.auth.langugage-code"),ft=new d.OlP("angularfire2.auth.use-device-language"),Bt=new d.OlP("angularfire.auth.persistence"),Pt=(Be,Je,$e,tt,_t,Ct,At,Ht)=>(0,mt.cc)(`${Be.name}.auth`,"AngularFireAuth",Be.name,()=>{const Nt=Je.runOutsideAngular(()=>Be.auth());if($e&&Nt.useEmulator(...$e),tt&&(Nt.tenantId=tt),Nt.languageCode=_t,Ct&&Nt.useDeviceLanguage(),At)for(const[nn,ln]of Object.entries(At))Nt.settings[nn]=ln;return Ht&&Nt.setPersistence(Ht),Nt},[$e,tt,_t,Ct,At,Ht]);let ur=(()=>{class Be{constructor($e,tt,_t,Ct,At,Ht,Nt,nn,ln,un,Ln,rr){const Gt=new F.x,cn=(0,U.of)(void 0).pipe((0,De.Q)(At.outsideAngular),(0,ee.w)(()=>Ct.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9568)))),(0,Pe.U)(()=>(0,mt.on)($e,Ct,tt)),(0,Pe.U)(xn=>Pt(xn,Ct,Ht,nn,ln,un,Nt,Ln)),qe({bufferSize:1,refCount:!1}));if((0,ge.PM)(_t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,U.of)(null);else{cn.pipe((0,ze.P)()).subscribe();const Vn=cn.pipe((0,ee.w)(xt=>xt.getRedirectResult().then(Mn=>Mn,()=>null)),bt.iC,qe({bufferSize:1,refCount:!1})),Ar=cn.pipe((0,ee.w)(xt=>new ce.y(Mn=>({unsubscribe:Ct.runOutsideAngular(()=>xt.onAuthStateChanged(jn=>Mn.next(jn),jn=>Mn.error(jn),()=>Mn.complete()))})))),_r=cn.pipe((0,ee.w)(xt=>new ce.y(Mn=>({unsubscribe:Ct.runOutsideAngular(()=>xt.onIdTokenChanged(jn=>Mn.next(jn),jn=>Mn.error(jn),()=>Mn.complete()))}))));this.authState=Vn.pipe(wt(Ar),(0,Ue.R)(At.outsideAngular),(0,De.Q)(At.insideAngular)),this.user=Vn.pipe(wt(_r),(0,Ue.R)(At.outsideAngular),(0,De.Q)(At.insideAngular)),this.idToken=this.user.pipe((0,ee.w)(xt=>xt?(0,ae.D)(xt.getIdToken()):(0,U.of)(null))),this.idTokenResult=this.user.pipe((0,ee.w)(xt=>xt?(0,ae.D)(xt.getIdTokenResult()):(0,U.of)(null))),this.credential=(0,we.T)(Vn,Gt,this.authState.pipe((0,Se.h)(xt=>!xt))).pipe((0,Pe.U)(xt=>xt?.user?xt:null),(0,Ue.R)(At.outsideAngular),(0,De.Q)(At.insideAngular))}return(0,mt.pX)(this,cn,Ct,{spy:{apply:(xn,Vn,Ar)=>{(xn.startsWith("signIn")||xn.startsWith("createUser"))&&Ar.then(_r=>Gt.next(_r))}}})}}return Be.\u0275fac=function($e){return new($e||Be)(d.LFG(mt.Dh),d.LFG(mt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bt.HU),d.LFG(Fe,8),d.LFG(Ce,8),d.LFG(Me,8),d.LFG(pt,8),d.LFG(ft,8),d.LFG(Bt,8),d.LFG(st.nm,8))},Be.\u0275prov=d.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"any"}),Be})()},33:(Ut,ke,R)=>{R.d(ke,{ST:()=>Pn,yb:()=>Zn});var d=R(4650),F=R(4986),U=R(9751),ce=R(8996),ae=R(9646),we=R(4976),De=R(8675),ee=R(4482),Pe=R(5403);function ne(){return(0,ee.e)((Xe,L)=>{let X,de=!1;Xe.subscribe((0,Pe.x)(L,He=>{const re=X;X=He,de&&L.next([re,He]),de=!0}))})}var ue=R(4004),ye=R(5026),qe=R(4671);function We(Xe,L){return Xe===L}var wt=R(9300),Ue=R(2011),Se=R(6895),mt=(R(9568),R(3942)),ge=R(2810),st=R(2090),at=R(4859);function Ce(Xe,L){if(void 0===L)return{merge:!1};if(void 0!==L.mergeFields&&void 0!==L.merge)throw new ge.WA("invalid-argument",`Invalid options passed to function ${Xe}(): You cannot specify both "merge" and "mergeFields".`);return L}function Me(){if(typeof Uint8Array>"u")throw new ge.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pt(){if(!(0,ge.Me)())throw new ge.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ft{constructor(L){this._delegate=L}static fromBase64String(L){return pt(),new ft(ge.Jj.fromBase64String(L))}static fromUint8Array(L){return Me(),new ft(ge.Jj.fromUint8Array(L))}toBase64(){return pt(),this._delegate.toBase64()}toUint8Array(){return Me(),this._delegate.toUint8Array()}isEqual(L){return this._delegate.isEqual(L._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bt(Xe){return function Pt(Xe,L){if("object"!=typeof Xe||null===Xe)return!1;const X=Xe;for(const de of L)if(de in X&&"function"==typeof X[de])return!0;return!1}(Xe,["next","error","complete"])}class ur{enableIndexedDbPersistence(L,X){return(0,ge.ST)(L._delegate,{forceOwnership:X})}enableMultiTabIndexedDbPersistence(L){return(0,ge.fH)(L._delegate)}clearIndexedDbPersistence(L){return(0,ge.Fc)(L._delegate)}}class je{constructor(L,X,de){this._delegate=X,this._persistenceProvider=de,this.INTERNAL={delete:()=>this.terminate()},L instanceof ge.l7||(this._appCompat=L)}get _databaseId(){return this._delegate._databaseId}settings(L){const X=this._delegate._getSettings();!L.merge&&X.host!==L.host&&(0,ge.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),L.merge&&delete(L=Object.assign(Object.assign({},X),L)).merge,this._delegate._setSettings(L)}useEmulator(L,X,de={}){(0,ge.at)(this._delegate,L,X,de)}enableNetwork(){return(0,ge.Ix)(this._delegate)}disableNetwork(){return(0,ge.TF)(this._delegate)}enablePersistence(L){let X=!1,de=!1;return L&&(X=!!L.synchronizeTabs,de=!!L.experimentalForceOwningTab,(0,ge.Wi)("synchronizeTabs",X,"experimentalForceOwningTab",de)),X?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,de)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ge.Mx)(this._delegate)}onSnapshotsInSync(L){return(0,ge.sc)(this._delegate,L)}get app(){if(!this._appCompat)throw new ge.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(L){try{return new Gt(this,(0,ge.hJ)(this._delegate,L))}catch(X){throw At(X,"collection()","Firestore.collection()")}}doc(L){try{return new Ct(this,(0,ge.JU)(this._delegate,L))}catch(X){throw At(X,"doc()","Firestore.doc()")}}collectionGroup(L){try{return new un(this,(0,ge.B$)(this._delegate,L))}catch(X){throw At(X,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(L){return(0,ge.i3)(this._delegate,X=>L(new $e(this,X)))}batch(){return(0,ge.qY)(this._delegate),new tt(new ge.PU(this._delegate,L=>(0,ge.GL)(this._delegate,L)))}loadBundle(L){return(0,ge.Pb)(this._delegate,L)}namedQuery(L){return(0,ge.L$)(this._delegate,L).then(X=>X?new un(this,X):null)}}class Be extends ge.u7{constructor(L){super(),this.firestore=L}convertBytes(L){return new ft(new ge.Jj(L))}convertReference(L){const X=this.convertDocumentKey(L,this.firestore._databaseId);return Ct.forKey(X,this.firestore,null)}}class $e{constructor(L,X){this._firestore=L,this._delegate=X,this._userDataWriter=new Be(L)}get(L){const X=cn(L);return this._delegate.get(X).then(de=>new nn(this._firestore,new ge.xU(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,X.converter)))}set(L,X,de){const He=cn(L);return de?(Ce("Transaction.set",de),this._delegate.set(He,X,de)):this._delegate.set(He,X),this}update(L,X,de,...He){const re=cn(L);return 2===arguments.length?this._delegate.update(re,X):this._delegate.update(re,X,de,...He),this}delete(L){const X=cn(L);return this._delegate.delete(X),this}}class tt{constructor(L){this._delegate=L}set(L,X,de){const He=cn(L);return de?(Ce("WriteBatch.set",de),this._delegate.set(He,X,de)):this._delegate.set(He,X),this}update(L,X,de,...He){const re=cn(L);return 2===arguments.length?this._delegate.update(re,X):this._delegate.update(re,X,de,...He),this}delete(L){const X=cn(L);return this._delegate.delete(X),this}commit(){return this._delegate.commit()}}class _t{constructor(L,X,de){this._firestore=L,this._userDataWriter=X,this._delegate=de}fromFirestore(L,X){const de=new ge.$q(this._firestore._delegate,this._userDataWriter,L._key,L._document,L.metadata,null);return this._delegate.fromFirestore(new ln(this._firestore,de),X??{})}toFirestore(L,X){return X?this._delegate.toFirestore(L,X):this._delegate.toFirestore(L)}static getInstance(L,X){const de=_t.INSTANCES;let He=de.get(L);He||(He=new WeakMap,de.set(L,He));let re=He.get(X);return re||(re=new _t(L,new Be(L),X),He.set(X,re)),re}}_t.INSTANCES=new WeakMap;class Ct{constructor(L,X){this.firestore=L,this._delegate=X,this._userDataWriter=new Be(L)}static forPath(L,X,de){if(L.length%2!=0)throw new ge.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${L.canonicalString()} has ${L.length}`);return new Ct(X,new ge.my(X._delegate,de,new ge.Ky(L)))}static forKey(L,X,de){return new Ct(X,new ge.my(X._delegate,de,L))}get id(){return this._delegate.id}get parent(){return new Gt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(L){try{return new Gt(this.firestore,(0,ge.hJ)(this._delegate,L))}catch(X){throw At(X,"collection()","DocumentReference.collection()")}}isEqual(L){return(L=(0,st.m9)(L))instanceof ge.my&&(0,ge.Eo)(this._delegate,L)}set(L,X){X=Ce("DocumentReference.set",X);try{return X?(0,ge.pl)(this._delegate,L,X):(0,ge.pl)(this._delegate,L)}catch(de){throw At(de,"setDoc()","DocumentReference.set()")}}update(L,X,...de){try{return 1===arguments.length?(0,ge.r7)(this._delegate,L):(0,ge.r7)(this._delegate,L,X,...de)}catch(He){throw At(He,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ge.oe)(this._delegate)}onSnapshot(...L){const X=Ht(L),de=Nt(L,He=>new nn(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,He._key,He._document,He.metadata,this._delegate.converter)));return(0,ge.cf)(this._delegate,X,de)}get(L){let X;return X="cache"===L?.source?(0,ge.kl)(this._delegate):"server"===L?.source?(0,ge.Xk)(this._delegate):(0,ge.QT)(this._delegate),X.then(de=>new nn(this.firestore,new ge.xU(this.firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,this._delegate.converter)))}withConverter(L){return new Ct(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}function At(Xe,L,X){return Xe.message=Xe.message.replace(L,X),Xe}function Ht(Xe){for(const L of Xe)if("object"==typeof L&&!Bt(L))return L;return{}}function Nt(Xe,L){var X,de;let He;return He=Bt(Xe[0])?Xe[0]:Bt(Xe[1])?Xe[1]:"function"==typeof Xe[0]?{next:Xe[0],error:Xe[1],complete:Xe[2]}:{next:Xe[1],error:Xe[2],complete:Xe[3]},{next:re=>{He.next&&He.next(L(re))},error:null===(X=He.error)||void 0===X?void 0:X.bind(He),complete:null===(de=He.complete)||void 0===de?void 0:de.bind(He)}}class nn{constructor(L,X){this._firestore=L,this._delegate=X}get ref(){return new Ct(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(L){return this._delegate.data(L)}get(L,X){return this._delegate.get(L,X)}isEqual(L){return(0,ge.qK)(this._delegate,L._delegate)}}class ln extends nn{data(L){const X=this._delegate.data(L);return(0,ge.K9)(void 0!==X,"Document in a QueryDocumentSnapshot should exist"),X}}class un{constructor(L,X){this.firestore=L,this._delegate=X,this._userDataWriter=new Be(L)}where(L,X,de){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.ar)(L,X,de)))}catch(He){throw At(He,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(L,X){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Xo)(L,X)))}catch(de){throw At(de,/(orderBy|where)\(\)/,"Query.$1()")}}limit(L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.b9)(L)))}catch(X){throw At(X,"limit()","Query.limit()")}}limitToLast(L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.vh)(L)))}catch(X){throw At(X,"limitToLast()","Query.limitToLast()")}}startAt(...L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.e0)(...L)))}catch(X){throw At(X,"startAt()","Query.startAt()")}}startAfter(...L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.TQ)(...L)))}catch(X){throw At(X,"startAfter()","Query.startAfter()")}}endBefore(...L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Lx)(...L)))}catch(X){throw At(X,"endBefore()","Query.endBefore()")}}endAt(...L){try{return new un(this.firestore,(0,ge.IO)(this._delegate,(0,ge.Wu)(...L)))}catch(X){throw At(X,"endAt()","Query.endAt()")}}isEqual(L){return(0,ge.iE)(this._delegate,L._delegate)}get(L){let X;return X="cache"===L?.source?(0,ge.UQ)(this._delegate):"server"===L?.source?(0,ge.zN)(this._delegate):(0,ge.PL)(this._delegate),X.then(de=>new rr(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,de._snapshot)))}onSnapshot(...L){const X=Ht(L),de=Nt(L,He=>new rr(this.firestore,new ge.W(this.firestore._delegate,this._userDataWriter,this._delegate,He._snapshot)));return(0,ge.cf)(this._delegate,X,de)}withConverter(L){return new un(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}class Ln{constructor(L,X){this._firestore=L,this._delegate=X}get type(){return this._delegate.type}get doc(){return new ln(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rr{constructor(L,X){this._firestore=L,this._delegate=X}get query(){return new un(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(L=>new ln(this._firestore,L))}docChanges(L){return this._delegate.docChanges(L).map(X=>new Ln(this._firestore,X))}forEach(L,X){this._delegate.forEach(de=>{L.call(X,new ln(this._firestore,de))})}isEqual(L){return(0,ge.qK)(this._delegate,L._delegate)}}class Gt extends un{constructor(L,X){super(L,X),this.firestore=L,this._delegate=X}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const L=this._delegate.parent;return L?new Ct(this.firestore,L):null}doc(L){try{return new Ct(this.firestore,void 0===L?(0,ge.JU)(this._delegate):(0,ge.JU)(this._delegate,L))}catch(X){throw At(X,"doc()","CollectionReference.doc()")}}add(L){return(0,ge.ET)(this._delegate,L).then(X=>new Ct(this.firestore,X))}isEqual(L){return(0,ge.Eo)(this._delegate,L._delegate)}withConverter(L){return new Gt(this.firestore,this._delegate.withConverter(L?_t.getInstance(this.firestore,L):null))}}function cn(Xe){return(0,ge.Cf)(Xe,ge.my)}class xn{constructor(...L){this._delegate=new ge.Lz(...L)}static documentId(){return new xn(ge.Xb.keyField().canonicalString())}isEqual(L){return(L=(0,st.m9)(L))instanceof ge.Lz&&this._delegate._internalPath.isEqual(L._internalPath)}}class Vn{constructor(L){this._delegate=L}static serverTimestamp(){const L=(0,ge.Bt)();return L._methodName="FieldValue.serverTimestamp",new Vn(L)}static delete(){const L=(0,ge.AK)();return L._methodName="FieldValue.delete",new Vn(L)}static arrayUnion(...L){const X=(0,ge.vr)(...L);return X._methodName="FieldValue.arrayUnion",new Vn(X)}static arrayRemove(...L){const X=(0,ge.Ab)(...L);return X._methodName="FieldValue.arrayRemove",new Vn(X)}static increment(L){const X=(0,ge.nP)(L);return X._methodName="FieldValue.increment",new Vn(X)}isEqual(L){return this._delegate.isEqual(L._delegate)}}const Ar={Firestore:je,GeoPoint:ge.F8,Timestamp:ge.EK,Blob:ft,Transaction:$e,WriteBatch:tt,DocumentReference:Ct,DocumentSnapshot:nn,Query:un,QueryDocumentSnapshot:ln,QuerySnapshot:rr,CollectionReference:Gt,FieldPath:xn,FieldValue:Vn,setLogLevel:function Je(Xe){(0,ge.Ub)(Xe)},CACHE_SIZE_UNLIMITED:ge.IX};!function xt(Xe){(function _r(Xe,L){Xe.INTERNAL.registerComponent(new at.wA("firestore-compat",X=>{const de=X.getProvider("app-compat").getImmediate(),He=X.getProvider("firestore").getImmediate();return L(de,He)},"PUBLIC").setServiceProps(Object.assign({},Ar)))})(Xe,(L,X)=>new je(L,X,new ur)),Xe.registerVersion("@firebase/firestore-compat","0.3.12")}(mt.Z);var Mn=R(1205),jn=R(6217),ir=R(9260);function Un(Xe,L){return function Br(Xe,L=F.z){return new U.y(X=>{let de;return null!=L?L.schedule(()=>{de=Xe.onSnapshot({includeMetadataChanges:!0},X)}):de=Xe.onSnapshot({includeMetadataChanges:!0},X),()=>{de?.()}})}(Xe,L)}function rt(Xe,L){return Un(Xe,L).pipe((0,ue.U)(X=>({payload:X,type:"query"})))}function me(Xe,L){return rt(Xe,L).pipe((0,De.O)(void 0),ne(),(0,ue.U)(([X,de])=>{const He=de.payload.docChanges(),re=He.map(oe=>({type:oe.type,payload:oe}));return X&&JSON.stringify(X.payload.metadata)!==JSON.stringify(de.payload.metadata)&&de.payload.docs.forEach((oe,z)=>{const Z=He.find(be=>be.doc.ref.isEqual(oe.ref)),G=X?.payload.docs.find(be=>be.ref.isEqual(oe.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(oe.metadata)||!Z&&G&&JSON.stringify(G.metadata)===JSON.stringify(oe.metadata)||re.push({type:"modified",payload:{oldIndex:z,newIndex:z,type:"modified",doc:oe}})}),re}))}function pe(Xe,L,X){return me(Xe,X).pipe((0,ye.R)((de,He)=>function nt(Xe,L,X){return L.forEach(de=>{X.indexOf(de.type)>-1&&(Xe=function Xt(Xe,L){switch(L.type){case"added":if(!Xe[L.newIndex]||!Xe[L.newIndex].doc.ref.isEqual(L.doc.ref))return ut(Xe,L.newIndex,0,L);break;case"modified":if(null==Xe[L.oldIndex]||Xe[L.oldIndex].doc.ref.isEqual(L.doc.ref)){if(L.oldIndex!==L.newIndex){const X=Xe.slice();return X.splice(L.oldIndex,1),X.splice(L.newIndex,0,L),X}return ut(Xe,L.newIndex,1,L)}break;case"removed":if(Xe[L.oldIndex]&&Xe[L.oldIndex].doc.ref.isEqual(L.doc.ref))return ut(Xe,L.oldIndex,1)}return Xe}(Xe,de))}),Xe}(de,He.map(re=>re.payload),L),[]),function ze(Xe,L=qe.y){return Xe=Xe??We,(0,ee.e)((X,de)=>{let He,re=!0;X.subscribe((0,Pe.x)(de,oe=>{const z=L(oe);(re||!Xe(He,z))&&(re=!1,He=z,de.next(oe))}))})}(),(0,ue.U)(de=>de.map(He=>({type:He.type,payload:He}))))}function ut(Xe,L,X,...de){const He=Xe.slice();return He.splice(L,X,...de),He}function mn(Xe){return(!Xe||0===Xe.length)&&(Xe=["added","removed","modified"]),Xe}class Cn{constructor(L,X,de){this.ref=L,this.query=X,this.afs=de}stateChanges(L){let X=me(this.query,this.afs.schedulers.outsideAngular);return L&&L.length>0&&(X=X.pipe((0,ue.U)(de=>de.filter(He=>L.indexOf(He.type)>-1)))),X.pipe((0,De.O)(void 0),ne(),(0,wt.h)(([de,He])=>He.length>0||!de),(0,ue.U)(([de,He])=>He),we.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,ye.R)((X,de)=>[...X,...de],[]))}snapshotChanges(L){const X=mn(L);return pe(this.query,X,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(L={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(X=>X.payload.docs.map(de=>L.idField?Object.assign(Object.assign({},de.data()),{[L.idField]:de.id}):de.data())),we.iC)}get(L){return(0,ce.D)(this.query.get(L)).pipe(we.iC)}add(L){return this.ref.add(L)}doc(L){return new Ot(this.ref.doc(L),this.afs)}}class Ot{constructor(L,X){this.ref=L,this.afs=X}set(L,X){return this.ref.set(L,X)}update(L){return this.ref.update(L)}delete(){return this.ref.delete()}collection(L,X){const de=this.ref.collection(L),{ref:He,query:re}=Jt(de,X);return new Cn(He,re,this.afs)}snapshotChanges(){return function Kn(Xe,L){return Un(Xe,L).pipe((0,De.O)(void 0),ne(),(0,ue.U)(([X,de])=>de.exists?X?.exists?{payload:de,type:"modified"}:{payload:de,type:"added"}:{payload:de,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(L={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:X})=>L.idField?Object.assign(Object.assign({},X.data()),{[L.idField]:X.id}):X.data()))}get(L){return(0,ce.D)(this.ref.get(L)).pipe(we.iC)}}class On{constructor(L,X){this.query=L,this.afs=X}stateChanges(L){return L&&0!==L.length?me(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(X=>X.filter(de=>L.indexOf(de.type)>-1)),(0,wt.h)(X=>X.length>0),we.iC):me(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,ye.R)((X,de)=>[...X,...de],[]))}snapshotChanges(L){const X=mn(L);return pe(this.query,X,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(L={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(de=>de.payload.docs.map(He=>L.idField?Object.assign({[L.idField]:He.id},He.data()):He.data())),we.iC)}get(L){return(0,ce.D)(this.query.get(L)).pipe(we.iC)}}const dn=new d.OlP("angularfire2.enableFirestorePersistence"),tr=new d.OlP("angularfire2.firestore.persistenceSettings"),kt=new d.OlP("angularfire2.firestore.settings"),Zt=new d.OlP("angularfire2.firestore.use-emulator");function Jt(Xe,L=(X=>X)){return{query:L(Xe),ref:Xe}}let Pn=(()=>{class Xe{constructor(X,de,He,re,oe,z,Z,G,be,dt,jt,sn,se,he,te,Oe,Ke){this.schedulers=Z;const Vt=(0,Ue.on)(X,z,de),yn=be;dt&&(0,Mn.nw)(Vt,z,jt,se,he,te,sn,Oe),[this.firestore,this.persistenceEnabled$]=(0,Ue.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const Ve=z.runOutsideAngular(()=>Vt.firestore());if(re&&Ve.settings(re),yn&&Ve.useEmulator(...yn),He&&!(0,Se.PM)(oe)){const Le=()=>{try{return(0,ce.D)(Ve.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(St){return typeof console<"u"&&console.warn(St),(0,ae.of)(!1)}};return[Ve,z.runOutsideAngular(Le)]}return[Ve,(0,ae.of)(!1)]},[re,yn,He])}collection(X,de){let He;He="string"==typeof X?this.firestore.collection(X):X;const{ref:re,query:oe}=Jt(He,de),z=this.schedulers.ngZone.run(()=>re);return new Cn(z,oe,this)}collectionGroup(X,de){const He=de||(oe=>oe),re=this.firestore.collectionGroup(X);return new On(He(re),this)}doc(X){let de;de="string"==typeof X?this.firestore.doc(X):X;const He=this.schedulers.ngZone.run(()=>de);return new Ot(He,this)}createId(){return this.firestore.collection("_").doc().id}}return Xe.\u0275fac=function(X){return new(X||Xe)(d.LFG(Ue.Dh),d.LFG(Ue.xv,8),d.LFG(dn,8),d.LFG(kt,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(we.HU),d.LFG(tr,8),d.LFG(Zt,8),d.LFG(Mn.zQ,8),d.LFG(Mn.Qv,8),d.LFG(Mn.L6,8),d.LFG(Mn._Q,8),d.LFG(Mn.rT,8),d.LFG(Mn.lh,8),d.LFG(Mn.f7,8),d.LFG(jn.nm,8))},Xe.\u0275prov=d.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"any"}),Xe})(),Zn=(()=>{class Xe{constructor(){ir.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(X){return{ngModule:Xe,providers:[{provide:dn,useValue:!0},{provide:tr,useValue:X}]}}}return Xe.\u0275fac=function(X){return new(X||Xe)},Xe.\u0275mod=d.oAB({type:Xe}),Xe.\u0275inj=d.cJS({providers:[Pn]}),Xe})()},2011:(Ut,ke,R)=>{R.d(ke,{Dh:()=>ee,GT:()=>we,cc:()=>ze,hO:()=>qe,on:()=>ne,pX:()=>ae,xv:()=>Pe});var d=R(4650),F=R(9260),U=R(4976);Ut=R.hmd(Ut);const ce=["ngOnDestroy"],ae=(Se,bt,mt,ge={})=>new Proxy(Se,{get:(st,at)=>mt.runOutsideAngular(()=>{var Et;if(Se[at])return!(null===(Et=ge?.spy)||void 0===Et)&&Et.get&&ge.spy.get(at,Se[at]),Se[at];if(ce.indexOf(at)>-1)return()=>{};const Fe=bt.toPromise().then(Ce=>{const Me=Ce&&Ce[at];return"function"==typeof Me?Me.bind(Ce):Me&&Me.then?Me.then(pt=>mt.run(()=>pt)):mt.run(()=>Me)});return new Proxy(()=>{},{get:(Ce,Me)=>Fe[Me],apply:(Ce,Me,pt)=>Fe.then(ft=>{var Bt;const Pt=ft&&ft(...pt);return!(null===(Bt=ge?.spy)||void 0===Bt)&&Bt.apply&&ge.spy.apply(at,pt,Pt),Pt})})})}),we=(Se,bt)=>{bt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(ge=>{Object.defineProperty(Se.prototype,ge,Object.getOwnPropertyDescriptor(mt.prototype||mt,ge))})})};class De{constructor(bt){return bt}}const ee=new d.OlP("angularfire2.app.options"),Pe=new d.OlP("angularfire2.app.name");function ne(Se,bt,mt){const st="object"==typeof mt&&mt||{};st.name=st.name||"string"==typeof mt&&mt||"[DEFAULT]";const Et=F.Z.apps.filter(Fe=>Fe&&Fe.name===st.name)[0]||bt.runOutsideAngular(()=>F.Z.initializeApp(Se,st));try{JSON.stringify(Se)!==JSON.stringify(Et.options)&&ue("error",`${Et.name} Firebase App already initialized with different options${Ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Et)}const ue=(Se,...bt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...bt)},ye={provide:De,useFactory:ne,deps:[ee,d.R0b,[new d.FiY,Pe]]};let qe=(()=>{class Se{constructor(mt){F.Z.registerVersion("angularfire",U.q4.full,"core"),F.Z.registerVersion("angularfire",U.q4.full,"app-compat"),F.Z.registerVersion("angular",d.q4F.full,mt.toString())}static initializeApp(mt,ge){return{ngModule:Se,providers:[{provide:ee,useValue:mt},{provide:Pe,useValue:ge}]}}}return Se.\u0275fac=function(mt){return new(mt||Se)(d.LFG(d.Lbi))},Se.\u0275mod=d.oAB({type:Se}),Se.\u0275inj=d.cJS({providers:[ye]}),Se})();function ze(Se,bt,mt,ge,st){const[,at,Et]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Se)||[];if(at)return function We(Se,bt){try{return Se.toString()===bt.toString()}catch{return Se===bt}}(st,Et)||(Ue("error",`${bt} was already initialized on the ${mt} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:st,was:Et})),at;{const Fe=ge();return globalThis.\u0275AngularfireInstanceCache.push([Se,Fe,st]),Fe}}const wt=!!Ut.hot,Ue=(Se,...bt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Ut,ke,R)=>{R.d(ke,{q4:()=>xa,iC:()=>cl,HU:()=>td,vb:()=>hu,JM:()=>ul});var d=R(4650),F=R(259),U=R(5861),ce=R(6881),ae=R(2090),we=R(4859),De=R(1877);let Pe,ne;const qe=new WeakMap,ze=new WeakMap,We=new WeakMap,wt=new WeakMap,Ue=new WeakMap;let mt={get(w,T,$){if(w instanceof IDBTransaction){if("done"===T)return ze.get(w);if("objectStoreNames"===T)return w.objectStoreNames||We.get(w);if("store"===T)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return Et(w[T])},set:(w,T,$)=>(w[T]=$,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function at(w){return"function"==typeof w?function st(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(Fe(this),T),Et(qe.get(this))}:function(...T){return Et(w.apply(Fe(this),T))}:function(T,...$){const ie=w.call(Fe(this),T,...$);return We.set(ie,T.sort?T.sort():[T]),Et(ie)}}(w):(w instanceof IDBTransaction&&function bt(w){if(ze.has(w))return;const T=new Promise(($,ie)=>{const _e=()=>{w.removeEventListener("complete",xe),w.removeEventListener("error",ht),w.removeEventListener("abort",ht)},xe=()=>{$(),_e()},ht=()=>{ie(w.error||new DOMException("AbortError","AbortError")),_e()};w.addEventListener("complete",xe),w.addEventListener("error",ht),w.addEventListener("abort",ht)});ze.set(w,T)}(w),((w,T)=>T.some($=>w instanceof $))(w,function ue(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,mt):w)}function Et(w){if(w instanceof IDBRequest)return function Se(w){const T=new Promise(($,ie)=>{const _e=()=>{w.removeEventListener("success",xe),w.removeEventListener("error",ht)},xe=()=>{$(Et(w.result)),_e()},ht=()=>{ie(w.error),_e()};w.addEventListener("success",xe),w.addEventListener("error",ht)});return T.then($=>{$ instanceof IDBCursor&&qe.set($,w)}).catch(()=>{}),Ue.set(T,w),T}(w);if(wt.has(w))return wt.get(w);const T=at(w);return T!==w&&(wt.set(w,T),Ue.set(T,w)),T}const Fe=w=>Ue.get(w),pt=["get","getKey","getAll","getAllKeys","count"],ft=["put","add","delete","clear"],Bt=new Map;function Pt(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(Bt.get(T))return Bt.get(T);const $=T.replace(/FromIndex$/,""),ie=T!==$,_e=ft.includes($);if(!($ in(ie?IDBIndex:IDBObjectStore).prototype)||!_e&&!pt.includes($))return;const xe=function(){var ht=(0,U.Z)(function*(en,...Qt){const En=this.transaction(en,_e?"readwrite":"readonly");let Dn=En.store;return ie&&(Dn=Dn.index(Qt.shift())),(yield Promise.all([Dn[$](...Qt),_e&&En.done]))[0]});return function(Qt){return ht.apply(this,arguments)}}();return Bt.set(T,xe),xe}!function ge(w){mt=w(mt)}(w=>({...w,get:(T,$,ie)=>Pt(T,$)||w.get(T,$,ie),has:(T,$)=>!!Pt(T,$)||w.has(T,$)}));const ur="@firebase/installations",Je="w:0.6.4",$e="FIS_v2",Nt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nn(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function ln({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function un(w){return{token:w.token,requestStatus:2,expiresIn:Ar(w.expiresIn),creationTime:Date.now()}}function Ln(w,T){return rr.apply(this,arguments)}function rr(){return(rr=(0,U.Z)(function*(w,T){const ie=(yield T.json()).error;return Nt.create("request-failed",{requestName:w,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function Gt({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function cn(w,{refreshToken:T}){const $=Gt(w);return $.append("Authorization",function _r(w){return`${$e} ${w}`}(T)),$}function xn(w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,U.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function Ar(w){return Number(w.replace("s","000"))}function xt(w,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,U.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:$}){const ie=ln(w),_e=Gt(w),xe=T.getImmediate({optional:!0});if(xe){const En=yield xe.getHeartbeatsHeader();En&&_e.append("x-firebase-client",En)}const en={method:"POST",headers:_e,body:JSON.stringify({fid:$,authVersion:$e,appId:w.appId,sdkVersion:Je})},Qt=yield xn(()=>fetch(ie,en));if(Qt.ok){const En=yield Qt.json();return{fid:En.fid||$,registrationStatus:2,refreshToken:En.refreshToken,authToken:un(En.authToken)}}throw yield Ln("Create Installation",Qt)})).apply(this,arguments)}function jn(w){return new Promise(T=>{setTimeout(T,w)})}const Br=/^[cdef][\w-]{21}$/;function Kn(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const $=function rt(w){return function ir(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Br.test($)?$:""}catch{return""}}function me(w){return`${w.appName}!${w.appId}`}const pe=new Map;function nt(w,T){const $=me(w);mn($,T),function Cn(w,T){const $=function On(){return!Ot&&"BroadcastChannel"in self&&(Ot=new BroadcastChannel("[Firebase] FID Change"),Ot.onmessage=w=>{mn(w.data.key,w.data.fid)}),Ot}();$&&$.postMessage({key:w,fid:T}),function dn(){0===pe.size&&Ot&&(Ot.close(),Ot=null)}()}($,T)}function mn(w,T){const $=pe.get(w);if($)for(const ie of $)ie(T)}let Ot=null;const Zt="firebase-installations-store";let Jt=null;function Pn(){return Jt||(Jt=function Ce(w,T,{blocked:$,upgrade:ie,blocking:_e,terminated:xe}={}){const ht=indexedDB.open(w,T),en=Et(ht);return ie&&ht.addEventListener("upgradeneeded",Qt=>{ie(Et(ht.result),Qt.oldVersion,Qt.newVersion,Et(ht.transaction))}),$&&ht.addEventListener("blocked",()=>$()),en.then(Qt=>{xe&&Qt.addEventListener("close",()=>xe()),_e&&Qt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),en}("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Zt)}})),Jt}function Zn(w,T){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,U.Z)(function*(w,T){const $=me(w),_e=(yield Pn()).transaction(Zt,"readwrite"),xe=_e.objectStore(Zt),ht=yield xe.get($);return yield xe.put(T,$),yield _e.done,(!ht||ht.fid!==T.fid)&&nt(w,T.fid),T})).apply(this,arguments)}function L(w){return X.apply(this,arguments)}function X(){return(X=(0,U.Z)(function*(w){const T=me(w),ie=(yield Pn()).transaction(Zt,"readwrite");yield ie.objectStore(Zt).delete(T),yield ie.done})).apply(this,arguments)}function de(w,T){return He.apply(this,arguments)}function He(){return(He=(0,U.Z)(function*(w,T){const $=me(w),_e=(yield Pn()).transaction(Zt,"readwrite"),xe=_e.objectStore(Zt),ht=yield xe.get($),en=T(ht);return void 0===en?yield xe.delete($):yield xe.put(en,$),yield _e.done,en&&(!ht||ht.fid!==en.fid)&&nt(w,en.fid),en})).apply(this,arguments)}function re(w){return oe.apply(this,arguments)}function oe(){return(oe=(0,U.Z)(function*(w){let T;const $=yield de(w.appConfig,ie=>{const _e=z(ie),xe=Z(w,_e);return T=xe.registrationPromise,xe.installationEntry});return""===$.fid?{installationEntry:yield T}:{installationEntry:$,registrationPromise:T}})).apply(this,arguments)}function z(w){return se(w||{fid:Kn(),registrationStatus:0})}function Z(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Nt.create("app-offline"))};const $={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},ie=function G(w,T){return be.apply(this,arguments)}(w,$);return{installationEntry:$,registrationPromise:ie}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:dt(w)}:{installationEntry:T}}function be(){return(be=(0,U.Z)(function*(w,T){try{const $=yield xt(w,T);return Zn(w.appConfig,$)}catch($){throw nn($)&&409===$.customData.serverCode?yield L(w.appConfig):yield Zn(w.appConfig,{fid:T.fid,registrationStatus:0}),$}})).apply(this,arguments)}function dt(w){return jt.apply(this,arguments)}function jt(){return(jt=(0,U.Z)(function*(w){let T=yield sn(w.appConfig);for(;1===T.registrationStatus;)yield jn(100),T=yield sn(w.appConfig);if(0===T.registrationStatus){const{installationEntry:$,registrationPromise:ie}=yield re(w);return ie||$}return T})).apply(this,arguments)}function sn(w){return de(w,T=>{if(!T)throw Nt.create("installation-not-found");return se(T)})}function se(w){return function he(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function te(w,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,U.Z)(function*({appConfig:w,heartbeatServiceProvider:T},$){const ie=Ke(w,$),_e=cn(w,$),xe=T.getImmediate({optional:!0});if(xe){const En=yield xe.getHeartbeatsHeader();En&&_e.append("x-firebase-client",En)}const en={method:"POST",headers:_e,body:JSON.stringify({installation:{sdkVersion:Je,appId:w.appId}})},Qt=yield xn(()=>fetch(ie,en));if(Qt.ok)return un(yield Qt.json());throw yield Ln("Generate Auth Token",Qt)})).apply(this,arguments)}function Ke(w,{fid:T}){return`${ln(w)}/${T}/authTokens:generate`}function Vt(w){return yn.apply(this,arguments)}function yn(){return(yn=(0,U.Z)(function*(w,T=!1){let $;const ie=yield de(w.appConfig,xe=>{if(!Fn(xe))throw Nt.create("not-registered");const ht=xe.authToken;if(!T&&qn(ht))return xe;if(1===ht.requestStatus)return $=Ve(w,T),xe;{if(!navigator.onLine)throw Nt.create("app-offline");const en=Bn(xe);return $=It(w,en),en}});return $?yield $:ie.authToken})).apply(this,arguments)}function Ve(w,T){return Le.apply(this,arguments)}function Le(){return(Le=(0,U.Z)(function*(w,T){let $=yield St(w.appConfig);for(;1===$.authToken.requestStatus;)yield jn(100),$=yield St(w.appConfig);const ie=$.authToken;return 0===ie.requestStatus?Vt(w,T):ie})).apply(this,arguments)}function St(w){return de(w,T=>{if(!Fn(T))throw Nt.create("not-registered");return function Rr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function It(w,T){return wn.apply(this,arguments)}function wn(){return(wn=(0,U.Z)(function*(w,T){try{const $=yield te(w,T),ie=Object.assign(Object.assign({},T),{authToken:$});return yield Zn(w.appConfig,ie),$}catch($){if(!nn($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const ie=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Zn(w.appConfig,ie)}else yield L(w.appConfig);throw $}})).apply(this,arguments)}function Fn(w){return void 0!==w&&2===w.registrationStatus}function qn(w){return 2===w.requestStatus&&!function br(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function Bn(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function Wr(){return(Wr=(0,U.Z)(function*(w){const T=w,{installationEntry:$,registrationPromise:ie}=yield re(T);return ie?ie.catch(console.error):Vt(T).catch(console.error),$.fid})).apply(this,arguments)}function Ns(){return(Ns=(0,U.Z)(function*(w,T=!1){const $=w;return yield Qn($),(yield Vt($,T)).token})).apply(this,arguments)}function Qn(w){return ui.apply(this,arguments)}function ui(){return(ui=(0,U.Z)(function*(w){const{registrationPromise:T}=yield re(w);T&&(yield T)})).apply(this,arguments)}function Zr(w){return Nt.create("missing-app-config-values",{valueName:w})}const $r="installations",Xr=w=>{const T=w.getProvider("app").getImmediate(),$=function ss(w){if(!w||!w.options)throw Zr("App Configuration");if(!w.name)throw Zr("App Name");const T=["projectId","apiKey","appId"];for(const $ of T)if(!w.options[$])throw Zr($);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:$,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},os=w=>{const T=w.getProvider("app").getImmediate(),$=(0,ce._getProvider)(T,$r).getImmediate();return{getId:()=>function Gr(w){return Wr.apply(this,arguments)}($),getToken:_e=>function Or(w){return Ns.apply(this,arguments)}($,_e)}};(function Nr(){(0,ce._registerComponent)(new we.wA($r,Xr,"PUBLIC")),(0,ce._registerComponent)(new we.wA("installations-internal",os,"PRIVATE"))})(),(0,ce.registerVersion)(ur,"0.6.4"),(0,ce.registerVersion)(ur,"0.6.4","esm2017");const Bi="@firebase/remote-config",dr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ea{constructor(T,$,ie,_e){this.client=T,this.storage=$,this.storageCache=ie,this.logger=_e}isCachedDataFresh(T,$){if(!$)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-$,_e=ie<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${_e}.`),_e}fetch(T){var $=this;return(0,U.Z)(function*(){const[ie,_e]=yield Promise.all([$.storage.getLastSuccessfulFetchTimestampMillis(),$.storage.getLastSuccessfulFetchResponse()]);if(_e&&$.isCachedDataFresh(T.cacheMaxAgeMillis,ie))return _e;T.eTag=_e&&_e.eTag;const xe=yield $.client.fetch(T),ht=[$.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&ht.push($.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(ht),xe})()}}function as(w=navigator){return w.languages&&w.languages[0]||w.language}class Lo{constructor(T,$,ie,_e,xe,ht){this.firebaseInstallations=T,this.sdkVersion=$,this.namespace=ie,this.projectId=_e,this.apiKey=xe,this.appId=ht}fetch(T){var $=this;return(0,U.Z)(function*(){const[ie,_e]=yield Promise.all([$.firebaseInstallations.getId(),$.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${$.projectId}/namespaces/${$.namespace}:fetch?key=${$.apiKey}`,en={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Qt={sdk_version:$.sdkVersion,app_instance_id:ie,app_instance_id_token:_e,app_id:$.appId,language_code:as()},En={method:"POST",headers:en,body:JSON.stringify(Qt)},Dn=fetch(ht,En),Gn=new Promise((uo,Pa)=>{T.signal.addEventListener(()=>{const gu=new Error("The operation was aborted.");gu.name="AbortError",Pa(gu)})});let gs;try{yield Promise.race([Dn,Gn]),gs=yield Dn}catch(uo){let Pa="fetch-client-network";throw"AbortError"===uo?.name&&(Pa="fetch-timeout"),dr.create(Pa,{originalErrorMessage:uo?.message})}let _i=gs.status;const Ui=gs.headers.get("ETag")||void 0;let ha,pu;if(200===gs.status){let uo;try{uo=yield gs.json()}catch(Pa){throw dr.create("fetch-client-parse",{originalErrorMessage:Pa?.message})}ha=uo.entries,pu=uo.state}if("INSTANCE_STATE_UNSPECIFIED"===pu?_i=500:"NO_CHANGE"===pu?_i=304:("NO_TEMPLATE"===pu||"EMPTY_CONFIG"===pu)&&(ha={}),304!==_i&&200!==_i)throw dr.create("fetch-status",{httpStatus:_i});return{status:_i,eTag:Ui,config:ha}})()}}class Co{constructor(T,$){this.client=T,this.storage=$}fetch(T){var $=this;return(0,U.Z)(function*(){const ie=(yield $.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return $.attemptFetch(T,ie)})()}attemptFetch(T,{throttleEndTimeMillis:$,backoffCount:ie}){var _e=this;return(0,U.Z)(function*(){yield function us(w,T){return new Promise(($,ie)=>{const _e=Math.max(T-Date.now(),0),xe=setTimeout($,_e);w.addEventListener(()=>{clearTimeout(xe),ie(dr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,$);try{const xe=yield _e.client.fetch(T);return yield _e.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Vo(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(xe))throw xe;const ht={throttleEndTimeMillis:Date.now()+(0,ae.$s)(ie),backoffCount:ie+1};return yield _e.storage.setThrottleMetadata(ht),_e.attemptFetch(T,ht)}})()}}class qs{constructor(T,$,ie,_e,xe){this.app=T,this._client=$,this._storageCache=ie,this._storage=_e,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kr(w,T){const $=w.target.error||void 0;return dr.create(T,{originalErrorMessage:$&&$?.message})}const qi="app_namespace_store";class ta{constructor(T,$,ie,_e=function co(){return new Promise((w,T)=>{try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=ie=>{T(kr(ie,"storage-open"))},$.onsuccess=ie=>{w(ie.target.result)},$.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(qi,{keyPath:"compositeKey"})}}catch($){T(dr.create("storage-open",{originalErrorMessage:$?.message}))}})}()){this.appId=T,this.appName=$,this.namespace=ie,this.openDbPromise=_e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var $=this;return(0,U.Z)(function*(){const ie=yield $.openDbPromise;return new Promise((_e,xe)=>{const en=ie.transaction([qi],"readonly").objectStore(qi),Qt=$.createCompositeKey(T);try{const En=en.get(Qt);En.onerror=Dn=>{xe(kr(Dn,"storage-get"))},En.onsuccess=Dn=>{const Gn=Dn.target.result;_e(Gn?Gn.value:void 0)}}catch(En){xe(dr.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(T,$){var ie=this;return(0,U.Z)(function*(){const _e=yield ie.openDbPromise;return new Promise((xe,ht)=>{const Qt=_e.transaction([qi],"readwrite").objectStore(qi),En=ie.createCompositeKey(T);try{const Dn=Qt.put({compositeKey:En,value:$});Dn.onerror=Gn=>{ht(kr(Gn,"storage-set"))},Dn.onsuccess=()=>{xe()}}catch(Dn){ht(dr.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(T){var $=this;return(0,U.Z)(function*(){const ie=yield $.openDbPromise;return new Promise((_e,xe)=>{const en=ie.transaction([qi],"readwrite").objectStore(qi),Qt=$.createCompositeKey(T);try{const En=en.delete(Qt);En.onerror=Dn=>{xe(kr(Dn,"storage-delete"))},En.onsuccess=()=>{_e()}}catch(En){xe(dr.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class pr{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,U.Z)(function*(){const $=T.storage.getLastFetchStatus(),ie=T.storage.getLastSuccessfulFetchTimestampMillis(),_e=T.storage.getActiveConfig(),xe=yield $;xe&&(T.lastFetchStatus=xe);const ht=yield ie;ht&&(T.lastSuccessfulFetchTimestampMillis=ht);const en=yield _e;en&&(T.activeConfig=en)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function hi(){return ho.apply(this,arguments)}function ho(){return(ho=(0,U.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}let ki,ti;!function Ys(){(0,ce._registerComponent)(new we.wA("remote-config",function w(T,{instanceIdentifier:$}){const ie=T.getProvider("app").getImmediate(),_e=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dr.create("registration-window");if(!(0,ae.hl)())throw dr.create("indexed-db-unavailable");const{projectId:xe,apiKey:ht,appId:en}=ie.options;if(!xe)throw dr.create("registration-project-id");if(!ht)throw dr.create("registration-api-key");if(!en)throw dr.create("registration-app-id");const Qt=new ta(en,ie.name,$=$||"firebase"),En=new pr(Qt),Dn=new De.Yd(Bi);Dn.logLevel=De.in.ERROR;const Gn=new Lo(_e,ce.SDK_VERSION,$,xe,ht,en),gs=new Co(Gn,Qt),_i=new ea(gs,Qt,En,Dn),Ui=new qs(ie,_i,En,Qt,Dn);return function sr(w){const T=(0,ae.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ui),Ui},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Bi,"0.4.4"),(0,ce.registerVersion)(Bi,"0.4.4","esm2017")}();const Qs=new WeakMap,gi=new WeakMap,zr=new WeakMap,Es=new WeakMap,Rn=new WeakMap;let Ei={get(w,T,$){if(w instanceof IDBTransaction){if("done"===T)return gi.get(w);if("objectStoreNames"===T)return w.objectStoreNames||zr.get(w);if("store"===T)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return cs(w[T])},set:(w,T,$)=>(w[T]=$,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function To(w){return"function"==typeof w?function Us(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uo(){return ti||(ti=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(Bo(this),T),cs(Qs.get(this))}:function(...T){return cs(w.apply(Bo(this),T))}:function(T,...$){const ie=w.call(Bo(this),T,...$);return zr.set(ie,T.sort?T.sort():[T]),cs(ie)}}(w):(w instanceof IDBTransaction&&function Vs(w){if(gi.has(w))return;const T=new Promise(($,ie)=>{const _e=()=>{w.removeEventListener("complete",xe),w.removeEventListener("error",ht),w.removeEventListener("abort",ht)},xe=()=>{$(),_e()},ht=()=>{ie(w.error||new DOMException("AbortError","AbortError")),_e()};w.addEventListener("complete",xe),w.addEventListener("error",ht),w.addEventListener("abort",ht)});gi.set(w,T)}(w),((w,T)=>T.some($=>w instanceof $))(w,function ya(){return ki||(ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ei):w)}function cs(w){if(w instanceof IDBRequest)return function Js(w){const T=new Promise(($,ie)=>{const _e=()=>{w.removeEventListener("success",xe),w.removeEventListener("error",ht)},xe=()=>{$(cs(w.result)),_e()},ht=()=>{ie(w.error),_e()};w.addEventListener("success",xe),w.addEventListener("error",ht)});return T.then($=>{$ instanceof IDBCursor&&Qs.set($,w)}).catch(()=>{}),Rn.set(T,w),T}(w);if(Es.has(w))return Es.get(w);const T=To(w);return T!==w&&(Es.set(w,T),Rn.set(T,w)),T}const Bo=w=>Rn.get(w);function Dt(w,T,{blocked:$,upgrade:ie,blocking:_e,terminated:xe}={}){const ht=indexedDB.open(w,T),en=cs(ht);return ie&&ht.addEventListener("upgradeneeded",Qt=>{ie(cs(ht.result),Qt.oldVersion,Qt.newVersion,cs(ht.transaction))}),$&&ht.addEventListener("blocked",()=>$()),en.then(Qt=>{xe&&Qt.addEventListener("close",()=>xe()),_e&&Qt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),en}function Jn(w,{blocked:T}={}){const $=indexedDB.deleteDatabase(w);return T&&$.addEventListener("blocked",()=>T()),cs($).then(()=>{})}const jo=["get","getKey","getAll","getAllKeys","count"],Yi=["put","add","delete","clear"],Pr=new Map;function k(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(Pr.get(T))return Pr.get(T);const $=T.replace(/FromIndex$/,""),ie=T!==$,_e=Yi.includes($);if(!($ in(ie?IDBIndex:IDBObjectStore).prototype)||!_e&&!jo.includes($))return;const xe=function(){var ht=(0,U.Z)(function*(en,...Qt){const En=this.transaction(en,_e?"readwrite":"readonly");let Dn=En.store;return ie&&(Dn=Dn.index(Qt.shift())),(yield Promise.all([Dn[$](...Qt),_e&&En.done]))[0]});return function(Qt){return ht.apply(this,arguments)}}();return Pr.set(T,xe),xe}!function Fr(w){Ei=w(Ei)}(w=>({...w,get:(T,$,ie)=>k(T,$)||w.get(T,$,ie),has:(T,$)=>!!k(T,$)||w.has(T,$)}));const P="/firebase-messaging-sw.js",M="/firebase-cloud-messaging-push-scope",q="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",on="google.c.a.c_id",Yn="google.c.a.c_l",Xs="google.c.a.ts",ws="google.c.a.e";var wi=(()=>{return(w=wi||(wi={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",wi;var w})();function Qi(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bs(w){const $=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob($),_e=new Uint8Array(ie.length);for(let xe=0;xe<ie.length;++xe)_e[xe]=ie.charCodeAt(xe);return _e}const ni="fcm_token_details_db",Va="fcm_token_object_Store";function va(w){return $o.apply(this,arguments)}function $o(){return $o=(0,U.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(ni))return null;let T=null;return(yield Dt(ni,5,{upgrade:(ie=(0,U.Z)(function*(_e,xe,ht,en){var Qt;if(xe<2||!_e.objectStoreNames.contains(Va))return;const En=en.objectStore(Va),Dn=yield En.index("fcmSenderId").get(w);if(yield En.clear(),Dn)if(2===xe){const Gn=Dn;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;T={token:Gn.fcmToken,createTime:null!==(Qt=Gn.createTime)&&void 0!==Qt?Qt:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:Qi(Gn.vapidKey)}}}else if(3===xe){const Gn=Dn;T={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Qi(Gn.auth),p256dh:Qi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Qi(Gn.vapidKey)}}}else if(4===xe){const Gn=Dn;T={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Qi(Gn.auth),p256dh:Qi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Qi(Gn.vapidKey)}}}}),function(xe,ht,en,Qt){return ie.apply(this,arguments)})})).close(),yield Jn(ni),yield Jn("fcm_vapid_details_db"),yield Jn("undefined"),Ho(T)?T:null;var ie}),$o.apply(this,arguments)}function Ho(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Fi="firebase-messaging-store";let js=null;function _a(){return js||(js=Dt("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Fi)}})),js}function eo(w){return zo.apply(this,arguments)}function zo(){return(zo=(0,U.Z)(function*(w){const T=Ua(w),ie=yield(yield _a()).transaction(Fi).objectStore(Fi).get(T);if(ie)return ie;{const _e=yield va(w.appConfig.senderId);if(_e)return yield fo(w,_e),_e}})).apply(this,arguments)}function fo(w,T){return So.apply(this,arguments)}function So(){return(So=(0,U.Z)(function*(w,T){const $=Ua(w),_e=(yield _a()).transaction(Fi,"readwrite");return yield _e.objectStore(Fi).put(T,$),yield _e.done,T})).apply(this,arguments)}function xi(w){return ds.apply(this,arguments)}function ds(){return(ds=(0,U.Z)(function*(w){const T=Ua(w),ie=(yield _a()).transaction(Fi,"readwrite");yield ie.objectStore(Fi).delete(T),yield ie.done})).apply(this,arguments)}function Ua({appConfig:w}){return w.appId}const gr=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ii(w,T){return vr.apply(this,arguments)}function vr(){return(vr=(0,U.Z)(function*(w,T){const $=yield Ds(w),ie=to(T),_e={method:"POST",headers:$,body:JSON.stringify(ie)};let xe;try{xe=yield(yield fetch(Ea(w.appConfig),_e)).json()}catch(ht){throw gr.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(xe.error)throw gr.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw gr.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Er(w,T){return ra.apply(this,arguments)}function ra(){return(ra=(0,U.Z)(function*(w,T){const $=yield Ds(w),ie=to(T.subscriptionOptions),_e={method:"PATCH",headers:$,body:JSON.stringify(ie)};let xe;try{xe=yield(yield fetch(`${Ea(w.appConfig)}/${T.token}`,_e)).json()}catch(ht){throw gr.create("token-update-failed",{errorInfo:ht?.toString()})}if(xe.error)throw gr.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw gr.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Mo(w,T){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,U.Z)(function*(w,T){const ie={method:"DELETE",headers:yield Ds(w)};try{const xe=yield(yield fetch(`${Ea(w.appConfig)}/${T}`,ie)).json();if(xe.error)throw gr.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(_e){throw gr.create("token-unsubscribe-failed",{errorInfo:_e?.toString()})}})).apply(this,arguments)}function Ea({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Ds(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,U.Z)(function*({appConfig:w,installations:T}){const $=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${$}`})})).apply(this,arguments)}function to({p256dh:w,auth:T,endpoint:$,vapidKey:ie}){const _e={web:{endpoint:$,auth:T,p256dh:w}};return ie!==q&&(_e.web.applicationPubKey=ie),_e}const ia=6048e5;function hs(w){return $i.apply(this,arguments)}function $i(){return($i=(0,U.Z)(function*(w){const T=yield xo(w.swRegistration,w.vapidKey),$={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Qi(T.getKey("auth")),p256dh:Qi(T.getKey("p256dh"))},ie=yield eo(w.firebaseDependencies);if(ie){if(b(ie.subscriptionOptions,$))return Date.now()>=ie.createTime+ia?no(w,{token:ie.token,createTime:Date.now(),subscriptionOptions:$}):ie.token;try{yield Mo(w.firebaseDependencies,ie.token)}catch(_e){console.warn(_e)}return ro(w.firebaseDependencies,$)}return ro(w.firebaseDependencies,$)})).apply(this,arguments)}function Di(w){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,U.Z)(function*(w){const T=yield eo(w.firebaseDependencies);T&&(yield Mo(w.firebaseDependencies,T.token),yield xi(w.firebaseDependencies));const $=yield w.swRegistration.pushManager.getSubscription();return!$||$.unsubscribe()})).apply(this,arguments)}function no(w,T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,U.Z)(function*(w,T){try{const $=yield Er(w.firebaseDependencies,T),ie=Object.assign(Object.assign({},T),{token:$,createTime:Date.now()});return yield fo(w.firebaseDependencies,ie),$}catch($){throw yield Di(w),$}})).apply(this,arguments)}function ro(w,T){return po.apply(this,arguments)}function po(){return(po=(0,U.Z)(function*(w,T){const ie={token:yield Ii(w,T),createTime:Date.now(),subscriptionOptions:T};return yield fo(w,ie),ie.token})).apply(this,arguments)}function xo(w,T){return ru.apply(this,arguments)}function ru(){return(ru=(0,U.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bs(T)})})).apply(this,arguments)}function b(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function B(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function x(w,T){if(!T.notification)return;w.notification={};const $=T.notification.title;$&&(w.notification.title=$);const ie=T.notification.body;ie&&(w.notification.body=ie);const _e=T.notification.image;_e&&(w.notification.image=_e);const xe=T.notification.icon;xe&&(w.notification.icon=xe)}(T,w),function K(w,T){!T.data||(w.data=T.data)}(T,w),function Ie(w,T){var $,ie,_e,xe,ht;if(!(T.fcmOptions||null!==($=T.notification)&&void 0!==$&&$.click_action))return;w.fcmOptions={};const en=null!==(_e=null===(ie=T.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==_e?_e:null===(xe=T.notification)||void 0===xe?void 0:xe.click_action;en&&(w.fcmOptions.link=en);const Qt=null===(ht=T.fcmOptions)||void 0===ht?void 0:ht.analytics_label;Qt&&(w.fcmOptions.analyticsLabel=Qt)}(T,w),T}function ot(w){return"object"==typeof w&&!!w&&on in w}function vt(w,T){const $=[];for(let ie=0;ie<w.length;ie++)$.push(w.charAt(ie)),ie<T.length&&$.push(T.charAt(ie));return $.join("")}function mr(w){return gr.create("missing-app-config-values",{valueName:w})}vt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nr{constructor(T,$,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _e=function vn(w){if(!w||!w.options)throw mr("App Configuration Object");if(!w.name)throw mr("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:$}=w;for(const ie of T)if(!$[ie])throw mr(ie);return{appName:w.name,projectId:$.projectId,apiKey:$.apiKey,appId:$.appId,senderId:$.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:_e,installations:$,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function wr(w){return In.apply(this,arguments)}function In(){return(In=(0,U.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(P,{scope:M}),w.swRegistration.update().catch(()=>{})}catch(T){throw gr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Sr(w,T){return $n.apply(this,arguments)}function $n(){return($n=(0,U.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield wr(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Yr(w,T){return fs.apply(this,arguments)}function fs(){return(fs=(0,U.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=q)})).apply(this,arguments)}function Ir(){return(Ir=(0,U.Z)(function*(w,T){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield Yr(w,T?.vapidKey),yield Sr(w,T?.serviceWorkerRegistration),hs(w)})).apply(this,arguments)}function Lr(w,T,$){return go.apply(this,arguments)}function go(){return(go=(0,U.Z)(function*(w,T,$){const ie=tn(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:$[on],message_name:$[Yn],message_time:$[Xs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tn(w){switch(w){case wi.NOTIFICATION_CLICKED:return"notification_open";case wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sa(){return(sa=(0,U.Z)(function*(w,T){const $=T.data;if(!$.isFirebaseMessaging)return;w.onMessageHandler&&$.messageType===wi.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(B($)):w.onMessageHandler.next(B($)));const ie=$.data;ot(ie)&&"1"===ie[ws]&&(yield Lr(w,$.messageType,ie))})).apply(this,arguments)}const qt="@firebase/messaging",Rt=w=>{const T=new nr(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",$=>function pn(w,T){return sa.apply(this,arguments)}(T,$)),T},ri=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:ie=>function Mt(w,T){return Ir.apply(this,arguments)}(T,ie)}};function Mu(){return wa.apply(this,arguments)}function wa(){return(wa=(0,U.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Su(){(0,ce._registerComponent)(new we.wA("messaging",Rt,"PUBLIC")),(0,ce._registerComponent)(new we.wA("messaging-internal",ri,"PRIVATE")),(0,ce.registerVersion)(qt,"0.12.4"),(0,ce.registerVersion)(qt,"0.12.4","esm2017")}();const Nn="analytics",bs="firebase_id",_n="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ts="https://www.googletagmanager.com/gtag/js",Tn=new De.Yd("@firebase/analytics"),or=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yt(w){if(!w.startsWith(Ts)){const T=or.create("invalid-gtag-resource",{gtagURL:w});return Tn.warn(T.message),""}return w}function Ji(w){return Promise.all(w.map(T=>T.catch($=>$)))}function Ia(w,T){const $=function Zo(w,T){let $;return window.trustedTypes&&($=window.trustedTypes.createPolicy(w,T)),$}("firebase-js-sdk-policy",{createScriptURL:Yt}),ie=document.createElement("script"),_e=`${Ts}?l=${w}&id=${T}`;ie.src=$?$?.createScriptURL(_e):_e,ie.async=!0,document.head.appendChild(ie)}function Ro(w,T,$,ie,_e,xe){return Da.apply(this,arguments)}function Da(){return(Da=(0,U.Z)(function*(w,T,$,ie,_e,xe){const ht=ie[_e];try{if(ht)yield T[ht];else{const Qt=(yield Ji($)).find(En=>En.measurementId===_e);Qt&&(yield T[Qt.appId])}}catch(en){Tn.error(en)}w("config",_e,xe)})).apply(this,arguments)}function xu(w,T,$,ie,_e){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,U.Z)(function*(w,T,$,ie,_e){try{let xe=[];if(_e&&_e.send_to){let ht=_e.send_to;Array.isArray(ht)||(ht=[ht]);const en=yield Ji($);for(const Qt of ht){const En=en.find(Gn=>Gn.measurementId===Qt),Dn=En&&T[En.appId];if(!Dn){xe=[];break}xe.push(Dn)}}0===xe.length&&(xe=Object.values(T)),yield Promise.all(xe),w("event",ie,_e||{})}catch(xe){Tn.error(xe)}})).apply(this,arguments)}function nl(w){const T=window.document.getElementsByTagName("script");for(const $ of Object.values(T))if($.src&&$.src.includes(Ts)&&$.src.includes(w))return $;return null}const si=new class qo{constructor(T={},$=1e3){this.throttleMetadata=T,this.intervalMillis=$}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,$){this.throttleMetadata[T]=$}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ye(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function io(w){return so.apply(this,arguments)}function so(){return(so=(0,U.Z)(function*(w){var T;const{appId:$,apiKey:ie}=w,_e={method:"GET",headers:Ye(ie)},xe=_n.replace("{app-id}",$),ht=yield fetch(xe,_e);if(200!==ht.status&&304!==ht.status){let en="";try{const Qt=yield ht.json();null!==(T=Qt.error)&&void 0!==T&&T.message&&(en=Qt.error.message)}catch{}throw or.create("config-fetch-failed",{httpStatus:ht.status,responseMessage:en})}return ht.json()})).apply(this,arguments)}function Ga(w){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,U.Z)(function*(w,T=si,$){const{appId:ie,apiKey:_e,measurementId:xe}=w.options;if(!ie)throw or.create("no-app-id");if(!_e){if(xe)return{measurementId:xe,appId:ie};throw or.create("no-api-key")}const ht=T.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new su;return setTimeout((0,U.Z)(function*(){en.abort()}),void 0!==$?$:6e4),Li({appId:ie,apiKey:_e,measurementId:xe},ht,en,T)})).apply(this,arguments)}function Li(w,T,$){return iu.apply(this,arguments)}function iu(){return(iu=(0,U.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:$},ie,_e=si){var xe;const{appId:ht,measurementId:en}=w;try{yield $s(ie,T)}catch(Qt){if(en)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:ht,measurementId:en};throw Qt}try{const Qt=yield io(w);return _e.deleteThrottleMetadata(ht),Qt}catch(Qt){const En=Qt;if(!ba(En)){if(_e.deleteThrottleMetadata(ht),en)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:ht,measurementId:en};throw Qt}const Dn=503===Number(null===(xe=En?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,ae.$s)($,_e.intervalMillis,30):(0,ae.$s)($,_e.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+Dn,backoffCount:$+1};return _e.setThrottleMetadata(ht,Gn),Tn.debug(`Calling attemptFetch again in ${Dn} millis`),Li(w,Gn,ie,_e)}})).apply(this,arguments)}function $s(w,T){return new Promise(($,ie)=>{const _e=Math.max(T-Date.now(),0),xe=setTimeout($,_e);w.addEventListener(()=>{clearTimeout(xe),ie(or.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ba(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class su{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Pu,lt;function Xi(){return(Xi=(0,U.Z)(function*(w,T,$,ie,_e){if(_e&&_e.global)w("event",$,ie);else{const xe=yield T;w("event",$,Object.assign(Object.assign({},ie),{send_to:xe}))}})).apply(this,arguments)}function Wt(w){lt=w}function Hn(w){Pu=w}function hn(){return hr.apply(this,arguments)}function hr(){return(hr=(0,U.Z)(function*(){if(!(0,ae.hl)())return Tn.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return Tn.warn(or.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function fi(){return(fi=(0,U.Z)(function*(w,T,$,ie,_e,xe,ht){var en;const Qt=Ga(w);Qt.then(_i=>{$[_i.measurementId]=_i.appId,w.options.measurementId&&_i.measurementId!==w.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${_i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_i=>Tn.error(_i)),T.push(Qt);const En=hn().then(_i=>{if(_i)return ie.getId()}),[Dn,Gn]=yield Promise.all([Qt,En]);nl(xe)||Ia(xe,Dn.measurementId),lt&&(_e("consent","default",lt),Wt(void 0)),_e("js",new Date);const gs=null!==(en=ht?.config)&&void 0!==en?en:{};return gs.origin="firebase",gs.update=!0,null!=Gn&&(gs[bs]=Gn),_e("config",Dn.measurementId,gs),Pu&&(_e("set",Pu),Hn(void 0)),Dn.measurementId})).apply(this,arguments)}class oo{constructor(T){this.app=T}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},Ou=[];const Ta={};let ou,Ss,Aa="dataLayer",au=!1;function Fl(w,T,$){!function Nu(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((ie,_e)=>`(${_e+1}) ${ie}`).join(" "),$=or.create("invalid-analytics-context",{errorInfo:T});Tn.warn($.message)}}();const ie=w.options.appId;if(!ie)throw or.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw or.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[ie])throw or.create("already-exists",{id:ie});if(!au){!function Mr(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(Aa);const{wrappedGtag:xe,gtagCore:ht}=function ps(w,T,$,ie,_e){let xe=function(...ht){window[ie].push(arguments)};return window[_e]&&"function"==typeof window[_e]&&(xe=window[_e]),window[_e]=function Ru(w,T,$,ie){function xe(){return(xe=(0,U.Z)(function*(ht,...en){try{if("event"===ht){const[Qt,En]=en;yield xu(w,T,$,Qt,En)}else if("config"===ht){const[Qt,En]=en;yield Ro(w,T,$,ie,Qt,En)}else if("consent"===ht){const[Qt]=en;w("consent","update",Qt)}else if("get"===ht){const[Qt,En,Dn]=en;w("get",Qt,En,Dn)}else if("set"===ht){const[Qt]=en;w("set",Qt)}else w(ht,...en)}catch(Qt){Tn.error(Qt)}})).apply(this,arguments)}return function _e(ht){return xe.apply(this,arguments)}}(xe,w,T,$),{gtagCore:xe,wrappedGtag:window[_e]}}(Qr,Ou,Ta,Aa,"gtag");Ss=xe,ou=ht,au=!0}return Qr[ie]=function As(w,T,$,ie,_e,xe,ht){return fi.apply(this,arguments)}(w,Ou,Ta,T,ou,Aa,$),new oo(w)}function Hi(){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,U.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const ol="@firebase/analytics";!function bi(){(0,ce._registerComponent)(new we.wA(Nn,(T,{options:$})=>Fl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),$),"PUBLIC")),(0,ce._registerComponent)(new we.wA("analytics-internal",function w(T){try{const $=T.getProvider(Nn).getImmediate();return{logEvent:(ie,_e,xe)=>function Po(w,T,$,ie){w=(0,ae.m9)(w),function kl(w,T,$,ie,_e){return Xi.apply(this,arguments)}(Ss,Qr[w.app.options.appId],T,$,ie).catch(_e=>Tn.error(_e))}($,ie,_e,xe)}}catch($){throw or.create("interop-component-reg-failed",{reason:$})}},"PRIVATE")),(0,ce.registerVersion)(ol,"0.10.0"),(0,ce.registerVersion)(ol,"0.10.0","esm2017")}();var lu=R(4408),ai=R(7565);const ku=new class Ma extends ai.v{}(class mo extends lu.o{constructor(T,$){super(T,$),this.scheduler=T,this.work=$}schedule(T,$=0){return $>0?super.schedule(T,$):(this.delay=$,this.state=T,this.scheduler.flush(this),this)}execute(T,$){return $>0||this.closed?super.execute(T,$):this._execute(T,$)}requestAsyncId(T,$,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(T,$,ie):(T.flush(this),0)}});var al=R(4986),Ul=R(8505),Yo=R(9468),Qo=R(5363);const xa=new d.GfV("7.6.1"),ao="__angularfire_symbol__analyticsIsSupportedValue",yo="__angularfire_symbol__analyticsIsSupported",la="__angularfire_symbol__remoteConfigIsSupportedValue",Jo="__angularfire_symbol__remoteConfigIsSupported",cu="__angularfire_symbol__messagingIsSupportedValue",Ka="__angularfire_symbol__messagingIsSupported";function ul(w,T,$){if(T){if(1===T.length)return T[0];const xe=T.filter(ht=>ht.app===$);if(1===xe.length)return xe[0]}return $.container.getProvider(w).getImmediate({optional:!0})}globalThis[yo]||(globalThis[yo]=Hi().then(w=>globalThis[ao]=w).catch(()=>globalThis[ao]=!1)),globalThis[Ka]||(globalThis[Ka]=Mu().then(w=>globalThis[cu]=w).catch(()=>globalThis[cu]=!1)),globalThis[Jo]||(globalThis[Jo]=hi().then(w=>globalThis[la]=w).catch(()=>globalThis[la]=!1));const hu=(w,T)=>{const $=T?[T]:(0,F.C6)(),ie=[];return $.forEach(_e=>{_e.container.getProvider(w).instances.forEach(ht=>{ie.includes(ht)||ie.push(ht)})}),ie};function fu(){}class ll{constructor(T,$=ku){this.zone=T,this.delegate=$}now(){return this.delegate.now()}schedule(T,$,ie){const _e=this.zone;return this.delegate.schedule(function(ht){_e.runGuarded(()=>{T.apply(this,[ht])})},$,ie)}}class Vu{constructor(T){this.zone=T,this.task=null}call(T,$){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)),$.pipe((0,Ul.b)({next:ie,complete:ie,error:ie})).subscribe(T).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let td=(()=>{class w{constructor($){this.ngZone=$,this.outsideAngular=$.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=$.run(()=>new ll(Zone.current,al.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function($){return new($||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ca(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function cl(w){return ca(),function qr(w){return function($){return($=$.lift(new Vu(w.ngZone))).pipe((0,Yo.R)(w.outsideAngular),(0,Qo.Q)(w.insideAngular))}}(ca())(w)}},1389:(Ut,ke,R)=>{R.d(ke,{$:()=>P,A:()=>ue,D:()=>ze,I:()=>jr,J:()=>Xr,L:()=>di,N:()=>de,P:()=>As,Q:()=>ta,R:()=>_,U:()=>ji,V:()=>hi,W:()=>ho,X:()=>ls,Y:()=>ya,Z:()=>Uo,_:()=>Rn,a:()=>oa,a0:()=>q,a1:()=>on,a2:()=>mi,a3:()=>Va,a4:()=>$o,a5:()=>Go,a6:()=>Fi,a7:()=>_a,a8:()=>zo,a9:()=>So,aA:()=>Ce,aB:()=>la,aC:()=>L,aD:()=>He,aE:()=>Yo,aF:()=>Vl,aG:()=>oi,aH:()=>Tr,aL:()=>Ko,aO:()=>ki,aa:()=>xi,ab:()=>Ua,ac:()=>na,ad:()=>Er,ae:()=>Mo,af:()=>Ea,ai:()=>ia,aj:()=>$i,ak:()=>Di,an:()=>Us,ao:()=>x,aq:()=>fs,ar:()=>qt,as:()=>pt,at:()=>se,au:()=>dt,av:()=>ge,aw:()=>gs,ax:()=>du,ay:()=>he,az:()=>st,b:()=>tl,c:()=>Ss,d:()=>Fl,e:()=>Vi,f:()=>ol,g:()=>Ma,h:()=>lu,i:()=>rl,j:()=>al,k:()=>uo,l:()=>W,m:()=>Rf,p:()=>ee,r:()=>ve,s:()=>A,u:()=>hn});var d=R(5861),F=R(2090),U=R(6881),ce=R(7582),ae=R(1877),we=R(4859);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wt=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ae.Yd("@firebase/auth");function mt(v,...h){Se.logLevel<=ae.in.ERROR&&Se.error(`Auth (${U.SDK_VERSION}): ${v}`,...h)}function ge(v,...h){throw Fe(v,...h)}function st(v,...h){return Fe(v,...h)}function at(v,h,g){const I=Object.assign(Object.assign({},We()),{[h]:g});return new F.LL("auth","Firebase",I).create(h,{appName:v.name})}function Et(v,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ge(v,"argument-error"),at(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(v,...h){if("string"!=typeof v){const g=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(g,...I)}return wt.create(v,...h)}function Ce(v,h,...g){if(!v)throw Fe(h,...g)}function Me(v){const h="INTERNAL ASSERTION FAILED: "+v;throw mt(h),new Error(h)}function pt(v,h){v||Me(h)}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Bt(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Be{constructor(h,g){this.shortDelay=h,this.longDelay=g,pt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function ur(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(v,h){pt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class $e{static initialize(h,g,I){this.fetchImpl=h,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_t=new Be(3e4,6e4);function Ct(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function At(v,h,g,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(v,h,g,I,H={}){return Nt(v,H,(0,d.Z)(function*(){let J={},Ne={};I&&("GET"===h?Ne=I:J={body:JSON.stringify(I)});const ct=(0,F.xO)(Object.assign({key:v.config.apiKey},Ne)).slice(1),zt=yield v._getAdditionalHeaders();return zt["Content-Type"]="application/json",v.languageCode&&(zt["X-Firebase-Locale"]=v.languageCode),$e.fetch()(Ln(v,v.config.apiHost,g,ct),Object.assign({method:h,headers:zt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Nt(v,h,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(v,h,g){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},tt),h);try{const H=new rr(v),J=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Ne=yield J.json();if("needConfirmation"in Ne)throw Gt(v,"account-exists-with-different-credential",Ne);if(J.ok&&!("errorMessage"in Ne))return Ne;{const ct=J.ok?Ne.errorMessage:Ne.error.message,[zt,rn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw Gt(v,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===zt)throw Gt(v,"email-already-in-use",Ne);if("USER_DISABLED"===zt)throw Gt(v,"user-disabled",Ne);const An=I[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw at(v,An,rn);ge(v,An)}}catch(H){if(H instanceof F.ZR)throw H;ge(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function ln(v,h,g,I){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(v,h,g,I,H={}){const J=yield At(v,h,g,I,H);return"mfaPendingCredential"in J&&ge(v,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Ln(v,h,g,I){const H=`${h}${g}?${I}`;return v.config.emulator?Je(v.config,H):`${v.config.apiScheme}://${H}`}class rr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(st(this.auth,"network-request-failed")),_t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gt(v,h,g){const I={appName:v.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const H=st(v,h,I);return H.customData._tokenResponse=g,H}function xn(){return(xn=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Vn(v,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _r(v,h){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Mn(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Br(){return(Br=(0,d.Z)(function*(v,h=!1){const g=(0,F.m9)(v),I=yield g.getIdToken(h),H=Kn(I);Ce(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const J="object"==typeof H.firebase?H.firebase:void 0,Ne=J?.sign_in_provider;return{claims:H,token:I,authTime:Mn(Un(H.auth_time)),issuedAtTime:Mn(Un(H.iat)),expirationTime:Mn(Un(H.exp)),signInProvider:Ne||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Un(v){return 1e3*Number(v)}function Kn(v){const[h,g,I]=v.split(".");if(void 0===h||void 0===g||void 0===I)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,F.tV)(g);return H?JSON.parse(H):(mt("Failed to decode base64 JWT payload"),null)}catch(H){return mt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function me(v,h){return pe.apply(this,arguments)}function pe(){return(pe=(0,d.Z)(function*(v,h,g=!1){if(g)return h;try{return yield h}catch(I){throw I instanceof F.ZR&&nt(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}function nt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ut{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),I)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Xt{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mn(this.lastLoginAt),this.creationTime=Mn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mn(v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(v){var h;const g=v.auth,I=yield v.getIdToken(),H=yield me(v,_r(g,{idToken:I}));Ce(H?.users.length,g,"internal-error");const J=H.users[0];v._notifyReloadListener(J);const Ne=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?tr(J.providerUserInfo):[],ct=dn(v.providerData,Ne),An=!!v.isAnonymous&&!(v.email&&J.passwordHash||ct?.length),yr={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ct,metadata:new Xt(J.createdAt,J.lastLoginAt),isAnonymous:An};Object.assign(v,yr)})).apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(v){const h=(0,F.m9)(v);yield mn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function dn(v,h){return[...v.filter(I=>!h.some(H=>H.providerId===I.providerId)),...h]}function tr(v){return v.map(h=>{var{providerId:g}=h,I=(0,ce._T)(h,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Zt(){return(Zt=(0,d.Z)(function*(v,h){const g=yield Nt(v,{},(0,d.Z)(function*(){const I=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:J}=v.config,Ne=Ln(v,H,"/v1/token",`key=${J}`),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",$e.fetch()(Ne,{method:"POST",headers:ct,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(typeof h.idToken<"u","internal-error"),Ce(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function rt(v){const h=Kn(v);return Ce(h,"internal-error"),Ce(typeof h.exp<"u","internal-error"),Ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var I=this;return(0,d.Z)(function*(){return Ce(!I.accessToken||I.refreshToken,h,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var I=this;return(0,d.Z)(function*(){const{accessToken:H,refreshToken:J,expiresIn:Ne}=yield function kt(v,h){return Zt.apply(this,arguments)}(h,g);I.updateTokensAndExpiration(H,J,Number(Ne))})()}updateTokensAndExpiration(h,g,I){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,g){const{refreshToken:I,accessToken:H,expirationTime:J}=g,Ne=new Jt;return I&&(Ce("string"==typeof I,"internal-error",{appName:h}),Ne.refreshToken=I),H&&(Ce("string"==typeof H,"internal-error",{appName:h}),Ne.accessToken=H),J&&(Ce("number"==typeof J,"internal-error",{appName:h}),Ne.expirationTime=J),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function Pn(v,h){Ce("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class Zn{constructor(h){var{uid:g,auth:I,stsTokenManager:H}=h,J=(0,ce._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Xt(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.Z)(function*(){const I=yield me(g,g.stsTokenManager.getToken(g.auth,h));return Ce(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(h){return function ir(v){return Br.apply(this,arguments)}(this,h)}reload(){return function Ot(v){return On.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Zn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var I=this;return(0,d.Z)(function*(){let H=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield mn(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,d.Z)(function*(){const g=yield h.getIdToken();return yield me(h,function cn(v,h){return xn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var I,H,J,Ne,ct,zt,rn,An;const yr=null!==(I=g.displayName)&&void 0!==I?I:void 0,vo=null!==(H=g.email)&&void 0!==H?H:void 0,Hs=null!==(J=g.phoneNumber)&&void 0!==J?J:void 0,$l=null!==(Ne=g.photoURL)&&void 0!==Ne?Ne:void 0,Ms=null!==(ct=g.tenantId)&&void 0!==ct?ct:void 0,Hl=null!==(zt=g._redirectEventId)&&void 0!==zt?zt:void 0,mu=null!==(rn=g.createdAt)&&void 0!==rn?rn:void 0,od=null!==(An=g.lastLoginAt)&&void 0!==An?An:void 0,{uid:Xo,emailVerified:Sc,isAnonymous:ju,providerData:qa,stsTokenManager:ad}=g;Ce(Xo&&ad,h,"internal-error");const lr=Jt.fromJSON(this.name,ad);Ce("string"==typeof Xo,h,"internal-error"),Pn(yr,h.name),Pn(vo,h.name),Ce("boolean"==typeof Sc,h,"internal-error"),Ce("boolean"==typeof ju,h,"internal-error"),Pn(Hs,h.name),Pn($l,h.name),Pn(Ms,h.name),Pn(Hl,h.name),Pn(mu,h.name),Pn(od,h.name);const ud=new Zn({uid:Xo,auth:h,email:vo,emailVerified:Sc,displayName:yr,isAnonymous:ju,photoURL:$l,phoneNumber:Hs,tenantId:Ms,stsTokenManager:lr,createdAt:mu,lastLoginAt:od});return qa&&Array.isArray(qa)&&(ud.providerData=qa.map(dh=>Object.assign({},dh))),Hl&&(ud._redirectEventId=Hl),ud}static _fromIdTokenResponse(h,g,I=!1){return(0,d.Z)(function*(){const H=new Jt;H.updateFromServerResponse(g);const J=new Zn({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:I});return yield mn(J),J})()}}const Xe=new Map;function L(v){pt(v instanceof Function,"Expected a class definition");let h=Xe.get(v);return h?(pt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,Xe.set(v,h),h)}const de=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,I){var H=this;return(0,d.Z)(function*(){H.storage[g]=I})()}_get(g){var I=this;return(0,d.Z)(function*(){const H=I.storage[g];return void 0===H?null:H})()}_remove(g){var I=this;return(0,d.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return v.type="NONE",v})();function He(v,h,g){return`firebase:${v}:${h}:${g}`}class re{constructor(h,g,I){this.persistence=h,this.auth=g,this.userKey=I;const{config:H,name:J}=this.auth;this.fullUserKey=He(this.userKey,H.apiKey,J),this.fullPersistenceKey=He("persistence",H.apiKey,J),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Zn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.Z)(function*(){if(g.persistence===h)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,I="authUser"){return(0,d.Z)(function*(){if(!g.length)return new re(L(de),h,I);const H=(yield Promise.all(g.map(function(){var rn=(0,d.Z)(function*(An){if(yield An._isAvailable())return An});return function(An){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let J=H[0]||L(de);const Ne=He(I,h.config.apiKey,h.name);let ct=null;for(const rn of g)try{const An=yield rn._get(Ne);if(An){const yr=Zn._fromJSON(h,An);rn!==J&&(ct=yr),J=rn;break}}catch{}const zt=H.filter(rn=>rn._shouldAllowMigration);return J._shouldAllowMigration&&zt.length?(J=zt[0],ct&&(yield J._set(Ne,ct.toJSON())),yield Promise.all(g.map(function(){var rn=(0,d.Z)(function*(An){if(An!==J)try{yield An._remove(Ne)}catch{}});return function(An){return rn.apply(this,arguments)}}())),new re(J,h,I)):new re(J,h,I)})()}}function oe(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(be(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(z(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(jt(h))return"Blackberry";if(sn(h))return"Webos";if(Z(h))return"Safari";if((h.includes("chrome/")||G(h))&&!h.includes("edge/"))return"Chrome";if(dt(h))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function z(v=(0,F.z$)()){return/firefox\//i.test(v)}function Z(v=(0,F.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function G(v=(0,F.z$)()){return/crios\//i.test(v)}function be(v=(0,F.z$)()){return/iemobile/i.test(v)}function dt(v=(0,F.z$)()){return/android/i.test(v)}function jt(v=(0,F.z$)()){return/blackberry/i.test(v)}function sn(v=(0,F.z$)()){return/webos/i.test(v)}function se(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function he(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ke(v=(0,F.z$)()){return se(v)||dt(v)||sn(v)||jt(v)||/windows phone/i.test(v)||be(v)}function yn(v,h=[]){let g;switch(v){case"Browser":g=oe((0,F.z$)());break;case"Worker":g=`${oe((0,F.z$)())}-${v}`;break;default:g=v}const I=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${U.SDK_VERSION}/${I}`}function Le(){return(Le=(0,d.Z)(function*(v){return(yield At(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(v,h){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(v,h){return At(v,"GET","/v2/recaptchaConfig",Ct(v,h))})).apply(this,arguments)}function wn(v){return void 0!==v&&void 0!==v.getResponse}function Fn(v){return void 0!==v&&void 0!==v.enterprise}class qn{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Bn(v){return new Promise((h,g)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=h,I.onerror=H=>{const J=st("internal-error");J.customData=H,g(J)},I.type="text/javascript",I.charset="UTF-8",function br(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(I)})}function Rr(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Ns{constructor(h){this.type="recaptcha-enterprise",this.auth=Tr(h)}verify(h="verify",g=!1){var I=this;return(0,d.Z)(function*(){function J(){return J=(0,d.Z)(function*(ct){if(!g){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var zt=(0,d.Z)(function*(rn,An){St(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const vo=new qn(yr);return null==ct.tenantId?ct._agentRecaptchaConfig=vo:ct._tenantRecaptchaConfigs[ct.tenantId]=vo,rn(vo.siteKey)}An(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{An(yr)})});return function(rn,An){return zt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Ne(ct,zt,rn){const An=window.grecaptcha;Fn(An)?An.enterprise.ready(()=>{An.enterprise.execute(ct,{action:h}).then(yr=>{zt(yr)}).catch(()=>{zt("NO_RECAPTCHA")})}):rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,zt)=>{(function H(ct){return J.apply(this,arguments)})(I.auth).then(rn=>{if(!g&&Fn(window.grecaptcha))Ne(rn,ct,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));Bn("https://www.google.com/recaptcha/enterprise.js?render="+rn).then(()=>{Ne(rn,ct,zt)}).catch(An=>{zt(An)})}}).catch(rn=>{zt(rn)})})})()}}function Qn(v,h,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(v,h,g,I=!1){const H=new Ns(v);let J;try{J=yield H.verify(g)}catch{J=yield H.verify(g,!0)}const Ne=Object.assign({},h);return Object.assign(Ne,I?{captchaResp:J}:{captchaResponse:J}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}class ks{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const I=J=>new Promise((Ne,ct)=>{try{Ne(h(J))}catch(zt){ct(zt)}});I.onAbort=g,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===h)return;const I=[];try{for(const H of g.queue)yield H(h),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const J of I)try{J()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class Ni{constructor(h,g,I,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var I=this;return g&&(this._popupRedirectResolver=L(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var H,J;if(!I._deleted&&(I.persistenceManager=yield re.create(I,h),!I._deleted)){if(null!==(H=I._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(J=I.currentUser)||void 0===J?void 0:J.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,d.Z)(function*(){var I;const H=yield g.assertedPersistence.getCurrentUser();let J=H,Ne=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ct=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,zt=J?._redirectEventId,rn=yield g.tryRedirectSignIn(h);(!ct||ct===zt)&&rn?.user&&(J=rn.user,Ne=!0)}if(!J)return g.directlySetCurrentUser(null);if(!J._redirectEventId){if(Ne)try{yield g.beforeStateQueue.runMiddleware(J)}catch(ct){J=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ct))}return J?g.reloadAndSetCurrentUserOrClear(J):g.directlySetCurrentUser(null)}return Ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===J._redirectEventId?g.directlySetCurrentUser(J):g.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var g=this;return(0,d.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.Z)(function*(){try{yield mn(h)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.Z)(function*(){const I=h?(0,F.m9)(h):null;return I&&Ce(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(h,g=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return h&&Ce(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(L(h))}))}initializeRecaptchaConfig(){var h=this;return(0,d.Z)(function*(){const g=yield St(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new qn(g);null==h.tenantId?h._agentRecaptchaConfig=I:h._tenantRecaptchaConfigs[h.tenantId]=I,I.emailPasswordEnabled&&new Ns(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,g,I){return this.registerStateListener(this.authStateSubscription,h,g,I)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,I){return this.registerStateListener(this.idTokenSubscription,h,g,I)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var I=this;return(0,d.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const I=h&&L(h)||g._popupRedirectResolver;Ce(I,g,"argument-error"),g.redirectPersistenceManager=yield re.create(g,[L(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.Z)(function*(){var I,H;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.Z)(function*(){if(h===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,I,H){if(this._deleted)return()=>{};const J="function"==typeof g?g:g.next.bind(g),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Ne,this,"internal-error"),Ne.then(()=>J(this.currentUser)),"function"==typeof g?h.addObserver(g,I,H):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var g;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(I["X-Firebase-Client"]=H);const J=yield h._getAppCheckToken();return J&&(I["X-Firebase-AppCheck"]=J),I})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var g;const I=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function bt(v,...h){Se.logLevel<=ae.in.WARN&&Se.warn(`Auth (${U.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Tr(v){return(0,F.m9)(v)}class Ki{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(v,h,g){const I=Tr(v);Ce(I._canInitEmulator,I,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const H=!!g?.disableWarnings,J=ss(h),{host:Ne,port:ct}=function Zr(v){const h=ss(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const J=H[1];return{host:J,port:$r(I.substr(J.length+1))}}{const[J,Ne]=I.split(":");return{host:J,port:$r(Ne)}}}(h);I.config.emulator={url:`${J}//${Ne}${null===ct?"":`:${ct}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ne,port:ct,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Ks(){function v(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ss(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function $r(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Xr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Me("not implemented")}_getIdTokenResponse(h){return Me("not implemented")}_linkToIdToken(h,g){return Me("not implemented")}_getReauthenticationResolver(h){return Me("not implemented")}}function os(v,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:resetPassword",Ct(v,h))})).apply(this,arguments)}function Bi(v,h){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function wo(v,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:update",Ct(v,h))})).apply(this,arguments)}function ma(v,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithPassword",Ct(v,h))})).apply(this,arguments)}function Io(v,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:sendOobCode",Ct(v,h))})).apply(this,arguments)}function lo(v,h){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(v,h){return Io(v,h)})).apply(this,arguments)}function Te(v,h){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(v,h){return Io(v,h)})).apply(this,arguments)}function yt(v,h){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(v,h){return Io(v,h)})).apply(this,arguments)}function bn(v,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(v,h){return Io(v,h)})).apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithEmailLink",Ct(v,h))})).apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithEmailLink",Ct(v,h))})).apply(this,arguments)}class pi extends Xr{constructor(h,g,I,H=null){super("password",I),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new pi(h,g,"password")}static _fromEmailAndCode(h,g,I=null){return new pi(h,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.Z)(function*(){var I;switch(g.signInMethod){case"password":const H={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=h._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const J=yield Qn(h,H,"signInWithPassword");return ma(h,J)}return ma(h,H).catch(function(){var J=(0,d.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield Qn(h,H,"signInWithPassword");return ma(h,ct)}return Promise.reject(Ne)});return function(Ne){return J.apply(this,arguments)}}());case"emailLink":return function Xn(v,h){return kn.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ge(h,"internal-error")}})()}_linkToIdToken(h,g){var I=this;return(0,d.Z)(function*(){switch(I.signInMethod){case"password":return Bi(h,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ei(v,h){return li.apply(this,arguments)}(h,{idToken:g,email:I._email,oobCode:I._password});default:ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function cr(v,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithIdp",Ct(v,h))})).apply(this,arguments)}class di extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new di(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:H}=g,J=(0,ce._T)(g,["providerId","signInMethod"]);if(!I||!H)return null;const Ne=new di(I,H);return Ne.idToken=J.idToken||void 0,Ne.accessToken=J.accessToken||void 0,Ne.secret=J.secret,Ne.nonce=J.nonce,Ne.pendingToken=J.pendingToken||null,Ne}_getIdTokenResponse(h){return cr(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,cr(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,cr(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,F.xO)(g)}return h}}function ea(v,h){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:sendVerificationCode",Ct(v,h))})).apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,h))})).apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(v,h){const g=yield ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,h));if(g.temporaryProof)throw Gt(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ls={USER_NOT_FOUND:"user-not-found"};function qs(){return(qs=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ls)})).apply(this,arguments)}class kr extends Xr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new kr({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new kr({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Lo(v,h){return us.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Vo(v,h){return Co.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Zi(v,h){return qs.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:I,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:I,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:I,phoneNumber:H,temporaryProof:J}=h;return I||g||H||J?new kr({verificationId:g,verificationCode:I,phoneNumber:H,temporaryProof:J}):null}}class _s{constructor(h){var g,I,H,J,Ne,ct;const zt=(0,F.zd)((0,F.pd)(h)),rn=null!==(g=zt.apiKey)&&void 0!==g?g:null,An=null!==(I=zt.oobCode)&&void 0!==I?I:null,yr=function qi(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=zt.mode)&&void 0!==H?H:null);Ce(rn&&An&&yr,"argument-error"),this.apiKey=rn,this.operation=yr,this.code=An,this.continueUrl=null!==(J=zt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Ne=zt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(ct=zt.tenantId)&&void 0!==ct?ct:null}static parseLink(h){const g=function vs(v){const h=(0,F.zd)((0,F.pd)(v)).link,g=h?(0,F.zd)((0,F.pd)(h)).deep_link_id:null,I=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(I?(0,F.zd)((0,F.pd)(I)).link:null)||I||g||h||v}(h);try{return new _s(g)}catch{return null}}}let ta=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,I){return pi._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const H=_s.parseLink(I);return Ce(H,"argument-error"),pi._fromEmailAndCode(g,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class pr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ys extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ls extends Ys{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in g&&"signInMethod"in g,"argument-error"),di._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ls.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ls.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:J,nonce:Ne,providerId:ct}=h;if(!I&&!H&&!g&&!J||!ct)return null;try{return new ls(ct)._credential({idToken:g,accessToken:I,nonce:Ne,pendingToken:J})}catch{return null}}}let ji=(()=>{class v extends Ys{constructor(){super("facebook.com")}static credential(g){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),hi=(()=>{class v extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:H}=g;if(!I&&!H)return null;try{return v.credential(I,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ho=(()=>{class v extends Ys{constructor(){super("github.com")}static credential(g){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ki extends Xr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return cr(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,cr(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,cr(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:H,pendingToken:J}=g;return I&&H&&J&&I===H?new ki(I,J):null}static _create(h,g){return new ki(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ya extends pr{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ya.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ya.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=ki.fromJSON(h);return Ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:I}=h;if(!g||!I)return null;try{return ki._create(I,g)}catch{return null}}}let Uo=(()=>{class v extends Ys{constructor(){super("twitter.com")}static credential(g,I){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=g;if(!I||!H)return null;try{return v.credential(I,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Qs(v,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signUp",Ct(v,h))})).apply(this,arguments)}class zr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,I,H=!1){return(0,d.Z)(function*(){const J=yield Zn._fromIdTokenResponse(h,I,H),Ne=Es(I);return new zr({user:J,providerId:Ne,_tokenResponse:I,operationType:g})})()}static _forOperation(h,g,I){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const H=Es(I);return new zr({user:h,providerId:H,_tokenResponse:I,operationType:g})})()}}function Es(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Rn(v){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(v){var h;const g=Tr(v);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new zr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Qs(g,{returnSecureToken:!0}),H=yield zr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class Vs extends F.ZR{constructor(h,g,I,H){var J;super(g.code,g.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,Vs.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,g,I,H){return new Vs(h,g,I,H)}}function Ei(v,h,g,I){return("reauthenticate"===h?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Vs._fromErrorAndOperation(v,J,h,I):J})}function Fr(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function Us(v,h){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(v,h){const g=(0,F.m9)(v);yield Dt(!0,g,h);const{providerUserInfo:I}=yield Vn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=Fr(I||[]);return g.providerData=g.providerData.filter(J=>H.has(J.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function cs(v,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(v,h,g=!1){const I=yield me(v,h._linkToIdToken(v.auth,yield v.getIdToken()),g);return zr._forOperation(v,"link",I)})).apply(this,arguments)}function Dt(v,h,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(v,h,g){yield mn(h);const H=!1===v?"provider-already-linked":"no-such-provider";Ce(Fr(h.providerData).has(g)===v,h.auth,H)})).apply(this,arguments)}function jo(v,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(v,h,g=!1){const{auth:I}=v,H="reauthenticate";try{const J=yield me(v,Ei(I,H,h,v),g);Ce(J.idToken,I,"internal-error");const Ne=Kn(J.idToken);Ce(Ne,I,"internal-error");const{sub:ct}=Ne;return Ce(v.uid===ct,I,"user-mismatch"),zr._forOperation(v,H,J)}catch(J){throw"auth/user-not-found"===J?.code&&ge(I,"user-mismatch"),J}})).apply(this,arguments)}function Pr(v,h){return k.apply(this,arguments)}function k(){return(k=(0,d.Z)(function*(v,h,g=!1){const I="signIn",H=yield Ei(v,I,h),J=yield zr._fromIdTokenResponse(v,I,H);return g||(yield v._updateCurrentUser(J.user)),J})).apply(this,arguments)}function P(v,h){return M.apply(this,arguments)}function M(){return(M=(0,d.Z)(function*(v,h){return Pr(Tr(v),h)})).apply(this,arguments)}function q(v,h){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(v,h){const g=(0,F.m9)(v);return yield Dt(!1,g,h.providerId),cs(g,h)})).apply(this,arguments)}function on(v,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(v,h){return jo((0,F.m9)(v),h)})).apply(this,arguments)}function Xs(v,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(v,h){return ln(v,"POST","/v1/accounts:signInWithCustomToken",Ct(v,h))})).apply(this,arguments)}function mi(v,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(v,h){const g=Tr(v),I=yield Xs(g,{token:h,returnSecureToken:!0}),H=yield zr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class Qi{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Bs._fromServerResponse(h,g):"totpInfo"in g?ni._fromServerResponse(h,g):ge(h,"internal-error")}}class Bs extends Qi{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Bs(g)}}class ni extends Qi{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new ni(g)}}function Is(v,h,g){var I;Ce((null===(I=g.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),Ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ce(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Ce(g.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Va(v,h,g){return va.apply(this,arguments)}function va(){return va=(0,d.Z)(function*(v,h,g){var I;const H=Tr(v),J={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ne=yield Qn(H,J,"getOobCode",!0);g&&Is(H,Ne,g),yield Te(H,Ne)}else g&&Is(H,J,g),yield Te(H,J).catch(function(){var Ne=(0,d.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const zt=yield Qn(H,J,"getOobCode",!0);g&&Is(H,zt,g),yield Te(H,zt)}});return function(ct){return Ne.apply(this,arguments)}}())}),va.apply(this,arguments)}function $o(v,h,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,h,g){yield os((0,F.m9)(v),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Go(v,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(v,h){yield wo((0,F.m9)(v),{oobCode:h})})).apply(this,arguments)}function Fi(v,h){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(v,h){const g=(0,F.m9)(v),I=yield os(g,{oobCode:h}),H=I.requestType;switch(Ce(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(I.mfaInfo,g,"internal-error");default:Ce(I.email,g,"internal-error")}let J=null;return I.mfaInfo&&(J=Qi._fromServerResponse(Tr(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:J},operation:H}})).apply(this,arguments)}function _a(v,h){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(v,h){const{data:g}=yield Fi((0,F.m9)(v),h);return g.email})).apply(this,arguments)}function zo(v,h,g){return fo.apply(this,arguments)}function fo(){return fo=(0,d.Z)(function*(v,h,g){var I;const H=Tr(v),J={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let Ne;if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const rn=yield Qn(H,J,"signUpPassword");Ne=Qs(H,rn)}else Ne=Qs(H,J).catch(function(){var rn=(0,d.Z)(function*(An){if("auth/missing-recaptcha-token"===An.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const yr=yield Qn(H,J,"signUpPassword");return Qs(H,yr)}return Promise.reject(An)});return function(An){return rn.apply(this,arguments)}}());const ct=yield Ne.catch(rn=>Promise.reject(rn)),zt=yield zr._fromIdTokenResponse(H,"signIn",ct);return yield H._updateCurrentUser(zt.user),zt}),fo.apply(this,arguments)}function So(v,h,g){return P((0,F.m9)(v),ta.credential(h,g))}function xi(v,h,g){return ds.apply(this,arguments)}function ds(){return ds=(0,d.Z)(function*(v,h,g){var I;const H=Tr(v),J={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function Ne(ct,zt){Ce(zt.handleCodeInApp,H,"argument-error"),zt&&Is(H,ct,zt)}if(null!==(I=H._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const ct=yield Qn(H,J,"getOobCode",!0);Ne(ct,g),yield yt(H,ct)}else Ne(J,g),yield yt(H,J).catch(function(){var ct=(0,d.Z)(function*(zt){if("auth/missing-recaptcha-token"!==zt.code)return Promise.reject(zt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rn=yield Qn(H,J,"getOobCode",!0);Ne(rn,g),yield yt(H,rn)}});return function(zt){return ct.apply(this,arguments)}}())}),ds.apply(this,arguments)}function Ua(v,h){return"EMAIL_SIGNIN"===_s.parseLink(h)?.operation}function na(v,h,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v),H=ta.credentialWithLink(h,g||ft());return Ce(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),P(I,H)})).apply(this,arguments)}function Ii(v,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:createAuthUri",Ct(v,h))})).apply(this,arguments)}function Er(v,h){return ra.apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(v,h){const I={identifier:h,continueUri:Bt()?ft():"http://localhost"},{signinMethods:H}=yield Ii((0,F.m9)(v),I);return H||[]})).apply(this,arguments)}function Mo(v,h){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.Z)(function*(v,h){const g=(0,F.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&Is(g.auth,H,h);const{email:J}=yield lo(g.auth,H);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ea(v,h,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};g&&Is(I.auth,J,g);const{email:Ne}=yield bn(I.auth,J);Ne!==v.email&&(yield v.reload())})).apply(this,arguments)}function Cs(v,h){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(v,h){return At(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ia(v,h){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(v,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const I=(0,F.m9)(v),J={idToken:yield I.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ne=yield me(I,Cs(I.auth,J));I.displayName=Ne.displayName||null,I.photoURL=Ne.photoUrl||null;const ct=I.providerData.find(({providerId:zt})=>"password"===zt);ct&&(ct.displayName=I.displayName,ct.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function $i(v,h){return Pi((0,F.m9)(v),h,null)}function Di(v,h){return Pi((0,F.m9)(v),null,h)}function Pi(v,h,g){return no.apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(v,h,g){const{auth:I}=v,J={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(J.email=h),g&&(J.password=g);const Ne=yield me(v,Bi(I,J));yield v._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class ro{constructor(h,g,I={}){this.isNewUser=h,this.providerId=g,this.profile=I}}class po extends ro{constructor(h,g,I,H){super(h,g,I),this.username=H}}class xo extends ro{constructor(h,g){super(h,"facebook.com",g)}}class ru extends po{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class b extends ro{constructor(h,g){super(h,"google.com",g)}}class B extends po{constructor(h,g,I){super(h,"twitter.com",g,I)}}function x(v){const{user:h,_tokenResponse:g}=v;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Wo(v){var h,g;if(!v)return null;const{providerId:I}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},J=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const Ne=null===(g=null===(h=Kn(v.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ne)return new ro(J,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!I)return null;switch(I){case"facebook.com":return new xo(J,H);case"github.com":return new ru(J,H);case"google.com":return new b(J,H);case"twitter.com":return new B(J,H,v.screenName||null);case"custom":case"anonymous":return new ro(J,null);default:return new ro(J,I,H)}}(g)}class $n{constructor(h,g,I){this.type=h,this.credential=g,this.auth=I}static _fromIdtoken(h,g){return new $n("enroll",h,g)}static _fromMfaPendingCredential(h){return new $n("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,I;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return $n._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return $n._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Yr{constructor(h,g,I){this.session=h,this.hints=g,this.signInResolver=I}static _fromError(h,g){const I=Tr(h),H=g.customData._serverResponse,J=(H.mfaInfo||[]).map(ct=>Qi._fromServerResponse(I,ct));Ce(H.mfaPendingCredential,I,"internal-error");const Ne=$n._fromMfaPendingCredential(H.mfaPendingCredential);return new Yr(Ne,J,function(){var ct=(0,d.Z)(function*(zt){const rn=yield zt._process(I,Ne);delete H.mfaInfo,delete H.mfaPendingCredential;const An=Object.assign(Object.assign({},H),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(g.operationType){case"signIn":const yr=yield zr._fromIdTokenResponse(I,g.operationType,An);return yield I._updateCurrentUser(yr.user),yr;case"reauthenticate":return Ce(g.user,I,"internal-error"),zr._forOperation(g.user,g.operationType,An);default:ge(I,"internal-error")}});return function(zt){return ct.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.Z)(function*(){return g.signInResolver(h)})()}}function fs(v,h){var g;const I=(0,F.m9)(v),H=h;return Ce(h.customData.operationType,I,"argument-error"),Ce(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),Yr._fromError(I,H)}function Mt(v,h){return At(v,"POST","/v2/accounts/mfaEnrollment:start",Ct(v,h))}class pn{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>Qi._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new pn(h)}getSession(){var h=this;return(0,d.Z)(function*(){return $n._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var I=this;return(0,d.Z)(function*(){const H=h,J=yield I.getSession(),Ne=yield me(I.user,H._process(I.user.auth,J,g));return yield I.user._updateTokensIfNecessary(Ne),I.user.reload()})()}unenroll(h){var g=this;return(0,d.Z)(function*(){const I="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const J=yield me(g.user,function tn(v,h){return At(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(v,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ne})=>Ne!==I),yield g.user._updateTokensIfNecessary(J),yield g.user.reload()}catch(J){throw J}})()}}const sa=new WeakMap;function qt(v){const h=(0,F.m9)(v);return sa.has(h)||sa.set(h,pn._fromUser(h)),sa.get(h)}const et="__sak";class Rt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(et,"1"),this.storage.removeItem(et),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const tl=(()=>{class v extends Rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ri(){const v=(0,F.z$)();return Z(v)||se(v)}()&&function Vt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ke(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),J=this.localCache[I];H!==J&&g(I,J,H)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((ct,zt,rn)=>{this.notifyListeners(ct,rn)});const H=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(H);if(g.newValue!==ct)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!I)return}const J=()=>{const ct=this.storage.getItem(H);!I&&this.localCache[H]===ct||this.notifyListeners(H,ct)},Ne=this.storage.getItem(H);!function Oe(){return(0,F.w1)()&&10===document.documentMode}()||Ne===g.newValue||g.newValue===g.oldValue?J():setTimeout(J,10)}notifyListeners(g,I){this.localCache[g]=I;const H=this.listeners[g];if(H)for(const J of Array.from(H))J(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var H=()=>super._set,J=this;return(0,d.Z)(function*(){yield H().call(J,g,I),J.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,H=this;return(0,d.Z)(function*(){const J=yield I().call(H,g);return H.localCache[g]=JSON.stringify(J),J})()}_remove(g){var I=()=>super._remove,H=this;return(0,d.Z)(function*(){yield I().call(H,g),delete H.localCache[g]})()}}return v.type="LOCAL",v})(),oa=(()=>{class v extends Rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return v.type="SESSION",v})();let Nl=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(J=>J.isListeningto(g));if(I)return I;const H=new v(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,d.Z)(function*(){const H=g,{eventId:J,eventType:Ne,data:ct}=H.data,zt=I.handlersMap[Ne];if(!zt?.size)return;H.ports[0].postMessage({status:"ack",eventId:J,eventType:Ne});const rn=Array.from(zt).map(function(){var yr=(0,d.Z)(function*(vo){return vo(H.origin,ct)});return function(vo){return yr.apply(this,arguments)}}()),An=yield function Ol(v){return Promise.all(v.map(function(){var h=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return h.apply(this,arguments)}}()))}(rn);H.ports[0].postMessage({status:"done",eventId:J,eventType:Ne,response:An})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ko(v="",h=10){let g="";for(let I=0;I<h;I++)g+=Math.floor(10*Math.random());return v+g}class ii{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,I=50){var H=this;return(0,d.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Ne,ct;return new Promise((zt,rn)=>{const An=Ko("",20);J.port1.start();const yr=setTimeout(()=>{rn(new Error("unsupported_event"))},I);ct={messageChannel:J,onMessage(vo){const Hs=vo;if(Hs.data.eventId===An)switch(Hs.data.status){case"ack":clearTimeout(yr),Ne=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),zt(Hs.data.response);break;default:clearTimeout(yr),clearTimeout(Ne),rn(new Error("invalid_response"))}}},H.handlers.add(ct),J.port1.addEventListener("message",ct.onMessage),H.target.postMessage({eventType:h,eventId:An,data:g},[J.port2])}).finally(()=>{ct&&H.removeMessageHandler(ct)})})()}}function yi(){return window}function bs(){return typeof yi().WorkerGlobalScope<"u"&&"function"==typeof yi().importScripts}function Hr(){return(Hr=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tn="firebaseLocalStorageDb",or="firebaseLocalStorage",Yt="fbase_key";class Ji{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Zo(v,h){return v.transaction([or],h?"readwrite":"readonly").objectStore(or)}function Mr(){const v=indexedDB.open(Tn,1);return new Promise((h,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(or,{keyPath:Yt})}catch(H){g(H)}}),v.addEventListener("success",(0,d.Z)(function*(){const I=v.result;I.objectStoreNames.contains(or)?h(I):(I.close(),yield function Ia(){const v=indexedDB.deleteDatabase(Tn);return new Ji(v).toPromise()}(),h(yield Mr()))}))})}function Ro(v,h,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(v,h,g){const I=Zo(v,!0).put({[Yt]:h,value:g});return new Ji(I).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(v,h){const g=Zo(v,!1).get(h),I=yield new Ji(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ru(v,h){const g=Zo(v,!0).delete(h);return new Ji(g).toPromise()}const rl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Mr()),g.db})()}_withRetries(g){var I=this;return(0,d.Z)(function*(){let H=0;for(;;)try{const J=yield I._openDb();return yield g(J)}catch(J){if(H++>3)throw J;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return bs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Nl._getInstance(function Ts(){return bs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,d.Z)(function*(H,J){return{keyProcessed:(yield g._poll()).includes(J.key)}});return function(H,J){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,d.Z)(function*(H,J){return["keyChanged"]});return function(H,J){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var I,H;if(g.activeServiceWorker=yield function ja(){return Hr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ii(g.activeServiceWorker);const J=yield g.sender._send("ping",{},800);!J||(null===(I=J[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=J[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function _n(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Mr();return yield Ro(g,et,"1"),yield Ru(g,et),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var H=this;return(0,d.Z)(function*(){return H._withPendingWrite((0,d.Z)(function*(){return yield H._withRetries(J=>Ro(J,g,I)),H.localCache[g]=I,H.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,d.Z)(function*(){const H=yield I._withRetries(J=>function xu(v,h){return Ca.apply(this,arguments)}(J,g));return I.localCache[g]=H,H})()}_remove(g){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries(H=>Ru(H,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const I=yield g._withRetries(Ne=>{const ct=Zo(Ne,!1).getAll();return new Ji(ct).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const H=[],J=new Set;for(const{fbase_key:Ne,value:ct}of I)J.add(Ne),JSON.stringify(g.localCache[Ne])!==JSON.stringify(ct)&&(g.notifyListeners(Ne,ct),H.push(Ne));for(const Ne of Object.keys(g.localCache))g.localCache[Ne]&&!J.has(Ne)&&(g.notifyListeners(Ne,null),H.push(Ne));return H})()}notifyListeners(g,I){this.localCache[g]=I;const H=this.listeners[g];if(H)for(const J of Array.from(H))J(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function qo(v,h){return At(v,"POST","/v2/accounts/mfaSignIn:start",Ct(v,h))}const Ga=1e12;class Ci{constructor(h){this.auth=h,this.counter=Ga,this._widgets=new Map}render(h,g){const I=this.counter;return this._widgets.set(I,new Li(h,this.auth.name,g||{})),this.counter++,I}reset(h){var g;const I=h||Ga;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Ga))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.Z)(function*(){var I;return null===(I=g._widgets.get(h||Ga))||void 0===I||I.execute(),""})()}}class Li{constructor(h,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;Ce(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function iu(v){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $s=Rr("rcb"),ba=new Be(3e4,6e4);class Pu{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=yi().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Ce(function kl(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&wn(yi().grecaptcha)?Promise.resolve(yi().grecaptcha):new Promise((I,H)=>{const J=yi().setTimeout(()=>{H(st(h,"network-request-failed"))},ba.get());yi()[$s]=()=>{yi().clearTimeout(J),delete yi()[$s];const ct=yi().grecaptcha;if(!ct||!wn(ct))return void H(st(h,"internal-error"));const zt=ct.render;ct.render=(rn,An)=>{const yr=zt(rn,An);return this.counter++,yr},this.hostLanguage=g,I(ct)},Bn(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:$s,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(J),H(st(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=yi().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xi{load(h){return(0,d.Z)(function*(){return new Ci(h)})()}clearedOneInstance(){}}const za="recaptcha",aa={theme:"light",type:"image"};class _{constructor(h,g=Object.assign({},aa),I){this.parameters=g,this.type=za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(I),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof h?document.getElementById(h):h;Ce(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xi:new Pu,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(g)||new Promise(J=>{const Ne=ct=>{!ct||(h.tokenChangeListeners.delete(Ne),J(ct))};h.tokenChangeListeners.add(Ne),h.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof h)h(g);else if("string"==typeof h){const I=yi()[h];"function"==typeof I&&I(g)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){Ce(Bt()&&!bs(),h.auth,"internal-error"),yield function E(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Ve(v){return Le.apply(this,arguments)}(h.auth);Ce(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class y{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=kr._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function A(v,h,g){return O.apply(this,arguments)}function O(){return(O=(0,d.Z)(function*(v,h,g){const I=Tr(v),H=yield Wt(I,h,(0,F.m9)(g));return new y(H,J=>P(I,J))})).apply(this,arguments)}function W(v,h,g){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v);yield Dt(!1,I,"phone");const H=yield Wt(I.auth,h,(0,F.m9)(g));return new y(H,J=>q(I,J))})).apply(this,arguments)}function ve(v,h,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v),H=yield Wt(I.auth,h,(0,F.m9)(g));return new y(H,J=>on(I,J))})).apply(this,arguments)}function Wt(v,h,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(v,h,g){var I;const H=yield g.verify();try{let J;if(Ce("string"==typeof H,v,"argument-error"),Ce(g.type===za,v,"argument-error"),J="string"==typeof h?{phoneNumber:h}:h,"session"in J){const Ne=J.session;if("phoneNumber"in J)return Ce("enroll"===Ne.type,v,"internal-error"),(yield Mt(v,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Ne.type,v,"internal-error");const ct=(null===(I=J.multiFactorHint)||void 0===I?void 0:I.uid)||J.multiFactorUid;return Ce(ct,v,"missing-multi-factor-info"),(yield qo(v,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield ea(v,{phoneNumber:J.phoneNumber,recaptchaToken:H});return Ne}}finally{g._reset()}})).apply(this,arguments)}function hn(v,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(v,h){yield cs((0,F.m9)(v),h)})).apply(this,arguments)}let As=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Tr(g)}verifyPhoneNumber(g,I){return Wt(this.auth,g,(0,F.m9)(I))}static credential(g,I){return kr._fromVerification(g,I)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:H}=g;return I&&H?kr._fromTokenResponse(I,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function fi(v,h){return h?L(h):(Ce(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class oo extends Xr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return cr(h,this._buildIdpRequest())}_linkToIdToken(h,g){return cr(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return cr(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Qr(v){return Pr(v.auth,new oo(v),v.bypassAuthState)}function Ou(v){const{auth:h,user:g}=v;return Ce(g,h,"internal-error"),jo(g,new oo(v),v.bypassAuthState)}function Ta(v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(v){const{auth:h,user:g}=v;return Ce(g,h,"internal-error"),cs(g,new oo(v),v.bypassAuthState)})).apply(this,arguments)}class il{constructor(h,g,I,H,J=!1){this.auth=h,this.resolver=I,this.user=H,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.Z)(function*(I,H){h.pendingPromise={resolve:I,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(I,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:J,tenantId:Ne,error:ct,type:zt}=h;if(ct)return void g.reject(ct);const rn={auth:g.auth,requestUri:I,sessionId:H,tenantId:Ne||void 0,postBody:J||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(zt)(rn))}catch(An){g.reject(An)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Qr;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return Ou;default:ge(this.auth,"internal-error")}}resolve(h){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ou=new Be(2e3,1e4);function Ss(v,h,g){return au.apply(this,arguments)}function au(){return(au=(0,d.Z)(function*(v,h,g){const I=Tr(v);Et(v,h,pr);const H=fi(I,g);return new ua(I,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Vi(v,h,g){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v);Et(I.auth,h,pr);const H=fi(I.auth,g);return new ua(I.auth,"reauthViaPopup",h,H,I).executeNotNull()})).apply(this,arguments)}function Fl(v,h,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v);Et(I.auth,h,pr);const H=fi(I.auth,g);return new ua(I.auth,"linkViaPopup",h,H,I).executeNotNull()})).apply(this,arguments)}let ua=(()=>{class v extends il{constructor(g,I,H,J,Ne){super(g,I,J,Ne),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const I=yield g.execute();return Ce(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,d.Z)(function*(){pt(1===g.filter.length,"Popup operations only handle one event");const I=Ko();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(st(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,H;this.pollId=null!==(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ou.get())};g()}}return v.currentPopupAction=null,v})();const Sa=new Map;class Wa extends il{constructor(h,g,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.Z)(function*(){let I=Sa.get(g.auth._key());if(!I){try{const J=(yield function Ll(v,h){return Dr.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;I=()=>Promise.resolve(J)}catch(H){I=()=>Promise.reject(H)}Sa.set(g.auth._key(),I)}return g.bypassAuthState||Sa.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(I,h);if("unknown"!==h.type){if(h.eventId){const H=yield I.auth._redirectUserForId(h.eventId);if(H)return I.user=H,g().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Dr(){return(Dr=(0,d.Z)(function*(v,h){const g=es(h),I=Po(v);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(g));return yield I._remove(g),H})).apply(this,arguments)}function uu(v,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(v,h){return Po(v)._set(es(h),"true")})).apply(this,arguments)}function oi(){Sa.clear()}function Vl(v,h){Sa.set(v._key(),h)}function Po(v){return L(v._redirectPersistence)}function es(v){return He("pendingRedirect",v.config.apiKey,v.name)}function ol(v,h,g){return function Tc(v,h,g){return bi.apply(this,arguments)}(v,h,g)}function bi(){return(bi=(0,d.Z)(function*(v,h,g){const I=Tr(v);Et(v,h,pr),yield I._initializationPromise;const H=fi(I,g);return yield uu(H,I),H._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function lu(v,h,g){return function mo(v,h,g){return ai.apply(this,arguments)}(v,h,g)}function ai(){return(ai=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v);Et(I.auth,h,pr),yield I.auth._initializationPromise;const H=fi(I.auth,g);yield uu(H,I.auth);const J=yield xa(I);return H._openRedirect(I.auth,h,"reauthViaRedirect",J)})).apply(this,arguments)}function Ma(v,h,g){return function ku(v,h,g){return Fu.apply(this,arguments)}(v,h,g)}function Fu(){return(Fu=(0,d.Z)(function*(v,h,g){const I=(0,F.m9)(v);Et(I.auth,h,pr),yield I.auth._initializationPromise;const H=fi(I.auth,g);yield Dt(!1,I,h.providerId),yield uu(H,I.auth);const J=yield xa(I);return H._openRedirect(I.auth,h,"linkViaRedirect",J)})).apply(this,arguments)}function al(v,h){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(v,h){return yield Tr(v)._initializationPromise,Yo(v,h,!1)})).apply(this,arguments)}function Yo(v,h){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,h,g=!1){const I=Tr(v),H=fi(I,h),Ne=yield new Wa(I,H,g).execute();return Ne&&!g&&(delete Ne.user._redirectEventId,yield I._persistUserIfCurrent(Ne.user),yield I._setRedirectUser(null,h)),Ne})).apply(this,arguments)}function xa(v){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(v){const h=Ko(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class la{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(g=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ka(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cu(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var I;if(h.error&&!cu(h)){const H=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(st(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const I=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(h))}saveEventToCache(h){this.cachedEventUids.add(Jo(h)),this.lastProcessedEventTime=Date.now()}}function Jo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function cu({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function du(v){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(v,h={}){return At(v,"GET","/v1/projects",h)})).apply(this,arguments)}const Ra=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ed=/^https?/;function hu(){return(hu=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield du(v);for(const g of h)try{if(fu(g))return}catch{}ge(v,"unauthorized-domain")})).apply(this,arguments)}function fu(v){const h=ft(),{protocol:g,hostname:I}=new URL(h);if(v.startsWith("chrome-extension://")){const Ne=new URL(v);return""===Ne.hostname&&""===I?"chrome-extension:"===g&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ne.hostname===I}if(!ed.test(g))return!1;if(Ra.test(v))return I===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const ll=new Be(3e4,6e4);function Vu(){const v=yi().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ca=null;function nd(v){return ca=ca||function td(v){return new Promise((h,g)=>{var I,H,J;function Ne(){Vu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Vu(),g(st(v,"network-request-failed"))},timeout:ll.get()})}if(null!==(H=null===(I=yi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(J=yi().gapi)||void 0===J||!J.load){const ct=Rr("iframefcb");return yi()[ct]=()=>{gapi.load?Ne():g(st(v,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${ct}`).catch(zt=>g(zt))}Ne()}}).catch(h=>{throw ca=null,h})}(v),ca}const da=new Be(5e3,15e3),cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ns(v){const h=v.config;Ce(h.authDomain,v,"auth-domain-config-required");const g=h.emulator?Je(h,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:v.name,v:U.SDK_VERSION},H=qr.get(v.config.apiHost);H&&(I.eid=H);const J=v._getFrameworks();return J.length&&(I.fw=J.join(",")),`${g}?${(0,F.xO)(I).slice(1)}`}function w(){return w=(0,d.Z)(function*(v){const h=yield nd(v),g=yi().gapi;return Ce(g,v,"internal-error"),h.open({where:document.body,url:ns(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cl,dontclear:!0},I=>new Promise(function(){var H=(0,d.Z)(function*(J,Ne){yield I.restyle({setHideOnLeave:!1});const ct=st(v,"network-request-failed"),zt=yi().setTimeout(()=>{Ne(ct)},da.get());function rn(){yi().clearTimeout(zt),J(I)}I.ping(rn).then(rn,()=>{Ne(ct)})});return function(J,Ne){return H.apply(this,arguments)}}()))}),w.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ht{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gn=encodeURIComponent("fac");function gs(v,h,g,I,H,J){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(v,h,g,I,H,J){Ce(v.config.authDomain,v,"auth-domain-config-required"),Ce(v.config.apiKey,v,"invalid-api-key");const Ne={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:I,v:U.SDK_VERSION,eventId:H};if(h instanceof pr){h.setDefaultLanguage(v.languageCode),Ne.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(Ne.customParameters=JSON.stringify(h.getCustomParameters()));for(const[An,yr]of Object.entries(J||{}))Ne[An]=yr}if(h instanceof Ys){const An=h.getScopes().filter(yr=>""!==yr);An.length>0&&(Ne.scopes=An.join(","))}v.tenantId&&(Ne.tid=v.tenantId);const ct=Ne;for(const An of Object.keys(ct))void 0===ct[An]&&delete ct[An];const zt=yield v._getAppCheckToken(),rn=zt?`#${Gn}=${encodeURIComponent(zt)}`:"";return`${Ui(v)}?${(0,F.xO)(ct).slice(1)}${rn}`})).apply(this,arguments)}function Ui({config:v}){return v.emulator?Je(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const ha="webStorageSupport",uo=class pu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oa,this._completeRedirectFn=Yo,this._overrideRedirectResult=Vl}_openPopup(h,g,I,H){var J=this;return(0,d.Z)(function*(){var Ne;pt(null===(Ne=J.eventManagers[h._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const ct=yield gs(h,g,I,ft(),H);return function en(v,h,g,I=500,H=600){const J=Math.max((window.screen.availHeight-H)/2,0).toString(),Ne=Math.max((window.screen.availWidth-I)/2,0).toString();let ct="";const zt=Object.assign(Object.assign({},T),{width:I.toString(),height:H.toString(),top:J,left:Ne}),rn=(0,F.z$)().toLowerCase();g&&(ct=G(rn)?"_blank":g),z(rn)&&(h=h||"http://localhost",zt.scrollbars="yes");const An=Object.entries(zt).reduce((vo,[Hs,$l])=>`${vo}${Hs}=${$l},`,"");if(function te(v=(0,F.z$)()){var h;return se(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(rn)&&"_self"!==ct)return function Qt(v,h){const g=document.createElement("a");g.href=v,g.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(h||"",ct),new ht(null);const yr=window.open(h||"",ct,An);Ce(yr,v,"popup-blocked");try{yr.focus()}catch{}return new ht(yr)}(h,ct,Ko())})()}_openRedirect(h,g,I,H){var J=this;return(0,d.Z)(function*(){return yield J._originValidation(h),function Nn(v){yi().location.href=v}(yield gs(h,g,I,ft(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:J}=this.eventManagers[g];return H?Promise.resolve(H):(pt(J,"If manager is not set, promise should be"),J)}const I=this.initAndGetManager(h);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(h){var g=this;return(0,d.Z)(function*(){const I=yield function rd(v){return w.apply(this,arguments)}(h),H=new la(h);return I.register("authEvent",J=>(Ce(J?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=I,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ha,{type:ha},H=>{var J;const Ne=null===(J=H?.[0])||void 0===J?void 0:J[ha];void 0!==Ne&&g(!!Ne),ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ul(v){return hu.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ke()||Z()||se()}};class gu extends class Pa{constructor(h){this.factorId=h}_process(h,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,I);case"signin":return this._finalizeSignIn(h,g.credential);default:return Me("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new gu(h)}_finalizeEnroll(h,g,I){return function Ir(v,h){return At(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(v,h))}(h,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function si(v,h){return At(v,"POST","/v2/accounts/mfaSignIn:finalize",Ct(v,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rf=(()=>{class v{constructor(){}static assertion(g){return gu._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var dl="@firebase/auth";class hl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,F.Pz)("authIdTokenMaxAge"),function sd(v){(0,U._registerComponent)(new we.wA("auth",(h,{options:g})=>{const I=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:Ne,authDomain:ct}=I.options;Ce(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:I.name});const zt={apiKey:Ne,authDomain:ct,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(v)},rn=new Ni(I,H,J,zt);return function Mi(v,h){const g=h?.persistence||[],I=(Array.isArray(g)?g:[g]).map(L);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(I,h?.popupRedirectResolver)}(rn,g),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,I)=>{h.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new we.wA("auth-internal",h=>{const g=Tr(h.getProvider("auth").getImmediate());return new hl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(dl,"0.23.2",function lh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,U.registerVersion)(dl,"0.23.2","esm2017")}("Browser")},2810:(Ut,ke,R)=>{R.d(ke,{u7:()=>sg,Jj:()=>vc,IX:()=>Cm,my:()=>Ai,xU:()=>Ic,Lz:()=>Ml,WA:()=>Rt,F8:()=>yf,$q:()=>sh,W:()=>Dc,EK:()=>Hr,PU:()=>og,l7:()=>Yo,Ky:()=>Yt,Xb:()=>or,Cf:()=>xr,K9:()=>sa,Me:()=>Tc,yq:()=>Lr,Wi:()=>Em,ET:()=>Cc,Ab:()=>Jv,vr:()=>my,Fc:()=>Tm,hJ:()=>Kp,B$:()=>Zp,at:()=>Zd,oe:()=>uy,AK:()=>py,TF:()=>Sm,JU:()=>qp,ST:()=>Uv,fH:()=>Bv,Ix:()=>Am,Wu:()=>Km,Lx:()=>Wm,qY:()=>zi,GL:()=>nu,QT:()=>ey,kl:()=>ty,Xk:()=>ny,PL:()=>ry,UQ:()=>iy,zN:()=>sy,nP:()=>Xv,b9:()=>Df,vh:()=>rg,Pb:()=>Mm,L$:()=>xm,cf:()=>Zv,sc:()=>qv,Xo:()=>Hm,IO:()=>jm,iE:()=>qd,Eo:()=>Im,i3:()=>fy,Bt:()=>gy,pl:()=>oy,Ub:()=>fs,qK:()=>Xm,TQ:()=>zm,e0:()=>Gm,r7:()=>ay,Mx:()=>Jp,ar:()=>$m});var ee,d=R(5861),F=R(6881),U=R(4859),ce=R(1877),ae=R(2090),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={},Pe=Pe||{},ne=we||self;function ue(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),We=0;function wt(i,e,t){return i.call.apply(i.bind,arguments)}function Ue(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function Se(i,e,t){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wt:Ue).apply(null,arguments)}function bt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function mt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,a,c){for(var p=Array(arguments.length-2),D=2;D<arguments.length;D++)p[D-2]=arguments[D];return e.prototype[a].apply(s,p)}}function ge(){this.s=this.s,this.o=this.o}ge.prototype.s=!1,ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qe(i){Object.prototype.hasOwnProperty.call(i,ze)&&i[ze]||(i[ze]=++We)}(this)},ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const at=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Et(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Fe(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ue(s)){const a=i.length||0,c=s.length||0;i.length=a+c;for(let p=0;p<c;p++)i[a+p]=s[p]}else i.push(s)}}function Ce(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return i}();function pt(i){return/^[\s\xa0]*$/.test(i)}function ft(){var i=ne.navigator;return i&&(i=i.userAgent)?i:""}function Bt(i){return-1!=ft().indexOf(i)}function Pt(i){return Pt[" "](i),i}Pt[" "]=function(){};var At,i,je=Bt("Opera"),Be=Bt("Trident")||Bt("MSIE"),Je=Bt("Edge"),$e=Je||Be,tt=Bt("Gecko")&&!(-1!=ft().toLowerCase().indexOf("webkit")&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),_t=-1!=ft().toLowerCase().indexOf("webkit")&&!Bt("Edge");function Ct(){var i=ne.document;return i?i.documentMode:void 0}e:{var Ht="",Nt=(i=ft(),tt?/rv:([^\);]+)(\)|;)/.exec(i):Je?/Edge\/([\d\.]+)/.exec(i):Be?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):_t?/WebKit\/(\S+)/.exec(i):je?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Nt&&(Ht=Nt?Nt[1]:""),Be){var nn=Ct();if(null!=nn&&nn>parseFloat(Ht)){At=String(nn);break e}}At=Ht}var Ln=ne.document&&Be&&(Ct()||parseInt(At,10))||void 0;function rr(i,e){if(Ce.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(tt){e:{try{Pt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Gt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&rr.$.h.call(this)}}mt(rr,Ce);var Gt={2:"touch",3:"pen",4:"mouse"};rr.prototype.h=function(){rr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),xn=0;function Vn(i,e,t,s,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++xn,this.fa=this.ia=!1}function Ar(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function _r(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Mn(i){const e={};for(const t in i)e[t]=i[t];return e}const jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ir(i,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)i[t]=s[t];for(let c=0;c<jn.length;c++)t=jn[c],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Br(i){this.src=i,this.g={},this.h=0}function Un(i,e){var t=e.type;if(t in i.g){var c,s=i.g[t],a=at(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Ar(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Kn(i,e,t,s){for(var a=0;a<i.length;++a){var c=i[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Br.prototype.add=function(i,e,t,s,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=Kn(i,e,s,a);return-1<p?(e=i[p],t||(e.ia=!1)):((e=new Vn(e,this.src,c,!!s,a)).ia=t,i.push(e)),e};var rt="closure_lm_"+(1e6*Math.random()|0),me={};function pe(i,e,t,s,a){if(s&&s.once)return Xt(i,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)pe(i,e[c],t,s,a);return null}return t=kt(t),i&&i[cn]?i.O(e,t,ye(s)?!!s.capture:!!s,a):nt(i,e,t,!1,s,a)}function nt(i,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=ye(a)?!!a.capture:!!a,D=dn(i);if(D||(i[rt]=D=new Br(i)),(t=D.add(e,t,s,p,c)).proxy)return t;if(s=function ut(){const e=On;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Me||(a=p),void 0===a&&(a=!1),i.addEventListener(e.toString(),s,a);else if(i.attachEvent)i.attachEvent(Ot(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Xt(i,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Xt(i,e[c],t,s,a);return null}return t=kt(t),i&&i[cn]?i.P(e,t,ye(s)?!!s.capture:!!s,a):nt(i,e,t,!0,s,a)}function mn(i,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)mn(i,e[c],t,s,a);else s=ye(s)?!!s.capture:!!s,t=kt(t),i&&i[cn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Kn(c=i.g[e],t,s,a))&&(Ar(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=dn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Kn(e,t,s,a)),(t=-1<i?e[i]:null)&&Cn(t))}function Cn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[cn])Un(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Ot(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=dn(e))?(Un(t,i),0==t.h&&(t.src=null,e[rt]=null)):Ar(i)}}}function Ot(i){return i in me?me[i]:me[i]="on"+i}function On(i,e){if(i.fa)i=!0;else{e=new rr(e,this);var t=i.listener,s=i.la||i.src;i.ia&&Cn(i),i=t.call(s,e)}return i}function dn(i){return(i=i[rt])instanceof Br?i:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(i){return"function"==typeof i?i:(i[tr]||(i[tr]=function(e){return i.handleEvent(e)}),i[tr])}function Zt(){ge.call(this),this.i=new Br(this),this.S=this,this.J=null}function Jt(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ce(e,i);else if(e instanceof Ce)e.target=e.target||i;else{var a=e;ir(e=new Ce(s,i),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=Pn(p,s,!0,e)&&a}if(a=Pn(p=e.g=i,s,!0,e)&&a,a=Pn(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Pn(p=e.g=t[c],s,!1,e)&&a}function Pn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var D=p.listener,N=p.la||p.src;p.ia&&Un(i.i,p),a=!1!==D.call(N,s)&&a}}return a&&!s.defaultPrevented}mt(Zt,ge),Zt.prototype[cn]=!0,Zt.prototype.removeEventListener=function(i,e,t,s){mn(this,i,e,t,s)},Zt.prototype.N=function(){if(Zt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Ar(t[s]);delete i.g[e],i.h--}}this.J=null},Zt.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Zt.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Zn=ne.JSON.stringify;function L(){var i=G;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var de=new class Xe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new He,i=>i.reset());class He{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function re(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function oe(i){ne.setTimeout(()=>{throw i},0)}let z,Z=!1,G=new class X{constructor(){this.h=this.g=null}add(e,t){const s=de.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},be=()=>{const i=ne.Promise.resolve(void 0);z=()=>{i.then(dt)}};var dt=()=>{for(var i;i=L();){try{i.h.call(i.g)}catch(t){oe(t)}var e=de;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Z=!1};function jt(i,e){Zt.call(this),this.h=i||1,this.g=e||ne,this.j=Se(this.qb,this),this.l=Date.now()}function sn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function se(i,e,t){if("function"==typeof i)t&&(i=Se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Se(i.handleEvent,i)}return 2147483647<Number(e)?-1:ne.setTimeout(i,e||0)}function he(i){i.g=se(()=>{i.g=null,i.i&&(i.i=!1,he(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}mt(jt,Zt),(ee=jt.prototype).ga=!1,ee.T=null,ee.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(sn(this),this.start()))}},ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.N=function(){jt.$.N.call(this),sn(this),delete this.g};class te extends ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(i){ge.call(this),this.h=i,this.g={}}mt(Oe,ge);var Ke=[];function Vt(i,e,t,s){Array.isArray(t)||(t&&(Ke[0]=t.toString()),t=Ke);for(var a=0;a<t.length;a++){var c=pe(e,t[a],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function yn(i){_r(i.g,function(e,t){this.g.hasOwnProperty(t)&&Cn(e)},i),i.g={}}function Ve(){this.g=!0}function It(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Zn(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Oe.prototype.N=function(){Oe.$.N.call(this),yn(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ve.prototype.Ea=function(){this.g=!1},Ve.prototype.info=function(){};var qn={},br=null;function Bn(){return br=br||new Zt}function Rr(i){Ce.call(this,qn.Ta,i)}function Gr(i){const e=Bn();Jt(e,new Rr(e))}function Wr(i,e){Ce.call(this,qn.STAT_EVENT,i),this.stat=e}function Or(i){const e=Bn();Jt(e,new Wr(e,i))}function Ns(i,e){Ce.call(this,qn.Ua,i),this.size=e}function Qn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){i()},e)}qn.Ta="serverreachability",mt(Rr,Ce),qn.STAT_EVENT="statevent",mt(Wr,Ce),qn.Ua="timingevent",mt(Ns,Ce);var ui={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ks={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ni(){}function Ki(){}Ni.prototype.h=null;var ss,Kr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mi(){Ce.call(this,"d")}function jr(){Ce.call(this,"c")}function Zr(){}function $r(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new Oe(this),this.P=Xr,this.V=new jt(i=$e?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ks}function Ks(){this.i=null,this.g="",this.h=!1}mt(Mi,Ce),mt(jr,Ce),mt(Zr,Ni),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},ss=new Zr;var Xr=45e3,os={},Nr={};function Bi(i,e,t){i.L=1,i.v=ys(kn(e)),i.s=t,i.S=!0,Zs(i,null)}function Zs(i,e){i.G=Date.now(),dr(i),i.A=kn(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),qi(t.i,"t",s),i.C=0,t=i.l.J,i.h=new Ks,i.g=zo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new te(Se(i.Pa,i,i.g),i.O)),Vt(i.U,i.g,"readystatechange",i.nb),e=i.I?Mn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Gr(),function Le(i,e,t,s,a,c){i.info(function(){if(i.g)if(c)for(var p="",D=c.split("&"),N=0;N<D.length;N++){var j=D[N].split("=");if(1<j.length){var Q=j[0];j=j[1];var Ee=Q.split("_");p=2<=Ee.length&&"type"==Ee[1]?p+(Q+"=")+j+"&":p+(Q+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function wo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Fs(i,e,t){let a,s=!0;for(;!i.J&&i.C<t.length;){if(a=ma(i,t),a==Nr){4==e&&(i.o=4,Or(14),s=!1),It(i.j,i.m,null,"[Incomplete Response]");break}if(a==os){i.o=4,Or(15),It(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}It(i.j,i.m,a,null),Te(i,a)}wo(i)&&a!=Nr&&a!=os&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Or(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),$o(e),e.M=!0,Or(11))):(It(i.j,i.m,t,"[Invalid Chunked Response]"),Re(i),lo(i))}function ma(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Nr:(t=Number(e.substring(t,s)),isNaN(t)?os:(s+=1)+t>e.length?Nr:(e=e.slice(s,s+t),i.C=s+t,e))}function dr(i){i.Y=Date.now()+i.P,Io(i,i.P)}function Io(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qn(Se(i.lb,i),e)}function Do(i){i.B&&(ne.clearTimeout(i.B),i.B=null)}function lo(i){0==i.l.H||i.J||Ao(i.l,i)}function Re(i){Do(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,sn(i.V),yn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Te(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||ji(t.i,i)))if(!i.K&&ji(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Go(t),ws(t)}va(t),Or(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qn(Se(t.ib,t),6e3));if(1>=ls(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else js(t,11)}else if((i.K||t.g==i)&&Go(t),!pt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let j=a[e];if(t.V=j[0],j=j[1],2==t.H)if("c"==j[0]){t.K=j[1],t.pa=j[2];const Q=j[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const Ee=j[4];null!=Ee&&(t.Ga=Ee,t.l.info("SVER="+t.Ga));const Ze=j[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.L=s=1.5*Ze,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const gt=i.g;if(gt){const $t=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var c=s.i;c.g||-1==$t.indexOf("spdy")&&-1==$t.indexOf("quic")&&-1==$t.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(hi(c,c.h),c.h=null))}if(s.F){const fn=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(s.Da=fn,cr(s.I,s.F,fn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=i;if((s=t).wa=eo(s,s.J?s.pa:null,s.Y),p.K){ho(s.i,p);var D=p,N=s.L;N&&D.setTimeout(N),D.B&&(Do(D),dr(D)),s.g=p}else Va(s);0<t.j.length&&wi(t)}else"stop"!=j[0]&&"close"!=j[0]||js(t,7);else 3==t.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?js(t,7):Xs(t):"noop"!=j[0]&&t.h&&t.h.Aa(j),t.A=0)}Gr()}catch{}}function Lt(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ue(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function yt(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ue(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ge(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ue(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],i)}(ee=$r.prototype).setTimeout=function(i){this.P=i},ee.nb=function(i){i=i.target;const e=this.M;e&&3==k(i)?e.l():this.Pa(i)},ee.Pa=function(i){try{if(i==this.g)e:{const Q=k(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||$e||this.g&&(this.h.h||this.g.ja()||P(this.g)))){this.J||4!=Q||7==e||Gr(),Do(this);var t=this.g.da();this.ca=t;t:if(wo(this)){var s=P(this.g);i="";var a=s.length,c=4==k(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Re(this),lo(this);var p="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function St(i,e,t,s,a,c,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,N=this.g;if((D=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(D)){var j=D;break t}}j=null}if(!(t=j)){this.i=!1,this.o=3,Or(12),Re(this),lo(this);break e}It(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Te(this,t)}this.S?(Fs(this,Q,p),$e&&this.i&&3==Q&&(Vt(this.U,this.V,"tick",this.mb),this.V.start())):(It(this.j,this.m,p,null),Te(this,p)),4==Q&&Re(this),this.i&&!this.J&&(4==Q?Ao(this.l,this):(this.i=!1,dr(this)))}else(function M(i){const e={};i=(i.g&&2<=k(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(pt(i[s]))continue;var t=re(i[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function xt(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Re(this),lo(this)}}}catch{}},ee.mb=function(){if(this.g){var i=k(this.g),e=this.g.ja();this.C<e.length&&(Do(this),Fs(this,i,e),this.i&&4!=i&&dr(this))}},ee.cancel=function(){this.J=!0,Re(this)},ee.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function wn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gr(),Or(17)),Re(this),this.o=2,lo(this)):Io(this,this.Y-i)};var bn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Xn){this.h=i.h,ei(this,i.j),this.s=i.s,this.g=i.g,li(this,i.m),this.l=i.l;var e=i.i,t=new Ls;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pi(this,t),this.o=i.o}else i&&(e=String(i).match(bn))?(this.h=!1,ei(this,e[1]||"",!0),this.s=ci(e[2]||""),this.g=ci(e[3]||"",!0),li(this,e[4]),this.l=ci(e[5]||"",!0),pi(this,e[6]||"",!0),this.o=ci(e[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}function kn(i){return new Xn(i)}function ei(i,e,t){i.j=t?ci(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function li(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function pi(i,e,t){e instanceof Ls?(i.i=e,function _s(i,e){e&&!i.j&&(Zi(i),i.i=null,i.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(qs(this,s),qi(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=di(e,Vo)),i.i=new Ls(e,i.h))}function cr(i,e,t){i.i.set(e,t)}function ys(i){return cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ci(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function di(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ea),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ea(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(di(e,as,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(di(e,as,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(di(t,"/"==t.charAt(0)?us:Lo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",di(t,Co)),i.join("")};var as=/[#\/\?@]/g,Lo=/[#\?:]/g,us=/[#\?]/g,Vo=/[#\?@]/g,Co=/#/g;function Ls(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Zi(i){i.g||(i.g=new Map,i.h=0,i.i&&function sr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),a=null;if(0<=s){var c=i[t].substring(0,s);a=i[t].substring(s+1)}else c=i[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qs(i,e){Zi(i),e=vs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function kr(i,e){return Zi(i),e=vs(i,e),i.g.has(e)}function qi(i,e,t){qs(i,e),0<t.length&&(i.i=null,i.g.set(vs(i,e),Et(t)),i.h+=t.length)}function vs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ta(i){this.l=i||pr,i=ne.PerformanceNavigationTiming?0<(i=ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=Ls.prototype).add=function(i,e){Zi(this),this.i=null,i=vs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){Zi(this),this.g.forEach(function(t,s){t.forEach(function(a){i.call(e,a,s,this)},this)},this)},ee.ta=function(){Zi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=i[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ee.Z=function(i){Zi(this);let e=[];if("string"==typeof i)kr(this,i)&&(e=e.concat(this.g.get(vs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ee.set=function(i,e){return Zi(this),this.i=null,kr(this,i=vs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),i.push(a)}}return this.i=i.join("&")};var pr=10;function Ys(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ls(i){return i.h?1:i.g?i.g.size:0}function ji(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function hi(i,e){i.g?i.g.add(e):i.h=e}function ho(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Et(i.i)}function ti(){this.g=new class{stringify(i){return ne.JSON.stringify(i,void 0)}parse(i){return ne.JSON.parse(i,void 0)}}}function ya(i,e,t){const s=t||"";try{Lt(i,function(a,c){let p=a;ye(a)&&(p=Zn(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Qs(i,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function gi(i){this.l=i.fc||null,this.j=i.ob||!1}function zr(i,e){Zt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ta.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},mt(gi,Ni),gi.prototype.g=function(){return new zr(this.l,this.j)},gi.prototype.i=function(i){return function(){return i}}({}),mt(zr,Zt);var Es=0;function Rn(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Js(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Vs(i)}function Vs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=zr.prototype).open=function(i,e){if(this.readyState!=Es)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Vs(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Js(this)),this.readyState=Es},ee.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rn(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ee.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Js(this):Vs(this),3==this.readyState&&Rn(this)}},ee.Za=function(i){this.g&&(this.response=this.responseText=i,Js(this))},ee.Ya=function(i){this.g&&(this.response=i,Js(this))},ee.ka=function(){this.g&&Js(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ei=ne.JSON.parse;function Fr(i){Zt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Us,this.L=this.M=!1}mt(Fr,Zt);var Us="",To=/^https?$/i,cs=["POST","PUT"];function Dt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Jn(i),Yi(i)}function Jn(i){i.F||(i.F=!0,Jt(i,"complete"),Jt(i,"error"))}function jo(i){if(i.h&&typeof Pe<"u"&&(!i.C[1]||4!=k(i)||2!=i.da()))if(i.v&&4==k(i))se(i.La,0,i);else if(Jt(i,"readystatechange"),4==k(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===p){var a=String(i.I).match(bn)[1]||null;!a&&ne.self&&ne.self.location&&(a=ne.self.location.protocol.slice(0,-1)),s=!To.test(a?a.toLowerCase():"")}t=s}if(t)Jt(i,"complete"),Jt(i,"success");else{i.m=6;try{var c=2<k(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",Jn(i)}}finally{Yi(i)}}}function Yi(i,e){if(i.g){Pr(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Jt(i,"ready");try{t.onreadystatechange=s}catch{}}}function Pr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ne.clearTimeout(i.A),i.A=null)}function k(i){return i.g?i.g.readyState:0}function P(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Us:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function q(i){let e="";return _r(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function it(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=q(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):cr(i,e,t))}function on(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Yn(i){this.Ga=0,this.j=[],this.l=new Ve,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=on("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=on("baseRetryDelayMs",5e3,i),this.hb=on("retryDelaySeedMs",1e4,i),this.eb=on("forwardChannelMaxRetries",2,i),this.xa=on("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ta(i&&i.concurrentRequestLimit),this.Ja=new ti,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xs(i){if(mi(i),3==i.H){var e=i.W++,t=kn(i.I);if(cr(t,"SID",i.K),cr(t,"RID",e),cr(t,"TYPE","terminate"),ni(i,t),(e=new $r(i,i.l,e)).L=2,e.v=ys(kn(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon)try{t=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=zo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dr(e)}_a(i)}function ws(i){i.g&&($o(i),i.g.cancel(),i.g=null)}function mi(i){ws(i),i.u&&(ne.clearTimeout(i.u),i.u=null),Go(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ne.clearTimeout(i.m),i.m=null)}function wi(i){if(!Ys(i.i)&&!i.m){i.m=!0;var e=i.Na;z||be(),Z||(z(),Z=!0),G.add(e,i),i.C=0}}function Bs(i,e){var t;t=e?e.m:i.W++;const s=kn(i.I);cr(s,"SID",i.K),cr(s,"RID",t),cr(s,"AID",i.V),ni(i,s),i.o&&i.s&&it(s,i.o,i.s),t=new $r(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Is(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),hi(i.i,t),Bi(t,s,e)}function ni(i,e){i.na&&_r(i.na,function(t,s){cr(e,s,t)}),i.h&&Lt({},function(t,s){cr(e,s,t)})}function Is(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Se(i.h.Va,i.h,i):null;e:{var a=i.j;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].g,p.push("ofs="+c)):c=0:p.push("ofs="+c);let D=!0;for(let N=0;N<t;N++){let j=a[N].g;const Q=a[N].map;if(j-=c,0>j)c=Math.max(0,a[N].g-100),D=!1;else try{ya(Q,p,"req"+j+"_")}catch{s&&s(Q)}}if(D){s=p.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function Va(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;z||be(),Z||(z(),Z=!0),G.add(e,i),i.A=0}}function va(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Qn(Se(i.Ma,i),Fi(i,i.A)),i.A++,0))}function $o(i){null!=i.B&&(ne.clearTimeout(i.B),i.B=null)}function Ho(i){i.g=new $r(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=kn(i.wa);cr(e,"RID","rpc"),cr(e,"SID",i.K),cr(e,"AID",i.V),cr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&cr(e,"TO",i.qa),cr(e,"TYPE","xmlhttp"),ni(i,e),i.o&&i.s&&it(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=ys(kn(e)),t.s=null,t.S=!0,Zs(t,i)}function Go(i){null!=i.v&&(ne.clearTimeout(i.v),i.v=null)}function Ao(i,e){var t=null;if(i.g==e){Go(i),$o(i),i.g=null;var s=2}else{if(!ji(i.i,e))return;t=e.F,ho(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Jt(s=Bn(),new Ns(s,t)),wi(i)}else Va(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Qi(i,e){return!(ls(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Qn(Se(i.Na,i,e),Fi(i,i.C)),i.C++,0)))}(i,e)||2==s&&va(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:js(i,5);break;case 4:js(i,10);break;case 3:js(i,6);break;default:js(i,2)}}function Fi(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function js(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Se(i.pb,i);t||(t=new Xn("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||ei(t,"https"),ys(t)),function Uo(i,e){const t=new Ve;if(ne.Image){const s=new Image;s.onload=bt(Qs,t,s,"TestLoadImage: loaded",!0,e),s.onerror=bt(Qs,t,s,"TestLoadImage: error",!1,e),s.onabort=bt(Qs,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=bt(Qs,t,s,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Or(2);i.H=0,i.h&&i.h.za(e),_a(i),mi(i)}function _a(i){if(i.H=0,i.ma=[],i.h){const e=bo(i.i);(0!=e.length||0!=i.j.length)&&(Fe(i.ma,e),Fe(i.ma,i.j),i.i.i.length=0,Et(i.j),i.j.length=0),i.h.ya()}}function eo(i,e,t){var s=t instanceof Xn?kn(t):new Xn(t);if(""!=s.g)e&&(s.g=e+"."+s.g),li(s,s.m);else{var a=ne.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Xn(null);s&&ei(c,s),e&&(c.g=e),a&&li(c,a),t&&(c.l=t),s=c}return e=i.Da,(t=i.F)&&e&&cr(s,t,e),cr(s,"VER",i.ra),ni(i,s),s}function zo(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&i.Ha&&!i.va?new gi({ob:!0}):i.va)).Oa(i.J),e}function fo(){}function So(){if(Be&&!(10<=Number(Ln)))throw Error("Environmental error: no available transport.")}function xi(i,e){Zt.call(this),this.g=new Yn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!pt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new na(this)}function ds(i){Mi.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ua(){jr.call(this),this.status=1}function na(i){this.g=i}function Ii(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vr(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=i.g[3],p=(e=i.g[0])+(c^(t=i.g[1])&((a=i.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+c&4294967295}function Er(i,e){this.h=e;for(var t=[],s=!0,a=i.length-1;0<=a;a--){var c=0|i[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ee=Fr.prototype).Oa=function(i){this.M=i},ee.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ss.g(),this.C=function Tr(i){return i.h||(i.h=i.i())}(this.u?this.u:ss),this.g.onreadystatechange=Se(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void Dt(this,c)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ne.FormData&&i instanceof ne.FormData,!(0<=at(cs,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pr(this),0<this.B&&((this.L=function Bo(i){return Be&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.ua,this)):this.A=se(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){Dt(this,c)}},ee.ua=function(){typeof Pe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Jt(this,"complete"),Jt(this,"abort"),Yi(this))},ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yi(this,!0)),Fr.$.N.call(this)},ee.La=function(){this.s||(this.G||this.v||this.l?jo(this):this.kb())},ee.kb=function(){jo(this)},ee.isActive=function(){return!!this.g},ee.da=function(){try{return 2<k(this)?this.g.status:-1}catch{return-1}},ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ee.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ei(e)}},ee.Ia=function(){return this.m},ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Yn.prototype).ra=8,ee.H=1,ee.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new $r(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Mn(c),ir(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Is(this,a,e),cr(t=kn(this.I),"RID",i),cr(t,"CVER",22),this.F&&cr(t,"X-HTTP-Session-Id",this.F),ni(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(q(c)))+"&"+e:this.o&&it(t,this.o,c)),hi(this.i,a),this.bb&&cr(t,"TYPE","init"),this.P?(cr(t,"$req",e),cr(t,"SID","null"),a.aa=!0,Bi(a,t,null)):Bi(a,t,e),this.H=2}}else 3==this.H&&(i?Bs(this,i):0==this.j.length||Ys(this.i)||Bs(this))},ee.Ma=function(){if(this.u=null,Ho(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Qn(Se(this.jb,this),i)}},ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Or(10),ws(this),Ho(this))},ee.ib=function(){null!=this.v&&(this.v=null,ws(this),va(this),Or(19))},ee.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Or(2)):(this.l.info("Failed to ping google.com"),Or(1))},ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(ee=fo.prototype).Ba=function(){},ee.Aa=function(){},ee.za=function(){},ee.ya=function(){},ee.isActive=function(){return!0},ee.Va=function(){},So.prototype.g=function(i,e){return new xi(i,e)},mt(xi,Zt),xi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Or(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=eo(i,null,i.Y),wi(i)},xi.prototype.close=function(){Xs(this.g)},xi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Zn(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&wi(e)},xi.prototype.N=function(){this.g.h=null,delete this.j,Xs(this.g),delete this.g,xi.$.N.call(this)},mt(ds,Mi),mt(Ua,jr),mt(na,fo),na.prototype.Ba=function(){Jt(this.g,"a")},na.prototype.Aa=function(i){Jt(this.g,new ds(i))},na.prototype.za=function(i){Jt(this.g,new Ua)},na.prototype.ya=function(){Jt(this.g,"b")},mt(Ii,function gr(){this.blockSize=-1}),Ii.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ii.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)vr(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[a++]=i.charCodeAt(c++),a==this.blockSize){vr(this,s),a=0;break}}else for(;c<e;)if(s[a++]=i[c++],a==this.blockSize){vr(this,s),a=0;break}}this.h=a,this.i+=e},Ii.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var ra={};function Mo(i){return-128<=i&&128>i?function ur(i,e){var t=ra;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new Er([0|e],0>e?-1:0)}):new Er([0|i],0>i?-1:0)}function Ri(i){if(isNaN(i)||!isFinite(i))return Cs;if(0>i)return Di(Ri(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=Ds;return new Er(e,0)}var Ds=4294967296,Cs=Mo(0),to=Mo(1),ia=Mo(16777216);function hs(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function $i(i){return-1==i.h}function Di(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new Er(t,~i.h).add(to)}function Pi(i,e){return i.add(Di(e))}function no(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Wo(i,e){this.g=i,this.h=e}function ro(i,e){if(hs(e))throw Error("division by zero");if(hs(i))return new Wo(Cs,Cs);if($i(i))return e=ro(Di(i),e),new Wo(Di(e.g),Di(e.h));if($i(e))return e=ro(i,Di(e)),new Wo(Di(e.g),e.h);if(30<i.g.length){if($i(i)||$i(e))throw Error("slowDivide_ only works with positive integers.");for(var t=to,s=e;0>=s.X(i);)t=po(t),s=po(s);var a=xo(t,1),c=xo(s,1);for(s=xo(s,2),t=xo(t,2);!hs(s);){var p=c.add(s);0>=p.X(i)&&(a=a.add(t),c=p),s=xo(s,1),t=xo(t,1)}return e=Pi(i,a.R(e)),new Wo(a,e)}for(a=Cs;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=Ri(t)).R(e);$i(p)||0<p.X(i);)p=(c=Ri(t-=s)).R(e);hs(c)&&(c=to),a=a.add(c),i=Pi(i,p)}return new Wo(a,i)}function po(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Er(t,i.h)}function xo(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?i.D(c+t)>>>e|i.D(c+t+1)<<32-e:i.D(c+t);return new Er(a,i.h)}(ee=Er.prototype).ea=function(){if($i(this))return-Di(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:Ds+s)*e,e*=Ds}return i},ee.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(hs(this))return"0";if($i(this))return"-"+Di(this).toString(i);for(var e=Ri(Math.pow(i,6)),t=this,s="";;){var a=ro(t,e).g,c=((0<(t=Pi(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(hs(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ee.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ee.X=function(i){return $i(i=Pi(this,i))?-1:hs(i)?0:1},ee.abs=function(){return $i(this)?Di(this):this},ee.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&i.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new Er(t,-2147483648&t[t.length-1]?-1:0)},ee.R=function(i){if(hs(this)||hs(i))return Cs;if($i(this))return $i(i)?Di(this).R(Di(i)):Di(Di(this).R(i));if($i(i))return Di(this.R(Di(i)));if(0>this.X(ia)&&0>i.X(ia))return Ri(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<i.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),D=i.D(a)>>>16,N=65535&i.D(a);t[2*s+2*a]+=p*N,no(t,2*s+2*a),t[2*s+2*a+1]+=c*N,no(t,2*s+2*a+1),t[2*s+2*a+1]+=p*D,no(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,no(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Er(t,0)},ee.gb=function(i){return ro(this,i).h},ee.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new Er(t,this.h&i.h)},ee.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new Er(t,this.h|i.h)},ee.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new Er(t,this.h^i.h)},So.prototype.createWebChannel=So.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,ks.COMPLETE="complete",Ki.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",Zt.prototype.listen=Zt.prototype.O,Fr.prototype.listenOnce=Fr.prototype.P,Fr.prototype.getLastError=Fr.prototype.Sa,Fr.prototype.getLastErrorCode=Fr.prototype.Ia,Fr.prototype.getStatus=Fr.prototype.da,Fr.prototype.getResponseJson=Fr.prototype.Wa,Fr.prototype.getResponseText=Fr.prototype.ja,Fr.prototype.send=Fr.prototype.ha,Fr.prototype.setWithCredentials=Fr.prototype.Oa,Ii.prototype.digest=Ii.prototype.l,Ii.prototype.reset=Ii.prototype.reset,Ii.prototype.update=Ii.prototype.j,Er.prototype.add=Er.prototype.add,Er.prototype.multiply=Er.prototype.R,Er.prototype.modulo=Er.prototype.gb,Er.prototype.compare=Er.prototype.X,Er.prototype.toNumber=Er.prototype.ea,Er.prototype.toString=Er.prototype.toString,Er.prototype.getBits=Er.prototype.D,Er.fromNumber=Ri,Er.fromString=function Ea(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Di(Ea(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ri(Math.pow(e,8)),s=Cs,a=0;a<i.length;a+=8){var c=Math.min(8,i.length-a),p=parseInt(i.substring(a,a+c),e);8>c?(c=Ri(Math.pow(e,c)),s=s.R(c).add(Ri(p))):s=(s=s.R(t)).add(Ri(p))}return s};var ru=De.createWebChannelTransport=function(){return new So},b=De.getStatEventTarget=function(){return Bn()},B=De.ErrorCode=ui,x=De.EventType=ks,K=De.Event=qn,Ie=De.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ot=De.FetchXmlHttpFactory=gi,vt=De.WebChannel=Ki,vn=De.XhrIo=Fr,mr=De.Md5=Ii,nr=De.Integer=Er;const wr="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Sr="9.23.0";const $n=new ce.Yd("@firebase/firestore");function Yr(){return $n.logLevel}function fs(i){$n.setLogLevel(i)}function Mt(i,...e){if($n.logLevel<=ce.in.DEBUG){const t=e.map(go);$n.debug(`Firestore (${Sr}): ${i}`,...t)}}function Ir(i,...e){if($n.logLevel<=ce.in.ERROR){const t=e.map(go);$n.error(`Firestore (${Sr}): ${i}`,...t)}}function Lr(i,...e){if($n.logLevel<=ce.in.WARN){const t=e.map(go);$n.warn(`Firestore (${Sr}): ${i}`,...t)}}function go(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function tn(i="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+i;throw Ir(e),new Error(e)}function pn(i,e){i||tn()}function sa(i,e){i||tn()}function qt(i,e){return i}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Su{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class wa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tl{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=j=>this.i!==a?(a=this.i,t(j)):Promise.resolve();let p=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ri,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const j=p;e.enqueueRetryable((0,d.Z)(function*(){yield j.promise,yield c(s.currentUser)}))},N=j=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>N(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?N(j):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ri)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pn("string"==typeof s.accessToken),new Su(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new In(e)}}class Ba{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ba(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ol{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Mt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.T=t.token,new Ol(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ii(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class yi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ii(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Nn(i,e){return i<e?-1:i>e?1:0}function bs(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}function ja(i){return i+"\0"}class Hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Hr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new Hr(0,0))}static max(){return new _n(new Hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ts{constructor(e,t,s){void 0===t?t=0:t>e.length&&tn(),void 0===s?s=e.length-t:s>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ts.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Ts{construct(e,t,s){return new Tn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Rt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const $a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Ts{construct(e,t,s){return new or(e,t,s)}static isValidIdentifier(e){return $a.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Rt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new Rt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[a+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new Rt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,a+=2}else"`"===D?(p=!p,a++):"."!==D||p?(s+=D,a++):(c(),a++)}if(c(),p)throw new Rt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Tn.fromString(e))}static fromName(e){return new Yt(Tn.fromString(e).popFirst(5))}static empty(){return new Yt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Tn(e.slice()))}}class Ji{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Zo(i){return i.fields.find(e=>2===e.kind)}function Ia(i){return i.fields.filter(e=>2!==e.kind)}Ji.UNKNOWN_ID=-1;class Ro{constructor(e,t){this.fieldPath=e,this.kind=t}}class xu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xu(0,ps.min())}}function Ca(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_n.fromTimestamp(1e9===s?new Hr(t+1,0):new Hr(t,s));return new ps(a,Yt.empty(),e)}function Ru(i){return new ps(i.readTime,i.key,-1)}class ps{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ps(_n.min(),Yt.empty(),-1)}static max(){return new ps(_n.max(),Yt.empty(),-1)}}function nl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(i.documentKey,e.documentKey),0!==t?t:Nn(i.largestBatchId,e.largestBatchId))}const Ha="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qo(i){return si.apply(this,arguments)}function si(){return si=(0,d.Z)(function*(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==Ha)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),si.apply(this,arguments)}class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ye((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ye?t:Ye.resolve(t)}catch(t){return Ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.reject(t)}static resolve(e){return new Ye((t,s)=>{t(e)})}static reject(e){return new Ye((t,s)=>{s(e)})}static waitFor(e){return new Ye((t,s)=>{let a=0,c=0,p=!1;e.forEach(D=>{++a,D.next(()=>{++c,p&&c===a&&t()},N=>s(N))}),p=!0,c===a&&t()})}static or(e){let t=Ye.resolve(!1);for(const s of e)t=t.next(a=>a?Ye.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ye((s,a)=>{const c=e.length,p=new Array(c);let D=0;for(let N=0;N<c;N++){const j=N;t(e[j]).next(Q=>{p[j]=Q,++D,D===c&&s(p)},Q=>a(Q))}})}static doWhile(e,t){return new Ye((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}class io{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ri,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ci(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const a=su(s.target.error);this.v.reject(new Ci(e,a))}}static open(e,t,s,a){try{return new io(t,e.transaction(a,s))}catch(c){throw new Ci(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iu(t)}}class so{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===so.S((0,ae.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),$s(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ae.hl)())return!1;if(so.C())return!0;const e=(0,ae.z$)(),t=so.S(e),s=0<t&&t<10,a=so.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||(Mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{s(p.target.result)},c.onblocked=()=>{a(new Ci(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const D=p.target.error;a("VersionError"===D.name?new Rt(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Rt(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ci(e,D))},c.onupgradeneeded=p=>{Mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var c=this;return(0,d.Z)(function*(){const p="readonly"===t;let D=0;for(;;){++D;try{c.db=yield c.$(e);const N=io.open(c.db,e,p?"readonly":"readwrite",s),j=a(N).next(Q=>(N.P(),Q)).catch(Q=>(N.abort(Q),Ye.reject(Q))).toPromise();return j.catch(()=>{}),yield N.R,j}catch(N){const j=N,Q="FirebaseError"!==j.name&&D<3;if(Mt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",Q),c.close(),!Q)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ga{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return $s(this.L.delete())}}class Ci extends Rt{constructor(e,t){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Li(i){return"IndexedDbTransactionError"===i.name}class iu{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),$s(s)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),$s(this.store.add(e))}get(e){return $s(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),$s(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),$s(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),c=[];return this.W(a,(p,D)=>{c.push(D)}).next(()=>c)}{const a=this.store.getAll(s.range);return new Ye((c,p)=>{a.onerror=D=>{p(D.target.error)},a.onsuccess=D=>{c(D.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ye((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}J(e,t){Mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const a=this.cursor(s);return this.W(a,(c,p,D)=>D.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.W(a,t)}Z(e){const t=this.cursor({});return new Ye((s,a)=>{t.onerror=c=>{const p=su(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(D=>{D?p.continue():s()}):s()}})}W(e,t){const s=[];return new Ye((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const D=p.target.result;if(!D)return void a();const N=new Ga(D),j=t(D.primaryKey,D.value,N);if(j instanceof Ye){const Q=j.catch(Ee=>(N.done(),Ye.reject(Ee)));s.push(Q)}N.isDone?a():null===N.K?D.continue():D.continue(N.K)}}).next(()=>Ye.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $s(i){return new Ye((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const a=su(s.target.error);t(a)}})}let ba=!1;function su(i){const e=so.S((0,ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ba||(ba=!0,setTimeout(()=>{throw s},0)),s}}return i}class Pu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{Mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Li(s)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield qo(s)}yield t.et(6e4)}))}}class kl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let a=t,c=!0;return Ye.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return Mt("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(D=>{a-=D,s.add(p)});c=!1})).next(()=>t-a)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,c)).next(D=>(Mt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>p.size)}))}rt(e,t){let s=e;return t.changes.forEach((a,c)=>{const p=Ru(c);nl(p,s)>0&&(s=p)}),new ps(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xi=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function za(i){return null==i}function aa(i){return 0===i&&1/i==-1/0}function _(i){return"number"==typeof i&&Number.isInteger(i)&&!aa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function E(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=A(e)),e=y(i.get(t),e);return A(e)}function y(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function A(i){return i+"\x01\x01"}function O(i){const e=i.length;if(pn(e>=2),2===e)return pn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Tn.emptyPath();const t=e-2,s=[];let a="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>t)&&tn(),i.charAt(p+1)){case"\x01":const D=i.substring(c,p);let N;0===a.length?N=D:(a+=D,N=a,a=""),s.push(N);break;case"\x10":a+=i.substring(c,p),a+="\0";break;case"\x11":a+=i.substring(c,p+1);break;default:tn()}c=p+2}return new Tn(s)}const W=["userId","batchId"];function fe(i,e){return[i,E(e)]}function ve(i,e,t){return[i,E(e),t]}const lt={},Wt=["prefixPath","collectionGroup","readTime","documentId"],Hn=["prefixPath","collectionGroup","documentId"],hn=["collectionGroup","readTime","prefixPath","documentId"],hr=["canonicalId","targetId"],As=["targetId","path"],fi=["path","targetId"],oo=["collectionId","parent"],Qr=["indexId","uid"],Ou=["uid","sequenceNumber"],Ta=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Aa=["indexId","uid","orderedDocumentKey"],il=["userId","collectionPath","documentId"],ou=["userId","collectionPath","largestBatchId"],Ss=["userId","collectionGroup","largestBatchId"],au=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vi=[...au,"documentOverlays"],Nu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fl=Nu,sl=[...Fl,"indexConfiguration","indexState","indexEntries"];class ua extends rl{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Hi(i,e){const t=qt(i);return so.M(t.ht,e)}function Sa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Wa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ll(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Dr{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??vi.RED,this.left=a??vi.EMPTY,this.right=c??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new vi(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return vi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(i,e,t,s,a){return this}insert(i,e,t){return new vi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oi(this.comparator);return t.data=e,t}}class Vl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Po(i){return i.hasNext()?i.getNext():void 0}class es{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new es([])}unionWith(e){let t=new oi(or.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class ol extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Tc(){return typeof atob<"u"}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ol("Invalid base64 string: "+a):a}}(e);return new bi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const lu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(i){if(pn(!!i),"string"==typeof i){let e=0;const t=lu.exec(i);if(pn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ai(i.seconds),nanos:ai(i.nanos)}}function ai(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ma(i){return"string"==typeof i?bi.fromBase64String(i):bi.fromUint8Array(i)}function ku(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fu(i){const e=i.mapValue.fields.__previous_value__;return ku(e)?Fu(e):e}function al(i){const e=mo(i.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}class Ul{constructor(e,t,s,a,c,p,D,N,j){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=j}}class Yo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xa={nullValue:"NULL_VALUE"};function ao(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ku(i)?4:td(i)?9007199254740991:10:tn()}function yo(i,e){if(i===e)return!0;const t=ao(i);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return al(i).isEqual(al(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=mo(s.timestampValue),p=mo(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,Ma(i.bytesValue).isEqual(Ma(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return ai(s.geoPointValue.latitude)===ai(a.geoPointValue.latitude)&&ai(s.geoPointValue.longitude)===ai(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ai(s.integerValue)===ai(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ai(s.doubleValue),p=ai(a.doubleValue);return c===p?aa(c)===aa(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(Sa(c)!==Sa(p))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===p[D]||!yo(c[D],p[D])))return!1;return!0}(i,e);default:return tn()}var a}function la(i,e){return void 0!==(i.values||[]).find(t=>yo(t,e))}function Jo(i,e){if(i===e)return 0;const t=ao(i),s=ao(e);if(t!==s)return Nn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nn(i.booleanValue,e.booleanValue);case 2:return function(a,c){const p=ai(a.integerValue||a.doubleValue),D=ai(c.integerValue||c.doubleValue);return p<D?-1:p>D?1:p===D?0:isNaN(p)?isNaN(D)?0:-1:1}(i,e);case 3:return cu(i.timestampValue,e.timestampValue);case 4:return cu(al(i),al(e));case 5:return Nn(i.stringValue,e.stringValue);case 6:return function(a,c){const p=Ma(a),D=Ma(c);return p.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),D=c.split("/");for(let N=0;N<p.length&&N<D.length;N++){const j=Nn(p[N],D[N]);if(0!==j)return j}return Nn(p.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Nn(ai(a.latitude),ai(c.latitude));return 0!==p?p:Nn(ai(a.longitude),ai(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],D=c.values||[];for(let N=0;N<p.length&&N<D.length;++N){const j=Jo(p[N],D[N]);if(j)return j}return Nn(p.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Qo.mapValue&&c===Qo.mapValue)return 0;if(a===Qo.mapValue)return 1;if(c===Qo.mapValue)return-1;const p=a.fields||{},D=Object.keys(p),N=c.fields||{},j=Object.keys(N);D.sort(),j.sort();for(let Q=0;Q<D.length&&Q<j.length;++Q){const Ee=Nn(D[Q],j[Q]);if(0!==Ee)return Ee;const Ze=Jo(p[D[Q]],N[j[Q]]);if(0!==Ze)return Ze}return Nn(D.length,j.length)}(i.mapValue,e.mapValue);default:throw tn()}}function cu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Nn(i,e);const t=mo(i),s=mo(e),a=Nn(t.seconds,s.seconds);return 0!==a?a:Nn(t.nanos,s.nanos)}function Ka(i){return du(i)}function du(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const a=mo(s);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ma(i.bytesValue).toBase64():"referenceValue"in i?Yt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=du(p);return a+"]"}(i.arrayValue):"mapValue"in i?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const D of a)p?p=!1:c+=",",c+=`${D}:${du(s.fields[D])}`;return c+"}"}(i.mapValue):tn();var e}function Ra(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ed(i){return!!i&&"integerValue"in i}function ul(i){return!!i&&"arrayValue"in i}function hu(i){return!!i&&"nullValue"in i}function fu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ll(i){return!!i&&"mapValue"in i}function Vu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Wa(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Vu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function td(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ca(i){return"nullValue"in i?xa:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ra(Yo.empty(),Yt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:tn()}function nd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ra(Yo.empty(),Yt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Qo:tn()}function da(i,e){const t=Jo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bl(i,e){const t=Jo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=or.emptyPath(),s={},a=[];e.forEach((p,D)=>{if(!t.isImmediateParentOf(D)){const N=this.getFieldsMap(t);this.applyChanges(N,s,a),s={},a=[],t=D.popLast()}p?s[D.lastSegment()]=Vu(p):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Wa(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ts(Vu(this.value))}}function cl(i){const e=[];return Wa(i.fields,(t,s)=>{const a=new or([t]);if(ll(s)){const c=cl(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new es(e)}class qr{constructor(e,t,s,a,c,p,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=D}static newInvalidDocument(e){return new qr(e,0,_n.min(),_n.min(),_n.min(),ts.empty(),0)}static newFoundDocument(e,t,s,a){return new qr(e,1,t,_n.min(),s,a,0)}static newNoDocument(e,t){return new qr(e,2,t,_n.min(),_n.min(),ts.empty(),0)}static newUnknownDocument(e,t){return new qr(e,3,t,_n.min(),_n.min(),ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_n.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ns{constructor(e,t){this.position=e,this.inclusive=t}}function rd(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],p=i.position[a];if(s=c.field.isKeyField()?Yt.comparator(Yt.fromName(p.referenceValue),t.key):Jo(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function w(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!yo(i.position[t],e.position[t]))return!1;return!0}class T{constructor(e,t="asc"){this.field=e,this.dir=t}}function $(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ie{}class _e extends ie{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ui(e,t,s):"array-contains"===t?new Pa(e,s):"in"===t?new gu(e,s):"not-in"===t?new Rf(e,s):"array-contains-any"===t?new Pf(e,s):new _e(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ha(e,s):new pu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jo(t,this.value)):null!==t&&ao(this.value)===ao(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends ie{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new xe(e,t)}matches(e){return ht(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ht(i){return"and"===i.op}function en(i){return"or"===i.op}function Qt(i){return En(i)&&ht(i)}function En(i){for(const e of i.filters)if(e instanceof xe)return!1;return!0}function Dn(i){if(i instanceof _e)return i.field.canonicalString()+i.op.toString()+Ka(i.value);if(Qt(i))return i.filters.map(e=>Dn(e)).join(",");{const e=i.filters.map(t=>Dn(t)).join(",");return`${i.op}(${e})`}}function Gn(i,e){return i instanceof _e?(t=i,(s=e)instanceof _e&&t.op===s.op&&t.field.isEqual(s.field)&&yo(t.value,s.value)):i instanceof xe?function(t,s){return s instanceof xe&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Gn(c,s.filters[p]),!0)}(i,e):void tn();var t,s}function gs(i,e){const t=i.filters.concat(e);return xe.create(t,i.op)}function _i(i){return i instanceof _e?`${(e=i).field.canonicalString()} ${e.op} ${Ka(e.value)}`:i instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(_i).join(" ,")+"}"}(i):"Filter";var e}class Ui extends _e{constructor(e,t,s){super(e,t,s),this.key=Yt.fromName(s.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ha extends _e{constructor(e,t){super(e,"in",t),this.keys=uo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pu extends _e{constructor(e,t){super(e,"not-in",t),this.keys=uo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uo(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class Pa extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ul(t)&&la(t.arrayValue,this.value)}}class gu extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&la(this.value.arrayValue,t)}}class Rf extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!la(this.value.arrayValue,t)}}class Pf extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ul(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>la(this.value.arrayValue,s))}}class id{constructor(e,t=null,s=[],a=[],c=null,p=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=D,this.dt=null}}function jl(i,e=null,t=[],s=[],a=null,c=null,p=null){return new id(i,e,t,s,a,c,p)}function Oa(i){const e=qt(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Dn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),za(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ka(s)).join(",")),e.dt=t}return e.dt}function dl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!$(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Gn(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w(i.startAt,e.startAt)&&w(i.endAt,e.endAt)}function Uu(i){return Yt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function hl(i,e){return i.filters.filter(t=>t instanceof _e&&t.field.isEqual(e))}function lh(i,e,t){let s=xa,a=!0;for(const c of hl(i,e)){let p=xa,D=!0;switch(c.op){case"<":case"<=":p=ca(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,D=!1;break;case"!=":case"not-in":p=xa}da({value:s,inclusive:a},{value:p,inclusive:D})<0&&(s=p,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];da({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function sd(i,e,t){let s=Qo,a=!0;for(const c of hl(i,e)){let p=Qo,D=!0;switch(c.op){case">=":case">":p=nd(c.value),D=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,D=!1;break;case"!=":case"not-in":p=Qo}Bl({value:s,inclusive:a},{value:p,inclusive:D})>0&&(s=p,a=D)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];Bl({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class Za{constructor(e,t=null,s=[],a=[],c=null,p="F",D=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=D,this.endAt=N,this.wt=null,this._t=null}}function fl(i,e,t,s,a,c,p,D){return new Za(i,e,t,s,a,c,p,D)}function Bu(i){return new Za(i)}function ch(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ac(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function v(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function h(i){return null!==i.collectionGroup}function g(i){const e=qt(i);if(null===e.wt){e.wt=[];const t=v(e),s=Ac(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new T(t)),e.wt.push(new T(or.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new T(or.keyField(),c))}}}return e.wt}function I(i){const e=qt(i);if(!e._t)if("F"===e.limitType)e._t=jl(e.path,e.collectionGroup,g(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of g(e))t.push(new T(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new ns(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ns(e.startAt.position,e.startAt.inclusive):null;e._t=jl(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function H(i,e){e.getFirstInequalityField(),v(i);const t=i.filters.concat([e]);return new Za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function J(i,e,t){return new Za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ne(i,e){return dl(I(i),I(e))&&i.limitType===e.limitType}function ct(i){return`${Oa(I(i))}|lt:${i.limitType}`}function zt(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>_i(s)).join(", ")}]`),za(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ka(s)).join(",")),`Target(${t})`}(I(i))}; limitType=${i.limitType})`}function rn(i,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Yt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,s){for(const a of g(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(i,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(a,c,p){const D=rd(a,c,p);return a.inclusive?D<=0:D<0}(t.startAt,g(t),s)||t.endAt&&!function(a,c,p){const D=rd(a,c,p);return a.inclusive?D>=0:D>0}(t.endAt,g(t),s)));var t,s}function An(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yr(i){return(e,t)=>{let s=!1;for(const a of g(i)){const c=vo(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function vo(i,e,t){const s=i.field.isKeyField()?Yt.comparator(e.key,t.key):function(a,c,p){const D=c.data.field(a),N=p.data.field(a);return null!==D&&null!==N?Jo(D,N):tn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return tn()}}class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}}const $l=new Dr(Yt.comparator);function Ms(){return $l}const Hl=new Dr(Yt.comparator);function mu(...i){let e=Hl;for(const t of i)e=e.insert(t.key,t);return e}function od(i){let e=Hl;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xo(){return ju()}function Sc(){return ju()}function ju(){return new Hs(i=>i.toString(),(i,e)=>i.isEqual(e))}const qa=new Dr(Yt.comparator),ad=new oi(Yt.comparator);function lr(...i){let e=ad;for(const t of i)e=e.add(t);return e}const ud=new oi(Nn);function dh(){return ud}function ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function fg(i){return{integerValue:""+i}}function Of(i,e){return _(e)?fg(e):ld(i,e)}class cd{constructor(){this._=void 0}}function pg(i,e,t){return i instanceof $u?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ku(a)&&(a=Fu(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):i instanceof yu?Ff(i,e):i instanceof Hu?hh(i,e):function(s,a){const c=kf(s,a),p=Mc(c)+Mc(s.gt);return ed(c)&&ed(s.gt)?fg(p):ld(s.serializer,p)}(i,e)}function Nf(i,e,t){return i instanceof yu?Ff(i,e):i instanceof Hu?hh(i,e):t}function kf(i,e){return i instanceof pl?ed(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class $u extends cd{}class yu extends cd{constructor(e){super(),this.elements=e}}function Ff(i,e){const t=gg(e);for(const s of i.elements)t.some(a=>yo(a,s))||t.push(s);return{arrayValue:{values:t}}}class Hu extends cd{constructor(e){super(),this.elements=e}}function hh(i,e){let t=gg(e);for(const s of i.elements)t=t.filter(a=>!yo(a,s));return{arrayValue:{values:t}}}class pl extends cd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mc(i){return ai(i.integerValue||i.doubleValue)}function gg(i){return ul(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class xc{constructor(e,t){this.field=e,this.transform=t}}class xy{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gl{}function fh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new gl(i.key,Ti.none()):new Pc(i.key,i.data,Ti.none());{const t=i.data,s=ts.empty();let a=new oi(or.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new Ya(i.key,s,new es(a.toArray()),Ti.none())}}function zl(i,e,t){i instanceof Pc?function(s,a,c){const p=s.value.clone(),D=Lf(s.fieldTransforms,a,c.transformResults);p.setAll(D),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Ya?function(s,a,c){if(!Rc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Lf(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(mg(s)),D.setAll(p),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dd(i,e,t,s){return i instanceof Pc?function(a,c,p,D){if(!Rc(a.precondition,c))return p;const N=a.value.clone(),j=hd(a.fieldTransforms,D,c);return N.setAll(j),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ya?function(a,c,p,D){if(!Rc(a.precondition,c))return p;const N=hd(a.fieldTransforms,D,c),j=c.data;return j.setAll(mg(a)),j.setAll(N),c.convertToFoundDocument(c.version,j).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(i,e,t,s):(p=t,Rc(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Ry(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=kf(s.transform,a||null);null!=c&&(null===t&&(t=ts.empty()),t.set(s.field,c))}return t||null}function Py(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&bs(t,s,(a,c)=>function My(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof yu&&s instanceof yu||t instanceof Hu&&s instanceof Hu?bs(t.elements,s.elements,yo):t instanceof pl&&s instanceof pl?yo(t.gt,s.gt):t instanceof $u&&s instanceof $u);var t,s}(a,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Pc extends Gl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends Gl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mg(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Lf(i,e,t){const s=new Map;pn(i.length===t.length);for(let a=0;a<t.length;a++){const c=i[a],p=c.transform,D=e.data.field(c.field);s.set(c.field,Nf(p,D,t[a]))}return s}function hd(i,e,t){const s=new Map;for(const a of i){const c=a.transform,p=t.data.field(a.field);s.set(a.field,pg(c,p,e))}return s}class gl extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ph extends Gl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gh{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zl(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Sc();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let D=this.applyToLocalView(p,c.mutatedFields);D=t.has(a.key)?null:D;const N=fh(p,D);null!==N&&s.set(a.key,N),p.isValidDocument()||p.convertToNoDocument(_n.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(t,s)=>Py(t,s))&&bs(this.baseMutations,e.baseMutations,(t,s)=>Py(t,s))}}class mh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){pn(e.mutations.length===s.length);let a=qa;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new mh(e,t,s,a)}}class yh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ny{constructor(e,t){this.count=e,this.unchangedNames=t}}var ms,Vr;function yg(i){switch(i){default:return tn();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function Gu(i){if(void 0===i)return Ir("GRPC error has no .code"),et.UNKNOWN;switch(i){case ms.OK:return et.OK;case ms.CANCELLED:return et.CANCELLED;case ms.UNKNOWN:return et.UNKNOWN;case ms.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ms.INTERNAL:return et.INTERNAL;case ms.UNAVAILABLE:return et.UNAVAILABLE;case ms.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ms.NOT_FOUND:return et.NOT_FOUND;case ms.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ms.ABORTED:return et.ABORTED;case ms.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ms.DATA_LOSS:return et.DATA_LOSS;default:return tn()}}(Vr=ms||(ms={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";class Wl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vh}static getOrCreateInstance(){return null===vh&&(vh=new Wl),vh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vh=null;function ky(){return new TextEncoder}const H_=new nr([4294967295,4294967295],0);function Fy(i){const e=ky().encode(i),t=new mr;return t.update(e),new Uint8Array(t.digest())}function Ly(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new nr([t,s],0),new nr([a,c],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Oc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=nr.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(nr.fromNumber(s)));return 1===a.compare(H_)&&(a=new nr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new vg(c,a,t);return s.forEach(D=>p.insert(D)),p}insert(e){if(0===this.It)return;const t=Fy(e),[s,a]=Ly(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new fd(_n.min(),a,new Dr(Nn),Ms(),lr())}}class pd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pd(s,t,lr(),lr(),lr())}}class _h{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class _g{constructor(e,t){this.targetId=e,this.Vt=t}}class Eh{constructor(e,t,s=bi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class vu{constructor(){this.St=0,this.Dt=Uf(),this.Ct=bi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=lr(),t=lr(),s=lr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:tn()}}),new pd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Uf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ms(),this.zt=Vf(),this.Wt=new Dr(Nn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(Uu(p))if(0===a){const D=new Yt(p.path);this.Yt(s,D,qr.newNoDocument(D,_n.min()))}else pn(1===a);else{const D=this.ie(s);if(D!==a){const N=this.re(e,D);0!==N&&(this.ee(s),this.Wt=this.Wt.insert(s,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Wl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(j,Q,Ee){var Ze,gt,$t,fn,gn,fr;const Ur={localCacheCount:Q,existenceFilterCount:Ee.count},Cr=Ee.unchangedNames;return Cr&&(Ur.bloomFilter={applied:0===j,hashCount:null!==(Ze=Cr?.hashCount)&&void 0!==Ze?Ze:0,bitmapLength:null!==(fn=null===($t=null===(gt=Cr?.bits)||void 0===gt?void 0:gt.bitmap)||void 0===$t?void 0:$t.length)&&void 0!==fn?fn:0,padding:null!==(fr=null===(gn=Cr?.bits)||void 0===gn?void 0:gn.padding)&&void 0!==fr?fr:0}),Ur}(N,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:D=0}=s;let N,j;try{N=Ma(c).toUint8Array()}catch(Q){if(Q instanceof ol)return Lr("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{j=new vg(N,p,D)}catch(Q){return Lr(Q instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===j.It?1:a!==t-this.oe(e.targetId,j)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),D=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(D)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const D=this.se(p);if(D){if(c.current&&Uu(D.target)){const N=new Yt(D.target.path);null!==this.jt.get(N)||this.ae(p,N)||this.Yt(p,N,qr.newNoDocument(N,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=lr();this.zt.forEach((c,p)=>{let D=!0;p.forEachWhile(N=>{const j=this.se(N);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new fd(e,t,this.Wt,this.jt,s);return this.jt=Ms(),this.zt=Vf(),this.Wt=new Dr(Nn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new vu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new oi(Nn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new Dr(Yt.comparator)}function Uf(){return new Dr(Yt.comparator)}const Eg={asc:"ASCENDING",desc:"DESCENDING"},G_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z_={and:"AND",or:"OR"};class W_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function md(i,e){return i.useProto3Json||za(e)?e:{value:e}}function ml(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function K_(i,e){return ml(i,e.toTimestamp())}function Gi(i){return pn(!!i),_n.fromTimestamp(function(e){const t=mo(e);return new Hr(t.seconds,t.nanos)}(i))}function Bf(i,e){return(t=i,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wg(i){const e=Tn.fromString(i);return pn(Gf(e)),e}function yd(i,e){return Bf(i.databaseId,e.path)}function _u(i,e){const t=wg(e);if(t.get(1)!==i.databaseId.projectId)throw new Rt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Rt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Yt(Ih(t))}function wh(i,e){return Bf(i.databaseId,e)}function vd(i){const e=wg(i);return 4===e.length?Tn.emptyPath():Ih(e)}function _d(i){return new Tn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ih(i){return pn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ig(i,e,t){return{name:yd(i,e),fields:t.value.mapValue.fields}}function rs(i,e,t){const s=_u(i,e.name),a=Gi(e.updateTime),c=e.createTime?Gi(e.createTime):_n.min(),p=new ts({mapValue:{fields:e.fields}}),D=qr.newFoundDocument(s,a,c,p);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Kl(i,e){let t;if(e instanceof Pc)t={update:Ig(i,e.key,e.value)};else if(e instanceof gl)t={delete:yd(i,e.key)};else if(e instanceof Ya)t={update:Ig(i,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof ph))return tn();t={verify:yd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof $u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pl)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw tn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:K_(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tn()),t;var a}function Dh(i,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Ti.updateTime(Gi(a.updateTime)):void 0!==a.exists?Ti.exists(a.exists):Ti.none():Ti.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let D=null;"setToServerValue"in p?(pn("REQUEST_TIME"===p.setToServerValue),D=new $u):"appendMissingElements"in p?D=new yu(p.appendMissingElements.values||[]):"removeAllFromArray"in p?D=new Hu(p.removeAllFromArray.values||[]):"increment"in p?D=new pl(c,p.increment):tn();const N=or.fromServerFormat(p.fieldPath);return new xc(N,D)}(i,a)):[];var a;if(e.update){const a=_u(i,e.update.name),c=new ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new es((e.updateMask.fieldPaths||[]).map(j=>or.fromServerFormat(j)));return new Ya(a,c,p,t,s)}return new Pc(a,c,t,s)}if(e.delete){const a=_u(i,e.delete);return new gl(a,t)}if(e.verify){const a=_u(i,e.verify);return new ph(a,t)}return tn()}function Dg(i,e){return{documents:[wh(i,e.path)]}}function jf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=wh(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wh(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(N){if(0!==N.length)return Hf(xe.create(N,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(N){if(0!==N.length)return N.map(j=>{return{field:zu((Q=j).field),direction:Z_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=md(i,e.limit);var D,N;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function Cg(i){let e=vd(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){pn(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const Ee=Hy(Q);return Ee instanceof xe&&Qt(Ee)?Ee.getFilters():[Ee]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(Q=>{return new T(Zl((Ee=Q).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let D=null;t.limit&&(D=function(Q){let Ee;return Ee="object"==typeof Q?Q.value:Q,za(Ee)?null:Ee}(t.limit));let N=null;var Q;t.startAt&&(N=new ns((Q=t.startAt).values||[],!!Q.before));let j=null;return t.endAt&&(j=function(Q){return new ns(Q.values||[],!Q.before)}(t.endAt)),fl(e,a,p,c,D,"F",N,j)}function Hy(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zl(e.unaryFilter.field);return _e.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Zl(e.unaryFilter.field);return _e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zl(e.unaryFilter.field);return _e.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zl(e.unaryFilter.field);return _e.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(i):void 0!==i.fieldFilter?_e.create(Zl((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(t=>Hy(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(i):tn();var e}function Z_(i){return Eg[i]}function Ed(i){return G_[i]}function $f(i){return z_[i]}function zu(i){return{fieldPath:i.canonicalString()}}function Zl(i){return or.fromServerFormat(i.fieldPath)}function Hf(i){return i instanceof _e?function(e){if("=="===e.op){if(fu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NAN"}};if(hu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NOT_NAN"}};if(hu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(e.field),op:Ed(e.op),value:e.value}}}(i):i instanceof xe?function(e){const t=e.getFilters().map(s=>Hf(s));return 1===t.length?t[0]:{compositeFilter:{op:$f(e.op),filters:t}}}(i):tn()}function Gy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Eu{constructor(e,t,s,a,c=_n.min(),p=_n.min(),D=bi.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new Eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ch{constructor(e){this.fe=e}}function bg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:yd(a=i.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:ml(a,c.version.toTimestamp()),createTime:ml(a,c.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:yl(e.version)};else{if(!e.isUnknownDocument())return tn();s.unknownDocument={path:t.path.toArray(),version:yl(e.version)}}var a,c;return s}function Nc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function yl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vl(i){const e=new Hr(i.seconds,i.nanoseconds);return _n.fromTimestamp(e)}function fa(i,e){const t=(e.baseMutations||[]).map(c=>Dh(i.fe,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const s=e.mutations.map(c=>Dh(i.fe,c)),a=Hr.fromMillis(e.localWriteTimeMs);return new gh(e.batchId,a,t,s)}function wd(i){const e=vl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?vl(i.lastLimboFreeSnapshotVersion):_n.min();let s;var a;return void 0!==i.query.documents?(pn(1===(a=i.query).documents.length),s=I(Bu(vd(a.documents[0])))):s=I(Cg(i.query)),new Eu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,bi.fromBase64String(i.resumeToken))}function bh(i,e){const t=yl(e.snapshotVersion),s=yl(e.lastLimboFreeSnapshotVersion);let a;a=Uu(e.target)?Dg(i.fe,e.target):jf(i.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function kc(i){const e=Cg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?J(e,e.limit,"L"):e}function zf(i,e){return new yh(e.largestBatchId,Dh(i.fe,e.overlayMutation))}function Th(i,e){const t=e.path.lastSegment();return[i,E(e.path.popLast()),t]}function Id(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:yl(s.readTime),documentKey:E(s.documentKey.path),largestBatchId:s.largestBatchId}}class ql{getBundleMetadata(e,t){return Wf(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:vl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Wf(e).put({bundleId:(s=t).id,createTime:yl(Gi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ah(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:kc(a.bundledQuery),readTime:vl(a.readTime)};var a})}saveNamedQuery(e,t){return Ah(e).put({name:(s=t).name,readTime:yl(Gi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Wf(i){return Hi(i,"bundles")}function Ah(i){return Hi(i,"namedQueries")}class Sh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Sh(e,t.uid||"")}getOverlay(e,t){return Dd(e).get(Th(this.userId,t)).next(s=>s?zf(this.serializer,s):null)}getOverlays(e,t){const s=Xo();return Ye.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((c,p)=>{const D=new yh(t,p);a.push(this.we(e,D))}),Ye.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(E(p.getCollectionPath())));const c=[];return a.forEach(p=>{const D=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);c.push(Dd(e).J("collectionPathOverlayIndex",D))}),Ye.waitFor(c)}getOverlaysForCollection(e,t,s){const a=Xo(),c=E(t),p=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Dd(e).j("collectionPathOverlayIndex",p).next(D=>{for(const N of D){const j=zf(this.serializer,N);a.set(j.getKey(),j)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const c=Xo();let p;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dd(e).X({index:"collectionGroupOverlayIndex",range:D},(N,j,Q)=>{const Ee=zf(this.serializer,j);c.size()<a||Ee.largestBatchId===p?(c.set(Ee.getKey(),Ee),p=Ee.largestBatchId):Q.done()}).next(()=>c)}we(e,t){return Dd(e).put(function(s,a,c){const[p,D,N]=Th(a,c.mutation.key);return{userId:a,collectionPath:D,documentId:N,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Kl(s.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Dd(i){return Hi(i,"documentOverlays")}class _l{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ai(e.integerValue));else if("doubleValue"in e){const s=ai(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),aa(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?td(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):tn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Yt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Fc(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Tg(i){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const c=Fc(255&t[a]);if(s+=c,8!==c)break}return s}(i);return Math.ceil(e/8)}_l.Ve=new _l;class zy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),s=Tg(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Wy{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ky{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Yl{constructor(){this.je=new zy,this.ze=new Wy(this.je),this.We=new Ky(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ql{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,s)}}function Wu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ag(i.arrayValue,e.arrayValue),0!==t?t:(t=Ag(i.directionalValue,e.directionalValue),0!==t?t:Yt.comparator(i.documentKey,e.documentKey)))}function Ag(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Sg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){pn(e.collectionGroup===this.collectionId);const t=Zo(e);if(void 0!==t&&!this.en(t))return!1;const s=Ia(e);let a=new Set,c=0,p=0;for(;c<s.length&&this.en(s[c]);++c)a=a.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const D=s[c];if(!this.nn(this.Ze,D)||!this.sn(this.Ye[p++],D))return!1}++c}for(;c<s.length;++c){const D=s[c];if(p>=this.Ye.length||!this.sn(this.Ye[p++],D))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Zy(i){var e,t;if(pn(i instanceof _e||i instanceof xe),i instanceof _e){if(i instanceof gu){const a=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>_e.create(i.field,"==",c)))||[];return xe.create(a,"or")}return i}const s=i.filters.map(a=>Zy(a));return xe.create(s,i.op)}function qy(i){if(0===i.getFilters().length)return[];const e=ec(Zy(i));return pn(Xl(e)),Jl(e)||Kf(e)?[e]:e.getFilters()}function Jl(i){return i instanceof _e}function Kf(i){return i instanceof xe&&Qt(i)}function Xl(i){return Jl(i)||Kf(i)||function(e){if(e instanceof xe&&en(e)){for(const t of e.getFilters())if(!Jl(t)&&!Kf(t))return!1;return!0}return!1}(i)}function ec(i){if(pn(i instanceof _e||i instanceof xe),i instanceof _e)return i;if(1===i.filters.length)return ec(i.filters[0]);const e=i.filters.map(s=>ec(s));let t=xe.create(e,i.op);return t=Cd(t),Xl(t)?t:(pn(t instanceof xe),pn(ht(t)),pn(t.filters.length>1),t.filters.reduce((s,a)=>Zf(s,a)))}function Zf(i,e){let t;return pn(i instanceof _e||i instanceof xe),pn(e instanceof _e||e instanceof xe),t=i instanceof _e?e instanceof _e?xe.create([i,e],"and"):Yy(i,e):e instanceof _e?Yy(e,i):function(s,a){if(pn(s.filters.length>0&&a.filters.length>0),ht(s)&&ht(a))return gs(s,a.getFilters());const c=en(s)?s:a,p=en(s)?a:s,D=c.filters.map(N=>Zf(N,p));return xe.create(D,"or")}(i,e),Cd(t)}function Yy(i,e){if(ht(e))return gs(e,i.getFilters());{const t=e.filters.map(s=>Zf(i,s));return xe.create(t,"or")}}function Cd(i){if(pn(i instanceof _e||i instanceof xe),i instanceof _e)return i;const e=i.getFilters();if(1===e.length)return Cd(e[0]);if(En(i))return i;const t=e.map(a=>Cd(a)),s=[];return t.forEach(a=>{a instanceof _e?s.push(a):a instanceof xe&&(a.op===i.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:xe.create(s,i.op)}class Qy{constructor(){this.rn=new qf}addToCollectionParentIndex(e,t){return this.rn.add(t),Ye.resolve()}getCollectionParents(e,t){return Ye.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ye.resolve()}deleteFieldIndex(e,t){return Ye.resolve()}getDocumentsMatchingTarget(e,t){return Ye.resolve(null)}getIndexType(e,t){return Ye.resolve(0)}getFieldIndexes(e,t){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,t){return Ye.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return Ye.resolve(ps.min())}updateCollectionGroup(e,t,s){return Ye.resolve()}updateIndexEntries(e,t){return Ye.resolve()}}class qf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new oi(Tn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new oi(Tn.comparator)).toArray()}}const Mh=new Uint8Array(0);class Mg{constructor(e,t){this.user=e,this.databaseId=t,this.on=new qf,this.un=new Hs(s=>Oa(s),(s,a)=>dl(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:s,parent:E(a)};return Yf(e).put(c)}return Ye.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ja(t),""],!1,!0);return Yf(e).j(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;s.push(O(p.parent))}return s})}addFieldIndex(e,t){const s=Lc(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var p;delete a.indexId;const c=s.add(a);if(t.indexState){const p=bd(e);return c.next(D=>{p.put(Id(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const s=Lc(e),a=bd(e),c=tc(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=tc(e);let a=!0;const c=new Map;return Ye.forEach(this.cn(t),p=>this.an(e,p).next(D=>{a&&(a=!!D),c.set(p,D)})).next(()=>{if(a){let p=lr();const D=[];return Ye.forEach(c,(N,j)=>{var Q;Mt("IndexedDbIndexManager",`Using index ${Q=N,`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(Cr=>`${Cr.fieldPath}:${Cr.kind}`).join(",")}`} to execute ${Oa(t)}`);const Ee=function(Cr,Ws){const Os=Zo(Ws);if(void 0===Os)return null;for(const Oi of hl(Cr,Os.fieldPath))switch(Oi.op){case"array-contains-any":return Oi.value.arrayValue.values||[];case"array-contains":return[Oi.value]}return null}(j,N),Ze=function(Cr,Ws){const Os=new Map;for(const Oi of Ia(Ws))for(const Fo of hl(Cr,Oi.fieldPath))switch(Fo.op){case"==":case"in":Os.set(Oi.fieldPath.canonicalString(),Fo.value);break;case"not-in":case"!=":return Os.set(Oi.fieldPath.canonicalString(),Fo.value),Array.from(Os.values())}return null}(j,N),gt=function(Cr,Ws){const Os=[];let Oi=!0;for(const Fo of Ia(Ws)){const Tu=0===Fo.kind?lh(Cr,Fo.fieldPath,Cr.startAt):sd(Cr,Fo.fieldPath,Cr.startAt);Os.push(Tu.value),Oi&&(Oi=Tu.inclusive)}return new ns(Os,Oi)}(j,N),$t=function(Cr,Ws){const Os=[];let Oi=!0;for(const Fo of Ia(Ws)){const Tu=0===Fo.kind?sd(Cr,Fo.fieldPath,Cr.endAt):lh(Cr,Fo.fieldPath,Cr.endAt);Os.push(Tu.value),Oi&&(Oi=Tu.inclusive)}return new ns(Os,Oi)}(j,N),fn=this.hn(N,j,gt),gn=this.hn(N,j,$t),fr=this.ln(N,j,Ze),Ur=this.fn(N.indexId,Ee,fn,gt.inclusive,gn,$t.inclusive,fr);return Ye.forEach(Ur,Cr=>s.H(Cr,t.limit).next(Ws=>{Ws.forEach(Os=>{const Oi=Yt.fromSegments(Os.documentKey);p.has(Oi)||(p=p.add(Oi),D.push(Oi))})}))}).next(()=>D)}return Ye.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:qy(xe.create(e.filters,"and")).map(s=>jl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,a,c,p,D){const N=(null!=t?t.length:1)*Math.max(s.length,c.length),j=N/(null!=t?t.length:1),Q=[];for(let Ee=0;Ee<N;++Ee){const Ze=t?this.dn(t[Ee/j]):Mh,gt=this.wn(e,Ze,s[Ee%j],a),$t=this._n(e,Ze,c[Ee%j],p),fn=D.map(gn=>this.wn(e,Ze,gn,!0));Q.push(...this.createRange(gt,$t,fn))}return Q}wn(e,t,s,a){const c=new Ql(e,Yt.empty(),t,s);return a?c:c.Je()}_n(e,t,s,a){const c=new Ql(e,Yt.empty(),t,s);return a?c.Je():c}an(e,t){const s=new Sg(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const D of c)s.tn(D)&&(!p||D.fields.length>p.fields.length)&&(p=D);return p})}getIndexType(e,t){let s=2;const a=this.cn(t);return Ye.forEach(a,c=>this.an(e,c).next(p=>{p?0!==s&&p.fields.length<function(D){let N=new oi(or.comparator),j=!1;for(const Q of D.filters)for(const Ee of Q.getFlattenedFilters())Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?j=!0:N=N.add(Ee.field));for(const Q of D.orderBy)Q.field.isKeyField()||(N=N.add(Q.field));return N.size+(j?1:0)}(c)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}mn(e,t){const s=new Yl;for(const a of Ia(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=s.He(a.kind);_l.Ve._e(c,p)}return s.Qe()}dn(e){const t=new Yl;return _l.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Yl;return _l.Ve._e(Ra(this.databaseId,t),s.He(function(a){const c=Ia(a);return 0===c.length?0:c[c.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let a=[];a.push(new Yl);let c=0;for(const p of Ia(e)){const D=s[c++];for(const N of a)if(this.yn(t,p.fieldPath)&&ul(D))a=this.pn(a,p,D);else{const j=N.He(p.kind);_l.Ve._e(D,j)}}return this.In(a)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const a=[...e],c=[];for(const p of s.arrayValue.values||[])for(const D of a){const N=new Yl;N.seed(D.Qe()),_l.Ve._e(p,N.He(t.kind)),c.push(N)}return c}yn(e,t){return!!e.filters.find(s=>s instanceof _e&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Lc(e),a=bd(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(c=>{const p=[];return Ye.forEach(c,D=>a.get([D.indexId,this.uid]).next(N=>{p.push(function(j,Q){const Ee=Q?new xu(Q.sequenceNumber,new ps(vl(Q.readTime),new Yt(O(Q.documentKey)),Q.largestBatchId)):xu.empty(),Ze=j.fields.map(([gt,$t])=>new Ro(or.fromServerFormat(gt),$t));return new Ji(j.indexId,j.collectionGroup,Ze,Ee)}(D,N))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const c=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Nn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Lc(e),c=bd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>Ye.forEach(D,N=>c.put(Id(N.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return Ye.forEach(t,(a,c)=>{const p=s.get(a.collectionGroup);return(p?Ye.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(s.set(a.collectionGroup,D),Ye.forEach(D,N=>this.En(e,a,N).next(j=>{const Q=this.An(c,N);return j.isEqual(Q)?Ye.resolve():this.vn(e,c,N,j,Q)}))))})}Rn(e,t,s,a){return tc(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,a){return tc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const a=tc(e);let c=new oi(Wu);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(p,D)=>{c=c.add(new Ql(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>c)}An(e,t){let s=new oi(Wu);const a=this.mn(t,e);if(null==a)return s;const c=Zo(t);if(null!=c){const p=e.data.field(c.fieldPath);if(ul(p))for(const D of p.arrayValue.values||[])s=s.add(new Ql(t.indexId,e.key,this.dn(D),a))}else s=s.add(new Ql(t.indexId,e.key,Mh,a));return s}vn(e,t,s,a,c){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(D,N,j,Q,Ee){const Ze=D.getIterator(),gt=N.getIterator();let $t=Po(Ze),fn=Po(gt);for(;$t||fn;){let gn=!1,fr=!1;if($t&&fn){const Ur=j($t,fn);Ur<0?fr=!0:Ur>0&&(gn=!0)}else null!=$t?fr=!0:gn=!0;gn?(Q(fn),fn=Po(gt)):fr?(Ee($t),$t=Po(Ze)):($t=Po(Ze),fn=Po(gt))}}(a,c,Wu,D=>{p.push(this.Rn(e,t,s,D))},D=>{p.push(this.Pn(e,t,s,D))}),Ye.waitFor(p)}Tn(e){let t=1;return bd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,D)=>Wu(p,D)).filter((p,D,N)=>!D||0!==Wu(p,N[D-1]));const a=[];a.push(e);for(const p of s){const D=Wu(p,e),N=Wu(p,t);if(0===D)a[0]=e.Je();else if(D>0&&N<0)a.push(p),a.push(p.Je());else if(N>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Mh,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Mh,[]]))}return c}bn(e,t){return Wu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xh)}getMinOffset(e,t){return Ye.mapArray(this.cn(t),s=>this.an(e,s).next(a=>a||tn())).next(xh)}}function Yf(i){return Hi(i,"collectionParents")}function tc(i){return Hi(i,"indexEntries")}function Lc(i){return Hi(i,"indexConfiguration")}function bd(i){return Hi(i,"indexState")}function xh(i){pn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const a=i[s].indexState.offset;nl(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ps(e.readTime,e.documentKey,t)}const Vc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xg(i,e,t){const s=i.store("mutations"),a=i.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let D=0;const N=s.X({range:p},(Q,Ee,Ze)=>(D++,Ze.delete()));c.push(N.next(()=>{pn(1===D)}));const j=[];for(const Q of t.mutations){const Ee=ve(e,Q.key.path,t.batchId);c.push(a.delete(Ee)),j.push(Q.key)}return Ye.waitFor(c).next(()=>j)}function Rh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw tn();e=i.noDocument}return JSON.stringify(e).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class Ph{constructor(e,t,s,a){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=a,this.Vn={}}static de(e,t,s,a){pn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Ph(c,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return El(e).X({index:"userMutationsIndex",range:s},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const c=Uc(e),p=El(e);return p.add({}).next(D=>{pn("number"==typeof D);const N=new gh(D,t,s,a),j=function(Ze,gt,$t){const fn=$t.baseMutations.map(fr=>Kl(Ze.fe,fr)),gn=$t.mutations.map(fr=>Kl(Ze.fe,fr));return{userId:gt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:fn,mutations:gn}}(this.serializer,this.userId,N),Q=[];let Ee=new oi((Ze,gt)=>Nn(Ze.canonicalString(),gt.canonicalString()));for(const Ze of a){const gt=ve(this.userId,Ze.key.path,D);Ee=Ee.add(Ze.key.path.popLast()),Q.push(p.put(j)),Q.push(c.put(gt,lt))}return Ee.forEach(Ze=>{Q.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Vn[D]=N.keys()}),Ye.waitFor(Q).next(()=>N)})}lookupMutationBatch(e,t){return El(e).get(t).next(s=>s?(pn(s.userId===this.userId),fa(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Ye.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return El(e).X({index:"userMutationsIndex",range:a},(p,D,N)=>{D.userId===this.userId&&(pn(D.batchId>=s),c=fa(this.serializer,D)),N.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return El(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{s=c.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return El(e).j("userMutationsIndex",t).next(s=>s.map(a=>fa(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=fe(this.userId,t.path),a=IDBKeyRange.lowerBound(s),c=[];return Uc(e).X({range:a},(p,D,N)=>{const[j,Q,Ee]=p,Ze=O(Q);if(j===this.userId&&t.path.isEqual(Ze))return El(e).get(Ee).next(gt=>{if(!gt)throw tn();pn(gt.userId===this.userId),c.push(fa(this.serializer,gt))});N.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new oi(Nn);const a=[];return t.forEach(c=>{const p=fe(this.userId,c.path),D=IDBKeyRange.lowerBound(p),N=Uc(e).X({range:D},(j,Q,Ee)=>{const[Ze,gt,$t]=j,fn=O(gt);Ze===this.userId&&c.path.isEqual(fn)?s=s.add($t):Ee.done()});a.push(N)}),Ye.waitFor(a).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,c=fe(this.userId,s),p=IDBKeyRange.lowerBound(c);let D=new oi(Nn);return Uc(e).X({range:p},(N,j,Q)=>{const[Ee,Ze,gt]=N,$t=O(Ze);Ee===this.userId&&s.isPrefixOf($t)?$t.length===a&&(D=D.add(gt)):Q.done()}).next(()=>this.Dn(e,D))}Dn(e,t){const s=[],a=[];return t.forEach(c=>{a.push(El(e).get(c).next(p=>{if(null===p)throw tn();pn(p.userId===this.userId),s.push(fa(this.serializer,p))}))}),Ye.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return xg(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ye.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ye.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Uc(e).X({range:s},(c,p,D)=>{if(c[0]===this.userId){const N=O(c[1]);a.push(N)}else D.done()}).next(()=>{pn(0===a.length)})})}containsKey(e,t){return Rg(e,this.userId,t)}xn(e){return nc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rg(i,e,t){const s=fe(e,t.path),a=s[1],c=IDBKeyRange.lowerBound(s);let p=!1;return Uc(i).X({range:c,Y:!0},(D,N,j)=>{const[Q,Ee,Ze]=D;Q===e&&Ee===a&&(p=!0),j.done()}).next(()=>p)}function El(i){return Hi(i,"mutations")}function Uc(i){return Hi(i,"documentMutations")}function nc(i){return Hi(i,"mutationQueues")}class Oo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Oo(0)}static Mn(){return new Oo(-1)}}class Jy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Oo(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_n.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bc(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(pn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let a=0;const c=[];return Bc(e).X((p,D)=>{const N=wd(D);N.sequenceNumber<=t&&null===s.get(N.targetId)&&(a++,c.push(this.removeTargetData(e,N)))}).next(()=>Ye.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Bc(e).X((s,a)=>{const c=wd(a);t(c)})}$n(e){return Xy(e).get("targetGlobalKey").next(t=>(pn(null!==t),t))}On(e,t){return Xy(e).put("targetGlobalKey",t)}Fn(e,t){return Bc(e).put(bh(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).X({range:a,index:"queryTargetsIndex"},(p,D,N)=>{const j=wd(D);dl(t,j.target)&&(c=j,N.done())}).next(()=>c)}addMatchingKeys(e,t,s){const a=[],c=rc(e);return t.forEach(p=>{const D=E(p.path);a.push(c.put({targetId:s,path:D})),a.push(this.referenceDelegate.addReference(e,s,p))}),Ye.waitFor(a)}removeMatchingKeys(e,t,s){const a=rc(e);return Ye.forEach(t,c=>{const p=E(c.path);return Ye.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,t){const s=rc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rc(e);let c=lr();return a.X({range:s,Y:!0},(p,D,N)=>{const j=O(p[1]),Q=new Yt(j);c=c.add(Q)}).next(()=>c)}containsKey(e,t){const s=E(t.path),a=IDBKeyRange.bound([s],[ja(s)],!1,!0);let c=0;return rc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,D],N,j)=>{0!==p&&(c++,j.done())}).next(()=>c>0)}le(e,t){return Bc(e).get(t).next(s=>s?wd(s):null)}}function Bc(i){return Hi(i,"targets")}function Xy(i){return Hi(i,"targetGlobal")}function rc(i){return Hi(i,"targetDocuments")}function Qf([i,e],[t,s]){const a=Nn(i,t);return 0===a?Nn(e,s):a}class Y_{constructor(e){this.Ln=e,this.buffer=new oi(Qf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Qf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jf{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Li(s)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield qo(s)}yield t.Qn(3e5)}))}}class Q_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ye.resolve(Xi.ct);const s=new Y_(t);return this.jn.forEachTarget(e,a=>s.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>s.Kn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(Vc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vc):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,a,c,p,D,N,j;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),a=this.params.maximumSequenceNumbersToCollect):a=Ee,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ee=>(s=Ee,D=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(c=Ee,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(j=Date.now(),Yr()<=ce.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-Q}ms\n\tDetermined least recently used ${a} in `+(D-p)+`ms\n\tRemoved ${c} targets in `+(N-D)+`ms\n\tRemoved ${Ee} documents in `+(j-N)+`ms\nTotal Duration: ${j-Q}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Ee})))}}class ev{constructor(e,t){this.db=e,this.garbageCollector=function Xf(i,e){return new Q_(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,a)=>t(a))}addReference(e,t,s){return Td(e,s)}removeReference(e,t,s){return Td(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Td(e,t)}Xn(e,t){return function(s,a){let c=!1;return nc(s).Z(p=>Rg(s,p,a).next(D=>(D&&(c=!0),Ye.resolve(!D)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(p,D)=>{if(D<=t){const N=this.Xn(e,p).next(j=>{if(!j)return c++,s.getEntry(e,p).next(()=>(s.removeEntry(p,_n.min()),rc(e).delete([0,E(p.path)])))});a.push(N)}}).next(()=>Ye.waitFor(a)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Td(e,t)}Yn(e,t){const s=rc(e);let a,c=Xi.ct;return s.X({index:"documentTargetsIndex"},([p,D],{path:N,sequenceNumber:j})=>{0===p?(c!==Xi.ct&&t(new Yt(O(a)),c),c=j,a=N):c=Xi.ct}).next(()=>{c!==Xi.ct&&t(new Yt(O(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Td(i,e){return rc(i).put((s=i.currentSequenceNumber,{targetId:0,path:E(e.path),sequenceNumber:s}));var s}class Pg{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ye.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ic(e).put(s)}removeEntry(e,t,s){return ic(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Nc(c),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=qr.newInvalidDocument(t);return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s=this.ts(t,c)}).next(()=>s)}es(e,t){let s={size:0,document:qr.newInvalidDocument(t)};return ic(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(t))},(a,c)=>{s={document:this.ts(t,c),size:Rh(c)}}).next(()=>s)}getEntries(e,t){let s=Ms();return this.ns(e,t,(a,c)=>{const p=this.ts(a,c);s=s.insert(a,p)}).next(()=>s)}ss(e,t){let s=Ms(),a=new Dr(Yt.comparator);return this.ns(e,t,(c,p)=>{const D=this.ts(c,p);s=s.insert(c,D),a=a.insert(c,Rh(p))}).next(()=>({documents:s,rs:a}))}ns(e,t,s){if(t.isEmpty())return Ye.resolve();let a=new oi(Ng);t.forEach(N=>a=a.add(N));const c=IDBKeyRange.bound(Ad(a.first()),Ad(a.last())),p=a.getIterator();let D=p.getNext();return ic(e).X({index:"documentKeyIndex",range:c},(N,j,Q)=>{const Ee=Yt.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&Ng(D,Ee)<0;)s(D,null),D=p.getNext();D&&D.isEqual(Ee)&&(s(D,j),D=p.hasNext()?p.getNext():null),D?Q.G(Ad(D)):Q.done()}).next(()=>{for(;D;)s(D,null),D=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),Nc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],D=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).j(IDBKeyRange.bound(p,D,!0)).next(N=>{let j=Ms();for(const Q of N){const Ee=this.ts(Yt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);Ee.isFoundDocument()&&(rn(t,Ee)||a.has(Ee.key))&&(j=j.insert(Ee.key,Ee))}return j})}getAllFromCollectionGroup(e,t,s,a){let c=Ms();const p=Og(t,s),D=Og(t,ps.max());return ic(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,D,!0)},(N,j,Q)=>{const Ee=this.ts(Yt.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);c=c.insert(Ee.key,Ee),c.size===a&&Q.done()}).next(()=>c)}newChangeBuffer(e){return new nv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ep(e).get("remoteDocumentGlobalKey").next(t=>(pn(!!t),t))}Zn(e,t){return ep(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function q_(i,e){let t;if(e.document)t=rs(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Yt.fromSegments(e.noDocument.path),a=vl(e.noDocument.readTime);t=qr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tn();{const s=Yt.fromSegments(e.unknownDocument.path),a=vl(e.unknownDocument.version);t=qr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Hr(s[0],s[1]);return _n.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(_n.min()))return s}return qr.newInvalidDocument(e)}}function Na(i){return new tv(i)}class nv extends Pg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Hs(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new oi((c,p)=>Nn(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const D=this.us.get(c);if(t.push(this.os.removeEntry(e,c,D.readTime)),p.isValidDocument()){const N=bg(this.os.serializer,p);a=a.add(c.path.popLast()),s+=Rh(N)-D.size,t.push(this.os.addEntry(e,c,N))}else if(s-=D.size,this.trackRemovals){const N=bg(this.os.serializer,p.convertToNoDocument(_n.min()));t.push(this.os.addEntry(e,c,N))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,s)),Ye.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:a})=>(a.forEach((c,p)=>{this.us.set(c,{size:p,readTime:s.get(c).readTime})}),s))}}function ep(i){return Hi(i,"remoteDocumentGlobal")}function ic(i){return Hi(i,"remoteDocumentsV14")}function Ad(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Og(i,e){const t=e.documentKey.path.toArray();return[i,Nc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ng(i,e){const t=i.path.toArray(),s=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<s.length-2;++c)if(a=Nn(t[c],s[c]),a)return a;return a=Nn(t.length,s.length),a||(a=Nn(t[t.length-2],s[s.length-2]),a||Nn(t[t.length-1],s[s.length-1]))}class kg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fg{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&dd(s.mutation,a,es.empty(),Hr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,lr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=lr()){const a=Xo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=mu();return c.forEach((D,N)=>{p=p.insert(D,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=Xo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,lr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,D)=>{t.set(p,D)})})}computeViews(e,t,s,a){let c=Ms();const p=ju(),D=ju();return t.forEach((N,j)=>{const Q=s.get(j.key);a.has(j.key)&&(void 0===Q||Q.mutation instanceof Ya)?c=c.insert(j.key,j):void 0!==Q?(p.set(j.key,Q.mutation.getFieldMask()),dd(Q.mutation,j,Q.mutation.getFieldMask(),Hr.now())):p.set(j.key,es.empty())}),this.recalculateAndSaveOverlays(e,c).next(N=>(N.forEach((j,Q)=>p.set(j,Q)),t.forEach((j,Q)=>{var Ee;return D.set(j,new kg(Q,null!==(Ee=p.get(j))&&void 0!==Ee?Ee:null))}),D))}recalculateAndSaveOverlays(e,t){const s=ju();let a=new Dr((p,D)=>p-D),c=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const D of p)D.keys().forEach(N=>{const j=t.get(N);if(null===j)return;let Q=s.get(N)||es.empty();Q=D.applyToLocalView(j,Q),s.set(N,Q);const Ee=(a.get(D.batchId)||lr()).add(N);a=a.insert(D.batchId,Ee)})}).next(()=>{const p=[],D=a.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),j=N.key,Q=N.value,Ee=Sc();Q.forEach(Ze=>{if(!c.has(Ze)){const gt=fh(t.get(Ze),s.get(Ze));null!==gt&&Ee.set(Ze,gt),c=c.add(Ze)}}),p.push(this.documentOverlayCache.saveOverlays(e,j,Ee))}return Ye.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Yt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):h(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ye.resolve(Xo());let D=-1,N=c;return p.next(j=>Ye.forEach(j,(Q,Ee)=>(D<Ee.largestBatchId&&(D=Ee.largestBatchId),c.get(Q)?Ye.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ze=>{N=N.insert(Q,Ze)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,N,j,lr())).next(Q=>({batchId:D,changes:od(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(s=>{let a=mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,a).next(p=>Ye.forEach(p,D=>{const N=(j=t,Q=D.child(a),new Za(Q,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));var j,Q;return this.getDocumentsMatchingCollectionQuery(e,N,s).next(j=>{j.forEach((Q,Ee)=>{c=c.insert(Q,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,N)=>{const j=N.getKey();null===c.get(j)&&(c=c.insert(j,qr.newInvalidDocument(j)))});let p=mu();return c.forEach((D,N)=>{const j=a.get(D);void 0!==j&&dd(j.mutation,N,es.empty(),Hr.now()),rn(t,N)&&(p=p.insert(D,N))}),p})}}class rv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ye.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Gi(s.createTime)}),Ye.resolve()}getNamedQuery(e,t){return Ye.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:kc(s.bundledQuery),readTime:Gi(s.readTime)}),Ye.resolve();var s}}class iv{constructor(){this.overlays=new Dr(Yt.comparator),this.ls=new Map}getOverlay(e,t){return Ye.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xo();return Ye.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Ye.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Ye.resolve()}getOverlaysForCollection(e,t,s){const a=Xo(),c=t.length+1,p=new Yt(t.child("")),D=this.overlays.getIteratorFrom(p);for(;D.hasNext();){const N=D.getNext().value,j=N.getKey();if(!t.isPrefixOf(j.path))break;j.path.length===c&&N.largestBatchId>s&&a.set(N.getKey(),N)}return Ye.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Dr((j,Q)=>j-Q);const p=this.overlays.getIterator();for(;p.hasNext();){const j=p.getNext().value;if(j.getKey().getCollectionGroup()===t&&j.largestBatchId>s){let Q=c.get(j.largestBatchId);null===Q&&(Q=Xo(),c=c.insert(j.largestBatchId,Q)),Q.set(j.getKey(),j)}}const D=Xo(),N=c.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((j,Q)=>D.set(j,Q)),!(D.size()>=a)););return Ye.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new yh(t,s));let c=this.ls.get(t);void 0===c&&(c=lr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class ar{constructor(){this.fs=new oi(xs.ds),this.ws=new oi(xs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new xs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new xs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Yt(new Tn([])),s=new xs(t,e),a=new xs(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Yt(new Tn([])),s=new xs(t,e),a=new xs(t,e+1);let c=lr();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new xs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class xs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Yt.comparator(e.key,t.key)||Nn(e.As,t.As)}static _s(e,t){return Nn(e.As,t.As)||Yt.comparator(e.key,t.key)}}class Lg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new oi(xs.ds)}checkEmpty(e){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new gh(c,t,s,a);this.mutationQueue.push(p);for(const D of a)this.Rs=this.Rs.add(new xs(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Ye.resolve(p)}lookupMutationBatch(e,t){return Ye.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xs(t,0),a=new xs(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const D=this.Ps(p.As);c.push(D)}),Ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new oi(Nn);return t.forEach(a=>{const c=new xs(a,0),p=new xs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],D=>{s=s.add(D.As)})}),Ye.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Yt.isDocumentKey(c)||(c=c.child(""));const p=new xs(new Yt(c),0);let D=new oi(Nn);return this.Rs.forEachWhile(N=>{const j=N.key.path;return!!s.isPrefixOf(j)&&(j.length===a&&(D=D.add(N.As)),!0)},p),Ye.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){pn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ye.forEach(t.mutations,a=>{const c=new xs(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new xs(t,0),a=this.Rs.firstAfterOrEqual(s);return Ye.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ye.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vg{constructor(e){this.Ds=e,this.docs=new Dr(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ye.resolve(s?s.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let s=Ms();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():qr.newInvalidDocument(a))}),Ye.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ms();const p=t.path,D=new Yt(p.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:j,value:{document:Q}}=N.getNext();if(!p.isPrefixOf(j.path))break;j.path.length>p.length+1||nl(Ru(Q),s)<=0||(a.has(Q.key)||rn(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return Ye.resolve(c)}getAllFromCollectionGroup(e,t,s,a){tn()}Cs(e,t){return Ye.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new sv(this)}getSize(e){return Ye.resolve(this.size)}}class sv extends Pg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Ye.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ov{constructor(e){this.persistence=e,this.xs=new Hs(t=>Oa(t),dl),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ar,this.targetCount=0,this.Ms=Oo.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ye.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ye.resolve()}updateTargetData(e,t){return this.Fn(t),Ye.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Ye.waitFor(c).next(()=>a)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ye.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ye.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Ye.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ye.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ye.resolve(s)}containsKey(e,t){return Ye.resolve(this.ks.containsKey(t))}}class Oh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=new Vg(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ch(t),this.qs=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Lg(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("MemoryPersistence","Starting transaction:",e);const a=new av(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Ye.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class av extends rl{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Qs=new ar,this.js=null}static zs(e){return new Sd(e)}get Ws(){if(this.js)return this.js;throw tn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ye.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ye.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ye.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Ws,s=>{const a=Yt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,_n.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ye.or([()=>Ye.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uv{constructor(e){this.serializer=e}O(e,t,s,a){const c=new io("createOrUpgrade",t);var D;s<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",W,{unique:!0}),D.createObjectStore("documentMutations"),lv(e),function(D){D.createObjectStore("remoteDocuments")}(e));let p=Ye.resolve();return s<3&&a>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),lv(e)),p=p.next(()=>function(D){const N=D.store("targetGlobal"),j={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return N.put("targetGlobalKey",j)}(c))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(D,N){return N.store("mutations").j().next(j=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",W,{unique:!0});const Q=N.store("mutations"),Ee=j.map(Ze=>Q.put(Ze));return Ye.waitFor(Ee)})}(e,c))),p=p.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ys(c))),s<6&&a>=6&&(p=p.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),s<7&&a>=7&&(p=p.next(()=>this.Zs(c))),s<8&&a>=8&&(p=p.next(()=>this.ti(e,c))),s<9&&a>=9&&(p=p.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.ei(c))),s<11&&a>=11&&(p=p.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(D){const N=D.createObjectStore("documentOverlays",{keyPath:il});N.createIndex("collectionPathOverlayIndex",ou,{unique:!1}),N.createIndex("collectionGroupOverlayIndex",Ss,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(D){const N=D.createObjectStore("remoteDocumentsV14",{keyPath:Wt});N.createIndex("documentKeyIndex",Hn),N.createIndex("collectionGroupIndex",hn)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.si(e,c))),s<15&&a>=15&&(p=p.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Qr}).createIndex("sequenceNumberIndex",Ou,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Ta}).createIndex("documentKeyIndex",Aa,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Rh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(a=>Ye.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",p).next(D=>Ye.forEach(D,N=>{pn(N.userId===c.userId);const j=fa(this.serializer,N);return xg(e,c.userId,j).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return s.X((p,D)=>{const N=new Tn(p),j=[0,E(N)];c.push(t.get(j).next(Q=>Q?Ye.resolve():t.put({targetId:0,path:E(N),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:oo});const s=t.store("collectionParents"),a=new qf,c=p=>{if(a.add(p)){const D=p.lastSegment(),N=p.popLast();return s.put({collectionId:D,parent:E(N)})}};return t.store("remoteDocuments").X({Y:!0},(p,D)=>{const N=new Tn(p);return c(N.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,D,N],j)=>{const Q=O(D);return c(Q.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,a)=>{const c=wd(a),p=bh(this.serializer,c);return t.put(p)})}ni(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((c,p)=>{const D=t.store("remoteDocumentsV14"),N=(j=p,j.document?new Yt(Tn.fromString(j.document.name).popFirst(5)):j.noDocument?Yt.fromSegments(j.noDocument.path):j.unknownDocument?Yt.fromSegments(j.unknownDocument.path):tn()).path.toArray();var j;const Q={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(D.put(Q))}).next(()=>Ye.waitFor(a))}si(e,t){const s=t.store("mutations"),a=Na(this.serializer),c=new Oh(Sd.zs,this.serializer.fe);return s.j().next(p=>{const D=new Map;return p.forEach(N=>{var j;let Q=null!==(j=D.get(N.userId))&&void 0!==j?j:lr();fa(this.serializer,N).keys().forEach(Ee=>Q=Q.add(Ee)),D.set(N.userId,Q)}),Ye.forEach(D,(N,j)=>{const Q=new In(j),Ee=Sh.de(this.serializer,Q),Ze=c.getIndexManager(Q),gt=Ph.de(Q,this.serializer,Ze,c.referenceDelegate);return new Fg(a,gt,Ee,Ze).recalculateAndSaveOverlaysForDocumentKeys(new ua(t,Xi.ct),N).next()})})}}function lv(i){i.createObjectStore("targetDocuments",{keyPath:As}).createIndex("documentTargetsIndex",fi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hr,{unique:!0}),i.createObjectStore("targetGlobal")}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fh{constructor(e,t,s,a,c,p,D,N,j,Q,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=c,this.window=p,this.document=D,this.ri=j,this.oi=Q,this.ui=Ee,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ze=>Promise.resolve(),!Fh.D())throw new Rt(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ev(this,a),this.di=t+"main",this.serializer=new Ch(N),this.wi=new so(this.di,this.ui,new uv(this.serializer)),this.Bs=new Jy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Na(this.serializer),this.qs=new ql,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Q&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(et.FAILED_PRECONDITION,kh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Xi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,d.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Li(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Qa(e).get("owner").next(t=>Ye.resolve(this.Ri(t)))}Pi(e){return Lh(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hi(s,"clientMetadata");return a.j().next(c=>{const p=e.Si(c,18e5),D=c.filter(N=>-1===p.indexOf(N));return Ye.forEach(D,N=>a.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ye.resolve(!0):Qa(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Rt(et.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).j().next(s=>void 0===this.Si(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,D=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new ua(t,Xi.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Ph.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mg(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Sh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){Mt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ui)?sl:14===p?Fl:13===p?Nu:12===p?Vi:11===p?au:void tn();var p;let D;return this.wi.runTransaction(e,a,c,N=>(D=new ua(N,this.Os?this.Os.next():Xi.ct),"readwrite-primary"===t?this.Ti(D).next(j=>!!j||this.Ei(D)).next(j=>{if(!j)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Rt(et.FAILED_PRECONDITION,Ha);return s(D)}).next(j=>this.vi(D).next(()=>j)):this.Oi(D).next(()=>s(D)))).then(N=>(D.raiseOnCommittedEvent(),N))}Oi(e){return Qa(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Rt(et.FAILED_PRECONDITION,kh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qa(e).put("owner",t)}static D(){return so.D()}Ai(e){const t=Qa(e);return t.get("owner").next(s=>this.Ri(s)?(Mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ye.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ir(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ae.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ir("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qa(i){return Hi(i,"owner")}function Lh(i){return Hi(i,"clientMetadata")}function Md(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class xd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=lr(),a=lr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new xd(e,t.fromCache,s,a)}}class Ug{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(ch(t))return Ye.resolve(null);let s=I(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=J(t,null,"F"),s=I(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=lr(...c);return this.Ui.getDocuments(e,p).next(D=>this.indexManager.getMinOffset(e,s).next(N=>{const j=this.ji(t,D);return this.zi(t,j,p,N.readTime)?this.Ki(e,J(t,null,"F")):this.Wi(e,j,t,N)}))})))}Gi(e,t,s,a){return ch(t)||a.isEqual(_n.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(Yr()<=ce.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zt(t)),this.Wi(e,p,t,Ca(a,-1)))})}ji(e,t){let s=new oi(yr(e));return t.forEach((a,c)=>{rn(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Yr()<=ce.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",zt(t)),this.Ui.getDocumentsMatchingQuery(e,t,ps.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class J_{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Dr(Nn),this.Yi=new Hs(c=>Oa(c),dl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cv(i,e,t,s){return new J_(i,e,t,s)}function dv(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,d.Z)(function*(i,e){const t=qt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],D=[];let N=lr();for(const j of a){p.push(j.batchId);for(const Q of j.mutations)N=N.add(Q.key)}for(const j of c){D.push(j.batchId);for(const Q of j.mutations)N=N.add(Q.key)}return t.localDocuments.getDocuments(s,N).next(j=>({er:j,removedBatchIds:p,addedBatchIds:D}))})})}),tp.apply(this,arguments)}function Bg(i,e){const t=qt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,D,N,j){const Q=N.batch,Ee=Q.keys();let Ze=Ye.resolve();return Ee.forEach(gt=>{Ze=Ze.next(()=>j.getEntry(D,gt)).next($t=>{const fn=N.docVersions.get(gt);pn(null!==fn),$t.version.compareTo(fn)<0&&(Q.applyToRemoteDocument($t,N),$t.isValidDocument()&&($t.setReadTime(N.commitVersion),j.addEntry($t)))})}),Ze.next(()=>p.mutationQueue.removeMutationBatch(D,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let D=lr();for(let N=0;N<p.mutationResults.length;++N)p.mutationResults[N].transformResults.length>0&&(D=D.add(p.batch.mutations[N].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function hv(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function fv(i,e){const t=qt(i),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((Q,Ee)=>{const Ze=a.get(Ee);if(!Ze)return;D.push(t.Bs.removeMatchingKeys(c,Q.removedDocuments,Ee).next(()=>t.Bs.addMatchingKeys(c,Q.addedDocuments,Ee)));let gt=Ze.withSequenceNumber(c.currentSequenceNumber);var $t,fn,gn;null!==e.targetMismatches.get(Ee)?gt=gt.withResumeToken(bi.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):Q.resumeToken.approximateByteSize()>0&&(gt=gt.withResumeToken(Q.resumeToken,s)),a=a.insert(Ee,gt),fn=gt,gn=Q,(0===($t=Ze).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||gn.addedDocuments.size+gn.modifiedDocuments.size+gn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(c,gt))});let N=Ms(),j=lr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),D.push(sc(c,p,e.documentUpdates).next(Q=>{N=Q.nr,j=Q.sr})),!s.isEqual(_n.min())){const Q=t.Bs.getLastRemoteSnapshotVersion(c).next(Ee=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(Q)}return Ye.waitFor(D).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,N,j)).next(()=>N)}).then(c=>(t.Ji=a,c))}function sc(i,e,t){let s=lr(),a=lr();return t.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let p=Ms();return t.forEach((D,N)=>{const j=c.get(D);N.isFoundDocument()!==j.isFoundDocument()&&(a=a.add(D)),N.isNoDocument()&&N.version.isEqual(_n.min())?(e.removeEntry(D,N.readTime),p=p.insert(D,N)):!j.isValidDocument()||N.version.compareTo(j.version)>0||0===N.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(N),p=p.insert(D,N)):Mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",N.version)}),{nr:p,sr:a}})}function pv(i,e){const t=qt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oc(i,e){const t=qt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Ye.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new Eu(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ku(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,d.Z)(function*(i,e,t){const s=qt(i),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Li(p))throw p;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),np.apply(this,arguments)}function Rd(i,e,t){const s=qt(i);let a=_n.min(),c=lr();return s.persistence.runTransaction("Execute query","readonly",p=>function(D,N,j){const Q=qt(D),Ee=Q.Yi.get(j);return void 0!==Ee?Ye.resolve(Q.Ji.get(Ee)):Q.Bs.getTargetData(N,j)}(s,p,I(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,D.targetId).next(N=>{c=N})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:_n.min(),t?c:lr())).next(D=>(Hg(s,An(e),D),{documents:D,ir:c})))}function jg(i,e){const t=qt(i),s=qt(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>s.le(c,e).next(p=>p?p.target:null))}function $g(i,e){const t=qt(i),s=t.Xi.get(e)||_n.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Ca(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Hg(t,e,a),a))}function Hg(i,e,t){let s=i.Xi.get(e)||_n.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Xi.set(e,s)}function rp(){return rp=(0,d.Z)(function*(i,e,t,s){const a=qt(i);let c=lr(),p=Ms();for(const j of t){const Q=e.rr(j.metadata.name);j.document&&(c=c.add(Q));const Ee=e.ur(j);Ee.setReadTime(e.cr(j.metadata.readTime)),p=p.insert(Q,Ee)}const D=a.Zi.newChangeBuffer({trackRemovals:!0}),N=yield oc(a,(j=s,I(Bu(Tn.fromString(`__bundle__/docs/${j}`)))));var j;return a.persistence.runTransaction("Apply bundle documents","readwrite",j=>sc(j,D,p).next(Q=>(D.apply(j),Q)).next(Q=>a.Bs.removeMatchingKeysForTargetId(j,N.targetId).next(()=>a.Bs.addMatchingKeys(j,c,N.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(j,Q.nr,Q.sr)).next(()=>Q.nr)))}),rp.apply(this,arguments)}function Gg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,d.Z)(function*(i,e,t=lr()){const s=yield oc(i,I(kc(e.bundledQuery))),a=qt(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=Gi(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(c,e);const D=s.withResumeToken(bi.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(D.targetId,D),a.Bs.updateTargetData(c,D).next(()=>a.Bs.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,s.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),ip.apply(this,arguments)}function sp(i,e){return`firestore_clients_${i}_${e}`}function op(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Pd(i,e){return`firestore_targets_${i}_${e}`}class ap{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static ar(e,t,s){const a=JSON.parse(s);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Rt(a.error.code,a.error.message))),p?new ap(e,t,a.state,c):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ac{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let a,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(a=new Rt(s.error.code,s.error.message))),c?new ac(e,s.state,a):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,c=dh();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=_(s.activeTargetIds[p]),c=c.add(s.activeTargetIds[p]);return a?new Vh(e,c):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zg(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wl{constructor(){this.activeTargetIds=dh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uh{constructor(e,t,s,a,c){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Dr(Nn),this.started=!1,this.yr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=sp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wl),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(sp(e.persistenceKey,a));if(c){const p=Vh.ar(a,c);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const a=e.br(s);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Pd(this.persistenceKey,e));if(s){const a=ac.ar(e,s);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pd(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mt("SharedClientState","READ",e,t),t}setItem(e,t){Mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const a=t.Or(s.key);return t.Fr(a,null)}{const a=t.Br(s.key,s.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const a=t.Lr(s.key,s.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const a=t.Ur(s.key,s.newValue);if(a)return t.Kr(a)}}else if(s.key===t.vr){if(null!==s.newValue){const a=t.br(s.newValue);if(a)return t.Vr(a)}}else if(s.key===t.Ir){const a=function(c){let p=Xi.ct;if(null!=c)try{const D=JSON.parse(c);pn("number"==typeof D),p=D}catch(D){Ir("SharedClientState","Failed to read sequence number from WebStorage",D)}return p}(s.newValue);a!==Xi.ct&&t.sequenceNumberHandler(a)}else if(s.key===t.Rr){const a=t.Gr(s.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const a=new ap(this.currentUser,e,t,s),c=op(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=op(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const a=Pd(this.persistenceKey,e),c=new ac(e,t,s);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Vh.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),a=Number(s[1]);return ap.ar(new In(void 0!==s[2]?s[2]:null),a,t)}Ur(e,t){const s=this.Ar.exec(e),a=Number(s[1]);return ac.ar(a,t)}br(e){return zg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(s),p=[],D=[];return c.forEach(N=>{a.has(N)||p.push(N)}),a.forEach(N=>{c.has(N)||D.push(N)}),this.syncEngine.Wr(p,D).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=dh();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class up{constructor(){this.Hr=new wl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wl,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bh{Yr(e){}shutdown(){}}class ka{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Od=null;function lp(){return null===Od?Od=268435456+Math.round(2147483648*Math.random()):Od++,"0x"+Od.toString(16)}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gs="WebChannelConnection";class Wg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=lp(),D=this.To(e,t);Mt("RestConnection",`Sending RPC '${e}' ${p}:`,D,s);const N={};return this.Eo(N,a,c),this.Ao(e,D,N,s).then(j=>(Mt("RestConnection",`Received RPC '${e}' ${p}: `,j),j),j=>{throw Lr("RestConnection",`RPC '${e}' ${p} failed with error: `,j,"url: ",D,"request:",s),j})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=lp();return new Promise((p,D)=>{const N=new vn;N.setWithCredentials(!0),N.listenOnce(x.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case B.NO_ERROR:const Q=N.getResponseJson();Mt(Gs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),p(Q);break;case B.TIMEOUT:Mt(Gs,`RPC '${e}' ${c} timed out`),D(new Rt(et.DEADLINE_EXCEEDED,"Request time out"));break;case B.HTTP_ERROR:const Ee=N.getStatus();if(Mt(Gs,`RPC '${e}' ${c} failed with status:`,Ee,"response text:",N.getResponseText()),Ee>0){let Ze=N.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const gt=Ze?.error;if(gt&&gt.status&&gt.message){const $t=function(fn){const gn=fn.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(gn)>=0?gn:et.UNKNOWN}(gt.status);D(new Rt($t,gt.message))}else D(new Rt(et.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new Rt(et.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Mt(Gs,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(a);Mt(Gs,`RPC '${e}' ${c} sending request:`,a),N.send(t,"POST",j,s,15)})}Ro(e,t,s){const a=lp(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=ru(),D=b(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(N.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(N.xmlHttpFactory=new ot({})),this.Eo(N.initMessageHeaders,t,s),N.encodeInitMessageHeaders=!0;const Q=c.join("");Mt(Gs,`Creating RPC '${e}' stream ${a}: ${Q}`,N);const Ee=p.createWebChannel(Q,N);let Ze=!1,gt=!1;const $t=new Zu({ro:gn=>{gt?Mt(Gs,`Not sending because RPC '${e}' stream ${a} is closed:`,gn):(Ze||(Mt(Gs,`Opening RPC '${e}' stream ${a} transport.`),Ee.open(),Ze=!0),Mt(Gs,`RPC '${e}' stream ${a} sending:`,gn),Ee.send(gn))},oo:()=>Ee.close()}),fn=(gn,fr,Ur)=>{gn.listen(fr,Cr=>{try{Ur(Cr)}catch(Ws){setTimeout(()=>{throw Ws},0)}})};return fn(Ee,vt.EventType.OPEN,()=>{gt||Mt(Gs,`RPC '${e}' stream ${a} transport opened.`)}),fn(Ee,vt.EventType.CLOSE,()=>{gt||(gt=!0,Mt(Gs,`RPC '${e}' stream ${a} transport closed`),$t.wo())}),fn(Ee,vt.EventType.ERROR,gn=>{gt||(gt=!0,Lr(Gs,`RPC '${e}' stream ${a} transport errored:`,gn),$t.wo(new Rt(et.UNAVAILABLE,"The operation could not be completed")))}),fn(Ee,vt.EventType.MESSAGE,gn=>{var fr;if(!gt){const Ur=gn.data[0];pn(!!Ur);const Cr=Ur,Ws=Cr.error||(null===(fr=Cr[0])||void 0===fr?void 0:fr.error);if(Ws){Mt(Gs,`RPC '${e}' stream ${a} received error:`,Ws);const Os=Ws.status;let Oi=function(Tu){const vy=ms[Tu];if(void 0!==vy)return Gu(vy)}(Os),Fo=Ws.message;void 0===Oi&&(Oi=et.INTERNAL,Fo="Unknown error status: "+Os+" with message "+Ws.message),gt=!0,$t.wo(new Rt(Oi,Fo)),Ee.close()}else Mt(Gs,`RPC '${e}' stream ${a} received:`,Ur),$t._o(Ur)}}),fn(D,K.STAT_EVENT,gn=>{gn.stat===Ie.PROXY?Mt(Gs,`RPC '${e}' stream ${a} detected buffering proxy`):gn.stat===Ie.NOPROXY&&Mt(Gs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$t.fo()},0),$t}}function jh(){return typeof window<"u"?window:null}function dp(){return typeof document<"u"?document:null}function jc(i){return new W_(i,!0)}class Kg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Nd{constructor(e,t,s,a,c,p,D,N){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,d.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===et.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Rt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $h extends Nd{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function By(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:tn(),a=e.targetChange.targetIds||[],c=function(N,j){return N.useProto3Json?(pn(void 0===j||"string"==typeof j),bi.fromBase64String(j||"")):(pn(void 0===j||j instanceof Uint8Array),bi.fromUint8Array(j||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,D=p&&function(N){const j=void 0===N.code?et.UNKNOWN:Gu(N.code);return new Rt(j,N.message||"")}(p);t=new Eh(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=_u(i,s.document.name),c=Gi(s.document.updateTime),p=s.document.createTime?Gi(s.document.createTime):_n.min(),D=new ts({mapValue:{fields:s.document.fields}}),N=qr.newFoundDocument(a,c,p,D);t=new _h(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,a=_u(i,s.document),c=s.readTime?Gi(s.readTime):_n.min(),p=qr.newNoDocument(a,c);t=new _h([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=_u(i,s.document);t=new _h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return tn();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new Ny(a,c);t=new _g(s.targetId,p)}}var N;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return _n.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?_n.min():c.readTime?Gi(c.readTime):_n.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=_d(this.serializer),t.addTarget=function(a,c){let p;const D=c.target;if(p=Uu(D)?{documents:Dg(a,D)}:{query:jf(a,D)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Vy(a,c.resumeToken);const N=md(a,c.expectedCount);null!==N&&(p.expectedCount=N)}else if(c.snapshotVersion.compareTo(_n.min())>0){p.readTime=ml(a,c.snapshotVersion.toTimestamp());const N=md(a,c.expectedCount);null!==N&&(p.expectedCount=N)}return p}(this.serializer,e);const s=function $y(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=_d(this.serializer),t.removeTarget=e,this.Wo(t)}}class hp extends Nd{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jy(i,e){return i&&i.length>0?(pn(void 0!==e),i.map(t=>function(s,a){let c=Gi(s.updateTime?s.updateTime:a);return c.isEqual(_n.min())&&(c=Gi(a)),new xy(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Gi(e.commitTime);return this.listener.cu(s,t)}return pn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_d(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Kl(this.serializer,s))};this.Wo(t)}}class fp extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Rt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rt(et.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(et.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class mv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ir(t),this.mu=!1):Mt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yv{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(D=>{s.enqueueAndForget((0,d.Z)(function*(){var N;lc(p)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,d.Z)(function*(j){const Q=qt(j);Q.vu.add(4),yield uc(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield kd(Q)}),function(j){return N.apply(this,arguments)})(p))}))}),this.bu=new mv(s,a)}}function kd(i){return gp.apply(this,arguments)}function gp(){return gp=(0,d.Z)(function*(i){if(lc(i))for(const e of i.Ru)yield e(!0)}),gp.apply(this,arguments)}function uc(i){return qg.apply(this,arguments)}function qg(){return qg=(0,d.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),qg.apply(this,arguments)}function Hh(i,e){const t=qt(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Fd(t)?yp(t):bl(t).Ko()&&zh(t,e))}function Gh(i,e){const t=qt(i),s=bl(t);t.Au.delete(e),s.Ko()&&mp(t,e),0===t.Au.size&&(s.Ko()?s.jo():lc(t)&&t.bu.set("Unknown"))}function zh(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_n.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bl(i).su(e)}function mp(i,e){i.Vu.qt(e),bl(i).iu(e)}function yp(i){i.Vu=new gd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.bu.gu()}function Fd(i){return lc(i)&&!bl(i).Uo()&&i.Au.size>0}function lc(i){return 0===qt(i).vu.size}function vv(i){i.Vu=void 0}function X_(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,d.Z)(function*(i){i.Au.forEach((e,t)=>{zh(i,e)})}),Yg.apply(this,arguments)}function e0(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,d.Z)(function*(i,e){vv(i),Fd(i)?(i.bu.Iu(e),yp(i)):i.bu.set("Unknown")}),Qg.apply(this,arguments)}function t0(i,e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,d.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Eh&&2===e.state&&e.cause)try{yield(s=(0,d.Z)(function*(a,c){const p=c.cause;for(const D of c.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,p),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(i,e)}catch(s){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield vp(i,s)}else if(e instanceof _h?i.Vu.Ht(e):e instanceof _g?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(_n.min()))try{const s=yield hv(i.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((D,N)=>{if(D.resumeToken.approximateByteSize()>0){const j=a.Au.get(N);j&&a.Au.set(N,j.withResumeToken(D.resumeToken,c))}}),p.targetMismatches.forEach((D,N)=>{const j=a.Au.get(D);if(!j)return;a.Au.set(D,j.withResumeToken(bi.EMPTY_BYTE_STRING,j.snapshotVersion)),mp(a,D);const Q=new Eu(j.target,D,N,j.sequenceNumber);zh(a,Q)}),a.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(s){Mt("RemoteStore","Failed to raise snapshot:",s),yield vp(i,s)}var s}),Jg.apply(this,arguments)}function vp(i,e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,d.Z)(function*(i,e,t){if(!Li(e))throw e;i.vu.add(1),yield uc(i),i.bu.set("Offline"),t||(t=()=>hv(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield kd(i)}))}),Xg.apply(this,arguments)}function qu(i,e){return e().catch(t=>vp(i,t,e))}function Il(i){return _p.apply(this,arguments)}function _p(){return _p=(0,d.Z)(function*(i){const e=qt(i),t=Ja(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;em(e);)try{const a=yield pv(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ep(e,a)}catch(a){yield vp(e,a)}wp(e)&&Wh(e)}),_p.apply(this,arguments)}function em(i){return lc(i)&&i.Eu.length<10}function Ep(i,e){i.Eu.push(e);const t=Ja(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function wp(i){return lc(i)&&!Ja(i).Uo()&&i.Eu.length>0}function Wh(i){Ja(i).start()}function _v(i){return wu.apply(this,arguments)}function wu(){return wu=(0,d.Z)(function*(i){Ja(i).hu()}),wu.apply(this,arguments)}function tm(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,d.Z)(function*(i){const e=Ja(i);for(const t of i.Eu)e.uu(t.mutations)}),Ip.apply(this,arguments)}function Ev(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,d.Z)(function*(i,e,t){const s=i.Eu.shift(),a=mh.from(s,e,t);yield qu(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield Il(i)}),Kh.apply(this,arguments)}function wv(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,d.Z)(function*(i,e){var t;e&&Ja(i).ou&&(yield(t=(0,d.Z)(function*(s,a){if(yg(c=a.code)&&c!==et.ABORTED){const p=s.Eu.shift();Ja(s).Qo(),yield qu(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Il(s)}var c}),function(s,a){return t.apply(this,arguments)})(i,e)),wp(i)&&Wh(i)}),Dp.apply(this,arguments)}function Ld(i,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,d.Z)(function*(i,e){const t=qt(i);t.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const s=lc(t);t.vu.add(3),yield uc(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kd(t)}),Dl.apply(this,arguments)}function Vd(i,e){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,d.Z)(function*(i,e){const t=qt(i);e?(t.vu.delete(2),yield kd(t)):e||(t.vu.add(2),yield uc(t),t.bu.set("Unknown"))}),Cl.apply(this,arguments)}function bl(i){return i.Su||(i.Su=function(e,t,s){const a=qt(e);return a.fu(),new $h(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:X_.bind(null,i),ao:e0.bind(null,i),nu:t0.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Su.Qo(),Fd(i)?yp(i):i.bu.set("Unknown")):(yield i.Su.stop(),vv(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Ja(i){return i.Du||(i.Du=function(e,t,s){const a=qt(e);return a.fu(),new hp(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{uo:_v.bind(null,i),ao:wv.bind(null,i),au:tm.bind(null,i),cu:Ev.bind(null,i)}),i.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(i.Du.Qo(),yield Il(i)):(yield i.Du.stop(),i.Eu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Zh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,D=new Zh(e,t,p,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Li(i))return new Rt(et.UNAVAILABLE,`${e}: ${i}`);throw i}class Tl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Yt.comparator(t.key,s.key):(t,s)=>Yt.comparator(t.key,s.key),this.keyedMap=mu(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class qh{constructor(){this.Cu=new Dr(Yt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):tn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class dc{constructor(e,t,s,a,c,p,D,N,j){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=j}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(D=>{p.push({type:0,doc:D})}),new dc(e,t,Tl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ne(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Cp{constructor(){this.Nu=void 0,this.listeners=[]}}class Iv{constructor(){this.queries=new Hs(e=>ct(e),Ne),this.onlineState="Unknown",this.ku=new Set}}function nm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,d.Z)(function*(i,e){const t=qt(i),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new Cp),a)try{c.Nu=yield t.onListen(s)}catch(p){const D=cc(p,`Initialization of query '${zt(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Ap(t)}),bp.apply(this,arguments)}function Yh(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,d.Z)(function*(i,e){const t=qt(i),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Tp.apply(this,arguments)}function rm(i,e){const t=qt(i);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const D of p.listeners)D.$u(a)&&(s=!0);p.Nu=a}}s&&Ap(t)}function im(i,e,t){const s=qt(i),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ap(i){i.ku.forEach(e=>{e.next()})}class No{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new dc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sm{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class om{constructor(e){this.serializer=e}rr(e){return _u(this.serializer,e)}ur(e){return e.metadata.exists?rs(this.serializer,e.document,!1):qr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Gi(e)}}class n0{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=am(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new om(this.serializer);for(const a of e)if(a.metadata.queries){const c=s.rr(a.metadata.name);for(const p of a.metadata.queries){const D=(t.get(p)||lr()).add(c);t.set(p,D)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function gv(i,e,t,s){return rp.apply(this,arguments)}(e.localStore,new om(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const a of e.queries)yield Gg(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function am(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Qh{constructor(e){this.key=e}}class Sp{constructor(e){this.key=e}}class um{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=lr(),this.mutatedKeys=lr(),this.tc=yr(e),this.ec=new Tl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new qh,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,D=!1;const N="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,j="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,Ee)=>{const Ze=a.get(Q),gt=rn(this.query,Ee)?Ee:null,$t=!!Ze&&this.mutatedKeys.has(Ze.key),fn=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let gn=!1;Ze&&gt?Ze.data.isEqual(gt.data)?$t!==fn&&(s.track({type:3,doc:gt}),gn=!0):this.rc(Ze,gt)||(s.track({type:2,doc:gt}),gn=!0,(N&&this.tc(gt,N)>0||j&&this.tc(gt,j)<0)&&(D=!0)):!Ze&&gt?(s.track({type:0,doc:gt}),gn=!0):Ze&&!gt&&(s.track({type:1,doc:Ze}),gn=!0,(N||j)&&(D=!0)),gn&&(gt?(p=p.add(gt),c=fn?c.add(Q):c.delete(Q)):(p=p.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const Q="F"===this.query.limitType?p.last():p.first();p=p.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{ec:p,ic:s,zi:D,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((j,Q)=>function(Ee,Ze){const gt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return gt(Ee)-gt(Ze)}(j.type,Q.type)||this.tc(j.doc,Q.doc)),this.oc(s);const p=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,N=D!==this.Xu;return this.Xu=D,0!==c.length||N?{snapshot:new dc(this.query,e.ec,a,c,e.mutatedKeys,0===D,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=lr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Sp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Qh(s))}),t}hc(e){this.Yu=e.ir,this.Zu=lr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Cv{constructor(e){this.key=e,this.fc=!1}}class lm{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Hs(D=>ct(D),Ne),this._c=new Map,this.mc=new Set,this.gc=new Dr(Yt.comparator),this.yc=new Map,this.Ic=new ar,this.Tc={},this.Ec=new Map,this.Ac=Oo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bv(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,d.Z)(function*(i,e){const t=uf(i);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield oc(t.localStore,I(e)),D=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Mp(t,e,s,"current"===D,p.resumeToken),t.isPrimaryClient&&Hh(t.remoteStore,p)}return a}),Jh.apply(this,arguments)}function Mp(i,e,t,s,a){return xp.apply(this,arguments)}function xp(){return xp=(0,d.Z)(function*(i,e,t,s,a){i.Rc=(Ee,Ze,gt)=>{return($t=(0,d.Z)(function*(fn,gn,fr,Ur){let Cr=gn.view.sc(fr);Cr.zi&&(Cr=yield Rd(fn.localStore,gn.query,!1).then(({documents:Oi})=>gn.view.sc(Oi,Cr)));const Ws=Ur&&Ur.targetChanges.get(gn.targetId),Os=gn.view.applyChanges(Cr,fn.isPrimaryClient,Ws);return jd(fn,gn.targetId,Os.cc),Os.snapshot}),function(fn,gn,fr,Ur){return $t.apply(this,arguments)})(i,Ee,Ze,gt);var $t};const c=yield Rd(i.localStore,e,!0),p=new um(e,c.ir),D=p.sc(c.documents),N=pd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,a),j=p.applyChanges(D,i.isPrimaryClient,N);jd(i,t,j.cc);const Q=new Dv(e,t,p);return i.wc.set(e,Q),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),j.snapshot}),xp.apply(this,arguments)}function cm(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,d.Z)(function*(i,e){const t=qt(i),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Ne(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ku(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Gh(t.remoteStore,s.targetId),Yu(t,s.targetId)}).catch(qo))):(Yu(t,s.targetId),yield Ku(t.localStore,s.targetId,!0))}),Xh.apply(this,arguments)}function Fa(){return Fa=(0,d.Z)(function*(i,e,t){const s=Gd(i);try{const a=yield function(c,p){const D=qt(c),N=Hr.now(),j=p.reduce((Ze,gt)=>Ze.add(gt.key),lr());let Q,Ee;return D.persistence.runTransaction("Locally write mutations","readwrite",Ze=>{let gt=Ms(),$t=lr();return D.Zi.getEntries(Ze,j).next(fn=>{gt=fn,gt.forEach((gn,fr)=>{fr.isValidDocument()||($t=$t.add(gn))})}).next(()=>D.localDocuments.getOverlayedDocuments(Ze,gt)).next(fn=>{Q=fn;const gn=[];for(const fr of p){const Ur=Ry(fr,Q.get(fr.key).overlayedDocument);null!=Ur&&gn.push(new Ya(fr.key,Ur,cl(Ur.value.mapValue),Ti.exists(!0)))}return D.mutationQueue.addMutationBatch(Ze,N,gn,p)}).next(fn=>{Ee=fn;const gn=fn.applyToLocalDocumentSet(Q,$t);return D.documentOverlayCache.saveOverlays(Ze,fn.batchId,gn)})}).then(()=>({batchId:Ee.batchId,changes:od(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,D){let N=c.Tc[c.currentUser.toKey()];N||(N=new Dr(Nn)),N=N.insert(p,D),c.Tc[c.currentUser.toKey()]=N}(s,a.batchId,t),yield Iu(s,a.changes),yield Il(s.remoteStore)}catch(a){const c=cc(a,"Failed to persist write");t.reject(c)}}),Fa.apply(this,arguments)}function ef(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,d.Z)(function*(i,e){const t=qt(i);try{const s=yield fv(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(pn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?pn(p.fc):a.removedDocuments.size>0&&(pn(p.fc),p.fc=!1))}),yield Iu(t,s,e)}catch(s){yield qo(s)}}),Rp.apply(this,arguments)}function dm(i,e,t){const s=qt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const D=p.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(c,p){const D=qt(c);D.onlineState=p;let N=!1;D.queries.forEach((j,Q)=>{for(const Ee of Q.listeners)Ee.Mu(p)&&(N=!0)}),N&&Ap(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function r0(i,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,d.Z)(function*(i,e,t){const s=qt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new Dr(Yt.comparator);p=p.insert(c,qr.newNoDocument(c,_n.min()));const D=lr().add(c),N=new fd(_n.min(),new Map,new Dr(Nn),p,D);yield ef(s,N),s.gc=s.gc.remove(c),s.yc.delete(e),nf(s)}else yield Ku(s.localStore,e,!1).then(()=>Yu(s,e,t)).catch(qo)}),tf.apply(this,arguments)}function Av(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,d.Z)(function*(i,e){const t=qt(i),s=e.batch.batchId;try{const a=yield Bg(t.localStore,e);Bd(t,s,null),$c(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Iu(t,a)}catch(a){yield qo(a)}}),Pp.apply(this,arguments)}function Sv(i,e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,d.Z)(function*(i,e,t){const s=qt(i);try{const a=yield function(c,p){const D=qt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let j;return D.mutationQueue.lookupMutationBatch(N,p).next(Q=>(pn(null!==Q),j=Q.keys(),D.mutationQueue.removeMutationBatch(N,Q))).next(()=>D.mutationQueue.performConsistencyCheck(N)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(N,j,p)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,j)).next(()=>D.localDocuments.getDocuments(N,j))})}(s.localStore,e);Bd(s,e,t),$c(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Iu(s,a)}catch(a){yield qo(a)}}),Ud.apply(this,arguments)}function Op(){return Op=(0,d.Z)(function*(i,e){const t=qt(i);lc(t.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(c){const p=qt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>p.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ec.get(s)||[];a.push(e),t.Ec.set(s,a)}catch(s){const a=cc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Op.apply(this,arguments)}function $c(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Bd(i,e,t){const s=qt(i);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Yu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||xv(i,s)})}function xv(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Gh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),nf(i))}function jd(i,e,t){for(const s of t)s instanceof Qh?(i.Ic.addReference(s.key,e),s0(i,s)):s instanceof Sp?(Mt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||xv(i,s.key)):tn()}function s0(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(Mt("SyncEngine","New document in limbo: "+t),i.mc.add(s),nf(i))}function nf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Yt(Tn.fromString(e)),s=i.Ac.next();i.yc.set(s,new Cv(t)),i.gc=i.gc.insert(t,s),Hh(i.remoteStore,new Eu(I(Bu(t.path)),s,"TargetPurposeLimboResolution",Xi.ct))}}function Iu(i,e,t){return rf.apply(this,arguments)}function rf(){return rf=(0,d.Z)(function*(i,e,t){const s=qt(i),a=[],c=[],p=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,N)=>{p.push(s.Rc(N,e,t).then(j=>{if((j||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,j?.fromCache?"not-current":"current"),j){a.push(j);const Q=xd.Li(N.targetId,j);c.push(Q)}}))}),yield Promise.all(p),s.dc.nu(a),yield(D=(0,d.Z)(function*(N,j){const Q=qt(N);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>Ye.forEach(j,Ze=>Ye.forEach(Ze.Fi,gt=>Q.persistence.referenceDelegate.addReference(Ee,Ze.targetId,gt)).next(()=>Ye.forEach(Ze.Bi,gt=>Q.persistence.referenceDelegate.removeReference(Ee,Ze.targetId,gt)))))}catch(Ee){if(!Li(Ee))throw Ee;Mt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of j){const Ze=Ee.targetId;if(!Ee.fromCache){const gt=Q.Ji.get(Ze),fn=gt.withLastLimboFreeSnapshotVersion(gt.snapshotVersion);Q.Ji=Q.Ji.insert(Ze,fn)}}}),function(N,j){return D.apply(this,arguments)})(s.localStore,c))}),rf.apply(this,arguments)}function hm(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,d.Z)(function*(i,e){const t=qt(i);if(!t.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const s=yield dv(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(D=>{D.reject(new Rt(et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Iu(t,s.er)}var a}),$d.apply(this,arguments)}function Qu(i,e){const t=qt(i),s=t.yc.get(e);if(s&&s.fc)return lr().add(s.key);{let a=lr();const c=t._c.get(e);if(!c)return a;for(const p of c){const D=t.wc.get(p);a=a.unionWith(D.view.nc)}return a}}function sf(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,d.Z)(function*(i,e){const t=qt(i),s=yield Rd(t.localStore,e.query,!0),a=e.view.hc(s);return t.isPrimaryClient&&jd(t,e.targetId,a.cc),a}),Hc.apply(this,arguments)}function Hd(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,d.Z)(function*(i,e){const t=qt(i);return $g(t.localStore,e).then(s=>Iu(t,s))}),Np.apply(this,arguments)}function kp(i,e,t,s){return af.apply(this,arguments)}function af(){return af=(0,d.Z)(function*(i,e,t,s){const a=qt(i),c=yield function(p,D){const N=qt(p),j=qt(N.mutationQueue);return N.persistence.runTransaction("Lookup mutation documents","readonly",Q=>j.Sn(Q,D).next(Ee=>Ee?N.localDocuments.getDocuments(Q,Ee):Ye.resolve(null)))}(a.localStore,e);var D;null!==c?("pending"===t?yield Il(a.remoteStore):"acknowledged"===t||"rejected"===t?(Bd(a,e,s||null),$c(a,e),D=e,qt(qt(a.localStore).mutationQueue).Cn(D)):tn(),yield Iu(a,c)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),af.apply(this,arguments)}function Fp(){return Fp=(0,d.Z)(function*(i,e){const t=qt(i);if(uf(t),Gd(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gc(t,s.toArray());t.vc=!0,yield Vd(t.remoteStore,!0);for(const c of a)Hh(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const s=[];let a=Promise.resolve();t._c.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Yu(t,p),Ku(t.localStore,p,!0))),Gh(t.remoteStore,p)}),yield a,yield Gc(t,s),function(c){const p=qt(c);p.yc.forEach((D,N)=>{Gh(p.remoteStore,N)}),p.Ic.Ts(),p.yc=new Map,p.gc=new Dr(Yt.comparator)}(t),t.vc=!1,yield Vd(t.remoteStore,!1)}}),Fp.apply(this,arguments)}function Gc(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,d.Z)(function*(i,e,t){const s=qt(i),a=[],c=[];for(const p of e){let D;const N=s._c.get(p);if(N&&0!==N.length){D=yield oc(s.localStore,I(N[0]));for(const j of N){const Q=s.wc.get(j),Ee=yield sf(s,Q);Ee.snapshot&&c.push(Ee.snapshot)}}else{const j=yield jg(s.localStore,p);D=yield oc(s.localStore,j),yield Mp(s,Pv(j),p,!1,D.resumeToken)}a.push(D)}return s.dc.nu(c),a}),Lp.apply(this,arguments)}function Pv(i){return fl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ov(i){const e=qt(i);return qt(qt(e.localStore).persistence).$i()}function o0(i,e,t,s){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,d.Z)(function*(i,e,t,s){const a=qt(i);if(a.vc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield $g(a.localStore,An(c[0])),D=fd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bi.EMPTY_BYTE_STRING);yield Iu(a,p,D);break}case"rejected":yield Ku(a.localStore,e,!0),Yu(a,e,s);break;default:tn()}}),Vp.apply(this,arguments)}function Nv(i,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,d.Z)(function*(i,e,t){const s=uf(i);if(s.vc){for(const a of e){if(s._c.has(a)){Mt("SyncEngine","Adding an already active target "+a);continue}const c=yield jg(s.localStore,a),p=yield oc(s.localStore,c);yield Mp(s,Pv(c),p.targetId,!1,p.resumeToken),Hh(s.remoteStore,p)}for(const a of t)s._c.has(a)&&(yield Ku(s.localStore,a,!1).then(()=>{Gh(s.remoteStore,a),Yu(s,a)}).catch(qo))}}),Up.apply(this,arguments)}function uf(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ef.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r0.bind(null,e),e.dc.nu=rm.bind(null,e.eventManager),e.dc.Pc=im.bind(null,e.eventManager),e}function Gd(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Av.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}class hc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=jc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createPersistence(e){return new Oh(Sd.zs,this.serializer)}createSharedClientState(e){return new up}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends hc{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Gd(s.Vc.syncEngine),yield Il(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cv(this.persistence,new Ug,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Jf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new kl(t,this.persistence);return new Pu(e.asyncQueue,s)}createPersistence(e){const t=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new Fh(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,jh(),dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new up}}class fm extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield t().call(s,e);const a=s.Vc.syncEngine;s.sharedClientState instanceof Uh&&(s.sharedClientState.syncEngine={jr:kp.bind(null,a),zr:o0.bind(null,a),Wr:Nv.bind(null,a),$i:Ov.bind(null,a),Qr:Hd.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var c=(0,d.Z)(function*(p){yield function Rv(i,e){return Fp.apply(this,arguments)}(s.Vc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=jh();if(!Uh.D(t))throw new Rt(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Md(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class zc{initialize(e,t){var s=this;return(0,d.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>dm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=hm.bind(null,s.syncEngine),yield Vd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Iv}createDatastore(e){const t=jc(e.databaseInfo.databaseId),s=new Wg(e.databaseInfo);return new fp(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>dm(this.syncEngine,D,0),p=ka.D()?new ka:new Bh,new yv(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,D,N,j){const Q=new lm(s,a,c,p,D,N);return j&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const s=qt(t);Mt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield uc(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pm(i,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cf{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ri,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),a=Number(s);isNaN(a)&&e.Mc(`length string (${s}) is not valid number`);const c=yield e.$c(a);return new sm(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class fc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Rt(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,d.Z)(function*(c,p){const D=qt(c),N=_d(D.serializer)+"/documents",j={documents:p.map(gt=>yd(D.serializer,gt))},Q=yield D.vo("BatchGetDocuments",N,j,p.length),Ee=new Map;Q.forEach(gt=>{const $t=function Uy(i,e){return"found"in e?function(t,s){pn(!!s.found);const a=_u(t,s.found.name),c=Gi(s.found.updateTime),p=s.found.createTime?Gi(s.found.createTime):_n.min(),D=new ts({mapValue:{fields:s.found.fields}});return qr.newFoundDocument(a,c,p,D)}(i,e):"missing"in e?function(t,s){pn(!!s.missing),pn(!!s.readTime);const a=_u(t,s.missing),c=Gi(s.readTime);return qr.newNoDocument(a,c)}(i,e):tn()}(D.serializer,gt);Ee.set($t.key.toString(),$t)});const Ze=[];return p.forEach(gt=>{const $t=Ee.get(gt.toString());pn(!!$t),Ze.push($t)}),Ze}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const c=Yt.fromPath(a);e.mutations.push(new ph(c,e.precondition(c)))}),yield(s=(0,d.Z)(function*(a,c){const p=qt(a),D=_d(p.serializer)+"/documents",N={writes:c.map(j=>Kl(p.serializer,j))};yield p.Io("Commit",D,N)}),function(a,c){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tn();t=_n.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Rt(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_n.min())?Ti.exists(!1):Ti.updateTime(t):Ti.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new Rt(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(t)}return Ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,s,a,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=c,this.Bc=s.maxAttempts,this.qo=new Kg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new fc(e.datastore),s=e.qc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!za(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yg(t)}return!1}}class zd{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=yi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,d.Z)(function*(D){Mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Mt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=cc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function df(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var a=(0,d.Z)(function*(c){s.isEqual(c)||(yield dv(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),jp.apply(this,arguments)}function Wd(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield pc(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(a=>Ld(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>Ld(e.remoteStore,c)),i._onlineComponents=e}),$p.apply(this,arguments)}function Xa(i){return"FirebaseError"===i.name?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function pc(i){return zs.apply(this,arguments)}function zs(){return zs=(0,d.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield df(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Xa(t))throw t;Lr("Error using user provided cache. Falling back to memory cache: "+t),yield df(i,new hc)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield df(i,new hc);return i._offlineComponents}),zs.apply(this,arguments)}function Du(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,d.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wd(i,i._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Wd(i,new zc))),i._onlineComponents}),Wc.apply(this,arguments)}function pa(i){return pc(i).then(e=>e.persistence)}function Kc(i){return pc(i).then(e=>e.localStore)}function gc(i){return Du(i).then(e=>e.remoteStore)}function Al(i){return Du(i).then(e=>e.syncEngine)}function eu(i){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,d.Z)(function*(i){const e=yield Du(i),t=e.eventManager;return t.onListen=bv.bind(null,e.syncEngine),t.onUnlisten=cm.bind(null,e.syncEngine),t}),Sl.apply(this,arguments)}function yc(i,e,t={}){const s=new ri;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,p,D,N){const j=new lf({next:Ee=>{c.enqueueAndForget(()=>Yh(a,Q));const Ze=Ee.docs.has(p);!Ze&&Ee.fromCache?N.reject(new Rt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&Ee.fromCache&&D&&"server"===D.source?N.reject(new Rt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),Q=new No(Bu(p.path),j,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield eu(i),i.asyncQueue,e,t,s)})),s.promise}function Hp(i,e,t={}){const s=new ri;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,p,D,N){const j=new lf({next:Ee=>{c.enqueueAndForget(()=>Yh(a,Q)),Ee.fromCache&&"server"===D.source?N.reject(new Rt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(Ee)},error:Ee=>N.reject(Ee)}),Q=new No(p,j,{includeMetadataChanges:!0,Ku:!0});return nm(a,Q)}(yield eu(i),i.asyncQueue,e,t,s)})),s.promise}function Gp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const zp=new Map;function hf(i,e,t){if(!t)throw new Rt(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Em(i,e,t,s){if(!0===e&&!0===s)throw new Rt(et.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wm(i){if(!Yt.isDocumentKey(i))throw new Rt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wp(i){if(Yt.isDocumentKey(i))throw new Rt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":tn()}function xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Rt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new Rt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function pf(i,e){if(e<=0)throw new Rt(et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gf{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Rt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Rt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Rt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Mu;switch(t.type){case"firstParty":return new oa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Rt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zp.get(e);t&&(Mt("ComponentProvider","Removing Datastore"),zp.delete(e),t.terminate())}(this),Promise.resolve()}}function Zd(i,e,t,s={}){var a;const c=(i=xr(i,Kd))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==p&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),s.mockUserToken){let D,N;if("string"==typeof s.mockUserToken)D=s.mockUserToken,N=In.MOCK_USER;else{D=(0,ae.Sg)(s.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new Rt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new In(j)}i._authCredentials=new wa(new Su(D,N))}}class Ai{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}}class Rs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Cu extends Rs{constructor(e,t,s){super(e,t,Bu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new Yt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function Kp(i,e,...t){if(i=(0,ae.m9)(i),hf("collection","path",e),i instanceof Kd){const s=Tn.fromString(e,...t);return Wp(s),new Cu(i,null,s)}{if(!(i instanceof Ai||i instanceof Cu))throw new Rt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Tn.fromString(e,...t));return Wp(s),new Cu(i.firestore,null,s)}}function Zp(i,e){if(i=xr(i,Kd),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(i,null,(t=e,new Za(Tn.emptyPath(),t)));var t}function qp(i,e,...t){if(i=(0,ae.m9)(i),1===arguments.length&&(e=yi.A()),hf("doc","path",e),i instanceof Kd){const s=Tn.fromString(e,...t);return wm(s),new Ai(i,null,new Yt(s))}{if(!(i instanceof Ai||i instanceof Cu))throw new Rt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Tn.fromString(e,...t));return wm(s),new Ai(i.firestore,i instanceof Cu?i.converter:null,new Yt(s))}}function Im(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),(i instanceof Ai||i instanceof Cu)&&(e instanceof Ai||e instanceof Cu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function qd(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),i instanceof Rs&&e instanceof Rs&&i.firestore===e.firestore&&Ne(i._query,e._query)&&i.converter===e.converter}class Dm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kg(this,"async_queue_retry"),this.Xc=()=>{const t=dp();t&&Mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ri;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Li(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Zh.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&tn()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(i)}class Yp{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Cm=-1;class Si extends Kd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Dm,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qp(this),this._firestoreClient.terminate()}}function zi(i){return i._firestoreClient||Qp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qp(i){var e,t,s;const a=i._freezeSettings(),c=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ul(i._databaseId,D,i._persistenceKey,(j=a).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,Gp(j.experimentalLongPollingOptions),j.useFetchStreams));var D,j;i._firestoreClient=new zd(i._authCredentials,i._appCheckCredentials,i._queue,c),(null===(t=a.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=a.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uv(i,e){Xp(i=xr(i,Si));const t=zi(i);if(t._uninitializedComponentsProvider)throw new Rt(et.FAILED_PRECONDITION,"SDK cache is already specified.");Lr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),a=new zc;return bm(t,a,new Bp(a,s.cacheSizeBytes,e?.forceOwnership))}function Bv(i){Xp(i=xr(i,Si));const e=zi(i);if(e._uninitializedComponentsProvider)throw new Rt(et.FAILED_PRECONDITION,"SDK cache is already specified.");Lr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new zc;return bm(e,s,new fm(s,t.cacheSizeBytes))}function bm(i,e,t){const s=new ri;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield df(i,t),yield Wd(i,e),s.resolve()}catch(a){const c=a;if(!Xa(c))throw c;Lr("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Tm(i){if(i._initialized&&!i._terminated)throw new Rt(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(s){if(!so.D())return Promise.resolve();const a=s+"main";yield so.delete(a)}),function(s){return t.apply(this,arguments)})(Md(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Jp(i){return function(e){const t=new ri;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Mv(i,e){return Op.apply(this,arguments)}(yield Al(e),t)})),t.promise}(zi(i=xr(i,Si)))}function Am(i){return function Zc(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield pa(i),t=yield gc(i);return e.setNetworkEnabled(!0),function(s){const a=qt(s);return a.vu.delete(0),kd(a)}(t)}))}(zi(i=xr(i,Si)))}function Sm(i){return function qc(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield pa(i),t=yield gc(i);return e.setNetworkEnabled(!1),(s=(0,d.Z)(function*(a){const c=qt(a);c.vu.add(0),yield uc(c),c.bu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(zi(i=xr(i,Si)))}function Mm(i,e){const t=zi(i=xr(i,Si)),s=new Yp;return function ym(i,e,t,s){const a=function(c,p){let D;return D="string"==typeof c?ky().encode(c):c,N=function(N,j){if(N instanceof Uint8Array)return pm(N,j);if(N instanceof ArrayBuffer)return pm(new Uint8Array(N),j);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new cf(N,p);var N}(t,jc(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function kv(i,e,t){const s=qt(i);var a;(a=(0,d.Z)(function*(c,p,D){try{const N=yield p.getMetadata();if(yield function(Ze,gt){const $t=qt(Ze),fn=Gi(gt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",gn=>$t.qs.getBundleMetadata(gn,gt.id)).then(gn=>!!gn&&gn.createTime.compareTo(fn)>=0)}(c.localStore,N))return yield p.close(),D._completeWith({taskState:"Success",documentsLoaded:(Ze=N).totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}),Promise.resolve(new Set);D._updateProgress(am(N));const j=new n0(N,c.localStore,p.serializer);let Q=yield p.bc();for(;Q;){const Ze=yield j.zu(Q);Ze&&D._updateProgress(Ze),Q=yield p.bc()}const Ee=yield j.complete();return yield Iu(c,Ee.Ju,void 0),yield function(Ze,gt){const $t=qt(Ze);return $t.persistence.runTransaction("Save bundle","readwrite",fn=>$t.qs.saveBundleMetadata(fn,gt))}(c.localStore,N),D._completeWith(Ee.progress),Promise.resolve(Ee.Hu)}catch(N){return Lr("SyncEngine",`Loading bundle failed with ${N}`),D._failWith(N),Promise.resolve(new Set)}var Ze}),function(c,p,D){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Al(i),a,s)}))}(t,i._databaseId,e,s),s}function xm(i,e){return function vm(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,s){const a=qt(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,s))}(yield Kc(i),e)}))}(zi(i=xr(i,Si)),e).then(t=>t?new Rs(i,null,t.query):null)}function Xp(i){if(i._initialized||i._terminated)throw new Rt(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(bi.fromBase64String(e))}catch(t){throw new Rt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vc(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xl{constructor(e){this._methodName=e}}class yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const Ps=/^__.*__$/;class Pm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class Yd{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Nm(this.ca)&&Ps.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $v{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jc(e)}ya(e,t,s,a=!1){return new Yd({ca:e,methodName:t,ga:s,path:or.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(i){const e=i._freezeSettings(),t=jc(i._databaseId);return new $v(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qd(i,e,t,s,a,c={}){const p=i.ya(c.merge||c.mergeFields?2:0,e,t,a);La("Data must be an object, but it was:",p,s);const D=Um(s,p);let N,j;if(c.merge)N=new es(p.fieldMask),j=p.fieldTransforms;else if(c.mergeFields){const Q=[];for(const Ee of c.mergeFields){const Ze=ko(e,Ee,t);if(!p.contains(Ze))throw new Rt(et.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Bm(Q,Ze)||Q.push(Ze)}N=new es(Q),j=p.fieldTransforms.filter(Ee=>N.covers(Ee.field))}else N=null,j=p.fieldTransforms;return new Pm(new ts(D),N,j)}class bu extends xl{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function km(i,e,t){return new Yd({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eg extends xl{_toFieldTransform(e){return new xc(e.path,new $u)}isEqual(e){return e instanceof eg}}class Fm extends xl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Eo(c,t)),a=new yu(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Hv extends xl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=km(this,e,!0),s=this.pa.map(c=>Eo(c,t)),a=new Hu(s);return new xc(e.path,a)}isEqual(e){return this===e}}class Lm extends xl{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new pl(e.serializer,Of(e.serializer,this.Ia));return new xc(e.path,t)}isEqual(e){return this===e}}function Vm(i,e,t,s){const a=i.ya(1,e,t);La("Data must be an object, but it was:",a,s);const c=[],p=ts.empty();Wa(s,(N,j)=>{const Q=Jd(e,N,t);j=(0,ae.m9)(j);const Ee=a.da(Q);if(j instanceof bu)c.push(Q);else{const Ze=Eo(j,Ee);null!=Ze&&(c.push(Q),p.set(Q,Ze))}});const D=new es(c);return new Om(p,D,a.fieldTransforms)}function vf(i,e,t,s,a,c){const p=i.ya(1,e,t),D=[ko(e,s,t)],N=[a];if(c.length%2!=0)throw new Rt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<c.length;Ze+=2)D.push(ko(e,c[Ze])),N.push(c[Ze+1]);const j=[],Q=ts.empty();for(let Ze=D.length-1;Ze>=0;--Ze)if(!Bm(j,D[Ze])){const gt=D[Ze];let $t=N[Ze];$t=(0,ae.m9)($t);const fn=p.da(gt);if($t instanceof bu)j.push(gt);else{const gn=Eo($t,fn);null!=gn&&(j.push(gt),Q.set(gt,gn))}}const Ee=new es(j);return new Om(Q,Ee,p.fieldTransforms)}function _f(i,e,t,s=!1){return Eo(t,i.ya(s?4:3,e))}function Eo(i,e){if(tg(i=(0,ae.m9)(i)))return La("Unsupported field value:",e,i),Um(i,e);if(i instanceof xl)return function(t,s){if(!Nm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let D=Eo(p,s.wa(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(i,e)}return function(t,s){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Of(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Hr.fromDate(t);return{timestampValue:ml(s.serializer,a)}}if(t instanceof Hr){const a=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ml(s.serializer,a)}}if(t instanceof yf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vc)return{bytesValue:Vy(s.serializer,t._byteString)};if(t instanceof Ai){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ff(t)}`)}(i,e)}function Um(i,e){const t={};return Ll(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(i,(s,a)=>{const c=Eo(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function tg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hr||i instanceof yf||i instanceof vc||i instanceof Ai||i instanceof xl)}function La(i,e,t){if(!tg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ff(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function ko(i,e,t){if((e=(0,ae.m9)(e))instanceof Ml)return e._internalPath;if("string"==typeof e)return Jd(i,e);throw Xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const tu=new RegExp("[~\\*/\\[\\]]");function Jd(i,e,t){if(e.search(tu)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ml(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xd(i,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(c||p)&&(N+=" (found",c&&(N+=` in field ${s}`),p&&(N+=` in document ${a}`),N+=")"),new Rt(et.INVALID_ARGUMENT,D+i+N)}function Bm(i,e){return i.some(t=>t.isEqual(e))}class eh{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gv extends eh{data(){return super.data()}}function Ef(i,e){return"string"==typeof e?Jd(i,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}function wf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Rt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _c{}class th extends _c{}function jm(i,e,...t){let s=[];e instanceof _c&&s.push(e),s=s.concat(t),function(a){const c=a.filter(D=>D instanceof Ec).length,p=a.filter(D=>D instanceof nh).length;if(c>1||c>0&&p>0)throw new Rt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class nh extends th{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nh(e,t,s)}_apply(e){const t=this._parse(e);return Ym(e._query,t),new Rs(e.firestore,e.converter,H(e._query,t))}_parse(e){const t=Rl(e.firestore);return function(a,c,p,D,N,j,Q){let Ee;if(N.isKeyField()){if("array-contains"===j||"array-contains-any"===j)throw new Rt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${j}' queries on documentId().`);if("in"===j||"not-in"===j){qm(Q,j);const Ze=[];for(const gt of Q)Ze.push(Zm(D,a,gt));Ee={arrayValue:{values:Ze}}}else Ee=Zm(D,a,Q)}else"in"!==j&&"not-in"!==j&&"array-contains-any"!==j||qm(Q,j),Ee=_f(p,"where",Q,"in"===j||"not-in"===j);return _e.create(N,j,Ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function $m(i,e,t){const s=e,a=Ef("where",i);return nh._create(a,s,t)}class Ec extends _c{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:xe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const D of p)Ym(c,D),c=H(c,D)}(e._query,t),new Rs(e.firestore,e.converter,H(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class If extends th{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new If(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Rt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Rt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new T(a,c);return function(D,N){if(null===Ac(D)){const j=v(D);null!==j&&Qm(0,j,N.field)}}(s,p),p}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Za(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Hm(i,e="asc"){const t=e,s=Ef("orderBy",i);return If._create(s,t)}class Jc extends th{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jc(e,t,s)}_apply(e){return new Rs(e.firestore,e.converter,J(e._query,this._limit,this._limitType))}}function Df(i){return pf("limit",i),Jc._create("limit",i,"F")}function rg(i){return pf("limitToLast",i),Jc._create("limitToLast",i,"L")}class rh extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new rh(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Rs(e.firestore,e.converter,(a=t,new Za((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}function Gm(...i){return rh._create("startAt",i,!0)}function zm(...i){return rh._create("startAfter",i,!1)}class ih extends th{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ih(e,t,s)}_apply(e){const t=ig(e,this.type,this._docOrFields,this._inclusive);return new Rs(e.firestore,e.converter,(a=t,new Za((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Wm(...i){return ih._create("endBefore",i,!1)}function Km(...i){return ih._create("endAt",i,!0)}function ig(i,e,t,s){if(t[0]=(0,ae.m9)(t[0]),t[0]instanceof eh)return function(a,c,p,D,N){if(!D)throw new Rt(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const j=[];for(const Q of g(a))if(Q.field.isKeyField())j.push(Ra(c,D.key));else{const Ee=D.data.field(Q.field);if(ku(Ee))throw new Rt(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ze=Q.field.canonicalString();throw new Rt(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}j.push(Ee)}return new ns(j,N)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const a=Rl(i.firestore);return function(c,p,D,N,j,Q){const Ee=c.explicitOrderBy;if(j.length>Ee.length)throw new Rt(et.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let gt=0;gt<j.length;gt++){const $t=j[gt];if(Ee[gt].field.isKeyField()){if("string"!=typeof $t)throw new Rt(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof $t}`);if(!h(c)&&-1!==$t.indexOf("/"))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${$t}' contains a slash.`);const fn=c.path.child(Tn.fromString($t));if(!Yt.isDocumentKey(fn))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const gn=new Yt(fn);Ze.push(Ra(p,gn))}else{const fn=_f(D,N,$t);Ze.push(fn)}}return new ns(Ze,Q)}(i._query,i.firestore._databaseId,a,e,t,s)}}function Zm(i,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new Rt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h(e)&&-1!==t.indexOf("/"))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Tn.fromString(t));if(!Yt.isDocumentKey(s))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ra(i,new Yt(s))}if(t instanceof Ai)return Ra(i,t._key);throw new Rt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function qm(i,e){if(!Array.isArray(i)||0===i.length)throw new Rt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ym(i,e){if(e.isInequality()){const s=v(i),a=e.field;if(null!==s&&!s.isEqual(a))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Ac(i);null!==c&&Qm(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Rt(et.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Qm(i,e,t){if(!t.isEqual(e))throw new Rt(et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sg{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Wa(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new yf(ai(e.latitude),ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const t=mo(e);return new Hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Tn.fromString(e);pn(Gf(s));const a=new Yo(s.get(1),s.get(3)),c=new Yt(s.popFirst(5));return a.isEqual(t)||Ir(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Cf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class zv extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,t)}}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends eh{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sh extends Ic{data(e={}){return super.data(e)}}class Dc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new sh(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new sh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new wc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const D=new sh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new wc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let N=-1,j=-1;return 0!==p.type&&(N=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),j=c.indexOf(p.doc.key)),{type:Kv(p.type),doc:D,oldIndex:N,newIndex:j}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function Xm(i,e){return i instanceof Ic&&e instanceof Ic?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Dc&&e instanceof Dc&&i._firestore===e._firestore&&qd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ey(i){i=xr(i,Ai);const e=xr(i.firestore,Si);return yc(zi(e),i._key).then(t=>ly(e,i,t))}class Ju extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,t)}}function ty(i){i=xr(i,Ai);const e=xr(i.firestore,Si),t=zi(e),s=new Ju(e);return function Yc(i,e){const t=new ri;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(a,c,p){try{const D=yield function(N,j){const Q=qt(N);return Q.persistence.runTransaction("read document","readonly",Ee=>Q.localDocuments.getDocument(Ee,j))}(a,c);D.isFoundDocument()?p.resolve(D):D.isNoDocument()?p.resolve(null):p.reject(new Rt(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const N=cc(D,`Failed to get document '${c} from cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._key).then(a=>new Ic(e,s,i._key,a,new wc(null!==a&&a.hasLocalMutations,!0),i.converter))}function ny(i){i=xr(i,Ai);const e=xr(i.firestore,Si);return yc(zi(e),i._key,{source:"server"}).then(t=>ly(e,i,t))}function ry(i){i=xr(i,Rs);const e=xr(i.firestore,Si),t=zi(e),s=new Ju(e);return wf(i._query),Hp(t,i._query).then(a=>new Dc(e,s,i,a))}function iy(i){i=xr(i,Rs);const e=xr(i.firestore,Si),t=zi(e),s=new Ju(e);return function gm(i,e){const t=new ri;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(a,c,p){try{const D=yield Rd(a,c,!0),N=new um(c,D.ir),j=N.sc(D.documents),Q=N.applyChanges(j,!1);p.resolve(Q.snapshot)}catch(D){const N=cc(D,`Failed to execute query '${c} against cache`);p.reject(N)}}),function(a,c,p){return s.apply(this,arguments)})(yield Kc(i),e,t);var s})),t.promise}(t,i._query).then(a=>new Dc(e,s,i,a))}function sy(i){i=xr(i,Rs);const e=xr(i.firestore,Si),t=zi(e),s=new Ju(e);return Hp(t,i._query,{source:"server"}).then(a=>new Dc(e,s,i,a))}function oy(i,e,t){i=xr(i,Ai);const s=xr(i.firestore,Si),a=Cf(i.converter,e,t);return nu(s,[Qd(Rl(s),"setDoc",i._key,a,null!==i.converter,t).toMutation(i._key,Ti.none())])}function ay(i,e,t,...s){i=xr(i,Ai);const a=xr(i.firestore,Si),c=Rl(a);let p;return p="string"==typeof(e=(0,ae.m9)(e))||e instanceof Ml?vf(c,"updateDoc",i._key,e,t,s):Vm(c,"updateDoc",i._key,e),nu(a,[p.toMutation(i._key,Ti.exists(!0))])}function uy(i){return nu(xr(i.firestore,Si),[new gl(i._key,Ti.none())])}function Cc(i,e){const t=xr(i.firestore,Si),s=qp(i),a=Cf(i.converter,e);return nu(t,[Qd(Rl(i.firestore),"addDoc",s._key,a,null!==i.converter,{}).toMutation(s._key,Ti.exists(!1))]).then(()=>s)}function Zv(i,...e){var t,s,a;i=(0,ae.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||mf(e[p])||(c=e[p],p++);const D={includeMetadataChanges:c.includeMetadataChanges};if(mf(e[p])){const Ee=e[p];e[p]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[p+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[p+2]=null===(a=Ee.complete)||void 0===a?void 0:a.bind(Ee)}let N,j,Q;if(i instanceof Ai)j=xr(i.firestore,Si),Q=Bu(i._key.path),N={next:Ee=>{e[p]&&e[p](ly(j,i,Ee))},error:e[p+1],complete:e[p+2]};else{const Ee=xr(i,Rs);j=xr(Ee.firestore,Si),Q=Ee._query;const Ze=new Ju(j);N={next:gt=>{e[p]&&e[p](new Dc(j,Ze,Ee,gt))},error:e[p+1],complete:e[p+2]},wf(i._query)}return function(Ee,Ze,gt,$t){const fn=new lf($t),gn=new No(Ze,fn,gt);return Ee.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return nm(yield eu(Ee),gn)})),()=>{fn.Dc(),Ee.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Yh(yield eu(Ee),gn)}))}}(zi(j),Q,D,N)}function qv(i,e){return function mm(i,e){const t=new lf(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield eu(i),a=t,qt(s).ku.add(a),void a.next();var s,a})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield eu(i),a=t,void qt(s).ku.delete(a);var s,a}))}}(zi(i=xr(i,Si)),mf(e)?e:{next:e})}function nu(i,e){return function(t,s){const a=new ri;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Tv(i,e,t){return Fa.apply(this,arguments)}(yield Al(t),s,a)})),a.promise}(zi(i),e)}function ly(i,e,t){const s=t.docs.get(e._key),a=new Ju(i);return new Ic(i,a,e._key,s,new wc(t.hasPendingWrites,t.fromCache),e.converter)}const _0={maxAttempts:5};class og{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,t,s){this._verifyNotCommitted();const a=Xu(e,this._firestore),c=Cf(a.converter,t,s),p=Qd(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,Ti.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const c=Xu(e,this._firestore);let p;return p="string"==typeof(t=(0,ae.m9)(t))||t instanceof Ml?vf(this._dataReader,"WriteBatch.update",c._key,t,s,a):Vm(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,Ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xu(e,this._firestore);return this._mutations=this._mutations.concat(new gl(t._key,Ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xu(i,e){if((i=(0,ae.m9)(i)).firestore!==e)throw new Rt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Qv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rl(e)}get(e){const t=Xu(e,this._firestore),s=new zv(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return tn();const c=a[0];if(c.isFoundDocument())return new eh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new eh(this._firestore,s,t._key,null,t.converter);throw tn()})}set(e,t,s){const a=Xu(e,this._firestore),c=Cf(a.converter,t,s),p=Qd(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const c=Xu(e,this._firestore);let p;return p="string"==typeof(t=(0,ae.m9)(t))||t instanceof Ml?vf(this._dataReader,"Transaction.update",c._key,t,s,a):Vm(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=Xu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xu(e,this._firestore),s=new Ju(this._firestore);return super.get(e).then(a=>new Ic(this._firestore,s,t._key,a._document,new wc(!1,!1),t.converter))}}function fy(i,e,t){i=xr(i,Si);const s=Object.assign(Object.assign({},_0),t);return function(a){if(a.maxAttempts<1)throw new Rt(et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,c,p){const D=new ri;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const N=yield function mc(i){return Du(i).then(e=>e.datastore)}(a);new a0(a.asyncQueue,N,p,c,D).run()})),D.promise}(zi(i),a=>e(new Qv(i,a)),s)}function py(){return new bu("deleteField")}function gy(){return new eg("serverTimestamp")}function my(...i){return new Fm("arrayUnion",i)}function Jv(...i){return new Hv("arrayRemove",i)}function Xv(i){return new Lm("increment",i)}!function(i,e=!0){Sr=F.SDK_VERSION,(0,F._registerComponent)(new U.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Si(new tl(t.getProvider("auth-internal")),new Nl(t.getProvider("app-check-internal")),function(D,N){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Rt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(D.options.projectId,N)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(wr,"3.13.0",i),(0,F.registerVersion)(wr,"3.13.0","esm2017")}()},2090:(Ut,ke,R)=>{R.d(ke,{$s:()=>L,BH:()=>at,G6:()=>Je,L:()=>Pe,LL:()=>Ht,Pz:()=>st,Sg:()=>Et,UG:()=>Me,US:()=>we,ZB:()=>ye,ZR:()=>At,aH:()=>ge,b$:()=>Bt,eu:()=>tt,hl:()=>$e,jU:()=>pt,m9:()=>He,ne:()=>me,pd:()=>Kn,r3:()=>Vn,ru:()=>ft,tV:()=>ne,uI:()=>Ce,vZ:()=>Mn,w1:()=>ur,xO:()=>Br,xb:()=>_r,z$:()=>Fe,zI:()=>_t,zd:()=>Un});const ce=function(re){const oe=[];let z=0;for(let Z=0;Z<re.length;Z++){let G=re.charCodeAt(Z);G<128?oe[z++]=G:G<2048?(oe[z++]=G>>6|192,oe[z++]=63&G|128):55296==(64512&G)&&Z+1<re.length&&56320==(64512&re.charCodeAt(Z+1))?(G=65536+((1023&G)<<10)+(1023&re.charCodeAt(++Z)),oe[z++]=G>>18|240,oe[z++]=G>>12&63|128,oe[z++]=G>>6&63|128,oe[z++]=63&G|128):(oe[z++]=G>>12|224,oe[z++]=G>>6&63|128,oe[z++]=63&G|128)}return oe},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,oe){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let G=0;G<re.length;G+=3){const be=re[G],dt=G+1<re.length,jt=dt?re[G+1]:0,sn=G+2<re.length,se=sn?re[G+2]:0;let Oe=(15&jt)<<2|se>>6,Ke=63&se;sn||(Ke=64,dt||(Oe=64)),Z.push(z[be>>2],z[(3&be)<<4|jt>>4],z[Oe],z[Ke])}return Z.join("")},encodeString(re,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(re):this.encodeByteArray(ce(re),oe)},decodeString(re,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(re):function(re){const oe=[];let z=0,Z=0;for(;z<re.length;){const G=re[z++];if(G<128)oe[Z++]=String.fromCharCode(G);else if(G>191&&G<224){const be=re[z++];oe[Z++]=String.fromCharCode((31&G)<<6|63&be)}else if(G>239&&G<365){const sn=((7&G)<<18|(63&re[z++])<<12|(63&re[z++])<<6|63&re[z++])-65536;oe[Z++]=String.fromCharCode(55296+(sn>>10)),oe[Z++]=String.fromCharCode(56320+(1023&sn))}else{const be=re[z++],dt=re[z++];oe[Z++]=String.fromCharCode((15&G)<<12|(63&be)<<6|63&dt)}}return oe.join("")}(this.decodeStringToByteArray(re,oe))},decodeStringToByteArray(re,oe){this.init_();const z=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let G=0;G<re.length;){const be=z[re.charAt(G++)],jt=G<re.length?z[re.charAt(G)]:0;++G;const se=G<re.length?z[re.charAt(G)]:64;++G;const te=G<re.length?z[re.charAt(G)]:64;if(++G,null==be||null==jt||null==se||null==te)throw new De;Z.push(be<<2|jt>>4),64!==se&&(Z.push(jt<<4&240|se>>2),64!==te&&Z.push(se<<6&192|te))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(re){return function(re){const oe=ce(re);return we.encodeByteArray(oe,!0)}(re).replace(/\./g,"")},ne=function(re){try{return we.decodeString(re,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ye(re,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return oe}for(const z in oe)!oe.hasOwnProperty(z)||!qe(z)||(re[z]=ye(re[z],oe[z]));return re}function qe(re){return"__proto__"!==re}const Se=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=re&&ne(re[1]);return oe&&JSON.parse(oe)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},ge=()=>{var re;return null===(re=Se())||void 0===re?void 0:re.config},st=re=>{var oe;return null===(oe=Se())||void 0===oe?void 0:oe[`_${re}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,z)=>{this.resolve=oe,this.reject=z})}wrapCallback(oe){return(z,Z)=>{z?this.reject(z):this.resolve(Z),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(z):oe(z,Z))}}}function Et(re,oe){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=oe||"demo-project",G=re.iat||0,be=re.sub||re.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:G,exp:G+3600,auth_time:G,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(dt)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Me(){var re;const oe=null===(re=Se())||void 0===re?void 0:re.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function ft(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ur(){const re=Fe();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Je(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function tt(){return new Promise((re,oe)=>{try{let z=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(Z);G.onsuccess=()=>{G.result.close(),z||self.indexedDB.deleteDatabase(Z),re(!0)},G.onupgradeneeded=()=>{z=!1},G.onerror=()=>{var be;oe((null===(be=G.error)||void 0===be?void 0:be.message)||"")}}catch(z){oe(z)}})}function _t(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class At extends Error{constructor(oe,z,Z){super(z),this.code=oe,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(oe,z,Z){this.service=oe,this.serviceName=z,this.errors=Z}create(oe,...z){const Z=z[0]||{},G=`${this.service}/${oe}`,be=this.errors[oe],dt=be?function Nt(re,oe){return re.replace(nn,(z,Z)=>{const G=oe[Z];return null!=G?String(G):`<${Z}?>`})}(be,Z):"Error";return new At(G,`${this.serviceName}: ${dt} (${G}).`,Z)}}const nn=/\{\$([^}]+)}/g;function Vn(re,oe){return Object.prototype.hasOwnProperty.call(re,oe)}function _r(re){for(const oe in re)if(Object.prototype.hasOwnProperty.call(re,oe))return!1;return!0}function Mn(re,oe){if(re===oe)return!0;const z=Object.keys(re),Z=Object.keys(oe);for(const G of z){if(!Z.includes(G))return!1;const be=re[G],dt=oe[G];if(jn(be)&&jn(dt)){if(!Mn(be,dt))return!1}else if(be!==dt)return!1}for(const G of Z)if(!z.includes(G))return!1;return!0}function jn(re){return null!==re&&"object"==typeof re}function Br(re){const oe=[];for(const[z,Z]of Object.entries(re))Array.isArray(Z)?Z.forEach(G=>{oe.push(encodeURIComponent(z)+"="+encodeURIComponent(G))}):oe.push(encodeURIComponent(z)+"="+encodeURIComponent(Z));return oe.length?"&"+oe.join("&"):""}function Un(re){const oe={};return re.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[G,be]=Z.split("=");oe[decodeURIComponent(G)]=decodeURIComponent(be)}}),oe}function Kn(re){const oe=re.indexOf("?");if(!oe)return"";const z=re.indexOf("#",oe);return re.substring(oe,z>0?z:void 0)}function me(re,oe){const z=new pe(re,oe);return z.subscribe.bind(z)}class pe{constructor(oe,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{oe(this)}).catch(Z=>{this.error(Z)})}next(oe){this.forEachObserver(z=>{z.next(oe)})}error(oe){this.forEachObserver(z=>{z.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,z,Z){let G;if(void 0===oe&&void 0===z&&void 0===Z)throw new Error("Missing Observer.");G=function ut(re,oe){if("object"!=typeof re||null===re)return!1;for(const z of oe)if(z in re&&"function"==typeof re[z])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:z,complete:Z},void 0===G.next&&(G.next=Xt),void 0===G.error&&(G.error=Xt),void 0===G.complete&&(G.complete=Xt);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),be}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,oe)}sendOne(oe,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{z(this.observers[oe])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}function L(re,oe=1e3,z=2){const Z=oe*Math.pow(z,re),G=Math.round(.5*Z*(Math.random()-.5)*2);return Math.min(144e5,Z+G)}function He(re){return re&&re._delegate?re._delegate:re}},7915:(Ut,ke,R)=>{R.d(ke,{U:()=>Et});var d=R(4650),F=R(4985),U=R(8179),ce=R(4006),ae=R(6895),we=R(2121);function De(Fe,Ce){if(1&Fe&&(d.TgZ(0,"option",14),d._uU(1),d.qZA()),2&Fe){const Me=Ce.$implicit;d.Q6J("ngValue",Me),d.xp6(1),d.hij(" ",Me," ")}}const ee=function(Fe){return{"is-invalid":Fe}};function Pe(Fe,Ce){if(1&Fe&&(d.TgZ(0,"select",11)(1,"option",12),d._uU(2,"Seleccione una opcion"),d.qZA(),d.YNc(3,De,2,2,"option",13),d.qZA()),2&Fe){const Me=d.oxw().$implicit,pt=d.oxw(2);d.Q6J("id",Me.label)("name",Me.label)("ngClass",d.VKq(6,ee,(pt.f[Me.label].touched||pt.submitted)&&pt.f[Me.label].errors))("formControlName",Me.label),d.xp6(1),d.Q6J("ngValue",null),d.xp6(2),d.Q6J("ngForOf",Me.value)}}function ne(Fe,Ce){if(1&Fe&&d._UZ(0,"input",15),2&Fe){const Me=d.oxw().$implicit,pt=d.oxw(2);d.Tol("form-control"+Me.classlist),d.Q6J("formControlName",Me.label)("id",Me.label)("name",Me.label)("type",Me.type)("placeholder",Me.placeholder)("value",Me.valueCallback?Me.getValue():Me.value)("ngClass",d.VKq(10,ee,(pt.f[Me.label].touched||pt.submitted)&&pt.f[Me.label].errors))("readonly",pt.mode||Me.readonly)}}function ue(Fe,Ce){1&Fe&&(d.TgZ(0,"div"),d._uU(1,"El Email es invalido"),d.qZA())}function ye(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",Me.placeholder," es requerido ")}}function qe(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",Me.placeholder," debe estar seleccionado ")}}function ze(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",Me.placeholder," no tiene el patron requerido ")}}function We(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit,pt=d.oxw(2);d.xp6(1),d.AsE(" ",Me.placeholder," debe tener almenos ",pt.f[Me.label].errors.minlength.requiredLength," caracteres ")}}function wt(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit,pt=d.oxw(2);d.xp6(1),d.AsE(" ",Me.placeholder," debe tener menos de ",pt.f[Me.label].errors.maxlength.requiredLength," caracteres ")}}function Ue(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit,pt=d.oxw(2);d.xp6(1),d.AsE(" ",Me.placeholder," debe tener menos de ",pt.f[Me.label].errors.maxlength.requiredLength," caracteres ")}}function Se(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div"),d._uU(1),d.qZA()),2&Fe){const Me=d.oxw(2).$implicit,pt=d.oxw(2);d.xp6(1),d.AsE(" ",Me.placeholder," ",pt.f[Me.label].errors.custom,"")}}function bt(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div",16),d.YNc(1,ue,2,0,"div",17),d.YNc(2,ye,2,1,"div",17),d.YNc(3,qe,2,1,"div",17),d.YNc(4,ze,2,1,"div",17),d.YNc(5,We,2,2,"div",17),d.YNc(6,wt,2,2,"div",17),d.YNc(7,Ue,2,2,"div",17),d.YNc(8,Se,2,2,"div",17),d.qZA()),2&Fe){const Me=d.oxw().$implicit,pt=d.oxw(2);d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.email),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.required),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.requiredTrue),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.pattern),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.minlength),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.maxlength),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.maxlength),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors.custom)}}function mt(Fe,Ce){1&Fe&&d._UZ(0,"div",18)}function ge(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div",5),d.YNc(1,Pe,4,8,"select",6),d.YNc(2,ne,1,12,"input",7),d.TgZ(3,"label",8),d._uU(4),d.qZA(),d.YNc(5,bt,9,8,"div",9),d.YNc(6,mt,1,0,"div",10),d.qZA()),2&Fe){const Me=Ce.$implicit,pt=d.oxw(2);d.xp6(1),d.Q6J("ngIf","select"==Me.type),d.xp6(1),d.Q6J("ngIf","select"!=Me.type),d.xp6(1),d.Q6J("for",Me.label),d.xp6(1),d.hij("",Me.placeholder," "),d.xp6(1),d.Q6J("ngIf",pt.f[Me.label].errors),d.xp6(1),d.Q6J("ngIf","radio"==Me.type)}}function st(Fe,Ce){if(1&Fe&&(d.TgZ(0,"div",3),d.YNc(1,ge,7,6,"div",4),d.qZA()),2&Fe){const Me=Ce.$implicit;d.xp6(1),d.Q6J("ngForOf",Me)}}function at(Fe,Ce){if(1&Fe){const Me=d.EpF();d.TgZ(0,"div",19)(1,"app-warn-modal",20),d.NdJ("continue",function(ft){d.CHM(Me);const Bt=d.oxw();return d.KtG(Bt.onSubmit(ft))})("modalMessage",function(){d.CHM(Me);const ft=d.oxw();return d.KtG(ft.modalMessage)}),d.qZA(),d.TgZ(2,"button",21),d.NdJ("click",function(){d.CHM(Me);const ft=d.oxw();return d.KtG(ft.onReset())}),d._uU(3," Resetear "),d.qZA()()}if(2&Fe){const Me=d.oxw();d.xp6(1),d.Q6J("btnMessage",Me.btnMes)}}let Et=(()=>{class Fe{constructor(Me,pt){this.cdref=Me,this.fb=pt,this.formModel=new d.vpe,this.reject=new d.vpe,this.mode=!1,this.showBtns=!0,this.btnMes="Registrar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.formObj=[[new F.O("Nombre Completo","fullname","text"),new F.O("Nombre de Usuario","username","text")],[new F.O("Correo Electronico","email","text")],[new F.O("Password","password","password"),new F.O("Confirmar Password","Confirm Password","password")],[new F.O("Aceptar los Terminos","Accept Terms","radio",[],"form-check-input",!1)]],this.continue=!1,this.submitted=!1,this.firstCall=!0}ngOnInit(){var Me={};Me=this.formObj.flat().reduce((pt,ft)=>{if(this.placeHolder){var Bt=this.placeHolder[ft.getLabel()];Bt instanceof U.EK&&(Bt=this.formatDateString(Bt.toDate().toLocaleDateString())),ft.control?.patchValue(Bt)}return this.mode&&ft.control?.clearValidators(),pt[ft.label]=ft.control,pt},Me),this._form=this.fb.group(Me)}get f(){return this._form.controls}onContinue(Me){this.continue=Me}initPlaceHolder(){this.placeHolder&&this.formObj.forEach(Me=>Me.forEach(pt=>{if(this.placeHolder){var ft=this.placeHolder[pt.getLabel()];ft instanceof U.EK&&(ft=this.formatDateString(ft.toDate().toLocaleDateString())),this.f[pt.getLabel()].patchValue(ft)}}))}ngOnChanges(){this.firstCall||this.initPlaceHolder(),this.firstCall=!1}formatDateString(Me){return Me.split("/").reverse().join("/").replace(/\//g,"-")}ngAfterContentChecked(){this.cdref.detectChanges()}onSubmit(Me){this.submitted=!0,!this._form.invalid&&this.formModel.emit(this._form.getRawValue())}onReset(){this._form.reset(),this.continue=!1,this.submitted=!1}}return Fe.\u0275fac=function(Me){return new(Me||Fe)(d.Y36(d.sBO),d.Y36(ce.j3))},Fe.\u0275cmp=d.Xpm({type:Fe,selectors:[["app-form"]],inputs:{placeHolder:"placeHolder",mode:"mode",showBtns:"showBtns",btnMes:"btnMes",modalMessage:"modalMessage",formObj:"formObj"},outputs:{formModel:"formModel",reject:"reject"},features:[d.TTD],decls:3,vars:3,consts:[["name","form",3,"formGroup","ngSubmit"],["class","input-group mb-2",4,"ngFor","ngForOf"],["class","form-group mt-3",4,"ngIf"],[1,"input-group","mb-2"],["class","form-floating",4,"ngFor","ngForOf"],[1,"form-floating"],["class","form-select",3,"id","name","ngClass","formControlName",4,"ngIf"],["oninput","this.value = this.value.toLowerCase()","min","1","step","1",3,"formControlName","class","id","name","type","placeholder","value","ngClass","readonly",4,"ngIf"],[1,"",3,"for"],["class","invalid-feedback",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"form-select",3,"id","name","ngClass","formControlName"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["oninput","this.value = this.value.toLowerCase()","min","1","step","1",3,"formControlName","id","name","type","placeholder","value","ngClass","readonly"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-4"],[1,"form-group","mt-3"],["id","1","name","btn1","type","submit",3,"btnMessage","continue","modalMessage"],["type","button",1,"ms-2","btn","btn-outline-primary","rounded-pill",3,"click"]],template:function(Me,pt){1&Me&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return pt.onContinue(!0)}),d.YNc(1,st,2,1,"div",1),d.YNc(2,at,4,1,"div",2),d.qZA()),2&Me&&(d.Q6J("formGroup",pt._form),d.xp6(1),d.Q6J("ngForOf",pt.formObj),d.xp6(1),d.Q6J("ngIf",!pt.mode&&pt.showBtns))},dependencies:[ae.mk,ae.sg,ae.O5,ce._Y,ce.YN,ce.Kr,ce.Fj,ce.EJ,ce.JJ,ce.JL,ce.sg,ce.u,we.u]}),Fe})()},2121:(Ut,ke,R)=>{R.d(ke,{u:()=>ce});var d=R(4650),F=R(6895);const U=function(){return["btn-outline-success","rounded-pill"]};let ce=(()=>{class ae{constructor(){this.btnMessage="Continuar",this.modalMessage="\xbf Desea continuar con este proceso ? ",this.btnType=!1,this.continue=new d.vpe}ngOnInit(){}modalContinue(De){this.continue.emit(De)}}return ae.\u0275fac=function(De){return new(De||ae)},ae.\u0275cmp=d.Xpm({type:ae,selectors:[["app-warn-modal"]],inputs:{btnMessage:"btnMessage",modalMessage:"modalMessage",classlist:"classlist",btnType:"btnType"},outputs:{continue:"continue"},decls:17,vars:4,consts:[[1,"container-fluid","my-3","mx-auto"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn",3,"ngClass"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","rounded-pill",3,"click"],["type","submit","data-bs-dismiss","modal",1,"ms-5","pb-2","btn","btn-success","rounded-pill",3,"click"]],template:function(De,ee){1&De&&(d.TgZ(0,"div",0)(1,"button",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),d._uU(8,"PRECAUCION"),d.qZA(),d.TgZ(9,"button",7),d.NdJ("click",function(){return ee.modalContinue(!1)}),d.qZA()(),d.TgZ(10,"div",8),d._uU(11),d.qZA(),d.TgZ(12,"div",9)(13,"button",10),d.NdJ("click",function(){return ee.modalContinue(!1)}),d._uU(14,"Abortar"),d.qZA(),d.TgZ(15,"button",11),d.NdJ("click",function(){return ee.modalContinue(!0)}),d._uU(16,"Continuar"),d.qZA()()()()()()),2&De&&(d.xp6(1),d.Q6J("ngClass",ee.classlist?ee.classlist:d.DdM(3,U)),d.xp6(1),d.hij(" ",ee.btnMessage," "),d.xp6(9),d.hij(" ",ee.modalMessage," "))},dependencies:[F.mk]}),ae})()},4985:(Ut,ke,R)=>{R.d(ke,{O:()=>U});var d=R(4006),F=R(8505);class U{constructor(ae,we,De,ee=[d.kI.required],Pe,ne,ue,ye,qe=!1){this.value=Pe,this.label=we,this.type=De,this.placeholder=ae,this.classlist=ne||" ",this.ref=ye||void 0,this.valueCallback=ue,this.readonly=qe,ee.push(d.kI.required),this.control=new d.NI({value:null,disabled:qe},ee),this.respondTo$=this.control.valueChanges.pipe((0,F.b)({next:ue,error:ze=>console.log(ze),complete:()=>console.log("Completed")}))}setReadOnly(ae){return this.readonly=ae,this}setValue(ae){return this.value=ae,this}getValue(){this.value=this.ref?this.valueCallback(...this.ref.map(ae=>ae.value)):this.valueCallback()}getLabel(){return this.label}}},3651:(Ut,ke,R)=>{R.d(ke,{e:()=>wt});var d=R(5861),F=R(1389),De=(R(2090),R(6881),R(1877),R(4859),R(3900)),ee=R(9646),Pe=R(5698),ne=R(8505),ue=R(4004),ye=R(4650),qe=R(1205),ze=R(33),We=R(2827);let wt=(()=>{class Ue{constructor(bt,mt,ge,st){this.afAuth=bt,this.afs=mt,this.router=ge,this.ngZone=st,this.username="Anonimo",this.user$=this.afAuth.authState.pipe((0,De.w)(at=>at?this.afs.doc(`users/${at.uid}`).valueChanges():(0,ee.of)(null)),(0,Pe.q)(1))}isLoggedIn(){var bt=!1;return this.user$.pipe((0,Pe.q)(1),(0,ne.b)(mt=>this.username=mt?.displayName),(0,ue.U)(mt=>!!mt),(0,ne.b)(mt=>{mt&&(bt=!0)})),bt}googleSignin(){var bt=this;return(0,d.Z)(function*(){const mt=yield bt.afAuth.signInWithPopup(new F.V);return mt.user&&bt.router.navigate(["/home"]),console.log("keeps executing"),bt.updateUserData(mt.user)})()}GoogleAuth(){return this.AuthLogin(new F.V)}AuthLogin(bt){var mt=this;return(0,d.Z)(function*(){return mt.afAuth.signInWithPopup(bt).then(ge=>{console.log("You have been successfully logged in!")}).catch(ge=>{console.log(ge)})})()}updateUserData(bt){return this.afs.doc(`users/${bt.uid}`).set({uid:bt.uid,email:bt.email,displayName:bt.displayName},{merge:!0})}signOut(){var bt=this;return(0,d.Z)(function*(){bt.username="Anonimo",yield bt.afAuth.signOut(),bt.router.navigate(["/login"])})()}}return Ue.\u0275fac=function(bt){return new(bt||Ue)(ye.LFG(qe.zQ),ye.LFG(ze.ST),ye.LFG(We.F0),ye.LFG(ye.R0b))},Ue.\u0275prov=ye.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})()},3416:(Ut,ke,R)=>{R.d(ke,{L:()=>ne});var d=R(8505),F=R(7886),U=R(1402),ce=R(4004),ae=R(5577),we=R(8179),De=R(4650),ee=R(33),Pe=R(529);let ne=(()=>{class ue{constructor(qe,ze){this.db=qe,this.ht=ze,this.dbPath="/finishedOrders",this.productsRef=qe.collection(this.dbPath)}getById(qe){return this.productsRef.doc(qe).get()}getAll(){return this.productsRef}create(qe){return this.productsRef.add({...qe})}downloadFile(qe,ze=`Ordenes Terminadas_${(new Date).toLocaleString("es-MX")}`){console.log(qe);let We=this.ConvertToCSV(qe,Object.keys(qe[0]));console.log(We);let wt=new Blob(["\ufeff"+We],{type:"text/csv;charset=utf-8;"}),Ue=document.createElement("a"),Se=URL.createObjectURL(wt);-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&Ue.setAttribute("target","_blank"),Ue.setAttribute("href",Se),Ue.setAttribute("download",ze+".csv"),Ue.style.visibility="hidden",document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue)}ConvertToCSV(qe,ze){let We="object"!=typeof qe?JSON.parse(qe):qe,wt="",Ue="S.No,";for(let Se in ze)Ue+=ze[Se]+",";Ue=Ue.slice(0,-1),wt+=Ue+"\r\n";for(let Se=0;Se<We.length;Se++){let bt=Se+1+"";for(let mt in ze)bt+=","+We[Se][ze[mt]];wt+=bt+"\r\n"}return wt}uploadAll(){return this.ht.get("../../../assets/csvjson.json").pipe((0,d.b)(console.log),(0,F.u)(),(0,U.j)(50),(0,ce.U)(qe=>{var ze=this.db.firestore.batch();return qe.map(We=>{const{id:wt,...Ue}=We;return ze.set(this.db.collection(this.dbPath).doc(wt).ref,Ue),ze.set(this.db.collection("/FPreport").doc(wt).ref,{name:Ue.name,available:0,commited:0,wating:0,timestamp:we.EK.fromDate(new Date)})}),ze.commit()}),(0,d.b)({complete:()=>alert("completo"),error:()=>alert("error")}))}deleteAll(){return this.productsRef.get().pipe((0,ce.U)(qe=>qe.docs),(0,d.b)(qe=>this.downloadFile(qe.map(ze=>ze.data()))),(0,F.u)(),(0,U.j)(500),(0,ae.z)(qe=>{var ze=this.db.firestore.batch();return qe.map(We=>ze.delete(We.ref)),ze.commit()}))}}return ue.\u0275fac=function(qe){return new(qe||ue)(De.LFG(ee.ST),De.LFG(Pe.eN))},ue.\u0275prov=De.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},4466:(Ut,ke,R)=>{R.d(ke,{m:()=>ce});var d=R(6895),F=R(4006),U=R(4650);let ce=(()=>{class ae{}return ae.\u0275fac=function(De){return new(De||ae)},ae.\u0275mod=U.oAB({type:ae}),ae.\u0275inj=U.cJS({imports:[d.ez,F.u5,F.UX,F.u5]}),ae})()},5877:(Ut,ke,R)=>{var d=R(1481),F=R(4650),U=R(2827),ce=R(727),ae=R(8505),we=R(4985),De=R(7915),ee=R(3416);let Pe=(()=>{class L{constructor(de){this.fo=de,this.a=new ce.w0,this.form=[[new we.O("Numero de Orden de Pedido","name","text"),new we.O("Estado","state","text")],[new we.O("Nombre del Cliente","clientName","select",[],["Oracle","Microsoft","Sony"])],[new we.O("Fecha de Embarque","shipDate","date")],[new we.O("Dias de Produccion","productionDays","number",[this.custom]),new we.O("Pedido de Insumos","orderInput","number").setReadOnly(!0)],[new we.O("Pedido Materia Prima","rmOrderDeadline","date"),new we.O("Limite inicio de Produccion","startProductionDeadline","date")],[new we.O("Notas","notes","text")]]}ngAfterViewInit(){this.child.f.productionDays.valueChanges.pipe((0,ae.b)(He=>this.child.f.orderInput.patchValue(2*He))).subscribe()}custom(de){return de.value>30||null==de.value?null:{custom:"debe ser mayor que 30"}}ngOnInit(){}submit(de){console.log(de)}filter(){this.q="Esc"}getSelectedElement(de){console.log(de)}ngOnDestroy(){this.a.unsubscribe()}}return L.\u0275fac=function(de){return new(de||L)(F.Y36(ee.L))},L.\u0275cmp=F.Xpm({type:L,selectors:[["app-home"]],viewQuery:function(de,He){if(1&de&&F.Gf(De.U,5),2&de){let re;F.iGM(re=F.CRH())&&(He.child=re.first)}},decls:1,vars:1,consts:[[3,"formObj"]],template:function(de,He){1&de&&F._UZ(0,"app-form",0),2&de&&F.Q6J("formObj",He.form)},dependencies:[De.U]}),L})();var ne=R(5698),ue=R(4004),ye=R(3651);let qe=(()=>{class L{constructor(de,He){this.auth=de,this.router=He}canActivate(de,He){return this.auth.user$.pipe((0,ne.q)(1),(0,ue.U)(re=>!!re),(0,ae.b)(re=>{re||(console.log("access denied"),this.router.navigate(["/login"]))}))}}return L.\u0275fac=function(de){return new(de||L)(F.LFG(ye.e),F.LFG(U.F0))},L.\u0275prov=F.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const We=[{path:"home",component:Pe},{path:"clients",loadChildren:()=>R.e(737).then(R.bind(R,1737)).then(L=>L.ClientModule),canActivate:[qe]},{path:"materials",loadChildren:()=>Promise.all([R.e(21),R.e(434)]).then(R.bind(R,2434)).then(L=>L.MaterialModule),canActivate:[qe]},{path:"products",loadChildren:()=>Promise.all([R.e(592),R.e(596)]).then(R.bind(R,2596)).then(L=>L.ProductModule),canActivate:[qe]},{path:"orders",loadChildren:()=>Promise.all([R.e(21),R.e(592),R.e(25)]).then(R.bind(R,1025)).then(L=>L.OrdersModule),canActivate:[qe]},{path:"shop",loadChildren:()=>Promise.all([R.e(21),R.e(592),R.e(117)]).then(R.bind(R,9117)).then(L=>L.ShoppingModule),canActivate:[qe]},{path:"history",loadChildren:()=>R.e(72).then(R.bind(R,2072)).then(L=>L.HistoryModule),canActivate:[qe]},{path:"login",component:(()=>{class L{constructor(de){this.authService=de}ngOnInit(){}authenticate(){this.authService.googleSignin()}}return L.\u0275fac=function(de){return new(de||L)(F.Y36(ye.e))},L.\u0275cmp=F.Xpm({type:L,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"d-flex","text-center","text-bg-dark","h-100",2,"background-image","url(assets/img/bg.png)"],[1,"d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"my-auto"],["type","button",1,"btn","btn-lg","btn-outline-light","fw-bold","border-white","rounded-pill",3,"click"],[1,"ms-1"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(de,He){1&de&&(F.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),F._uU(4," IBM Furniture"),F.qZA(),F.TgZ(5,"button",3),F.NdJ("click",function(){return He.authenticate()}),F._uU(6," Iniciar Sesion con Google "),F.TgZ(7,"span",4),F.O4$(),F.TgZ(8,"svg",5),F._UZ(9,"path",6),F.qZA()()()()()())}}),L})()},{path:"",redirectTo:"orders",pathMatch:"full"},{path:"404",redirectTo:"orders"},{path:"**",redirectTo:"/404"}];let wt=(()=>{class L{}return L.\u0275fac=function(de){return new(de||L)},L.\u0275mod=F.oAB({type:L}),L.\u0275inj=F.cJS({imports:[U.Bz.forRoot(We,{useHash:!0}),U.Bz]}),L})();var Ue=R(2011),Se=R(33);let bt=(()=>{class L{constructor(de){this.auth=de,this.signOut=()=>this.auth.signOut()}ngOnInit(){}}return L.\u0275fac=function(de){return new(de||L)(F.Y36(ye.e))},L.\u0275cmp=F.Xpm({type:L,selectors:[["app-navbar"]],decls:36,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["height","30","src","/assets/img/ibmFurniture_logo.png","alt","","srcset","",1,"rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["routerLink","products",1,"nav-link"],["routerLink","clients",1,"nav-link"],["routerLink","materials",1,"nav-link"],["routerLink","orders",1,"nav-link"],["routerLink","shop",1,"nav-link"],["routerLink","history",1,"nav-link"],[1,"navbar-nav"],[1,"fs-3","nav-link","me-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"]],template:function(de,He){1&de&&(F.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),F._UZ(3,"img",3),F._uU(4," IBM Furniture "),F.qZA(),F.TgZ(5,"button",4),F._UZ(6,"span",5),F.qZA(),F.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),F._uU(11,"Inicio"),F.qZA()(),F.TgZ(12,"li",8)(13,"a",10),F._uU(14,"Productos"),F.qZA()(),F.TgZ(15,"li",8)(16,"a",11),F._uU(17,"Clientes"),F.qZA()(),F.TgZ(18,"li",8)(19,"a",12),F._uU(20,"Materiales"),F.qZA()(),F.TgZ(21,"li",8)(22,"a",13),F._uU(23,"Ordenes"),F.qZA()(),F.TgZ(24,"li",8)(25,"a",14),F._uU(26,"Compras"),F.qZA()(),F.TgZ(27,"li",8)(28,"a",15),F._uU(29,"Historial"),F.qZA()()(),F.TgZ(30,"ul",16)(31,"li",8)(32,"a",17),F.NdJ("click",function(){return He.signOut()}),F.O4$(),F.TgZ(33,"svg",18),F._UZ(34,"path",19)(35,"path",20),F.qZA()()()()()()())},dependencies:[U.yS]}),L})(),mt=(()=>{class L{constructor(de){this.auth=de,this.title="IBMFurniture"}}return L.\u0275fac=function(de){return new(de||L)(F.Y36(ye.e))},L.\u0275cmp=F.Xpm({type:L,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"vh-100"]],template:function(de,He){1&de&&(F._UZ(0,"app-navbar"),F.TgZ(1,"div",0),F._UZ(2,"router-outlet"),F.qZA())},dependencies:[U.lC,bt]}),L})();const ge_firebase={apiKey:"AIzaSyCmya1htVh_wLXOc0zUSpurtnKYROqfSoU",authDomain:"ibmfurniture.firebaseapp.com",projectId:"ibmfurniture",storageBucket:"ibmfurniture.appspot.com",messagingSenderId:"313012116484",appId:"1:313012116484:web:1b535bfdb657c90b742951"};var st=R(4466),at=R(529),Et=R(6895),Fe=R(9770),Ce=R(2843),Me=R(8421),pt=R(9751),ft=R(5577),Bt=R(1144),Pt=R(576),ur=R(3268);const je=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],Je=["on","off"];function $e(L,X,de,He){if((0,Pt.m)(de)&&(He=de,de=void 0),He)return $e(L,X,de).pipe((0,ur.Z)(He));const[re,oe]=function At(L){return(0,Pt.m)(L.addEventListener)&&(0,Pt.m)(L.removeEventListener)}(L)?Be.map(z=>Z=>L[z](X,Z,de)):function _t(L){return(0,Pt.m)(L.addListener)&&(0,Pt.m)(L.removeListener)}(L)?je.map(tt(L,X)):function Ct(L){return(0,Pt.m)(L.on)&&(0,Pt.m)(L.off)}(L)?Je.map(tt(L,X)):[];if(!re&&(0,Bt.z)(L))return(0,ft.z)(z=>$e(z,X,de))((0,Me.Xf)(L));if(!re)throw new TypeError("Invalid event target");return new pt.y(z=>{const Z=(...G)=>z.next(1<G.length?G:G[0]);return re(Z),()=>oe(Z)})}function tt(L,X){return de=>He=>L[de](X,He)}var Ht=R(9646),Nt=R(1350),nn=R(7579),ln=R(5032);const un=new pt.y(ln.Z);var rr=R(6451),Gt=R(9300),cn=R(3900),xn=R(4033),Vn=R(4482);const _r={connector:()=>new nn.x};function xt(L,X=_r){const{connector:de}=X;return(0,Vn.e)((He,re)=>{const oe=de();(0,Me.Xf)(L(function Ar(L){return new pt.y(X=>L.subscribe(X))}(oe))).subscribe(re),re.add(He.subscribe(oe))})}var ir=R(4986),Br=R(5403),Kn=R(9718);function rt(L,X){return X?de=>(0,Nt.z)(X.pipe((0,ne.q)(1),function Un(){return(0,Vn.e)((L,X)=>{L.subscribe((0,Br.x)(X,ln.Z))})}()),de.pipe(rt(L))):(0,ft.z)((de,He)=>L(de,He).pipe((0,ne.q)(1),(0,Kn.h)(de)))}var me=R(3532);const Xt="Service workers are disabled or not supported by this browser";class Cn{constructor(X){if(this.serviceWorker=X,X){const He=$e(X,"controllerchange").pipe((0,ue.U)(()=>X.controller)),re=(0,Fe.P)(()=>(0,Ht.of)(X.controller)),oe=(0,Nt.z)(re,He);this.worker=oe.pipe((0,Gt.h)(dt=>!!dt)),this.registration=this.worker.pipe((0,cn.w)(()=>X.getRegistration()));const be=$e(X,"message").pipe((0,ue.U)(dt=>dt.data)).pipe((0,Gt.h)(dt=>dt&&dt.type)).pipe(function jn(L){return L?X=>xt(L)(X):X=>function Mn(L,X){const de=(0,Pt.m)(L)?L:()=>L;return(0,Pt.m)(X)?xt(X,{connector:de}):He=>new xn.c(He,de)}(new nn.x)(X)}());be.connect(),this.events=be}else this.worker=this.events=this.registration=function mn(L){return(0,Fe.P)(()=>(0,Ce._)(new Error(L)))}(Xt)}postMessage(X,de){return this.worker.pipe((0,ne.q)(1),(0,ae.b)(He=>{He.postMessage({action:X,...de})})).toPromise().then(()=>{})}postMessageWithOperation(X,de,He){const re=this.waitForOperationCompleted(He),oe=this.postMessage(X,de);return Promise.all([oe,re]).then(([,z])=>z)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(X){let de;return de="string"==typeof X?He=>He.type===X:He=>X.includes(He.type),this.events.pipe((0,Gt.h)(de))}nextEventOfType(X){return this.eventsOfType(X).pipe((0,ne.q)(1))}waitForOperationCompleted(X){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Gt.h)(de=>de.nonce===X),(0,ne.q)(1),(0,ue.U)(de=>{if(void 0!==de.result)return de.result;throw new Error(de.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ot=(()=>{class L{constructor(de){if(this.sw=de,this.subscriptionChanges=new nn.x,!de.isEnabled)return this.messages=un,this.notificationClicks=un,void(this.subscription=un);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ue.U)(re=>re.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ue.U)(re=>re.data)),this.pushManager=this.sw.registration.pipe((0,ue.U)(re=>re.pushManager));const He=this.pushManager.pipe((0,cn.w)(re=>re.getSubscription()));this.subscription=(0,rr.T)(He,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(de){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));const He={userVisibleOnly:!0};let re=this.decodeBase64(de.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),oe=new Uint8Array(new ArrayBuffer(re.length));for(let z=0;z<re.length;z++)oe[z]=re.charCodeAt(z);return He.applicationServerKey=oe,this.pushManager.pipe((0,cn.w)(z=>z.subscribe(He)),(0,ne.q)(1)).toPromise().then(z=>(this.subscriptionChanges.next(z),z))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ne.q)(1),(0,cn.w)(He=>{if(null===He)throw new Error("Not subscribed to push notifications.");return He.unsubscribe().then(re=>{if(!re)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xt))}decodeBase64(de){return atob(de)}}return L.\u0275fac=function(de){return new(de||L)(F.LFG(Cn))},L.\u0275prov=F.Yz7({token:L,factory:L.\u0275fac}),L})(),On=(()=>{class L{constructor(de){if(this.sw=de,!de.isEnabled)return this.versionUpdates=un,this.available=un,this.activated=un,void(this.unrecoverable=un);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Gt.h)(He=>"VERSION_READY"===He.type),(0,ue.U)(He=>({type:"UPDATE_AVAILABLE",current:He.currentVersion,available:He.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));const de=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:de},de)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));const de=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:de},de)}}return L.\u0275fac=function(de){return new(de||L)(F.LFG(Cn))},L.\u0275prov=F.Yz7({token:L,factory:L.\u0275fac}),L})();class dn{}const tr=new F.OlP("NGSW_REGISTER_SCRIPT");function kt(L,X,de,He){return()=>{if(!(0,Et.NF)(He)||!("serviceWorker"in navigator)||!1===de.enabled)return;let re;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof de.registrationStrategy)re=de.registrationStrategy();else{const[z,...Z]=(de.registrationStrategy||"registerWhenStable:30000").split(":");switch(z){case"registerImmediately":re=(0,Ht.of)(null);break;case"registerWithDelay":re=Zt(+Z[0]||0);break;case"registerWhenStable":re=Z[0]?(0,rr.T)(Jt(L),Zt(+Z[0])):Jt(L);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${de.registrationStrategy}`)}}L.get(F.R0b).runOutsideAngular(()=>re.pipe((0,ne.q)(1)).subscribe(()=>navigator.serviceWorker.register(X,{scope:de.scope}).catch(z=>console.error("Service worker registration failed with:",z))))}}function Zt(L){return(0,Ht.of)(null).pipe(function ut(L,X=ir.z){const de=function nt(L=0,X,de=ir.P){let He=-1;return null!=X&&((0,me.K)(X)?de=X:He=X),new pt.y(re=>{let oe=function pe(L){return L instanceof Date&&!isNaN(L)}(L)?+L-de.now():L;oe<0&&(oe=0);let z=0;return de.schedule(function(){re.closed||(re.next(z++),0<=He?this.schedule(void 0,He):re.complete())},oe)})}(L,X);return rt(()=>de)}(L))}function Jt(L){return L.get(F.z2F).isStable.pipe((0,Gt.h)(de=>de))}function Pn(L,X){return new Cn((0,Et.NF)(X)&&!1!==L.enabled?navigator.serviceWorker:void 0)}let Zn=(()=>{class L{static register(de,He={}){return{ngModule:L,providers:[{provide:tr,useValue:de},{provide:dn,useValue:He},{provide:Cn,useFactory:Pn,deps:[dn,F.Lbi]},{provide:F.ip1,useFactory:kt,deps:[F.zs3,tr,dn,F.Lbi],multi:!0}]}}}return L.\u0275fac=function(de){return new(de||L)},L.\u0275mod=F.oAB({type:L}),L.\u0275inj=F.cJS({providers:[Ot,On]}),L})(),Xe=(()=>{class L{}return L.\u0275fac=function(de){return new(de||L)},L.\u0275mod=F.oAB({type:L,bootstrap:[mt]}),L.\u0275inj=F.cJS({imports:[at.JF,d.b2,wt,Ue.hO.initializeApp(ge_firebase),Se.yb,st.m,Zn.register("./ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),L})();(0,F.G48)(),d.q6().bootstrapModule(Xe).catch(L=>console.error(L))},1135:(Ut,ke,R)=>{R.d(ke,{X:()=>F});var d=R(7579);class F extends d.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const ae=super._subscribe(ce);return!ae.closed&&ce.next(this._value),ae}getValue(){const{hasError:ce,thrownError:ae,_value:we}=this;if(ce)throw ae;return this._throwIfClosed(),we}next(ce){super.next(this._value=ce)}}},9751:(Ut,ke,R)=>{R.d(ke,{y:()=>ee});var d=R(930),F=R(727),U=R(8822),ce=R(9635),ae=R(2416),we=R(576),De=R(2806);let ee=(()=>{class ye{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const We=new ye;return We.source=this,We.operator=ze,We}subscribe(ze,We,wt){const Ue=function ue(ye){return ye&&ye instanceof d.Lv||function ne(ye){return ye&&(0,we.m)(ye.next)&&(0,we.m)(ye.error)&&(0,we.m)(ye.complete)}(ye)&&(0,F.Nn)(ye)}(ze)?ze:new d.Hp(ze,We,wt);return(0,De.x)(()=>{const{operator:Se,source:bt}=this;Ue.add(Se?Se.call(Ue,bt):bt?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(ze){try{return this._subscribe(ze)}catch(We){ze.error(We)}}forEach(ze,We){return new(We=Pe(We))((wt,Ue)=>{const Se=new d.Hp({next:bt=>{try{ze(bt)}catch(mt){Ue(mt),Se.unsubscribe()}},error:Ue,complete:wt});this.subscribe(Se)})}_subscribe(ze){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ze)}[U.L](){return this}pipe(...ze){return(0,ce.U)(ze)(this)}toPromise(ze){return new(ze=Pe(ze))((We,wt)=>{let Ue;this.subscribe(Se=>Ue=Se,Se=>wt(Se),()=>We(Ue))})}}return ye.create=qe=>new ye(qe),ye})();function Pe(ye){var qe;return null!==(qe=ye??ae.v.Promise)&&void 0!==qe?qe:Promise}},7579:(Ut,ke,R)=>{R.d(ke,{x:()=>De});var d=R(9751),F=R(727);const ce=(0,R(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=R(8737),we=R(2806);let De=(()=>{class Pe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ye=new ee(this,this);return ye.operator=ue,ye}_throwIfClosed(){if(this.closed)throw new ce}next(ue){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ue)}})}error(ue){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ue)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ye,isStopped:qe,observers:ze}=this;return ye||qe?F.Lc:(this.currentObservers=null,ze.push(ue),new F.w0(()=>{this.currentObservers=null,(0,ae.P)(ze,ue)}))}_checkFinalizedStatuses(ue){const{hasError:ye,thrownError:qe,isStopped:ze}=this;ye?ue.error(qe):ze&&ue.complete()}asObservable(){const ue=new d.y;return ue.source=this,ue}}return Pe.create=(ne,ue)=>new ee(ne,ue),Pe})();class ee extends De{constructor(ne,ue){super(),this.destination=ne,this.source=ue}next(ne){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ye||ye.call(ue,ne)}error(ne){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ye||ye.call(ue,ne)}complete(){var ne,ue;null===(ue=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ue||ue.call(ne)}_subscribe(ne){var ue,ye;return null!==(ye=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ne))&&void 0!==ye?ye:F.Lc}}},930:(Ut,ke,R)=>{R.d(ke,{Hp:()=>wt,Lv:()=>ye});var d=R(576),F=R(727),U=R(2416),ce=R(7849),ae=R(5032);const we=Pe("C",void 0,void 0);function Pe(ge,st,at){return{kind:ge,value:st,error:at}}var ne=R(3410),ue=R(2806);class ye extends F.w0{constructor(st){super(),this.isStopped=!1,st?(this.destination=st,(0,F.Nn)(st)&&st.add(this)):this.destination=mt}static create(st,at,Et){return new wt(st,at,Et)}next(st){this.isStopped?bt(function ee(ge){return Pe("N",ge,void 0)}(st),this):this._next(st)}error(st){this.isStopped?bt(function De(ge){return Pe("E",void 0,ge)}(st),this):(this.isStopped=!0,this._error(st))}complete(){this.isStopped?bt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(st){this.destination.next(st)}_error(st){try{this.destination.error(st)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ze(ge,st){return qe.call(ge,st)}class We{constructor(st){this.partialObserver=st}next(st){const{partialObserver:at}=this;if(at.next)try{at.next(st)}catch(Et){Ue(Et)}}error(st){const{partialObserver:at}=this;if(at.error)try{at.error(st)}catch(Et){Ue(Et)}else Ue(st)}complete(){const{partialObserver:st}=this;if(st.complete)try{st.complete()}catch(at){Ue(at)}}}class wt extends ye{constructor(st,at,Et){let Fe;if(super(),(0,d.m)(st)||!st)Fe={next:st??void 0,error:at??void 0,complete:Et??void 0};else{let Ce;this&&U.v.useDeprecatedNextContext?(Ce=Object.create(st),Ce.unsubscribe=()=>this.unsubscribe(),Fe={next:st.next&&ze(st.next,Ce),error:st.error&&ze(st.error,Ce),complete:st.complete&&ze(st.complete,Ce)}):Fe=st}this.destination=new We(Fe)}}function Ue(ge){U.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ge):(0,ce.h)(ge)}function bt(ge,st){const{onStoppedNotification:at}=U.v;at&&ne.z.setTimeout(()=>at(ge,st))}const mt={closed:!0,next:ae.Z,error:function Se(ge){throw ge},complete:ae.Z}},727:(Ut,ke,R)=>{R.d(ke,{Lc:()=>we,w0:()=>ae,Nn:()=>De});var d=R(576);const U=(0,R(3888).d)(Pe=>function(ue){Pe(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ye,qe)=>`${qe+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ce=R(8737);class ae{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const ze of ue)ze.remove(this);else ue.remove(this);const{initialTeardown:ye}=this;if((0,d.m)(ye))try{ye()}catch(ze){ne=ze instanceof U?ze.errors:[ze]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ze of qe)try{ee(ze)}catch(We){ne=ne??[],We instanceof U?ne=[...ne,...We.errors]:ne.push(We)}}if(ne)throw new U(ne)}}add(ne){var ue;if(ne&&ne!==this)if(this.closed)ee(ne);else{if(ne instanceof ae){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ne)}}_hasParent(ne){const{_parentage:ue}=this;return ue===ne||Array.isArray(ue)&&ue.includes(ne)}_addParent(ne){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ne),ue):ue?[ue,ne]:ne}_removeParent(ne){const{_parentage:ue}=this;ue===ne?this._parentage=null:Array.isArray(ue)&&(0,ce.P)(ue,ne)}remove(ne){const{_finalizers:ue}=this;ue&&(0,ce.P)(ue,ne),ne instanceof ae&&ne._removeParent(this)}}ae.EMPTY=(()=>{const Pe=new ae;return Pe.closed=!0,Pe})();const we=ae.EMPTY;function De(Pe){return Pe instanceof ae||Pe&&"closed"in Pe&&(0,d.m)(Pe.remove)&&(0,d.m)(Pe.add)&&(0,d.m)(Pe.unsubscribe)}function ee(Pe){(0,d.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(Ut,ke,R)=>{R.d(ke,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Ut,ke,R)=>{R.d(ke,{c:()=>we});var d=R(9751),F=R(727),U=R(8343),ce=R(5403),ae=R(4482);class we extends d.y{constructor(ee,Pe){super(),this.source=ee,this.subjectFactory=Pe,this._subject=null,this._refCount=0,this._connection=null,(0,ae.A)(ee)&&(this.lift=ee.lift)}_subscribe(ee){return this.getSubject().subscribe(ee)}getSubject(){const ee=this._subject;return(!ee||ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ee}=this;this._subject=this._connection=null,ee?.unsubscribe()}connect(){let ee=this._connection;if(!ee){ee=this._connection=new F.w0;const Pe=this.getSubject();ee.add(this.source.subscribe((0,ce.x)(Pe,void 0,()=>{this._teardown(),Pe.complete()},ne=>{this._teardown(),Pe.error(ne)},()=>this._teardown()))),ee.closed&&(this._connection=null,ee=F.w0.EMPTY)}return ee}refCount(){return(0,U.x)()(this)}}},1350:(Ut,ke,R)=>{R.d(ke,{z:()=>ce});var d=R(7886),F=R(3269),U=R(8996);function ce(...ae){return(0,d.u)()((0,U.D)(ae,(0,F.yG)(ae)))}},9770:(Ut,ke,R)=>{R.d(ke,{P:()=>U});var d=R(9751),F=R(8421);function U(ce){return new d.y(ae=>{(0,F.Xf)(ce()).subscribe(ae)})}},515:(Ut,ke,R)=>{R.d(ke,{E:()=>F});const F=new(R(9751).y)(ae=>ae.complete())},4128:(Ut,ke,R)=>{R.d(ke,{D:()=>ee});var d=R(9751),F=R(4742),U=R(8421),ce=R(3269),ae=R(5403),we=R(3268),De=R(1810);function ee(...Pe){const ne=(0,ce.jO)(Pe),{args:ue,keys:ye}=(0,F.D)(Pe),qe=new d.y(ze=>{const{length:We}=ue;if(!We)return void ze.complete();const wt=new Array(We);let Ue=We,Se=We;for(let bt=0;bt<We;bt++){let mt=!1;(0,U.Xf)(ue[bt]).subscribe((0,ae.x)(ze,ge=>{mt||(mt=!0,Se--),wt[bt]=ge},()=>Ue--,void 0,()=>{(!Ue||!mt)&&(Se||ze.next(ye?(0,De.n)(ye,wt):wt),ze.complete())}))}});return ne?qe.pipe((0,we.Z)(ne)):qe}},8996:(Ut,ke,R)=>{R.d(ke,{D:()=>st});var d=R(8421),F=R(5363),U=R(9468),we=R(9751),ee=R(2202),Pe=R(576),ne=R(9672);function ye(at,Et){if(!at)throw new Error("Iterable cannot be null");return new we.y(Fe=>{(0,ne.f)(Fe,Et,()=>{const Ce=at[Symbol.asyncIterator]();(0,ne.f)(Fe,Et,()=>{Ce.next().then(Me=>{Me.done?Fe.complete():Fe.next(Me.value)})},0,!0)})})}var qe=R(3670),ze=R(8239),We=R(1144),wt=R(6495),Ue=R(2206),Se=R(4532),bt=R(3260);function st(at,Et){return Et?function ge(at,Et){if(null!=at){if((0,qe.c)(at))return function ce(at,Et){return(0,d.Xf)(at).pipe((0,U.R)(Et),(0,F.Q)(Et))}(at,Et);if((0,We.z)(at))return function De(at,Et){return new we.y(Fe=>{let Ce=0;return Et.schedule(function(){Ce===at.length?Fe.complete():(Fe.next(at[Ce++]),Fe.closed||this.schedule())})})}(at,Et);if((0,ze.t)(at))return function ae(at,Et){return(0,d.Xf)(at).pipe((0,U.R)(Et),(0,F.Q)(Et))}(at,Et);if((0,Ue.D)(at))return ye(at,Et);if((0,wt.T)(at))return function ue(at,Et){return new we.y(Fe=>{let Ce;return(0,ne.f)(Fe,Et,()=>{Ce=at[ee.h](),(0,ne.f)(Fe,Et,()=>{let Me,pt;try{({value:Me,done:pt}=Ce.next())}catch(ft){return void Fe.error(ft)}pt?Fe.complete():Fe.next(Me)},0,!0)}),()=>(0,Pe.m)(Ce?.return)&&Ce.return()})}(at,Et);if((0,bt.L)(at))return function mt(at,Et){return ye((0,bt.Q)(at),Et)}(at,Et)}throw(0,Se.z)(at)}(at,Et):(0,d.Xf)(at)}},8421:(Ut,ke,R)=>{R.d(ke,{Xf:()=>qe});var d=R(7582),F=R(1144),U=R(8239),ce=R(9751),ae=R(3670),we=R(2206),De=R(4532),ee=R(6495),Pe=R(3260),ne=R(576),ue=R(7849),ye=R(8822);function qe(ge){if(ge instanceof ce.y)return ge;if(null!=ge){if((0,ae.c)(ge))return function ze(ge){return new ce.y(st=>{const at=ge[ye.L]();if((0,ne.m)(at.subscribe))return at.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,F.z)(ge))return function We(ge){return new ce.y(st=>{for(let at=0;at<ge.length&&!st.closed;at++)st.next(ge[at]);st.complete()})}(ge);if((0,U.t)(ge))return function wt(ge){return new ce.y(st=>{ge.then(at=>{st.closed||(st.next(at),st.complete())},at=>st.error(at)).then(null,ue.h)})}(ge);if((0,we.D)(ge))return Se(ge);if((0,ee.T)(ge))return function Ue(ge){return new ce.y(st=>{for(const at of ge)if(st.next(at),st.closed)return;st.complete()})}(ge);if((0,Pe.L)(ge))return function bt(ge){return Se((0,Pe.Q)(ge))}(ge)}throw(0,De.z)(ge)}function Se(ge){return new ce.y(st=>{(function mt(ge,st){var at,Et,Fe,Ce;return(0,d.mG)(this,void 0,void 0,function*(){try{for(at=(0,d.KL)(ge);!(Et=yield at.next()).done;)if(st.next(Et.value),st.closed)return}catch(Me){Fe={error:Me}}finally{try{Et&&!Et.done&&(Ce=at.return)&&(yield Ce.call(at))}finally{if(Fe)throw Fe.error}}st.complete()})})(ge,st).catch(at=>st.error(at))})}},6451:(Ut,ke,R)=>{R.d(ke,{T:()=>we});var d=R(8189),F=R(8421),U=R(515),ce=R(3269),ae=R(8996);function we(...De){const ee=(0,ce.yG)(De),Pe=(0,ce._6)(De,1/0),ne=De;return ne.length?1===ne.length?(0,F.Xf)(ne[0]):(0,d.J)(Pe)((0,ae.D)(ne,ee)):U.E}},9646:(Ut,ke,R)=>{R.d(ke,{of:()=>U});var d=R(3269),F=R(8996);function U(...ce){const ae=(0,d.yG)(ce);return(0,F.D)(ce,ae)}},2843:(Ut,ke,R)=>{R.d(ke,{_:()=>U});var d=R(9751),F=R(576);function U(ce,ae){const we=(0,F.m)(ce)?ce:()=>ce,De=ee=>ee.error(we());return new d.y(ae?ee=>ae.schedule(De,0,ee):De)}},5403:(Ut,ke,R)=>{R.d(ke,{x:()=>F});var d=R(930);function F(ce,ae,we,De,ee){return new U(ce,ae,we,De,ee)}class U extends d.Lv{constructor(ae,we,De,ee,Pe,ne){super(ae),this.onFinalize=Pe,this.shouldUnsubscribe=ne,this._next=we?function(ue){try{we(ue)}catch(ye){ae.error(ye)}}:super._next,this._error=ee?function(ue){try{ee(ue)}catch(ye){ae.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(ue){ae.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},1402:(Ut,ke,R)=>{R.d(ke,{j:()=>ce});var d=R(4482),F=R(5403),U=R(8737);function ce(ae,we=null){return we=we??ae,(0,d.e)((De,ee)=>{let Pe=[],ne=0;De.subscribe((0,F.x)(ee,ue=>{let ye=null;ne++%we==0&&Pe.push([]);for(const qe of Pe)qe.push(ue),ae<=qe.length&&(ye=ye??[],ye.push(qe));if(ye)for(const qe of ye)(0,U.P)(Pe,qe),ee.next(qe)},()=>{for(const ue of Pe)ee.next(ue);ee.complete()},void 0,()=>{Pe=null}))})}},7886:(Ut,ke,R)=>{R.d(ke,{u:()=>F});var d=R(8189);function F(){return(0,d.J)(1)}},4351:(Ut,ke,R)=>{R.d(ke,{b:()=>U});var d=R(5577),F=R(576);function U(ce,ae){return(0,F.m)(ae)?(0,d.z)(ce,ae,1):(0,d.z)(ce,1)}},6590:(Ut,ke,R)=>{R.d(ke,{d:()=>U});var d=R(4482),F=R(5403);function U(ce){return(0,d.e)((ae,we)=>{let De=!1;ae.subscribe((0,F.x)(we,ee=>{De=!0,we.next(ee)},()=>{De||we.next(ce),we.complete()}))})}},9300:(Ut,ke,R)=>{R.d(ke,{h:()=>U});var d=R(4482),F=R(5403);function U(ce,ae){return(0,d.e)((we,De)=>{let ee=0;we.subscribe((0,F.x)(De,Pe=>ce.call(ae,Pe,ee++)&&De.next(Pe)))})}},590:(Ut,ke,R)=>{R.d(ke,{P:()=>De});var d=R(6805),F=R(9300),U=R(5698),ce=R(6590),ae=R(8068),we=R(4671);function De(ee,Pe){const ne=arguments.length>=2;return ue=>ue.pipe(ee?(0,F.h)((ye,qe)=>ee(ye,qe,ue)):we.y,(0,U.q)(1),ne?(0,ce.d)(Pe):(0,ae.T)(()=>new d.K))}},4004:(Ut,ke,R)=>{R.d(ke,{U:()=>U});var d=R(4482),F=R(5403);function U(ce,ae){return(0,d.e)((we,De)=>{let ee=0;we.subscribe((0,F.x)(De,Pe=>{De.next(ce.call(ae,Pe,ee++))}))})}},9718:(Ut,ke,R)=>{R.d(ke,{h:()=>F});var d=R(4004);function F(U){return(0,d.U)(()=>U)}},8189:(Ut,ke,R)=>{R.d(ke,{J:()=>U});var d=R(5577),F=R(4671);function U(ce=1/0){return(0,d.z)(F.y,ce)}},5577:(Ut,ke,R)=>{R.d(ke,{z:()=>ee});var d=R(4004),F=R(8421),U=R(4482),ce=R(9672),ae=R(5403),De=R(576);function ee(Pe,ne,ue=1/0){return(0,De.m)(ne)?ee((ye,qe)=>(0,d.U)((ze,We)=>ne(ye,ze,qe,We))((0,F.Xf)(Pe(ye,qe))),ue):("number"==typeof ne&&(ue=ne),(0,U.e)((ye,qe)=>function we(Pe,ne,ue,ye,qe,ze,We,wt){const Ue=[];let Se=0,bt=0,mt=!1;const ge=()=>{mt&&!Ue.length&&!Se&&ne.complete()},st=Et=>Se<ye?at(Et):Ue.push(Et),at=Et=>{ze&&ne.next(Et),Se++;let Fe=!1;(0,F.Xf)(ue(Et,bt++)).subscribe((0,ae.x)(ne,Ce=>{qe?.(Ce),ze?st(Ce):ne.next(Ce)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Se--;Ue.length&&Se<ye;){const Ce=Ue.shift();We?(0,ce.f)(ne,We,()=>at(Ce)):at(Ce)}ge()}catch(Ce){ne.error(Ce)}}))};return Pe.subscribe((0,ae.x)(ne,st,()=>{mt=!0,ge()})),()=>{wt?.()}}(ye,qe,Pe,ue)))}},5363:(Ut,ke,R)=>{R.d(ke,{Q:()=>ce});var d=R(9672),F=R(4482),U=R(5403);function ce(ae,we=0){return(0,F.e)((De,ee)=>{De.subscribe((0,U.x)(ee,Pe=>(0,d.f)(ee,ae,()=>ee.next(Pe),we),()=>(0,d.f)(ee,ae,()=>ee.complete(),we),Pe=>(0,d.f)(ee,ae,()=>ee.error(Pe),we)))})}},8343:(Ut,ke,R)=>{R.d(ke,{x:()=>U});var d=R(4482),F=R(5403);function U(){return(0,d.e)((ce,ae)=>{let we=null;ce._refCount++;const De=(0,F.x)(ae,void 0,void 0,void 0,()=>{if(!ce||ce._refCount<=0||0<--ce._refCount)return void(we=null);const ee=ce._connection,Pe=we;we=null,ee&&(!Pe||ee===Pe)&&ee.unsubscribe(),ae.unsubscribe()});ce.subscribe(De),De.closed||(we=ce.connect())})}},5026:(Ut,ke,R)=>{R.d(ke,{R:()=>ce});var d=R(4482),F=R(5403);function U(ae,we,De,ee,Pe){return(ne,ue)=>{let ye=De,qe=we,ze=0;ne.subscribe((0,F.x)(ue,We=>{const wt=ze++;qe=ye?ae(qe,We,wt):(ye=!0,We),ee&&ue.next(qe)},Pe&&(()=>{ye&&ue.next(qe),ue.complete()})))}}function ce(ae,we){return(0,d.e)(U(ae,we,arguments.length>=2,!0))}},3099:(Ut,ke,R)=>{R.d(ke,{B:()=>ae});var d=R(8421),F=R(7579),U=R(930),ce=R(4482);function ae(De={}){const{connector:ee=(()=>new F.x),resetOnError:Pe=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ue=!0}=De;return ye=>{let qe,ze,We,wt=0,Ue=!1,Se=!1;const bt=()=>{ze?.unsubscribe(),ze=void 0},mt=()=>{bt(),qe=We=void 0,Ue=Se=!1},ge=()=>{const st=qe;mt(),st?.unsubscribe()};return(0,ce.e)((st,at)=>{wt++,!Se&&!Ue&&bt();const Et=We=We??ee();at.add(()=>{wt--,0===wt&&!Se&&!Ue&&(ze=we(ge,ue))}),Et.subscribe(at),!qe&&wt>0&&(qe=new U.Hp({next:Fe=>Et.next(Fe),error:Fe=>{Se=!0,bt(),ze=we(mt,Pe,Fe),Et.error(Fe)},complete:()=>{Ue=!0,bt(),ze=we(mt,ne),Et.complete()}}),(0,d.Xf)(st).subscribe(qe))})(ye)}}function we(De,ee,...Pe){if(!0===ee)return void De();if(!1===ee)return;const ne=new U.Hp({next:()=>{ne.unsubscribe(),De()}});return ee(...Pe).subscribe(ne)}},8675:(Ut,ke,R)=>{R.d(ke,{O:()=>ce});var d=R(1350),F=R(3269),U=R(4482);function ce(...ae){const we=(0,F.yG)(ae);return(0,U.e)((De,ee)=>{(we?(0,d.z)(ae,De,we):(0,d.z)(ae,De)).subscribe(ee)})}},9468:(Ut,ke,R)=>{R.d(ke,{R:()=>F});var d=R(4482);function F(U,ce=0){return(0,d.e)((ae,we)=>{we.add(U.schedule(()=>ae.subscribe(we),ce))})}},3900:(Ut,ke,R)=>{R.d(ke,{w:()=>ce});var d=R(8421),F=R(4482),U=R(5403);function ce(ae,we){return(0,F.e)((De,ee)=>{let Pe=null,ne=0,ue=!1;const ye=()=>ue&&!Pe&&ee.complete();De.subscribe((0,U.x)(ee,qe=>{Pe?.unsubscribe();let ze=0;const We=ne++;(0,d.Xf)(ae(qe,We)).subscribe(Pe=(0,U.x)(ee,wt=>ee.next(we?we(qe,wt,We,ze++):wt),()=>{Pe=null,ye()}))},()=>{ue=!0,ye()}))})}},5698:(Ut,ke,R)=>{R.d(ke,{q:()=>ce});var d=R(515),F=R(4482),U=R(5403);function ce(ae){return ae<=0?()=>d.E:(0,F.e)((we,De)=>{let ee=0;we.subscribe((0,U.x)(De,Pe=>{++ee<=ae&&(De.next(Pe),ae<=ee&&De.complete())}))})}},8505:(Ut,ke,R)=>{R.d(ke,{b:()=>ae});var d=R(576),F=R(4482),U=R(5403),ce=R(4671);function ae(we,De,ee){const Pe=(0,d.m)(we)||De||ee?{next:we,error:De,complete:ee}:we;return Pe?(0,F.e)((ne,ue)=>{var ye;null===(ye=Pe.subscribe)||void 0===ye||ye.call(Pe);let qe=!0;ne.subscribe((0,U.x)(ue,ze=>{var We;null===(We=Pe.next)||void 0===We||We.call(Pe,ze),ue.next(ze)},()=>{var ze;qe=!1,null===(ze=Pe.complete)||void 0===ze||ze.call(Pe),ue.complete()},ze=>{var We;qe=!1,null===(We=Pe.error)||void 0===We||We.call(Pe,ze),ue.error(ze)},()=>{var ze,We;qe&&(null===(ze=Pe.unsubscribe)||void 0===ze||ze.call(Pe)),null===(We=Pe.finalize)||void 0===We||We.call(Pe)}))}):ce.y}},8068:(Ut,ke,R)=>{R.d(ke,{T:()=>ce});var d=R(6805),F=R(4482),U=R(5403);function ce(we=ae){return(0,F.e)((De,ee)=>{let Pe=!1;De.subscribe((0,U.x)(ee,ne=>{Pe=!0,ee.next(ne)},()=>Pe?ee.complete():ee.error(we())))})}function ae(){return new d.K}},4408:(Ut,ke,R)=>{R.d(ke,{o:()=>ae});var d=R(727);class F extends d.w0{constructor(De,ee){super()}schedule(De,ee=0){return this}}const U={setInterval(we,De,...ee){const{delegate:Pe}=U;return Pe?.setInterval?Pe.setInterval(we,De,...ee):setInterval(we,De,...ee)},clearInterval(we){const{delegate:De}=U;return(De?.clearInterval||clearInterval)(we)},delegate:void 0};var ce=R(8737);class ae extends F{constructor(De,ee){super(De,ee),this.scheduler=De,this.work=ee,this.pending=!1}schedule(De,ee=0){var Pe;if(this.closed)return this;this.state=De;const ne=this.id,ue=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ue,ne,ee)),this.pending=!0,this.delay=ee,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(ue,this.id,ee),this}requestAsyncId(De,ee,Pe=0){return U.setInterval(De.flush.bind(De,this),Pe)}recycleAsyncId(De,ee,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return ee;null!=ee&&U.clearInterval(ee)}execute(De,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(De,ee);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ee){let ne,Pe=!1;try{this.work(De)}catch(ue){Pe=!0,ne=ue||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:De,scheduler:ee}=this,{actions:Pe}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Pe,this),null!=De&&(this.id=this.recycleAsyncId(ee,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ut,ke,R)=>{R.d(ke,{v:()=>U});var d=R(6063);class F{constructor(ae,we=F.now){this.schedulerActionCtor=ae,this.now=we}schedule(ae,we=0,De){return new this.schedulerActionCtor(this,ae).schedule(De,we)}}F.now=d.l.now;class U extends F{constructor(ae,we=F.now){super(ae,we),this.actions=[],this._active=!1}flush(ae){const{actions:we}=this;if(this._active)return void we.push(ae);let De;this._active=!0;do{if(De=ae.execute(ae.state,ae.delay))break}while(ae=we.shift());if(this._active=!1,De){for(;ae=we.shift();)ae.unsubscribe();throw De}}}},4986:(Ut,ke,R)=>{R.d(ke,{P:()=>ce,z:()=>U});var d=R(4408);const U=new(R(7565).v)(d.o),ce=U},6063:(Ut,ke,R)=>{R.d(ke,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Ut,ke,R)=>{R.d(ke,{z:()=>d});const d={setTimeout(F,U,...ce){const{delegate:ae}=d;return ae?.setTimeout?ae.setTimeout(F,U,...ce):setTimeout(F,U,...ce)},clearTimeout(F){const{delegate:U}=d;return(U?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Ut,ke,R)=>{R.d(ke,{h:()=>F});const F=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ut,ke,R)=>{R.d(ke,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ut,ke,R)=>{R.d(ke,{K:()=>F});const F=(0,R(3888).d)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ut,ke,R)=>{R.d(ke,{_6:()=>we,jO:()=>ce,yG:()=>ae});var d=R(576),F=R(3532);function U(De){return De[De.length-1]}function ce(De){return(0,d.m)(U(De))?De.pop():void 0}function ae(De){return(0,F.K)(U(De))?De.pop():void 0}function we(De,ee){return"number"==typeof U(De)?De.pop():ee}},4742:(Ut,ke,R)=>{R.d(ke,{D:()=>ae});const{isArray:d}=Array,{getPrototypeOf:F,prototype:U,keys:ce}=Object;function ae(De){if(1===De.length){const ee=De[0];if(d(ee))return{args:ee,keys:null};if(function we(De){return De&&"object"==typeof De&&F(De)===U}(ee)){const Pe=ce(ee);return{args:Pe.map(ne=>ee[ne]),keys:Pe}}}return{args:De,keys:null}}},8737:(Ut,ke,R)=>{function d(F,U){if(F){const ce=F.indexOf(U);0<=ce&&F.splice(ce,1)}}R.d(ke,{P:()=>d})},3888:(Ut,ke,R)=>{function d(F){const ce=F(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}R.d(ke,{d:()=>d})},1810:(Ut,ke,R)=>{function d(F,U){return F.reduce((ce,ae,we)=>(ce[ae]=U[we],ce),{})}R.d(ke,{n:()=>d})},2806:(Ut,ke,R)=>{R.d(ke,{O:()=>ce,x:()=>U});var d=R(2416);let F=null;function U(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const we=!F;if(we&&(F={errorThrown:!1,error:null}),ae(),we){const{errorThrown:De,error:ee}=F;if(F=null,De)throw ee}}else ae()}function ce(ae){d.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ae)}},9672:(Ut,ke,R)=>{function d(F,U,ce,ae=0,we=!1){const De=U.schedule(function(){ce(),we?F.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(F.add(De),!we)return De}R.d(ke,{f:()=>d})},4671:(Ut,ke,R)=>{function d(F){return F}R.d(ke,{y:()=>d})},1144:(Ut,ke,R)=>{R.d(ke,{z:()=>d});const d=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Ut,ke,R)=>{R.d(ke,{D:()=>F});var d=R(576);function F(U){return Symbol.asyncIterator&&(0,d.m)(U?.[Symbol.asyncIterator])}},576:(Ut,ke,R)=>{function d(F){return"function"==typeof F}R.d(ke,{m:()=>d})},3670:(Ut,ke,R)=>{R.d(ke,{c:()=>U});var d=R(8822),F=R(576);function U(ce){return(0,F.m)(ce[d.L])}},6495:(Ut,ke,R)=>{R.d(ke,{T:()=>U});var d=R(2202),F=R(576);function U(ce){return(0,F.m)(ce?.[d.h])}},8239:(Ut,ke,R)=>{R.d(ke,{t:()=>F});var d=R(576);function F(U){return(0,d.m)(U?.then)}},3260:(Ut,ke,R)=>{R.d(ke,{L:()=>ce,Q:()=>U});var d=R(7582),F=R(576);function U(ae){return(0,d.FC)(this,arguments,function*(){const De=ae.getReader();try{for(;;){const{value:ee,done:Pe}=yield(0,d.qq)(De.read());if(Pe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ee)}}finally{De.releaseLock()}})}function ce(ae){return(0,F.m)(ae?.getReader)}},3532:(Ut,ke,R)=>{R.d(ke,{K:()=>F});var d=R(576);function F(U){return U&&(0,d.m)(U.schedule)}},4482:(Ut,ke,R)=>{R.d(ke,{A:()=>F,e:()=>U});var d=R(576);function F(ce){return(0,d.m)(ce?.lift)}function U(ce){return ae=>{if(F(ae))return ae.lift(function(we){try{return ce(we,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ut,ke,R)=>{R.d(ke,{Z:()=>ce});var d=R(4004);const{isArray:F}=Array;function ce(ae){return(0,d.U)(we=>function U(ae,we){return F(we)?ae(...we):ae(we)}(ae,we))}},5032:(Ut,ke,R)=>{function d(){}R.d(ke,{Z:()=>d})},9635:(Ut,ke,R)=>{R.d(ke,{U:()=>U,z:()=>F});var d=R(4671);function F(...ce){return U(ce)}function U(ce){return 0===ce.length?d.y:1===ce.length?ce[0]:function(we){return ce.reduce((De,ee)=>ee(De),we)}}},7849:(Ut,ke,R)=>{R.d(ke,{h:()=>U});var d=R(2416),F=R(3410);function U(ce){F.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw ce;ae(ce)})}},4532:(Ut,ke,R)=>{function d(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(ke,{z:()=>d})},6895:(Ut,ke,R)=>{R.d(ke,{Do:()=>mt,EM:()=>Ys,H9:()=>as,HT:()=>ae,JF:()=>bo,K0:()=>De,Mx:()=>Ns,NF:()=>vs,O5:()=>jr,PM:()=>_s,S$:()=>Ue,V_:()=>ne,Ye:()=>ge,b0:()=>bt,bD:()=>Zi,ez:()=>Ls,mk:()=>Qn,q:()=>U,sg:()=>Ki,w_:()=>we});var d=R(4650);let F=null;function U(){return F}function ae(b){F||(F=b)}class we{}const De=new d.OlP("DocumentToken");let ee=(()=>{class b{historyGo(x){throw new Error("Not implemented")}}return b.\u0275fac=function(x){return new(x||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return function Pe(){return(0,d.LFG)(ue)}()},providedIn:"platform"}),b})();const ne=new d.OlP("Location Initialized");let ue=(()=>{class b extends ee{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(x){const K=U().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",x,!1),()=>K.removeEventListener("popstate",x)}onHashChange(x){const K=U().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",x,!1),()=>K.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,K,Ie){ye()?this._history.pushState(x,K,Ie):this.location.hash=Ie}replaceState(x,K,Ie){ye()?this._history.replaceState(x,K,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(De))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function qe(){return new ue((0,d.LFG)(De))}()},providedIn:"platform"}),b})();function ye(){return!!window.history.pushState}function ze(b,B){if(0==b.length)return B;if(0==B.length)return b;let x=0;return b.endsWith("/")&&x++,B.startsWith("/")&&x++,2==x?b+B.substring(1):1==x?b+B:b+"/"+B}function We(b){const B=b.match(/#|\?|$/),x=B&&B.index||b.length;return b.slice(0,x-("/"===b[x-1]?1:0))+b.slice(x)}function wt(b){return b&&"?"!==b[0]?"?"+b:b}let Ue=(()=>{class b{historyGo(x){throw new Error("Not implemented")}}return b.\u0275fac=function(x){return new(x||b)},b.\u0275prov=d.Yz7({token:b,factory:function(){return(0,d.f3M)(bt)},providedIn:"root"}),b})();const Se=new d.OlP("appBaseHref");let bt=(()=>{class b extends Ue{constructor(x,K){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return ze(this._baseHref,x)}path(x=!1){const K=this._platformLocation.pathname+wt(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&x?`${K}${Ie}`:K}pushState(x,K,Ie,ot){const vt=this.prepareExternalUrl(Ie+wt(ot));this._platformLocation.pushState(x,K,vt)}replaceState(x,K,Ie,ot){const vt=this.prepareExternalUrl(Ie+wt(ot));this._platformLocation.replaceState(x,K,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(ee),d.LFG(Se,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),mt=(()=>{class b extends Ue{constructor(x,K){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(x){const K=ze(this._baseHref,x);return K.length>0?"#"+K:K}pushState(x,K,Ie,ot){let vt=this.prepareExternalUrl(Ie+wt(ot));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(x,K,vt)}replaceState(x,K,Ie,ot){let vt=this.prepareExternalUrl(Ie+wt(ot));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(x,K,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return b.\u0275fac=function(x){return new(x||b)(d.LFG(ee),d.LFG(Se,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})(),ge=(()=>{class b{constructor(x){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const K=this._locationStrategy.getBaseHref();this._baseHref=We(Et(K)),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,K=""){return this.path()==this.normalize(x+wt(K))}normalize(x){return b.stripTrailingSlash(function at(b,B){return b&&B.startsWith(b)?B.substring(b.length):B}(this._baseHref,Et(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,K="",Ie=null){this._locationStrategy.pushState(Ie,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+wt(K)),Ie)}replaceState(x,K="",Ie=null){this._locationStrategy.replaceState(Ie,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+wt(K)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",K){this._urlChangeListeners.forEach(Ie=>Ie(x,K))}subscribe(x,K,Ie){return this._subject.subscribe({next:x,error:K,complete:Ie})}}return b.normalizeQueryParams=wt,b.joinWithSlash=ze,b.stripTrailingSlash=We,b.\u0275fac=function(x){return new(x||b)(d.LFG(Ue))},b.\u0275prov=d.Yz7({token:b,factory:function(){return function st(){return new ge((0,d.LFG)(Ue))}()},providedIn:"root"}),b})();function Et(b){return b.replace(/\/index.html$/,"")}const Fe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Percent=1]="Percent",Ce[Ce.Currency=2]="Currency",Ce[Ce.Scientific=3]="Scientific",Ce))(),Pt=(()=>((Pt=Pt||{})[Pt.Decimal=0]="Decimal",Pt[Pt.Group=1]="Group",Pt[Pt.List=2]="List",Pt[Pt.PercentSign=3]="PercentSign",Pt[Pt.PlusSign=4]="PlusSign",Pt[Pt.MinusSign=5]="MinusSign",Pt[Pt.Exponential=6]="Exponential",Pt[Pt.SuperscriptingExponent=7]="SuperscriptingExponent",Pt[Pt.PerMille=8]="PerMille",Pt[Pt.Infinity=9]="Infinity",Pt[Pt.NaN=10]="NaN",Pt[Pt.TimeSeparator=11]="TimeSeparator",Pt[Pt.CurrencyDecimal=12]="CurrencyDecimal",Pt[Pt.CurrencyGroup=13]="CurrencyGroup",Pt))();function nn(b,B){const x=(0,d.cg1)(b),K=x[d.wAp.NumberSymbols][B];if(typeof K>"u"){if(B===Pt.CurrencyDecimal)return x[d.wAp.NumberSymbols][Pt.Decimal];if(B===Pt.CurrencyGroup)return x[d.wAp.NumberSymbols][Pt.Group]}return K}const jt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Le(b,B,x,K,Ie){const vt=function wn(b,B="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=b.split(";"),Ie=K[0],ot=K[1],vt=-1!==Ie.indexOf(".")?Ie.split("."):[Ie.substring(0,Ie.lastIndexOf("0")+1),Ie.substring(Ie.lastIndexOf("0")+1)],vn=vt[0],mr=vt[1]||"";x.posPre=vn.substring(0,vn.indexOf("#"));for(let wr=0;wr<mr.length;wr++){const In=mr.charAt(wr);"0"===In?x.minFrac=x.maxFrac=wr+1:"#"===In?x.maxFrac=wr+1:x.posSuf+=In}const nr=vn.split(",");if(x.gSize=nr[1]?nr[1].length:0,x.lgSize=nr[2]||nr[1]?(nr[2]||nr[1]).length:0,ot){const wr=Ie.length-x.posPre.length-x.posSuf.length,In=ot.indexOf("#");x.negPre=ot.substring(0,In).replace(/'/g,""),x.negSuf=ot.slice(In+wr).replace(/'/g,"")}else x.negPre=B+x.posPre,x.negSuf=x.posSuf;return x}(function ln(b,B){return(0,d.cg1)(b)[d.wAp.NumberFormats][B]}(B,Ce.Currency),nn(B,Pt.MinusSign));return vt.minFrac=function Br(b){let B;const x=Fe[b];return x&&(B=x[2]),"number"==typeof B?B:2}(K),vt.maxFrac=vt.minFrac,function Ve(b,B,x,K,Ie,ot,vt=!1){let vn="",mr=!1;if(isFinite(b)){let nr=function qn(b){let K,Ie,ot,vt,vn,B=Math.abs(b)+"",x=0;for((Ie=B.indexOf("."))>-1&&(B=B.replace(".","")),(ot=B.search(/e/i))>0?(Ie<0&&(Ie=ot),Ie+=+B.slice(ot+1),B=B.substring(0,ot)):Ie<0&&(Ie=B.length),ot=0;"0"===B.charAt(ot);ot++);if(ot===(vn=B.length))K=[0],Ie=1;else{for(vn--;"0"===B.charAt(vn);)vn--;for(Ie-=ot,K=[],vt=0;ot<=vn;ot++,vt++)K[vt]=Number(B.charAt(ot))}return Ie>22&&(K=K.splice(0,21),x=Ie-1,Ie=1),{digits:K,exponent:x,integerLen:Ie}}(b);vt&&(nr=function Fn(b){if(0===b.digits[0])return b;const B=b.digits.length-b.integerLen;return b.exponent?b.exponent+=2:(0===B?b.digits.push(0,0):1===B&&b.digits.push(0),b.integerLen+=2),b}(nr));let wr=B.minInt,In=B.minFrac,Sr=B.maxFrac;if(ot){const Lr=ot.match(jt);if(null===Lr)throw new Error(`${ot} is not a valid digit info`);const go=Lr[1],tn=Lr[3],pn=Lr[5];null!=go&&(wr=Bn(go)),null!=tn&&(In=Bn(tn)),null!=pn?Sr=Bn(pn):null!=tn&&In>Sr&&(Sr=In)}!function br(b,B,x){if(B>x)throw new Error(`The minimum number of digits after fraction (${B}) is higher than the maximum (${x}).`);let K=b.digits,Ie=K.length-b.integerLen;const ot=Math.min(Math.max(B,Ie),x);let vt=ot+b.integerLen,vn=K[vt];if(vt>0){K.splice(Math.max(b.integerLen,vt));for(let In=vt;In<K.length;In++)K[In]=0}else{Ie=Math.max(0,Ie),b.integerLen=1,K.length=Math.max(1,vt=ot+1),K[0]=0;for(let In=1;In<vt;In++)K[In]=0}if(vn>=5)if(vt-1<0){for(let In=0;In>vt;In--)K.unshift(0),b.integerLen++;K.unshift(1),b.integerLen++}else K[vt-1]++;for(;Ie<Math.max(0,ot);Ie++)K.push(0);let mr=0!==ot;const nr=B+b.integerLen,wr=K.reduceRight(function(In,Sr,$n,Yr){return Yr[$n]=(Sr+=In)<10?Sr:Sr-10,mr&&(0===Yr[$n]&&$n>=nr?Yr.pop():mr=!1),Sr>=10?1:0},0);wr&&(K.unshift(wr),b.integerLen++)}(nr,In,Sr);let $n=nr.digits,Yr=nr.integerLen;const fs=nr.exponent;let Mt=[];for(mr=$n.every(Lr=>!Lr);Yr<wr;Yr++)$n.unshift(0);for(;Yr<0;Yr++)$n.unshift(0);Yr>0?Mt=$n.splice(Yr,$n.length):(Mt=$n,$n=[0]);const Ir=[];for($n.length>=B.lgSize&&Ir.unshift($n.splice(-B.lgSize,$n.length).join(""));$n.length>B.gSize;)Ir.unshift($n.splice(-B.gSize,$n.length).join(""));$n.length&&Ir.unshift($n.join("")),vn=Ir.join(nn(x,K)),Mt.length&&(vn+=nn(x,Ie)+Mt.join("")),fs&&(vn+=nn(x,Pt.Exponential)+"+"+fs)}else vn=nn(x,Pt.Infinity);return vn=b<0&&!mr?B.negPre+vn+B.negSuf:B.posPre+vn+B.posSuf,vn}(b,vt,B,Pt.CurrencyGroup,Pt.CurrencyDecimal,Ie).replace("\xa4",x).replace("\xa4","").trim()}function Bn(b){const B=parseInt(b);if(isNaN(B))throw new Error("Invalid integer literal when parsing "+b);return B}function Ns(b,B){B=encodeURIComponent(B);for(const x of b.split(";")){const K=x.indexOf("="),[Ie,ot]=-1==K?[x,""]:[x.slice(0,K),x.slice(K+1)];if(Ie.trim()===B)return decodeURIComponent(ot)}return null}let Qn=(()=>{class b{constructor(x,K,Ie,ot){this._iterableDiffers=x,this._keyValueDiffers=K,this._ngEl=Ie,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(x){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof x?x.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(x){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof x?x.split(/\s+/):x,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const x=this._iterableDiffer.diff(this._rawClass);x&&this._applyIterableChanges(x)}else if(this._keyValueDiffer){const x=this._keyValueDiffer.diff(this._rawClass);x&&this._applyKeyValueChanges(x)}}_applyKeyValueChanges(x){x.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),x.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),x.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(x){x.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),x.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(K=>this._toggleClass(K,!0)):Object.keys(x).forEach(K=>this._toggleClass(K,!!x[K])))}_removeClasses(x){x&&(Array.isArray(x)||x instanceof Set?x.forEach(K=>this._toggleClass(K,!1)):Object.keys(x).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(x,K){(x=x.trim())&&x.split(/\s+/g).forEach(Ie=>{K?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class Tr{constructor(B,x,K,Ie){this.$implicit=B,this.ngForOf=x,this.index=K,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class b{constructor(x,K,Ie){this._viewContainer=x,this._template=K,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const K=this._viewContainer;x.forEachOperation((Ie,ot,vt)=>{if(null==Ie.previousIndex)K.createEmbeddedView(this._template,new Tr(Ie.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)K.remove(null===ot?void 0:ot);else if(null!==ot){const vn=K.get(ot);K.move(vn,vt),Kr(vn,Ie)}});for(let Ie=0,ot=K.length;Ie<ot;Ie++){const vn=K.get(Ie).context;vn.index=Ie,vn.count=ot,vn.ngForOf=this._ngForOf}x.forEachIdentityChange(Ie=>{Kr(K.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(x,K){return!0}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function Kr(b,B){b.context.$implicit=B.item}let jr=(()=>{class b{constructor(x,K){this._viewContainer=x,this._context=new ss,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Zr("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Zr("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,K){return!0}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.s_b),d.Y36(d.Rgc))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class ss{constructor(){this.$implicit=null,this.ngIf=null}}function Zr(b,B){if(B&&!B.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,d.AaK)(B)}'.`)}let as=(()=>{class b{constructor(x,K="USD"){this._locale=x,this._defaultCurrencyCode=K}transform(x,K=this._defaultCurrencyCode,Ie="symbol",ot,vt){if(!function Lo(b){return!(null==b||""===b||b!=b)}(x))return null;vt=vt||this._locale,"boolean"==typeof Ie&&(Ie=Ie?"symbol":"code");let vn=K||this._defaultCurrencyCode;"code"!==Ie&&(vn="symbol"===Ie||"symbol-narrow"===Ie?function jn(b,B,x="en"){const K=function Gt(b){return(0,d.cg1)(b)[d.wAp.Currencies]}(x)[b]||Fe[b]||[],Ie=K[1];return"narrow"===B&&"string"==typeof Ie?Ie:K[0]||b}(vn,"symbol"===Ie?"wide":"narrow",vt):Ie);try{return Le(function us(b){if("string"==typeof b&&!isNaN(Number(b)-parseFloat(b)))return Number(b);if("number"!=typeof b)throw new Error(`${b} is not a number`);return b}(x),vt,vn,K,ot)}catch(mr){throw function dr(b,B){return new d.vHH(2100,!1)}()}}}return b.\u0275fac=function(x){return new(x||b)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},b.\u0275pipe=d.Yjl({name:"currency",type:b,pure:!0,standalone:!0}),b})();let Ls=(()=>{class b{}return b.\u0275fac=function(x){return new(x||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({}),b})();const Zi="browser";function vs(b){return b===Zi}function _s(b){return"server"===b}let Ys=(()=>{class b{}return b.\u0275prov=(0,d.Yz7)({token:b,providedIn:"root",factory:()=>new ls((0,d.LFG)(De),window)}),b})();class ls{constructor(B,x){this.document=B,this.window=x,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const x=function hi(b,B){const x=b.getElementById(B)||b.getElementsByName(B)[0];if(x)return x;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const K=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let Ie=K.currentNode;for(;Ie;){const ot=Ie.shadowRoot;if(ot){const vt=ot.getElementById(B)||ot.querySelector(`[name="${B}"]`);if(vt)return vt}Ie=K.nextNode()}}return null}(this.document,B);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=B)}}scrollToElement(B){const x=B.getBoundingClientRect(),K=x.left+this.window.pageXOffset,Ie=x.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(K-ot[0],Ie-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=ji(this.window.history)||ji(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ji(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class bo{}},529:(Ut,ke,R)=>{R.d(ke,{JF:()=>Br,eN:()=>je});var d=R(6895),F=R(4650),U=R(9646),ce=R(9751),ae=R(4351),we=R(9300),De=R(4004);class ee{}class Pe{}class ne{constructor(me){this.normalizedNames=new Map,this.lazyUpdate=null,me?this.lazyInit="string"==typeof me?()=>{this.headers=new Map,me.split("\n").forEach(pe=>{const nt=pe.indexOf(":");if(nt>0){const ut=pe.slice(0,nt),Xt=ut.toLowerCase(),mn=pe.slice(nt+1).trim();this.maybeSetNormalizedName(ut,Xt),this.headers.has(Xt)?this.headers.get(Xt).push(mn):this.headers.set(Xt,[mn])}})}:()=>{this.headers=new Map,Object.keys(me).forEach(pe=>{let nt=me[pe];const ut=pe.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(ut,nt),this.maybeSetNormalizedName(pe,ut))})}:this.headers=new Map}has(me){return this.init(),this.headers.has(me.toLowerCase())}get(me){this.init();const pe=this.headers.get(me.toLowerCase());return pe&&pe.length>0?pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(me){return this.init(),this.headers.get(me.toLowerCase())||null}append(me,pe){return this.clone({name:me,value:pe,op:"a"})}set(me,pe){return this.clone({name:me,value:pe,op:"s"})}delete(me,pe){return this.clone({name:me,value:pe,op:"d"})}maybeSetNormalizedName(me,pe){this.normalizedNames.has(pe)||this.normalizedNames.set(pe,me)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(me=>this.applyUpdate(me)),this.lazyUpdate=null))}copyFrom(me){me.init(),Array.from(me.headers.keys()).forEach(pe=>{this.headers.set(pe,me.headers.get(pe)),this.normalizedNames.set(pe,me.normalizedNames.get(pe))})}clone(me){const pe=new ne;return pe.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,pe.lazyUpdate=(this.lazyUpdate||[]).concat([me]),pe}applyUpdate(me){const pe=me.name.toLowerCase();switch(me.op){case"a":case"s":let nt=me.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(me.name,pe);const ut=("a"===me.op?this.headers.get(pe):void 0)||[];ut.push(...nt),this.headers.set(pe,ut);break;case"d":const Xt=me.value;if(Xt){let mn=this.headers.get(pe);if(!mn)return;mn=mn.filter(Cn=>-1===Xt.indexOf(Cn)),0===mn.length?(this.headers.delete(pe),this.normalizedNames.delete(pe)):this.headers.set(pe,mn)}else this.headers.delete(pe),this.normalizedNames.delete(pe)}}forEach(me){this.init(),Array.from(this.normalizedNames.keys()).forEach(pe=>me(this.normalizedNames.get(pe),this.headers.get(pe)))}}class ye{encodeKey(me){return wt(me)}encodeValue(me){return wt(me)}decodeKey(me){return decodeURIComponent(me)}decodeValue(me){return decodeURIComponent(me)}}const ze=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wt(rt){return encodeURIComponent(rt).replace(ze,(me,pe)=>We[pe]??me)}function Ue(rt){return`${rt}`}class Se{constructor(me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=me.encoder||new ye,me.fromString){if(me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qe(rt,me){const pe=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(ut=>{const Xt=ut.indexOf("="),[mn,Cn]=-1==Xt?[me.decodeKey(ut),""]:[me.decodeKey(ut.slice(0,Xt)),me.decodeValue(ut.slice(Xt+1))],Ot=pe.get(mn)||[];Ot.push(Cn),pe.set(mn,Ot)}),pe}(me.fromString,this.encoder)}else me.fromObject?(this.map=new Map,Object.keys(me.fromObject).forEach(pe=>{const nt=me.fromObject[pe],ut=Array.isArray(nt)?nt.map(Ue):[Ue(nt)];this.map.set(pe,ut)})):this.map=null}has(me){return this.init(),this.map.has(me)}get(me){this.init();const pe=this.map.get(me);return pe?pe[0]:null}getAll(me){return this.init(),this.map.get(me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(me,pe){return this.clone({param:me,value:pe,op:"a"})}appendAll(me){const pe=[];return Object.keys(me).forEach(nt=>{const ut=me[nt];Array.isArray(ut)?ut.forEach(Xt=>{pe.push({param:nt,value:Xt,op:"a"})}):pe.push({param:nt,value:ut,op:"a"})}),this.clone(pe)}set(me,pe){return this.clone({param:me,value:pe,op:"s"})}delete(me,pe){return this.clone({param:me,value:pe,op:"d"})}toString(){return this.init(),this.keys().map(me=>{const pe=this.encoder.encodeKey(me);return this.map.get(me).map(nt=>pe+"="+this.encoder.encodeValue(nt)).join("&")}).filter(me=>""!==me).join("&")}clone(me){const pe=new Se({encoder:this.encoder});return pe.cloneFrom=this.cloneFrom||this,pe.updates=(this.updates||[]).concat(me),pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(me=>this.map.set(me,this.cloneFrom.map.get(me))),this.updates.forEach(me=>{switch(me.op){case"a":case"s":const pe=("a"===me.op?this.map.get(me.param):void 0)||[];pe.push(Ue(me.value)),this.map.set(me.param,pe);break;case"d":if(void 0===me.value){this.map.delete(me.param);break}{let nt=this.map.get(me.param)||[];const ut=nt.indexOf(Ue(me.value));-1!==ut&&nt.splice(ut,1),nt.length>0?this.map.set(me.param,nt):this.map.delete(me.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(me,pe){return this.map.set(me,pe),this}get(me){return this.map.has(me)||this.map.set(me,me.defaultValue()),this.map.get(me)}delete(me){return this.map.delete(me),this}has(me){return this.map.has(me)}keys(){return this.map.keys()}}function st(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function at(rt){return typeof Blob<"u"&&rt instanceof Blob}function Et(rt){return typeof FormData<"u"&&rt instanceof FormData}class Ce{constructor(me,pe,nt,ut){let Xt;if(this.url=pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=me.toUpperCase(),function ge(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ut?(this.body=void 0!==nt?nt:null,Xt=ut):Xt=nt,Xt&&(this.reportProgress=!!Xt.reportProgress,this.withCredentials=!!Xt.withCredentials,Xt.responseType&&(this.responseType=Xt.responseType),Xt.headers&&(this.headers=Xt.headers),Xt.context&&(this.context=Xt.context),Xt.params&&(this.params=Xt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new mt),this.params){const mn=this.params.toString();if(0===mn.length)this.urlWithParams=pe;else{const Cn=pe.indexOf("?");this.urlWithParams=pe+(-1===Cn?"?":Cn<pe.length-1?"&":"")+mn}}else this.params=new Se,this.urlWithParams=pe}serializeBody(){return null===this.body?null:st(this.body)||at(this.body)||Et(this.body)||function Fe(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Et(this.body)?null:at(this.body)?this.body.type||null:st(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(me={}){const pe=me.method||this.method,nt=me.url||this.url,ut=me.responseType||this.responseType,Xt=void 0!==me.body?me.body:this.body,mn=void 0!==me.withCredentials?me.withCredentials:this.withCredentials,Cn=void 0!==me.reportProgress?me.reportProgress:this.reportProgress;let Ot=me.headers||this.headers,On=me.params||this.params;const dn=me.context??this.context;return void 0!==me.setHeaders&&(Ot=Object.keys(me.setHeaders).reduce((tr,kt)=>tr.set(kt,me.setHeaders[kt]),Ot)),me.setParams&&(On=Object.keys(me.setParams).reduce((tr,kt)=>tr.set(kt,me.setParams[kt]),On)),new Ce(pe,nt,Xt,{params:On,headers:Ot,context:dn,reportProgress:Cn,responseType:ut,withCredentials:mn})}}var Me=(()=>((Me=Me||{})[Me.Sent=0]="Sent",Me[Me.UploadProgress=1]="UploadProgress",Me[Me.ResponseHeader=2]="ResponseHeader",Me[Me.DownloadProgress=3]="DownloadProgress",Me[Me.Response=4]="Response",Me[Me.User=5]="User",Me))();class pt{constructor(me,pe=200,nt="OK"){this.headers=me.headers||new ne,this.status=void 0!==me.status?me.status:pe,this.statusText=me.statusText||nt,this.url=me.url||null,this.ok=this.status>=200&&this.status<300}}class ft extends pt{constructor(me={}){super(me),this.type=Me.ResponseHeader}clone(me={}){return new ft({headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Bt extends pt{constructor(me={}){super(me),this.type=Me.Response,this.body=void 0!==me.body?me.body:null}clone(me={}){return new Bt({body:void 0!==me.body?me.body:this.body,headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Pt extends pt{constructor(me){super(me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${me.url||"(unknown url)"}`:`Http failure response for ${me.url||"(unknown url)"}: ${me.status} ${me.statusText}`,this.error=me.error||null}}function ur(rt,me){return{body:me,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials}}let je=(()=>{class rt{constructor(pe){this.handler=pe}request(pe,nt,ut={}){let Xt;if(pe instanceof Ce)Xt=pe;else{let Ot,On;Ot=ut.headers instanceof ne?ut.headers:new ne(ut.headers),ut.params&&(On=ut.params instanceof Se?ut.params:new Se({fromObject:ut.params})),Xt=new Ce(pe,nt,void 0!==ut.body?ut.body:null,{headers:Ot,context:ut.context,params:On,reportProgress:ut.reportProgress,responseType:ut.responseType||"json",withCredentials:ut.withCredentials})}const mn=(0,U.of)(Xt).pipe((0,ae.b)(Ot=>this.handler.handle(Ot)));if(pe instanceof Ce||"events"===ut.observe)return mn;const Cn=mn.pipe((0,we.h)(Ot=>Ot instanceof Bt));switch(ut.observe||"body"){case"body":switch(Xt.responseType){case"arraybuffer":return Cn.pipe((0,De.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ot.body}));case"blob":return Cn.pipe((0,De.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof Blob))throw new Error("Response is not a Blob.");return Ot.body}));case"text":return Cn.pipe((0,De.U)(Ot=>{if(null!==Ot.body&&"string"!=typeof Ot.body)throw new Error("Response is not a string.");return Ot.body}));default:return Cn.pipe((0,De.U)(Ot=>Ot.body))}case"response":return Cn;default:throw new Error(`Unreachable: unhandled observe type ${ut.observe}}`)}}delete(pe,nt={}){return this.request("DELETE",pe,nt)}get(pe,nt={}){return this.request("GET",pe,nt)}head(pe,nt={}){return this.request("HEAD",pe,nt)}jsonp(pe,nt){return this.request("JSONP",pe,{params:(new Se).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(pe,nt={}){return this.request("OPTIONS",pe,nt)}patch(pe,nt,ut={}){return this.request("PATCH",pe,ur(ut,nt))}post(pe,nt,ut={}){return this.request("POST",pe,ur(ut,nt))}put(pe,nt,ut={}){return this.request("PUT",pe,ur(ut,nt))}}return rt.\u0275fac=function(pe){return new(pe||rt)(F.LFG(ee))},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class Be{constructor(me,pe){this.next=me,this.interceptor=pe}handle(me){return this.interceptor.intercept(me,this.next)}}const Je=new F.OlP("HTTP_INTERCEPTORS");let $e=(()=>{class rt{intercept(pe,nt){return nt.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const Ln=/^\)\]\}',?\n/;let Gt=(()=>{class rt{constructor(pe){this.xhrFactory=pe}handle(pe){if("JSONP"===pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(nt=>{const ut=this.xhrFactory.build();if(ut.open(pe.method,pe.urlWithParams),pe.withCredentials&&(ut.withCredentials=!0),pe.headers.forEach((Zt,Jt)=>ut.setRequestHeader(Zt,Jt.join(","))),pe.headers.has("Accept")||ut.setRequestHeader("Accept","application/json, text/plain, */*"),!pe.headers.has("Content-Type")){const Zt=pe.detectContentTypeHeader();null!==Zt&&ut.setRequestHeader("Content-Type",Zt)}if(pe.responseType){const Zt=pe.responseType.toLowerCase();ut.responseType="json"!==Zt?Zt:"text"}const Xt=pe.serializeBody();let mn=null;const Cn=()=>{if(null!==mn)return mn;const Zt=ut.statusText||"OK",Jt=new ne(ut.getAllResponseHeaders()),Pn=function rr(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}(ut)||pe.url;return mn=new ft({headers:Jt,status:ut.status,statusText:Zt,url:Pn}),mn},Ot=()=>{let{headers:Zt,status:Jt,statusText:Pn,url:Zn}=Cn(),Xe=null;204!==Jt&&(Xe=typeof ut.response>"u"?ut.responseText:ut.response),0===Jt&&(Jt=Xe?200:0);let L=Jt>=200&&Jt<300;if("json"===pe.responseType&&"string"==typeof Xe){const X=Xe;Xe=Xe.replace(Ln,"");try{Xe=""!==Xe?JSON.parse(Xe):null}catch(de){Xe=X,L&&(L=!1,Xe={error:de,text:Xe})}}L?(nt.next(new Bt({body:Xe,headers:Zt,status:Jt,statusText:Pn,url:Zn||void 0})),nt.complete()):nt.error(new Pt({error:Xe,headers:Zt,status:Jt,statusText:Pn,url:Zn||void 0}))},On=Zt=>{const{url:Jt}=Cn(),Pn=new Pt({error:Zt,status:ut.status||0,statusText:ut.statusText||"Unknown Error",url:Jt||void 0});nt.error(Pn)};let dn=!1;const tr=Zt=>{dn||(nt.next(Cn()),dn=!0);let Jt={type:Me.DownloadProgress,loaded:Zt.loaded};Zt.lengthComputable&&(Jt.total=Zt.total),"text"===pe.responseType&&!!ut.responseText&&(Jt.partialText=ut.responseText),nt.next(Jt)},kt=Zt=>{let Jt={type:Me.UploadProgress,loaded:Zt.loaded};Zt.lengthComputable&&(Jt.total=Zt.total),nt.next(Jt)};return ut.addEventListener("load",Ot),ut.addEventListener("error",On),ut.addEventListener("timeout",On),ut.addEventListener("abort",On),pe.reportProgress&&(ut.addEventListener("progress",tr),null!==Xt&&ut.upload&&ut.upload.addEventListener("progress",kt)),ut.send(Xt),nt.next({type:Me.Sent}),()=>{ut.removeEventListener("error",On),ut.removeEventListener("abort",On),ut.removeEventListener("load",Ot),ut.removeEventListener("timeout",On),pe.reportProgress&&(ut.removeEventListener("progress",tr),null!==Xt&&ut.upload&&ut.upload.removeEventListener("progress",kt)),ut.readyState!==ut.DONE&&ut.abort()}})}}return rt.\u0275fac=function(pe){return new(pe||rt)(F.LFG(d.JF))},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const cn=new F.OlP("XSRF_COOKIE_NAME"),xn=new F.OlP("XSRF_HEADER_NAME");class Vn{}let Ar=(()=>{class rt{constructor(pe,nt,ut){this.doc=pe,this.platform=nt,this.cookieName=ut,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const pe=this.doc.cookie||"";return pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(pe,this.cookieName),this.lastCookieString=pe),this.lastToken}}return rt.\u0275fac=function(pe){return new(pe||rt)(F.LFG(d.K0),F.LFG(F.Lbi),F.LFG(cn))},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),_r=(()=>{class rt{constructor(pe,nt){this.tokenService=pe,this.headerName=nt}intercept(pe,nt){const ut=pe.url.toLowerCase();if("GET"===pe.method||"HEAD"===pe.method||ut.startsWith("http://")||ut.startsWith("https://"))return nt.handle(pe);const Xt=this.tokenService.getToken();return null!==Xt&&!pe.headers.has(this.headerName)&&(pe=pe.clone({headers:pe.headers.set(this.headerName,Xt)})),nt.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)(F.LFG(Vn),F.LFG(xn))},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),xt=(()=>{class rt{constructor(pe,nt){this.backend=pe,this.injector=nt,this.chain=null}handle(pe){if(null===this.chain){const nt=this.injector.get(Je,[]);this.chain=nt.reduceRight((ut,Xt)=>new Be(ut,Xt),this.backend)}return this.chain.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)(F.LFG(Pe),F.LFG(F.zs3))},rt.\u0275prov=F.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),ir=(()=>{class rt{static disable(){return{ngModule:rt,providers:[{provide:_r,useClass:$e}]}}static withOptions(pe={}){return{ngModule:rt,providers:[pe.cookieName?{provide:cn,useValue:pe.cookieName}:[],pe.headerName?{provide:xn,useValue:pe.headerName}:[]]}}}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275mod=F.oAB({type:rt}),rt.\u0275inj=F.cJS({providers:[_r,{provide:Je,useExisting:_r,multi:!0},{provide:Vn,useClass:Ar},{provide:cn,useValue:"XSRF-TOKEN"},{provide:xn,useValue:"X-XSRF-TOKEN"}]}),rt})(),Br=(()=>{class rt{}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275mod=F.oAB({type:rt}),rt.\u0275inj=F.cJS({providers:[je,{provide:ee,useClass:xt},Gt,{provide:Pe,useExisting:Gt}],imports:[ir.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),rt})()},4650:(Ut,ke,R)=>{R.d(ke,{$8M:()=>_n,$Z:()=>Uh,AFp:()=>ME,ALo:()=>Y0,AaK:()=>ee,AsE:()=>rg,CHM:()=>jo,CRH:()=>oE,CZH:()=>Dy,CqO:()=>mf,D6c:()=>OD,DdM:()=>H0,EJc:()=>ZI,EpF:()=>Im,F4k:()=>Dm,FYo:()=>Cd,FiY:()=>Dr,G48:()=>gD,Gf:()=>iE,GfV:()=>Mg,Gpc:()=>ue,JOm:()=>ns,KtG:()=>Yi,LFG:()=>Vi,LSH:()=>Kl,Lbi:()=>zI,Lck:()=>Bw,MMx:()=>a_,NdJ:()=>Yp,O4$:()=>Er,OlP:()=>Mr,Oqu:()=>Jc,PXZ:()=>lD,Q6J:()=>pf,QGY:()=>qd,QP$:()=>dt,Qsj:()=>Qy,R0b:()=>Au,RDi:()=>mg,Rgc:()=>dg,SBq:()=>ec,Sil:()=>YI,Suo:()=>sE,TTD:()=>ea,TgZ:()=>Zd,Tol:()=>tg,VKq:()=>G0,X6Q:()=>pD,XFs:()=>xt,Xpm:()=>Zn,Xts:()=>$f,Y36:()=>wl,YKP:()=>N0,YNc:()=>Wp,Yjl:()=>z,Yz7:()=>Ht,Z0I:()=>un,ZZ4:()=>P_,_Bn:()=>O0,_UZ:()=>Rs,_Vd:()=>Jl,_c5:()=>RD,_uU:()=>Hm,aQg:()=>O_,c2e:()=>WI,cJS:()=>nn,cg1:()=>cy,dDg:()=>sD,dqk:()=>ut,eFA:()=>$E,ekj:()=>_f,eoX:()=>UE,f3M:()=>Fl,g9A:()=>RE,h0i:()=>Sf,hGG:()=>PD,hij:()=>Df,iGM:()=>rE,ifc:()=>nt,ip1:()=>SE,jDz:()=>F0,kL8:()=>dy,kcU:()=>Mo,lG2:()=>oe,lqb:()=>ql,lri:()=>LE,n5z:()=>Nn,oAB:()=>de,oxw:()=>Qp,q4F:()=>Yf,qLn:()=>Vc,qOj:()=>Gd,qZA:()=>Ai,rWj:()=>VE,sBO:()=>mD,sIi:()=>zd,s_b:()=>Ey,soG:()=>Cy,tb:()=>PE,tp0:()=>vi,uIk:()=>Kc,vHH:()=>We,vpe:()=>Pl,wAp:()=>zn,xi3:()=>Q0,xp6:()=>xs,z2F:()=>by,zSh:()=>bh,zs3:()=>Qa});var d=R(7579),F=R(727),U=R(9751),ce=R(6451),ae=R(3099);function we(n){for(let r in n)if(n[r]===we)return r;throw Error("Could not find renamed property on target object.")}function De(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ee(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ee).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ne=we({__forward_ref__:we});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return ee(this())},n}function ye(n){return qe(n)?n():n}function qe(n){return"function"==typeof n&&n.hasOwnProperty(ne)&&n.__forward_ref__===ue}class We extends Error{constructor(r,o){super(function wt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Ue(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n,r){throw new We(-201,!1)}function $e(n,r){null==n&&function tt(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ln(n){return Ln(n,xn)||Ln(n,Ar)}function un(n){return null!==ln(n)}function Ln(n,r){return n.hasOwnProperty(r)?n[r]:null}function cn(n){return n&&(n.hasOwnProperty(Vn)||n.hasOwnProperty(_r))?n[Vn]:null}const xn=we({\u0275prov:we}),Vn=we({\u0275inj:we}),Ar=we({ngInjectableDef:we}),_r=we({ngInjectorDef:we});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let Mn;function ir(n){const r=Mn;return Mn=n,r}function Br(n,r,o){const u=ln(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&xt.Optional?null:void 0!==r?r:void st(ee(n))}function Kn(n){return{toString:n}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),nt=(()=>{return(n=nt||(nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",nt;var n})();const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cn={},Ot=[],On=we({\u0275cmp:we}),dn=we({\u0275dir:we}),tr=we({\u0275pipe:we}),kt=we({\u0275mod:we}),Zt=we({\u0275fac:we}),Jt=we({__NG_ELEMENT_ID__:we});let Pn=0;function Zn(n){return Kn(()=>{const o=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||nt.Emulated,id:"c"+Pn++,styles:n.styles||Ot,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,m=n.features;return l.inputs=re(n.inputs,u),l.outputs=re(n.outputs),m&&m.forEach(C=>C(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(L).filter(X):null,l.pipeDefs=f?()=>("function"==typeof f?f():f).map(be).filter(X):null,l})}function L(n){return Z(n)||G(n)}function X(n){return null!==n}function de(n){return Kn(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function re(n,r){if(null==n)return Cn;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,r&&(r[l]=f)}return o}const oe=Zn;function z(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Z(n){return n[On]||null}function G(n){return n[dn]||null}function be(n){return n[tr]||null}function dt(n){const r=Z(n)||G(n)||be(n);return null!==r&&r.standalone}function jt(n,r){const o=n[kt]||null;if(!o&&!0===r)throw new Error(`Type ${ee(n)} does not have '\u0275mod' property.`);return o}function Zr(n){return Array.isArray(n)&&"object"==typeof n[1]}function $r(n){return Array.isArray(n)&&!0===n[1]}function Ks(n){return 0!=(8&n.flags)}function Xr(n){return 2==(2&n.flags)}function os(n){return 1==(1&n.flags)}function Nr(n){return null!==n.template}function Bi(n){return 0!=(256&n[2])}function ci(n,r){return n.hasOwnProperty(Zt)?n[Zt]:null}class di{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ea(){return as}function as(n){return n.type.prototype.ngOnChanges&&(n.setInput=us),Lo}function Lo(){const n=Co(this),r=n?.current;if(r){const o=n.previous;if(o===Cn)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function us(n,r,o,u){const l=Co(n)||function Ls(n,r){return n[Vo]=r}(n,{previous:Cn,current:null}),f=l.current||(l.current={}),m=l.previous,C=this.declaredInputs[o],S=m[C];f[C]=new di(S&&S.currentValue,r,m===Cn),n[u]=r}ea.ngInherit=!0;const Vo="__ngSimpleChanges__";function Co(n){return n[Vo]||null}function pr(n){for(;Array.isArray(n);)n=n[0];return n}function ji(n,r){return pr(r[n])}function hi(n,r){return pr(r[n.index])}function bo(n,r){return n.data[r]}function ti(n,r){const o=r[n];return Zr(o)?o:o[0]}function Uo(n){return 64==(64&n[2])}function gi(n,r){return null==r?null:n[r]}function zr(n){n[18]=0}function Es(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const Rn={lFrame:fo(null),bindingsEnabled:!0};function To(){return Rn.bindingsEnabled}function Dt(){return Rn.lFrame.lView}function Jn(){return Rn.lFrame.tView}function jo(n){return Rn.lFrame.contextLView=n,n[8]}function Yi(n){return Rn.lFrame.contextLView=null,n}function Pr(){let n=k();for(;null!==n&&64===n.type;)n=n.parent;return n}function k(){return Rn.lFrame.currentTNode}function M(n,r){const o=Rn.lFrame;o.currentTNode=n,o.isParent=r}function q(){return Rn.lFrame.isParent}function mi(){const n=Rn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Bs(){return Rn.lFrame.bindingIndex++}function ni(n){const r=Rn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function va(n,r){const o=Rn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ho(r)}function Ho(n){Rn.lFrame.currentDirectiveIndex=n}function Ao(){return Rn.lFrame.currentQueryIndex}function Fi(n){Rn.lFrame.currentQueryIndex=n}function js(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function _a(n,r,o){if(o&xt.SkipSelf){let l=r,f=n;for(;!(l=l.parent,null!==l||o&xt.Host||(l=js(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;r=l,n=f}const u=Rn.lFrame=zo();return u.currentTNode=r,u.lView=n,!0}function eo(n){const r=zo(),o=n[1];Rn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function zo(){const n=Rn.lFrame,r=null===n?null:n.child;return null===r?fo(n):r}function fo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function So(){const n=Rn.lFrame;return Rn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xi=So;function ds(){const n=So();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gr(){return Rn.lFrame.selectedIndex}function Ii(n){Rn.lFrame.selectedIndex=n}function vr(){const n=Rn.lFrame;return bo(n.tView,n.selectedIndex)}function Er(){Rn.lFrame.currentNamespace="svg"}function Mo(){!function Ri(){Rn.lFrame.currentNamespace=null}()}function Cs(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:V,ngOnDestroy:Y}=f;m&&(n.contentHooks||(n.contentHooks=[])).push(-o,m),C&&((n.contentHooks||(n.contentHooks=[])).push(o,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,C)),S&&(n.viewHooks||(n.viewHooks=[])).push(-o,S),V&&((n.viewHooks||(n.viewHooks=[])).push(o,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,V)),null!=Y&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Y)}}function to(n,r,o){$i(n,r,3,o)}function ia(n,r,o,u){(3&n[2])===o&&$i(n,r,o,u)}function hs(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function $i(n,r,o,u){const f=u??-1,m=r.length-1;let C=0;for(let S=void 0!==u?65535&n[18]:0;S<m;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=u&&C>=u)break}else r[S]<0&&(n[18]+=65536),(C<f||-1==f)&&(Di(n,o,r,S),n[18]=(4294901760&n[18])+S+2),S++}function Di(n,r,o,u){const l=o[u]<0,f=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class no{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function K(n,r,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],m=o[u++],C=o[u++];n.setAttribute(r,m,C,f)}else{const f=l,m=o[++u];ot(f)?n.setProperty(r,f,m):n.setAttribute(r,f,m),u++}}return u}function Ie(n){return 3===n||4===n||6===n}function ot(n){return 64===n.charCodeAt(0)}function vt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?o=l:0===o||vn(n,o,l,null,-1===o||2===o?r[++u]:null)}}return n}function vn(n,r,o,u,l){let f=0,m=n.length;if(-1===r)m=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===r){m=-1;break}if(C>r){m=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[f+1]=l));if(u===n[f+1])return void(n[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==m&&(n.splice(m,0,r),f=m+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==l&&n.splice(f++,0,l)}function mr(n){return-1!==n}function nr(n){return 32767&n}function In(n,r){let o=function wr(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let Sr=!0;function $n(n){const r=Sr;return Sr=n,r}let Ir=0;const Lr={};function tn(n,r){const o=sa(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,pn(u.data,n),pn(r,null),pn(u.blueprint,null));const l=qt(n,r),f=n.injectorIndex;if(mr(l)){const m=nr(l),C=In(l,r),S=C[1].data;for(let V=0;V<8;V++)r[f+V]=C[m+V]|S[m+V]}return r[f+8]=l,f}function pn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function sa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function qt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=r;for(;null!==l;){if(u=Hr(l),null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function et(n,r,o){!function go(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Jt)&&(u=o[Jt]),null==u&&(u=o[Jt]=Ir++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function ri(n,r,o){if(o&xt.Optional||void 0!==n)return n;st()}function Su(n,r,o,u){if(o&xt.Optional&&void 0===u&&(u=null),0==(o&(xt.Self|xt.Host))){const l=n[9],f=ir(void 0);try{return l?l.get(r,u,o&xt.Optional):Br(r,u,o&xt.Optional)}finally{ir(f)}}return ri(u,0,o)}function Mu(n,r,o,u=xt.Default,l){if(null!==n){if(1024&r[2]){const m=function ja(n,r,o,u,l){let f=n,m=r;for(;null!==f&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=wa(f,m,o,u|xt.Self,Lr);if(C!==Lr)return C;let S=f.parent;if(!S){const V=m[21];if(V){const Y=V.get(o,Lr,u);if(Y!==Lr)return Y}S=Hr(m),m=m[15]}f=S}return l}(n,r,o,u,Lr);if(m!==Lr)return m}const f=wa(n,r,o,u,Lr);if(f!==Lr)return f}return Su(r,o,u,l)}function wa(n,r,o,u,l){const f=function Ol(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Jt)?n[Jt]:void 0;return"number"==typeof r?r>=0?255&r:yi:r}(o);if("function"==typeof f){if(!_a(r,n,u))return u&xt.Host?ri(l,0,u):Su(r,o,u,l);try{const m=f(u);if(null!=m||u&xt.Optional)return m;st()}finally{xi()}}else if("number"==typeof f){let m=null,C=sa(n,r),S=-1,V=u&xt.Host?r[16][6]:null;for((-1===C||u&xt.SkipSelf)&&(S=-1===C?qt(n,r):r[C+8],-1!==S&&Ko(u,!1)?(m=r[1],C=nr(S),r=In(S,r)):C=-1);-1!==C;){const Y=r[1];if(Nl(f,C,Y.data)){const le=tl(C,r,o,m,u,V);if(le!==Lr)return le}S=r[C+8],-1!==S&&Ko(u,r[1].data[C+8]===V)&&Nl(f,C,r)?(m=Y,C=nr(S),r=In(S,r)):C=-1}}return l}function tl(n,r,o,u,l,f){const m=r[1],C=m.data[n+8],Y=Ba(C,m,o,null==u?Xr(C)&&Sr:u!=m&&0!=(3&C.type),l&xt.Host&&f===C);return null!==Y?oa(r,m,Y,C):Lr}function Ba(n,r,o,u,l){const f=n.providerIndexes,m=r.data,C=1048575&f,S=n.directiveStart,Y=f>>20,Ae=l?C+Y:n.directiveEnd;for(let Qe=u?C:C+Y;Qe<Ae;Qe++){const Tt=m[Qe];if(Qe<S&&o===Tt||Qe>=S&&Tt.type===o)return Qe}if(l){const Qe=m[S];if(Qe&&Nr(Qe)&&Qe.type===o)return S}return null}function oa(n,r,o,u){let l=n[o];const f=r.data;if(function Wo(n){return n instanceof no}(l)){const m=l;m.resolving&&function bt(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new We(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ue(n)}(f[o]));const C=$n(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?ir(m.injectImpl):null;_a(n,u,xt.Default);try{l=n[o]=m.factory(void 0,f,n,u),r.firstCreatePass&&o>=u.directiveStart&&function Ds(n,r,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=r.type.prototype;if(u){const m=as(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],r)}finally{null!==S&&ir(S),$n(C),m.resolving=!1,xi()}}return l}function Nl(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Ko(n,r){return!(n&xt.Self||n&xt.Host&&r)}class ii{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return Mu(this._tNode,this._lView,r,u,o)}}function yi(){return new ii(Pr(),Dt())}function Nn(n){return Kn(()=>{const r=n.prototype.constructor,o=r[Zt]||bs(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const f=l[Zt]||bs(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function bs(n){return qe(n)?()=>{const r=bs(ye(n));return r&&r()}:ci(n)}function Hr(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function _n(n){return function Rt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(Ie(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===r)return o[l+1];l+=2}}}return null}(Pr(),n)}const Tn="__parameters__";function Ji(n,r,o){return Kn(()=>{const u=function Yt(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(r);function l(...f){if(this instanceof l)return u.apply(this,f),this;const m=new l(...f);return C.annotation=m,C;function C(S,V,Y){const le=S.hasOwnProperty(Tn)?S[Tn]:Object.defineProperty(S,Tn,{value:[]})[Tn];for(;le.length<=Y;)le.push(null);return(le[Y]=le[Y]||[]).push(m),S}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Mr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ci(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?(r===n&&(r=n.slice(0,o)),Ci(u,r)):r!==n&&r.push(u)}return r}function Li(n,r){n.forEach(o=>Array.isArray(o)?Li(o,r):r(o))}function iu(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function $s(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function _(n,r,o){let u=y(n,r);return u>=0?n[1|u]=o:(u=~u,function kl(n,r,o,u){let l=n.length;if(l==r)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function E(n,r){const o=y(n,r);if(o>=0)return n[1|o]}function y(n,r){return function O(n,r,o){let u=0,l=n.length>>o;for(;l!==u;){const f=u+(l-u>>1),m=n[f<<o];if(r===m)return f<<o;m>r?l=f:u=f+1}return~(l<<o)}(n,r,1)}const fi={},oo="__NG_DI_FLAG__",Qr="ngTempTokenPath",Ta=/\n/gm,il="__source";let ou;function Ss(n){const r=ou;return ou=n,r}function au(n,r=xt.Default){if(void 0===ou)throw new We(-203,!1);return null===ou?Br(n,void 0,r):ou.get(n,r&xt.Optional?null:void 0,r)}function Vi(n,r=xt.Default){return(function jn(){return Mn}()||au)(ye(n),r)}function Fl(n,r=xt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Vi(n,r)}function sl(n){const r=[];for(let o=0;o<n.length;o++){const u=ye(n[o]);if(Array.isArray(u)){if(0===u.length)throw new We(900,!1);let l,f=xt.Default;for(let m=0;m<u.length;m++){const C=u[m],S=Hi(C);"number"==typeof S?-1===S?l=C.token:f|=S:l=C}r.push(Vi(l,f))}else r.push(Vi(u))}return r}function ua(n,r){return n[oo]=r,n.prototype[oo]=r,n}function Hi(n){return n[oo]}const Dr=ua(Ji("Optional"),8),vi=ua(Ji("SkipSelf"),4);var ns=(()=>((ns=ns||{})[ns.Important=1]="Important",ns[ns.DashCase=2]="DashCase",ns))();const ie=new Map;let _e=0;const _i="__ngContext__";function Ui(n,r){Zr(r)?(n[_i]=r[20],function ht(n){ie.set(n[20],n)}(r)):n[_i]=r}function hl(n,r){return undefined(n,r)}function fl(n){const r=n[3];return $r(r)?r[3]:r}function Ac(n){return h(n[13])}function v(n){return h(n[4])}function h(n){for(;null!==n&&!$r(n);)n=n[4];return n}function I(n,r,o,u,l){if(null!=u){let f,m=!1;$r(u)?f=u:Zr(u)&&(m=!0,u=u[0]);const C=pr(u);0===n&&null!==o?null==l?ad(r,o,C):qa(r,o,C,l||null,!0):1===n&&null!==o?qa(r,o,C,l||null,!0):2===n?function hh(n,r,o){const u=ld(n,r);u&&function ud(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}(r,C,m):3===n&&r.destroyNode(C),null!=f&&function My(n,r,o,u,l){const f=o[7];f!==pr(o)&&I(r,n,u,f,l);for(let C=10;C<o.length;C++){const S=o[C];Mc(S[1],S,n,r,u,f)}}(r,n,f,o,l)}}function ct(n,r,o){return n.createElement(r,o)}function $l(n,r){const o=n[9],u=o.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Es(l,-1)),o.splice(u,1)}function Ms(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const l=u[17];null!==l&&l!==n&&$l(l,u),r>0&&(n[o-1][4]=u[4]);const f=$s(n,10+r);!function zt(n,r){Mc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const m=f[19];null!==m&&m.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Hl(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Mc(n,r,o,3,null,null),function yr(n){let r=n[13];if(!r)return mu(n[1],n);for(;r;){let o=null;if(Zr(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)Zr(r)&&mu(r[1],r),r=r[3];null===r&&(r=n),Zr(r)&&mu(r[1],r),o=r&&r[4]}r=o}}(r)}}function mu(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Xo(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=r[o[u]];if(!(l instanceof no)){const f=o[u+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const C=l[f[m]],S=f[m+1];try{S.call(C)}finally{}}else try{f.call(l)}finally{}}}}(n,r),function od(n,r){const o=n.cleanup,u=r[7];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+1],C="function"==typeof m?m(r):pr(r[m]),S=u[l=o[f+2]],V=o[f+3];"boolean"==typeof V?C.removeEventListener(o[f],S,V):V>=0?u[l=V]():u[l=-V].unsubscribe(),f+=2}else{const m=u[l=o[f+1]];o[f].call(m)}if(null!==u){for(let f=l+1;f<u.length;f++)(0,u[f])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&$r(r[3])){o!==r[3]&&$l(o,r);const u=r[19];null!==u&&u.detachView(n)}!function Qt(n){ie.delete(n[20])}(r)}}function Sc(n,r,o){return function ju(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===nt.None||l===nt.Emulated)return null}return hi(u,o)}(n,r.parent,o)}function qa(n,r,o,u,l){n.insertBefore(r,o,u,l)}function ad(n,r,o){n.appendChild(r,o)}function lr(n,r,o,u,l){null!==u?qa(n,r,o,u,l):ad(n,r,o)}function ld(n,r){return n.parentNode(r)}let Ya,pg=function cd(n,r,o){return 40&n.type?hi(n,o):null};function $u(n,r,o,u){const l=Sc(n,u,r),f=r[11],C=function Of(n,r,o){return pg(n,r,o)}(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(o))for(let S=0;S<o.length;S++)lr(f,l,o[S],C,!1);else lr(f,l,o,C,!1)}function yu(n,r){if(null!==r){const o=r.type;if(3&o)return hi(r,n);if(4&o)return Hu(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return yu(n,u);{const l=n[r.index];return $r(l)?Hu(-1,l):pr(l)}}if(32&o)return hl(r,n)()||pr(n[r.index]);{const u=Ff(n,r);return null!==u?Array.isArray(u)?u[0]:yu(fl(n[16]),u):yu(n,r.next)}}return null}function Ff(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Hu(n,r){const o=10+n+1;if(o<r.length){const u=r[o],l=u[1].firstChild;if(null!==l)return yu(u,l)}return r[7]}function pl(n,r,o,u,l,f,m){for(;null!=o;){const C=u[o.index],S=o.type;if(m&&0===r&&(C&&Ui(pr(C),u),o.flags|=4),64!=(64&o.flags))if(8&S)pl(n,r,o.child,u,l,f,!1),I(r,n,l,C,f);else if(32&S){const V=hl(o,u);let Y;for(;Y=V();)I(r,n,l,Y,f);I(r,n,l,C,f)}else 16&S?xc(n,r,u,o,l,f):I(r,n,l,C,f);o=m?o.projectionNext:o.next}}function Mc(n,r,o,u,l,f){pl(o,u,n.firstChild,r,l,f,!1)}function xc(n,r,o,u,l,f){const m=o[16],S=m[6].projection[u.projection];if(Array.isArray(S))for(let V=0;V<S.length;V++)I(r,n,l,S[V],f);else pl(n,r,S,m[3],l,f,!0)}function Ti(n,r,o){n.setAttribute(r,"style",o)}function Rc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function mg(n){Ya=n}class yh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Gu(n){return n instanceof yh?n.changingThisBreaksApplicationSecurity:n}const _g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var rs=(()=>((rs=rs||{})[rs.NONE=0]="NONE",rs[rs.HTML=1]="HTML",rs[rs.STYLE=2]="STYLE",rs[rs.SCRIPT=3]="SCRIPT",rs[rs.URL=4]="URL",rs[rs.RESOURCE_URL=5]="RESOURCE_URL",rs))();function Kl(n){const r=function Ed(){const n=Dt();return n&&n[12]}();return r?r.sanitize(rs.URL,n)||"":function Wl(n,r){const o=function vh(n){return n instanceof yh&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?Gu(n):function Eh(n){return(n=String(n)).match(_g)?n:"unsafe:"+n}(Ue(n))}const $f=new Mr("ENVIRONMENT_INITIALIZER"),zu=new Mr("INJECTOR",-1),Zl=new Mr("INJECTOR_DEF_TYPES");class Hf{get(r,o=fi){if(o===fi){const u=new Error(`NullInjectorError: No provider for ${ee(r)}!`);throw u.name="NullInjectorError",u}return o}}function Gy(...n){return{\u0275providers:Gf(0,n)}}function Gf(n,...r){const o=[],u=new Set;let l;return Li(r,f=>{const m=f;Ch(m,o,[],u)&&(l||(l=[]),l.push(m))}),void 0!==l&&Eu(l,o),o}function Eu(n,r){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Li(l,f=>{r.push(f)})}}function Ch(n,r,o,u){if(!(n=ye(n)))return!1;let l=null,f=cn(n);const m=!f&&Z(n);if(f||m){if(m&&!m.standalone)return!1;l=n}else{const S=n.ngModule;if(f=cn(S),!f)return!1;l=S}const C=u.has(l);if(m){if(C)return!1;if(u.add(l),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of S)Ch(V,r,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let V;u.add(l);try{Li(f.imports,Y=>{Ch(Y,r,o,u)&&(V||(V=[]),V.push(Y))})}finally{}void 0!==V&&Eu(V,r)}if(!C){const V=ci(l)||(()=>new l);r.push({provide:l,useFactory:V,deps:Ot},{provide:Zl,useValue:l,multi:!0},{provide:$f,useValue:()=>Vi(l),multi:!0})}const S=f.providers;null==S||C||Li(S,Y=>{r.push(Y)})}}return l!==n&&void 0!==n.providers}const bg=we({provide:String,useValue:we});function Nc(n){return null!==n&&"object"==typeof n&&bg in n}function fa(n){return"function"==typeof n}const bh=new Mr("Set Injector scope."),kc={},zf={};let Th;function Id(){return void 0===Th&&(Th=new Hf),Th}class ql{}class Wf extends ql{constructor(r,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,m=>this.processProvider(m)),this.records.set(zu,Fc(void 0,this)),l.has("environment")&&this.records.set(ql,Fc(void 0,this));const f=this.records.get(bh);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Zl.multi,Ot,xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Ss(this),u=ir(void 0);try{return r()}finally{Ss(o),ir(u)}}get(r,o=fi,u=xt.Default){this.assertNotDestroyed();const l=Ss(this),f=ir(void 0);try{if(!(u&xt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const S=function Wy(n){return"function"==typeof n||"object"==typeof n&&n instanceof Mr}(r)&&ln(r);C=S&&this.injectableDefInScope(S)?Fc(Ah(r),kc):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(u&xt.Self?Id():this.parent).get(r,o=u&xt.Optional&&o===fi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Qr]=m[Qr]||[]).unshift(ee(r)),l)throw m;return function Sa(n,r,o,u){const l=n[Qr];throw r[il]&&l.unshift(r[il]),n.message=function Wa(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ee(r);if(Array.isArray(r))l=r.map(ee).join(" -> ");else if("object"==typeof r){let f=[];for(let m in r)if(r.hasOwnProperty(m)){let C=r[m];f.push(m+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Ta,"\n  ")}`}("\n"+n.message,l,o,u),n.ngTokenPath=l,n[Qr]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{ir(f),Ss(l)}}resolveInjectorInitializers(){const r=Ss(this),o=ir(void 0);try{const u=this.get($f.multi,Ot,xt.Self);for(const l of u)l()}finally{Ss(r),ir(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(ee(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(r){let o=fa(r=ye(r))?r:ye(r&&r.provide);const u=function Dd(n){return Nc(n)?Fc(void 0,n.useValue):Fc(_l(n),kc)}(r);if(fa(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Fc(void 0,kc,!0),l.factory=()=>sl(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===kc&&(o.value=zf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function zy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ye(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ah(n){const r=ln(n),o=null!==r?r.factory:ci(n);if(null!==o)return o;if(n instanceof Mr)throw new We(204,!1);if(n instanceof Function)return function Sh(n){const r=n.length;if(r>0)throw function ba(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}(r,"?"),new We(204,!1);const o=function rr(n){const r=n&&(n[xn]||n[Ar]);if(r){const o=function Gt(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new We(204,!1)}function _l(n,r,o){let u;if(fa(n)){const l=ye(n);return ci(l)||Ah(l)}if(Nc(n))u=()=>ye(n.useValue);else if(function vl(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...sl(n.deps||[]));else if(function yl(n){return!(!n||!n.useExisting)}(n))u=()=>Vi(ye(n.useExisting));else{const l=ye(n&&(n.useClass||n.provide));if(!function Tg(n){return!!n.deps}(n))return ci(l)||Ah(l);u=()=>new l(...sl(n.deps))}return u}function Fc(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Ky(n){return!!n.\u0275providers}function Yl(n,r){for(const o of n)Array.isArray(o)?Yl(o,r):Ky(o)?Yl(o.\u0275providers,r):r(o)}class Wu{}class qy{resolveComponentFactory(r){throw function Ag(n){const r=Error(`No component factory found for ${ee(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Jl=(()=>{class n{}return n.NULL=new qy,n})();function Kf(){return Xl(Pr(),Dt())}function Xl(n,r){return new ec(hi(n,r))}let ec=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Kf,n})();function Zf(n){return n instanceof ec?n.nativeElement:n}class Cd{}let Qy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function qf(){const n=Dt(),o=ti(Pr().index,n);return(Zr(o)?o:n)[11]}(),n})(),Mh=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class Mg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yf=new Mg("14.3.0"),tc={};function xh(n){return n.ngOriginalError}class Vc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&xh(r);for(;o&&xh(o);)o=xh(o);return o||null}}function Oo(n){return n instanceof Function?n():n}function Jf(n,r,o){let u=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=r.length;if(l+f===u||n.charCodeAt(l+f)<=32)return l}o=l+1}}const Xf="ng-template";function ev(n,r,o){let u=0;for(;u<n.length;){let l=n[u++];if(o&&"class"===l){if(l=n[u],-1!==Jf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Td(n){return 4===n.type&&n.value!==Xf}function Pg(n,r,o){return r===(4!==n.type||o?n.value:Xf)}function tv(n,r,o){let u=4;const l=n.attrs||[],f=function Ad(n){for(let r=0;r<n.length;r++)if(Ie(n[r]))return r;return n.length}(l);let m=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!m)if(4&u){if(u=2|1&u,""!==S&&!Pg(n,S,o)||""===S&&1===r.length){if(Na(u))return!1;m=!0}}else{const V=8&u?S:r[++C];if(8&u&&null!==n.attrs){if(!ev(n.attrs,V,o)){if(Na(u))return!1;m=!0}continue}const le=nv(8&u?"class":S,l,Td(n),o);if(-1===le){if(Na(u))return!1;m=!0;continue}if(""!==V){let Ae;Ae=le>f?"":l[le+1].toLowerCase();const Qe=8&u?Ae:null;if(Qe&&-1!==Jf(Qe,V,0)||2&u&&V!==Ae){if(Na(u))return!1;m=!0}}}}else{if(!m&&!Na(u)&&!Na(S))return!1;if(m&&Na(S))continue;m=!1,u=S|1&u}}return Na(u)||m}function Na(n){return 0==(1&n)}function nv(n,r,o,u){if(null===r)return-1;let l=0;if(u||!o){let f=!1;for(;l<r.length;){const m=r[l];if(m===n)return l;if(3===m||6===m)f=!0;else{if(1===m||2===m){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=f?1:2}return-1}return function Og(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function ep(n,r,o=!1){for(let u=0;u<r.length;u++)if(tv(n,r[u],o))return!0;return!1}function kg(n,r){return n?":not("+r.trim()+")":r}function Fg(n){let r=n[0],o=1,u=2,l="",f=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const C=n[++o];l+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Na(m)&&(r+=kg(f,l),l=""),u=m,f=f||!Na(u);o++}return""!==l&&(r+=kg(f,l)),r}const ar={};function xs(n){Lg(Jn(),Dt(),gr()+n,!1)}function Lg(n,r,o,u){if(!u)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&to(r,f,o)}else{const f=n.preOrderHooks;null!==f&&ia(r,f,0,o)}Ii(o)}function kh(n,r=null,o=null,u){const l=Fh(n,r,o,u);return l.resolveInjectorInitializers(),l}function Fh(n,r=null,o=null,u,l=new Set){const f=[o||Ot,Gy(n)];return u=u||("object"==typeof n?void 0:ee(n)),new Wf(f,r||Id(),u||null,l)}let Qa=(()=>{class n{static create(o,u){if(Array.isArray(o))return kh({name:""},u,o,"");{const l=o.name??"";return kh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=fi,n.NULL=new Hf,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>Vi(zu)}),n.__NG_ELEMENT_ID__=-1,n})();function wl(n,r=xt.Default){const o=Dt();return null===o?Vi(n,r):Mu(Pr(),o,ye(n),r)}function Uh(){throw new Error("invalid")}function Bh(n,r){return n<<17|r<<2}function ka(n){return n>>17&32767}function cp(n){return 2|n}function Zu(n){return(131068&n)>>2}function Gs(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Kh(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],f=o[u+1];if(-1!==f){const m=n.data[f];Fi(l),m.contentQueries(2,r[f],f)}}}function Ld(n,r,o,u,l,f,m,C,S,V,Y){const le=r.blueprint.slice();return le[0]=l,le[2]=76|u,(null!==Y||n&&1024&n[2])&&(le[2]|=1024),zr(le),le[3]=le[15]=n,le[8]=o,le[10]=m||n&&n[10],le[11]=C||n&&n[11],le[12]=S||n&&n[12]||null,le[9]=V||n&&n[9]||null,le[6]=f,le[20]=function xe(){return _e++}(),le[21]=Y,le[16]=2==r.type?n[16]:le,le}function Dl(n,r,o,u,l){let f=n.data[r];if(null===f)f=function Vd(n,r,o,u,l){const f=k(),m=q(),S=n.data[r]=function Tp(n,r,o,u,l,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,r,u,l);return null===n.firstChild&&(n.firstChild=S),null!==f&&(m?null==f.child&&null!==S.parent&&(f.child=S):null===f.next&&(f.next=S)),S}(n,r,o,u,l),function Is(){return Rn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const m=function P(){const n=Rn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return M(f,!0),f}function Cl(n,r,o,u){if(0===o)return-1;const l=r.length;for(let f=0;f<o;f++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function bl(n,r,o){eo(r);try{const u=n.viewQuery;null!==u&&jd(1,u,o);const l=n.template;null!==l&&Zh(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kh(n,r),n.staticViewQueries&&jd(2,n.viewQuery,o);const f=n.components;null!==f&&function Dp(n,r){for(let o=0;o<r.length;o++)Mv(n,r[o])}(r,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,ds()}}function Ja(n,r,o,u){const l=r[2];if(128!=(128&l)){eo(r);try{zr(r),function Qi(n){return Rn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Zh(n,r,o,2,u);const m=3==(3&l);if(m){const V=n.preOrderCheckHooks;null!==V&&to(r,V,null)}else{const V=n.preOrderHooks;null!==V&&ia(r,V,0,null),hs(r,0)}if(function Pp(n){for(let r=Ac(n);null!==r;r=v(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const l=o[u],f=l[3];0==(512&l[2])&&Es(f,1),l[2]|=512}}}(r),function Av(n){for(let r=Ac(n);null!==r;r=v(r))for(let o=10;o<r.length;o++){const u=r[o],l=u[1];Uo(u)&&Ja(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&Kh(n,r),m){const V=n.contentCheckHooks;null!==V&&to(r,V)}else{const V=n.contentHooks;null!==V&&ia(r,V,1),hs(r,1)}!function Ev(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ii(~l);else{const f=l,m=o[++u],C=o[++u];va(m,f),C(2,r[f])}}}finally{Ii(-1)}}(n,r);const C=n.components;null!==C&&function wv(n,r){for(let o=0;o<r.length;o++)Sv(n,r[o])}(r,C);const S=n.viewQuery;if(null!==S&&jd(2,S,u),m){const V=n.viewCheckHooks;null!==V&&to(r,V)}else{const V=n.viewHooks;null!==V&&ia(r,V,2),hs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Es(r[3],-1))}finally{ds()}}}function Zh(n,r,o,u,l){const f=gr(),m=2&u;try{Ii(-1),m&&r.length>22&&Lg(n,r,22,!1),o(u,l)}finally{Ii(f)}}function Tl(n,r,o){!To()||(function Dv(n,r,o,u){const l=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||tn(o,r),Ui(u,r);const m=o.initialInputs;for(let C=l;C<f;C++){const S=n.data[C],V=Nr(S);V&&Tv(r,o,S);const Y=oa(r,n,C,o);Ui(Y,r),null!==m&&Rp(0,C-l,Y,S,0,m),V&&(ti(o.index,r)[8]=Y)}}(n,r,o,hi(o,r)),128==(128&o.flags)&&function Cv(n,r,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,m=function $o(){return Rn.lFrame.currentDirectiveIndex}();try{Ii(f);for(let C=u;C<l;C++){const S=n.data[C],V=r[C];Ho(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&lm(S,V)}}finally{Ii(-1),Ho(m)}}(n,r,o))}function qh(n,r,o=hi){const u=r.localNames;if(null!==u){let l=r.index+1;for(let f=0;f<u.length;f+=2){const m=u[f+1],C=-1===m?o(r,n):n[m];n[l++]=C}}}function dc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Cp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Cp(n,r,o,u,l,f,m,C,S,V){const Y=22+u,le=Y+l,Ae=function Iv(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:ar);return o}(Y,le),Qe="function"==typeof V?V():V;return Ae[1]={type:n,blueprint:Ae,template:o,queries:null,viewQuery:C,declTNode:r,data:Ae.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:Qe,incompleteFirstPass:!1}}function Yh(n,r,o,u){const l=nf(r);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Iu(n).push(u,l.length-1))}function rm(n,r,o){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(r,l):o[u]=[r,l]}return o}function im(n,r){const u=r.directiveEnd,l=n.data,f=r.attrs,m=[];let C=null,S=null;for(let V=r.directiveStart;V<u;V++){const Y=l[V],le=Y.inputs,Ae=null===f||Td(r)?null:dm(le,f);m.push(Ae),C=rm(le,V,C),S=rm(Y.outputs,V,S)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=C,r.outputs=S}function sm(n,r){const o=ti(r,n);16&o[2]||(o[2]|=32)}function Qh(n,r,o,u){let l=!1;if(To()){const f=function bv(n,r,o){const u=n.directiveRegistry;let l=null;if(u)for(let f=0;f<u.length;f++){const m=u[f];ep(o,m.selectors,!1)&&(l||(l=[]),et(tn(o,r),n,m.type),Nr(m)?(Jh(n,o),l.unshift(m)):l.push(m))}return l}(n,r,o),m=null===u?null:{"":-1};if(null!==f){l=!0,cm(o,n.data.length,f.length);for(let Y=0;Y<f.length;Y++){const le=f[Y];le.providersResolver&&le.providersResolver(le)}let C=!1,S=!1,V=Cl(n,r,f.length,null);for(let Y=0;Y<f.length;Y++){const le=f[Y];o.mergedAttrs=vt(o.mergedAttrs,le.hostAttrs),Xh(n,o,r,V,le),xp(V,le,m),null!==le.contentQueries&&(o.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(o.flags|=128);const Ae=le.type.prototype;!C&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),C=!0),!S&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),S=!0),V++}im(n,o)}m&&function Mp(n,r,o){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const f=o[r[l+1]];if(null==f)throw new We(-301,!1);u.push(r[l],f)}}}(o,u,m)}return o.mergedAttrs=vt(o.mergedAttrs,o.attrs),l}function Sp(n,r,o,u,l,f){const m=f.hostBindings;if(m){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const S=~r.index;(function um(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=S&&C.push(S),C.push(u,l,m)}}function lm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Jh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function xp(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Nr(r)&&(o[""]=n)}}function cm(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Xh(n,r,o,u,l){n.data[u]=l;const f=l.factory||(l.factory=ci(l.type)),m=new no(f,Nr(l),wl);n.blueprint[u]=m,o[u]=m,Sp(n,r,0,u,Cl(n,o,l.hostVars,ar),l)}function Tv(n,r,o){const u=hi(r,n),l=dc(o),f=n[10],m=$c(n,Ld(n,l,null,o.onPush?32:16,u,r,f,f.createRenderer(u,o),null,null,null));n[r.index]=m}function Fa(n,r,o,u,l,f){const m=hi(n,r);!function ef(n,r,o,u,l,f,m){if(null==f)n.removeAttribute(r,l,o);else{const C=null==m?Ue(f):m(f,u||"",l);n.setAttribute(r,l,C,o)}}(r[11],m,f,n.value,o,u,l)}function Rp(n,r,o,u,l,f){const m=f[r];if(null!==m){const C=u.setInput;for(let S=0;S<m.length;){const V=m[S++],Y=m[S++],le=m[S++];null!==C?u.setInput(o,le,V,Y):o[Y]=le}}}function dm(n,r){let o=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return o}function tf(n,r,o,u){return new Array(n,!0,!1,r,null,0,u,o,null,null)}function Sv(n,r){const o=ti(r,n);if(Uo(o)){const u=o[1];48&o[2]?Ja(u,o,u.template,o[8]):o[5]>0&&Ud(o)}}function Ud(n){for(let u=Ac(n);null!==u;u=v(u))for(let l=10;l<u.length;l++){const f=u[l];if(Uo(f))if(512&f[2]){const m=f[1];Ja(m,f,m.template,f[8])}else f[5]>0&&Ud(f)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=ti(o[u],n);Uo(l)&&l[5]>0&&Ud(l)}}function Mv(n,r){const o=ti(r,n),u=o[1];(function Op(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),bl(u,o,o[8])}function $c(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Bd(n){for(;n;){n[2]|=32;const r=fl(n);if(Bi(n)&&!r)return n;n=r}return null}function Yu(n,r,o,u=!0){const l=r[10];l.begin&&l.begin();try{Ja(n,r,n.template,o)}catch(m){throw u&&hm(r,m),m}finally{l.end&&l.end()}}function jd(n,r,o){Fi(0),r(n,o)}function nf(n){return n[7]||(n[7]=[])}function Iu(n){return n.cleanup||(n.cleanup=[])}function hm(n,r){const o=n[9],u=o?o.get(Vc,null):null;u&&u.handleError(r)}function $d(n,r,o,u,l){for(let f=0;f<o.length;){const m=o[f++],C=o[f++],S=r[m],V=n.data[m];null!==V.setInput?V.setInput(S,l,u,C):S[C]=l}}function Qu(n,r,o){const u=ji(r,n);!function J(n,r,o){n.setValue(r,o)}(n[11],u,o)}function sf(n,r,o){let u=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?f=C:1==f?l=Pe(l,C):2==f&&(u=Pe(u,C+": "+r[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Hc(n,r,o,u,l=!1){for(;null!==o;){const f=r[o.index];if(null!==f&&u.push(pr(f)),$r(f))for(let C=10;C<f.length;C++){const S=f[C],V=S[1].firstChild;null!==V&&Hc(S[1],S,V,u)}const m=o.type;if(8&m)Hc(n,r,o.child,u);else if(32&m){const C=hl(o,r);let S;for(;S=C();)u.push(S)}else if(16&m){const C=Ff(r,o);if(Array.isArray(C))u.push(...C);else{const S=fl(r[16]);Hc(S[1],S,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Hc(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if($r(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(Ms(r,u),$s(o,u))}this._attachedToViewContainer=!1}Hl(this._lView[1],this._lView)}onDestroy(r){Yh(this._lView[1],this._lView,null,r)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function An(n,r){Mc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=r}}class Np extends Hd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Yu(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kp extends Jl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Z(r);return new Gc(o,this.ngModule)}}function af(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Fp{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){const l=this.injector.get(r,tc,u);return l!==tc||o===tc?l:this.parentInjector.get(r,o,u)}}class Gc extends Wu{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function rv(n){return n.map(Fg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return af(this.componentDef.inputs)}get outputs(){return af(this.componentDef.outputs)}create(r,o,u,l){let f=(l=l||this.ngModule)instanceof ql?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Fp(r,f):r,C=m.get(Cd,null);if(null===C)throw new We(407,!1);const S=m.get(Mh,null),V=C.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",le=u?function bp(n,r,o){return n.selectRootElement(r,o===nt.ShadowDom)}(V,u,this.componentDef.encapsulation):ct(V,Y,function Rv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),Ae=this.componentDef.onPush?288:272,Qe=Cp(0,null,null,1,0,null,null,null,null,null),Tt=Ld(null,Qe,null,Ae,null,null,C,V,S,m,null);let Kt,an;eo(Tt);try{const Sn=function Vp(n,r,o,u,l,f){const m=o[1];o[22]=n;const S=Dl(m,22,2,"#host",null),V=S.mergedAttrs=r.hostAttrs;null!==V&&(sf(S,V,!0),null!==n&&(K(l,n,V),null!==S.classes&&Rc(l,n,S.classes),null!==S.styles&&Ti(l,n,S.styles)));const Y=u.createRenderer(n,r),le=Ld(o,dc(r),null,r.onPush?32:16,o[22],S,u,Y,f||null,null,null);return m.firstCreatePass&&(et(tn(S,o),m,r.type),Jh(m,S),cm(S,o.length,1)),$c(o,le),o[22]=le}(le,this.componentDef,Tt,C,V);if(le)if(u)K(V,le,["ng-version",Yf.full]);else{const{attrs:Wn,classes:Ft}=function iv(n){const r=[],o=[];let u=1,l=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===l?""!==f&&r.push(f,n[++u]):8===l&&o.push(f);else{if(!Na(l))break;l=f}u++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Wn&&K(V,le,Wn),Ft&&Ft.length>0&&Rc(V,le,Ft.join(" "))}if(an=bo(Qe,22),void 0!==o){const Wn=an.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const er=o[Ft];Wn.push(null!=er?Array.from(er):null)}}Kt=function Nv(n,r,o,u){const l=o[1],f=function am(n,r,o){const u=Pr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xh(n,u,r,Cl(n,r,1,null),o),im(n,u));const l=oa(r,n,u.directiveStart,u);Ui(l,r);const f=hi(u,r);return f&&Ui(f,r),l}(l,o,r);if(n[8]=o[8]=f,null!==u)for(const C of u)C(f,r);if(r.contentQueries){const C=Pr();r.contentQueries(1,f,C.directiveStart)}const m=Pr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ii(m.index),Sp(o[1],m,0,m.directiveStart,m.directiveEnd,r),lm(r,f)),f}(Sn,this.componentDef,Tt,[Up]),bl(Qe,Tt,null)}finally{ds()}return new Ov(this.componentType,Kt,Xl(an,Tt),Tt,an)}}class Ov extends class Ql{}{constructor(r,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Np(l),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[r])){const f=this._rootLView;$d(f[1],f,l,r,o),sm(f,this._tNode.index)}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Up(){const n=Pr();Cs(Dt()[1],n)}function Gd(n){let r=function uf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let l;if(Nr(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new We(903,!1);l=r.\u0275dir}if(l){if(o){u.push(l);const m=n;m.inputs=hc(n.inputs),m.declaredInputs=hc(n.declaredInputs),m.outputs=hc(n.outputs);const C=l.hostBindings;C&&fm(n,C);const S=l.viewQuery,V=l.contentQueries;if(S&&Fv(n,S),V&&Bp(n,V),De(n.inputs,l.inputs),De(n.declaredInputs,l.declaredInputs),De(n.outputs,l.outputs),Nr(l)&&l.data.animation){const Y=n.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let m=0;m<f.length;m++){const C=f[m];C&&C.ngInherit&&C(n),C===Gd&&(o=!1)}}r=Object.getPrototypeOf(r)}!function kv(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=vt(l.hostAttrs,o=vt(o,l.hostAttrs))}}(u)}function hc(n){return n===Cn?{}:n===Ot?[]:n}function Fv(n,r){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{r(u,l),o(u,l)}:r}function Bp(n,r){const o=n.contentQueries;n.contentQueries=o?(u,l,f)=>{r(u,l,f),o(u,l,f)}:r}function fm(n,r){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{r(u,l),o(u,l)}:r}let cf=null;function fc(){if(!cf){const n=ut.Symbol;if(n&&n.iterator)cf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(cf=u)}}}return cf}function zd(n){return!!Wd(n)&&(Array.isArray(n)||!(n instanceof Map)&&fc()in n)}function Wd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xa(n,r,o){return n[r]=o}function zs(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Du(n,r,o,u){const l=zs(n,r,o);return zs(n,r+1,u)||l}function Kc(n,r,o,u){const l=Dt();return zs(l,Bs(),r)&&(Jn(),Fa(vr(),l,n,r,o,u)),Kc}function mc(n,r,o,u,l,f){const C=Du(n,function wi(){return Rn.lFrame.bindingIndex}(),o,l);return ni(2),C?r+Ue(o)+u+Ue(l)+f:ar}function Wp(n,r,o,u,l,f,m,C){const S=Dt(),V=Jn(),Y=n+22,le=V.firstCreatePass?function wm(n,r,o,u,l,f,m,C,S){const V=r.consts,Y=Dl(r,n,4,m||null,gi(V,C));Qh(r,o,Y,gi(V,S)),Cs(r,Y);const le=Y.tViews=Cp(2,Y,u,l,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V);return null!==r.queries&&(r.queries.template(r,Y),le.queries=r.queries.embeddedTView(Y)),Y}(Y,V,S,r,o,u,l,f,m):V.data[Y];M(le,!1);const Ae=S[11].createComment("");$u(V,S,Ae,le),Ui(Ae,S),$c(S,S[Y]=tf(Ae,S,Ae,le)),os(le)&&Tl(V,S,le),null!=m&&qh(S,le,C)}function pf(n,r,o){const u=Dt();return zs(u,Bs(),r)&&function No(n,r,o,u,l,f,m,C){const S=hi(r,o);let Y,V=r.inputs;!C&&null!=V&&(Y=V[u])?($d(n,o,Y,u,l),Xr(r)&&sm(o,r.index)):3&r.type&&(u=function Ap(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=m?m(l,r.value||"",u):l,f.setProperty(S,u,l))}(Jn(),vr(),u,n,r,u[11],o,!1),pf}function gf(n,r,o,u,l){const m=l?"class":"style";$d(n,o,r.inputs[m],m,u)}function Zd(n,r,o,u){const l=Dt(),f=Jn(),m=22+n,C=l[11],S=l[m]=ct(C,r,function Ea(){return Rn.lFrame.currentNamespace}()),V=f.firstCreatePass?function Kd(n,r,o,u,l,f,m){const C=r.consts,V=Dl(r,n,2,l,gi(C,f));return Qh(r,o,V,gi(C,m)),null!==V.attrs&&sf(V,V.attrs,!1),null!==V.mergedAttrs&&sf(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(m,f,l,0,r,o,u):f.data[m];M(V,!0);const Y=V.mergedAttrs;null!==Y&&K(C,S,Y);const le=V.classes;null!==le&&Rc(C,S,le);const Ae=V.styles;return null!==Ae&&Ti(C,S,Ae),64!=(64&V.flags)&&$u(f,l,S,V),0===function Ei(){return Rn.lFrame.elementDepthCount}()&&Ui(S,l),function Fr(){Rn.lFrame.elementDepthCount++}(),os(V)&&(Tl(f,l,V),function cc(n,r,o){if(Ks(r)){const l=r.directiveEnd;for(let f=r.directiveStart;f<l;f++){const m=n.data[f];m.contentQueries&&m.contentQueries(1,o[f],f)}}}(f,V,l)),null!==u&&qh(l,V),Zd}function Ai(){let n=Pr();q()?function it(){Rn.lFrame.isParent=!1}():(n=n.parent,M(n,!1));const r=n;!function Us(){Rn.lFrame.elementDepthCount--}();const o=Jn();return o.firstCreatePass&&(Cs(o,n),Ks(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ru(n){return 0!=(16&n.flags)}(r)&&gf(o,r,Dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function b(n){return 0!=(32&n.flags)}(r)&&gf(o,r,Dt(),r.stylesWithoutHost,!1),Ai}function Rs(n,r,o,u){return Zd(n,r,o,u),Ai(),Rs}function Im(){return Dt()}function qd(n){return!!n&&"function"==typeof n.then}function Dm(n){return!!n&&"function"==typeof n.subscribe}const mf=Dm;function Yp(n,r,o,u){const l=Dt(),f=Jn(),m=Pr();return function Lv(n,r,o,u,l,f,m,C){const S=os(u),Y=n.firstCreatePass&&Iu(n),le=r[8],Ae=nf(r);let Qe=!0;if(3&u.type||C){const an=hi(u,r),Sn=C?C(an):an,Wn=Ae.length,Ft=C?Jr=>C(pr(Jr[u.index])):u.index;let er=null;if(!C&&S&&(er=function Si(n,r,o,u){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const m=l[f];if(m===o&&l[f+1]===u){const C=r[7],S=l[f+2];return C.length>S?C[S]:null}"string"==typeof m&&(f+=2)}return null}(n,r,l,u.index)),null!==er)(er.__ngLastListenerFn__||er).__ngNextListenerFn__=f,er.__ngLastListenerFn__=f,Qe=!1;else{f=zi(u,r,le,f,!1);const Jr=o.listen(Sn,l,f);Ae.push(f,Jr),Y&&Y.push(l,Ft,Wn,Wn+1)}}else f=zi(u,r,le,f,!1);const Tt=u.outputs;let Kt;if(Qe&&null!==Tt&&(Kt=Tt[l])){const an=Kt.length;if(an)for(let Sn=0;Sn<an;Sn+=2){const Wi=r[Kt[Sn]][Kt[Sn+1]].subscribe(f),uh=Ae.length;Ae.push(f,Wi),Y&&Y.push(l,u.index,uh,-(uh+1))}}}(f,l,l[11],m,n,r,0,u),Yp}function Vv(n,r,o,u){try{return!1!==o(u)}catch(l){return hm(n,l),!1}}function zi(n,r,o,u,l){return function f(m){if(m===Function)return u;Bd(2&n.flags?ti(n.index,r):r);let S=Vv(r,0,u,m),V=f.__ngNextListenerFn__;for(;V;)S=Vv(r,0,V,m)&&S,V=V.__ngNextListenerFn__;return l&&!1===S&&(m.preventDefault(),m.returnValue=!1),S}}function Qp(n=1){return function Ua(n){return(Rn.lFrame.contextLView=function na(n,r){for(;n>0;)r=r[15],n--;return r}(n,Rn.lFrame.contextLView))[8]}(n)}function xl(n,r,o,u,l){const f=n[o+1],m=null===r;let C=u?ka(f):Zu(f),S=!1;for(;0!==C&&(!1===S||m);){const Y=n[C+1];yf(n[C],r)&&(S=!0,n[C+1]=u?jh(Y):cp(Y)),C=u?ka(Y):Zu(Y)}S&&(n[o+1]=u?cp(f):jh(f))}function yf(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&y(n,r)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pm(n){return n.substring(Ps.key,Ps.keyEnd)}function Yd(n,r){const o=Ps.textEnd;return o===r?-1:(r=Ps.keyEnd=function km(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,Ps.key=r,o),bu(n,r,o))}function bu(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function _f(n,r){return function ko(n,r,o,u){const l=Dt(),f=Jn(),m=ni(2);f.firstUpdatePass&&Xd(f,n,m,u),r!==ar&&zs(l,m,r)&&$m(f,f.data[gr()],l,l[11],n,l[m+1]=function l0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ee(Gu(n)))),n}(r,o),u,m)}(n,r,null,!0),_f}function tg(n){!function tu(n,r,o,u){const l=Jn(),f=ni(2);l.firstUpdatePass&&Xd(l,null,f,u);const m=Dt();if(o!==ar&&zs(m,f,o)){const C=l.data[gr()];if(If(C,u)&&!Jd(l,f)){let S=u?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(o=Pe(S,o||"")),gf(l,C,m,o,u)}else!function nh(n,r,o,u,l,f,m,C){l===ar&&(l=Ot);let S=0,V=0,Y=0<l.length?l[0]:null,le=0<f.length?f[0]:null;for(;null!==Y||null!==le;){const Ae=S<l.length?l[S+1]:void 0,Qe=V<f.length?f[V+1]:void 0;let Kt,Tt=null;Y===le?(S+=2,V+=2,Ae!==Qe&&(Tt=le,Kt=Qe)):null===le||null!==Y&&Y<le?(S+=2,Tt=Y):(V+=2,Tt=le,Kt=Qe),null!==Tt&&$m(n,r,o,u,Tt,Kt,m,C),Y=S<l.length?l[S]:null,le=V<f.length?f[V]:null}}(l,C,m,m[11],m[f+1],m[f+1]=function th(n,r,o){if(null==o||""===o)return Ot;const u=[],l=Gu(o);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(u,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(u,f,l[f]);else"string"==typeof l&&r(u,l);return u}(n,r,o),u,f)}}(_,La,n,!0)}function La(n,r){for(let o=function Nm(n){return function Qd(n){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=n.length}(n),Yd(n,bu(n,0,Ps.textEnd))}(r);o>=0;o=Yd(r,o))_(n,Pm(r),!0)}function Jd(n,r){return r>=n.expandoStartIndex}function Xd(n,r,o,u){const l=n.data;if(null===l[o+1]){const f=l[gr()],m=Jd(n,o);If(f,u)&&null===r&&!m&&(r=!1),r=function Bm(n,r,o,u){const l=function Go(n){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(o=_c(o=wf(null,n,r,o,u),r.attrs,u),f=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==l)if(o=wf(l,n,r,o,u),null===f){let S=function eh(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Zu(u))return n[ka(u)]}(n,r,u);void 0!==S&&Array.isArray(S)&&(S=wf(null,n,r,S[1],u),S=_c(S,r.attrs,u),function Gv(n,r,o,u){n[ka(o?r.classBindings:r.styleBindings)]=u}(n,r,u,S))}else f=function Ef(n,r,o){let u;const l=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<l;f++)u=_c(u,n[f].hostAttrs,o);return _c(u,r.attrs,o)}(n,r,u)}return void 0!==f&&(u?r.residualClasses=f:r.residualStyles=f),o}(l,f,r,u),function Ml(n,r,o,u,l,f){let m=f?r.classBindings:r.styleBindings,C=ka(m),S=Zu(m);n[u]=o;let Y,V=!1;if(Array.isArray(o)){const le=o;Y=le[1],(null===Y||y(le,Y)>0)&&(V=!0)}else Y=o;if(l)if(0!==S){const Ae=ka(n[C+1]);n[u+1]=Bh(Ae,C),0!==Ae&&(n[Ae+1]=Gs(n[Ae+1],u)),n[C+1]=function lp(n,r){return 131071&n|r<<17}(n[C+1],u)}else n[u+1]=Bh(C,0),0!==C&&(n[C+1]=Gs(n[C+1],u)),C=u;else n[u+1]=Bh(S,0),0===C?C=u:n[S+1]=Gs(n[S+1],u),S=u;V&&(n[u+1]=cp(n[u+1])),xl(n,Y,u,!0),xl(n,Y,u,!1),function u0(n,r,o,u,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&y(f,r)>=0&&(o[u+1]=jh(o[u+1]))}(r,Y,n,u,f),m=Bh(C,S),f?r.classBindings=m:r.styleBindings=m}(l,f,r,o,m,u)}}function wf(n,r,o,u,l){let f=null;const m=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<m&&(f=r[C],u=_c(u,f.hostAttrs,l),f!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function _c(n,r,o){const u=o?1:2;let l=-1;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?l=m:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_(n,m,!!o||r[++f]))}return void 0===n?null:n}function $m(n,r,o,u,l,f,m,C){if(!(3&r.type))return;const S=n.data,V=S[C+1];ng(function Wg(n){return 1==(1&n)}(V)?Ec(S,r,o,l,Zu(V),m):void 0)||(ng(f)||function Od(n){return 2==(2&n)}(V)&&(f=Ec(S,null,o,l,C,m)),function xy(n,r,o,u,l){if(r)l?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:ns.DashCase;null==l?n.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=ns.Important),n.setStyle(o,u,l,f))}}(u,m,ji(gr(),o),l,f))}function Ec(n,r,o,u,l,f){const m=null===r;let C;for(;l>0;){const S=n[l],V=Array.isArray(S),Y=V?S[1]:S,le=null===Y;let Ae=o[l+1];Ae===ar&&(Ae=le?Ot:void 0);let Qe=le?E(Ae,u):Y===u?Ae:void 0;if(V&&!ng(Qe)&&(Qe=E(S,u)),ng(Qe)&&(C=Qe,m))return C;const Tt=n[l+1];l=m?ka(Tt):Zu(Tt)}if(null!==r){let S=f?r.residualClasses:r.residualStyles;null!=S&&(C=E(S,u))}return C}function ng(n){return void 0!==n}function If(n,r){return 0!=(n.flags&(r?16:32))}function Hm(n,r=""){const o=Dt(),u=Jn(),l=n+22,f=u.firstCreatePass?Dl(u,l,1,r,null):u.data[l],m=o[l]=function H(n,r){return n.createText(r)}(o[11],r);$u(u,o,m,f),M(f,!1)}function Jc(n){return Df("",n,""),Jc}function Df(n,r,o){const u=Dt(),l=function Al(n,r,o,u){return zs(n,Bs(),o)?r+Ue(o)+u:ar}(u,n,r,o);return l!==ar&&Qu(u,gr(),l),Df}function rg(n,r,o,u,l){const f=Dt(),m=mc(f,n,r,o,u,l);return m!==ar&&Qu(f,gr(),m),rg}const Cc=void 0;var qv=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let nu={};function cy(n){const r=function m0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=hy(r);if(o)return o;const u=r.split("-")[0];if(o=hy(u),o)return o;if("en"===u)return qv;throw new We(701,!1)}function dy(n){return cy(n)[zn.PluralCase]}function hy(n){return n in nu||(nu[n]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[n]),nu[n]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const oh="en-US";let og=oh;function n_(n,r,o,u,l){if(n=ye(n),Array.isArray(n))for(let f=0;f<n.length;f++)n_(n[f],r,o,u,l);else{const f=Jn(),m=Dt();let C=fa(n)?n:ye(n.provide),S=_l(n);const V=Pr(),Y=1048575&V.providerIndexes,le=V.directiveStart,Ae=V.providerIndexes>>20;if(fa(n)||!n.multi){const Qe=new no(S,l,wl),Tt=i_(C,r,l?Y:Y+Ae,le);-1===Tt?(et(tn(V,m),f,C),r_(f,n,r.length),r.push(C),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(Qe),m.push(Qe)):(o[Tt]=Qe,m[Tt]=Qe)}else{const Qe=i_(C,r,Y+Ae,le),Tt=i_(C,r,Y,Y+Ae),Kt=Qe>=0&&o[Qe],an=Tt>=0&&o[Tt];if(l&&!an||!l&&!Kt){et(tn(V,m),f,C);const Sn=function Uw(n,r,o,u,l){const f=new no(n,o,wl);return f.multi=[],f.index=r,f.componentProviders=0,P0(f,l,u&&!o),f}(l?Vw:Lw,o.length,l,u,S);!l&&an&&(o[Tt].providerFactory=Sn),r_(f,n,r.length,0),r.push(C),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),o.push(Sn),m.push(Sn)}else r_(f,n,Qe>-1?Qe:Tt,P0(o[l?Tt:Qe],S,!l&&u));!l&&u&&an&&o[Tt].componentProviders++}}}function r_(n,r,o,u){const l=fa(r),f=function wd(n){return!!n.useClass}(r);if(l||f){const S=(f?ye(r.useClass):r).prototype.ngOnDestroy;if(S){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Y=V.indexOf(o);-1===Y?V.push(o,[u,S]):V[Y+1].push(u,S)}else V.push(o,S)}}}function P0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function i_(n,r,o,u){for(let l=o;l<u;l++)if(r[l]===n)return l;return-1}function Lw(n,r,o,u){return s_(this.multi,[])}function Vw(n,r,o,u){const l=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=oa(o,o[1],this.providerFactory.index,u);f=C.slice(0,m),s_(l,f);for(let S=m;S<C.length;S++)f.push(C[S])}else f=[],s_(l,f);return f}function s_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function O0(n,r=[]){return o=>{o.providersResolver=(u,l)=>function Fw(n,r,o){const u=Jn();if(u.firstCreatePass){const l=Nr(n);n_(o,u.data,u.blueprint,l,!0),n_(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class Sf{}class N0{}function Bw(n,r){return new k0(n,r??null)}class k0 extends Sf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kp(this);const u=jt(r);this._bootstrapComponents=Oo(u.bootstrap),this._r3Injector=Fh(r,o,[{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class o_ extends N0{constructor(r){super(),this.moduleType=r}create(r){return new k0(this.moduleType,r)}}class jw extends Sf{constructor(r,o,u){super(),this.componentFactoryResolver=new kp(this),this.instance=null;const l=new Wf([...r,{provide:Sf,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],o||Id(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function a_(n,r,o=null){return new jw(n,r,o).injector}let $w=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Gf(0,o.type),l=u.length>0?a_([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ht({token:n,providedIn:"environment",factory:()=>new n(Vi(ql))}),n})();function F0(n){n.getStandaloneInjector=r=>r.get($w).getOrCreateStandaloneInjector(n)}function H0(n,r,o){const u=mi()+n,l=Dt();return l[u]===ar?Xa(l,u,o?r.call(o):r()):function pc(n,r){return n[r]}(l,u)}function G0(n,r,o,u){return function z0(n,r,o,u,l,f){const m=r+o;return zs(n,m,l)?Xa(n,m+1,f?u.call(f,l):u(l)):lg(n,m+1)}(Dt(),mi(),n,r,o,u)}function lg(n,r){const o=n[r];return o===ar?void 0:o}function Y0(n,r){const o=Jn();let u;const l=n+22;o.firstCreatePass?(u=function sI(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const f=u.factory||(u.factory=ci(u.type)),m=ir(wl);try{const C=$n(!1),S=f();return $n(C),function ff(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,Dt(),l,S),S}finally{ir(m)}}function Q0(n,r,o,u){const l=n+22,f=Dt(),m=function ki(n,r){return n[r]}(f,l);return function cg(n,r){return n[1].data[r].pure}(f,l)?function W0(n,r,o,u,l,f,m){const C=r+o;return Du(n,C,l,f)?Xa(n,C+2,m?u.call(m,l,f):u(l,f)):lg(n,C+2)}(f,mi(),r,m.transform,o,u,m):m.transform(o,u)}function l_(n){return r=>{setTimeout(n,void 0,r)}}const Pl=class cI extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let l=r,f=o||(()=>null),m=u;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),f=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(f=l_(f),l&&(l=l_(l)),m&&(m=l_(m)));const C=super.subscribe({next:l,error:f,complete:m});return r instanceof F.w0&&r.add(C),C}};function dI(){return this._results[fc()]()}class c_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fc(),u=c_.prototype;u[o]||(u[o]=dI)}get changes(){return this._changes||(this._changes=new Pl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const l=Ci(r);(this._changesDetected=!function Ga(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],f=r[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();const hI=dg,fI=class extends hI{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r,o){const u=this._declarationTContainer.tViews,l=Ld(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(u)),bl(u,l,r),new Hd(l)}};function pI(){return _y(Pr(),Dt())}function _y(n,r){return 4&n.type?new fI(r,n,Xl(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(){return eE(Pr(),Dt())}const mI=Ey,J0=class extends mI{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){const r=qt(this._hostTNode,this._hostLView);if(mr(r)){const o=In(r,this._hostLView),u=nr(r);return new ii(o[1].data[u+8],o)}return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=X0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const m=r.createEmbeddedView(o||{},f);return this.insert(m,l),m}createComponent(r,o,u,l,f){const m=r&&!function io(n){return"function"==typeof n}(r);let C;if(m)C=o;else{const le=o||{};C=le.index,u=le.injector,l=le.projectableNodes,f=le.environmentInjector||le.ngModuleRef}const S=m?r:new Gc(Z(r)),V=u||this.parentInjector;if(!f&&null==S.ngModule){const Ae=(m?V:this.parentInjector).get(ql,null);Ae&&(f=Ae)}const Y=S.create(V,l,void 0,f);return this.insert(Y.hostView,C),Y}insert(r,o){const u=r._lView,l=u[1];if(function Qs(n){return $r(n[3])}(u)){const Y=this.indexOf(r);if(-1!==Y)this.detach(Y);else{const le=u[3],Ae=new J0(le,le[6],le[3]);Ae.detach(Ae.indexOf(r))}}const f=this._adjustIndex(o),m=this._lContainer;!function vo(n,r,o,u){const l=10+u,f=o.length;u>0&&(o[l-1][4]=r),u<f-10?(r[4]=o[l],iu(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const m=r[17];null!==m&&o!==m&&function Hs(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(m,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=64}(l,u,m,f);const C=Hu(f,m),S=u[11],V=ld(S,m[7]);return null!==V&&function rn(n,r,o,u,l,f){u[0]=l,u[6]=r,Mc(n,u,o,1,l,f)}(l,m[6],S,u,V,C),r.attachToViewContainerRef(),iu(d_(m),f,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=X0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=Ms(this._lContainer,o);u&&($s(d_(this._lContainer),o),Hl(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=Ms(this._lContainer,o);return u&&null!=$s(d_(this._lContainer),o)?new Hd(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function X0(n){return n[8]}function d_(n){return n[8]||(n[8]=[])}function eE(n,r){let o;const u=r[n.index];if($r(u))o=u;else{let l;if(8&n.type)l=pr(u);else{const f=r[11];l=f.createComment("");const m=hi(n,r);qa(f,ld(f,m),l,function fg(n,r){return n.nextSibling(r)}(f,m),!1)}r[n.index]=o=tf(u,r,l,n),$c(r,o)}return new J0(o,n,r)}class h_{constructor(r){this.queryList=r,this.matches=null}clone(){return new h_(this.queryList)}setDirty(){this.queryList.setDirty()}}class f_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const m=o.getByIndex(f);l.push(this.queries[m.indexInDeclarationView].clone())}return new f_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==lE(r,o).matches&&this.queries[o].setDirty()}}class tE{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class p_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(r,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new p_(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class g_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new g_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(r,o,_I(o,f)),this.matchTNodeWithReadOption(r,o,Ba(o,r,f,!1,!1))}else u===dg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ba(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ec||l===Ey||l===dg&&4&o.type)this.addMatch(o.index,-2);else{const f=Ba(o,r,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function _I(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function wI(n,r,o,u){return-1===o?function EI(n,r){return 11&n.type?Xl(n,r):4&n.type?_y(n,r):null}(r,n):-2===o?function II(n,r,o){return o===ec?Xl(r,n):o===dg?_y(r,n):o===Ey?eE(r,n):void 0}(n,r,u):oa(n,n[1],o,r)}function nE(n,r,o,u){const l=r[19].queries[u];if(null===l.matches){const f=n.data,m=o.matches,C=[];for(let S=0;S<m.length;S+=2){const V=m[S];C.push(V<0?null:wI(r,f[V],m[S+1],o.metadata.read))}l.matches=C}return l.matches}function m_(n,r,o,u){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const m=nE(n,r,l,o);for(let C=0;C<f.length;C+=2){const S=f[C];if(S>0)u.push(m[C/2]);else{const V=f[C+1],Y=r[-S];for(let le=10;le<Y.length;le++){const Ae=Y[le];Ae[17]===Ae[3]&&m_(Ae[1],Ae,V,u)}if(null!==Y[9]){const le=Y[9];for(let Ae=0;Ae<le.length;Ae++){const Qe=le[Ae];m_(Qe[1],Qe,V,u)}}}}}return u}function rE(n){const r=Dt(),o=Jn(),u=Ao();Fi(u+1);const l=lE(o,u);if(n.dirty&&function ya(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?m_(o,r,u,[]):nE(o,r,l,u);n.reset(f,Zf),n.notifyOnChanges()}return!0}return!1}function iE(n,r,o){const u=Jn();u.firstCreatePass&&(uE(u,new tE(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),aE(u,Dt(),r)}function sE(n,r,o,u){const l=Jn();if(l.firstCreatePass){const f=Pr();uE(l,new tE(r,o,u),f.index),function CI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}aE(l,Dt(),o)}function oE(){return function DI(n,r){return n[19].queries[r].queryList}(Dt(),Ao())}function aE(n,r,o){const u=new c_(4==(4&o));Yh(n,r,u,u.destroy),null===r[19]&&(r[19]=new f_),r[19].queries.push(new h_(u))}function uE(n,r,o){null===n.queries&&(n.queries=new p_),n.queries.track(new g_(r,o))}function lE(n,r){return n.queries.getByIndex(r)}function Iy(...n){}const SE=new Mr("Application Initializer");let Dy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(qd(f))o.push(f);else if(mf(f)){const m=new Promise((C,S)=>{f.subscribe({complete:C,error:S})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vi(SE,8))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ME=new Mr("AppId",{providedIn:"root",factory:function xE(){return`${w_()}${w_()}${w_()}`}});function w_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RE=new Mr("Platform Initializer"),zI=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PE=new Mr("appBootstrapListener");let WI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Mr("LocaleId",{providedIn:"root",factory:()=>Fl(Cy,xt.Optional|xt.SkipSelf)||function KI(){return typeof $localize<"u"&&$localize.locale||oh}()}),ZI=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let YI=(()=>{class n{compileModuleSync(o){return new o_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Oo(jt(o).declarations).reduce((m,C)=>{const S=Z(C);return S&&m.push(new Gc(S)),m},[]);return new qI(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function I_(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function eD(){let n=ut.requestAnimationFrame,r=ut.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(n){const r=()=>{!function nD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,D_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,m,C)=>{try{return kE(n),o.invokeTask(l,f,m,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),FE(n)}},onInvoke:(o,u,l,f,m,C,S)=>{try{return kE(n),o.invoke(l,f,m,C,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),FE(n)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,C_(n),D_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new We(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,l){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+l,r,tD,Iy,Iy);try{return f.runTask(m,o,u)}finally{f.cancelTask(m)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function D_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FE(n){n._nesting--,D_(n)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,l){return r.apply(o,u)}}const LE=new Mr(""),VE=new Mr("");let b_,sD=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b_||(function oD(n){b_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),I_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vi(Au),Vi(UE),Vi(VE))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),UE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return b_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xc=null;const BE=new Mr("AllowMultipleToken"),T_=new Mr("PlatformDestroyListeners");class lD{constructor(r,o){this.name=r,this.token=o}}function $E(n,r,o=[]){const u=`Platform: ${r}`,l=new Mr(u);return(f=[])=>{let m=A_();if(!m||m.injector.get(BE,!1)){const C=[...o,...f,{provide:l,useValue:!0}];n?n(C):function cD(n){if(Xc&&!Xc.get(BE,!1))throw new We(400,!1);Xc=n;const r=n.get(GE);(function jE(n){const r=n.get(RE,null);r&&r.forEach(o=>o())})(n)}(function HE(n=[],r){return Qa.create({name:r,providers:[{provide:bh,useValue:"platform"},{provide:T_,useValue:new Set([()=>Xc=null])},...n]})}(C,u))}return function hD(n){const r=A_();if(!r)throw new We(401,!1);return r}()}}function A_(){return Xc?.get(GE)??null}let GE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function WE(n,r){let o;return o="noop"===n?new iD:("zone.js"===n?void 0:n)||new Au(r),o}(u?.ngZone,function zE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Au,useValue:l}];return l.run(()=>{const m=Qa.create({providers:f,parent:this.injector,name:o.moduleType.name}),C=o.create(m),S=C.injector.get(Vc,null);if(!S)throw new We(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:Y=>{S.handleError(Y)}});C.onDestroy(()=>{Ty(this._modules,C),V.unsubscribe()})}),function KE(n,r,o){try{const u=o();return qd(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(S,l,()=>{const V=C.injector.get(Dy);return V.runInitializers(),V.donePromise.then(()=>(function Xu(n){$e(n,"Expected localeId to be defined"),"string"==typeof n&&(og=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Cy,oh)||oh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=ZE({},u);return function aD(n,r,o){const u=new o_(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(by);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new We(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(T_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vi(Qa))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ZE(n,r){return Array.isArray(r)?r.reduce(ZE,n):{...n,...r}}let by=(()=>{class n{constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new U.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new U.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),I_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ce.T)(f,m.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Wu;if(!this._injector.get(Dy).done)throw!l&&dt(o),new We(405,false);let m;m=l?o:this._injector.get(Jl).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const C=function uD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Sf),V=m.create(Qa.NULL,[],u||m.selector,C),Y=V.location.nativeElement,le=V.injector.get(LE,null);return le?.registerApplication(Y),V.onDestroy(()=>{this.detachView(V.hostView),Ty(this.components,V),le?.unregisterApplication(Y)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ty(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(PE,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ty(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new We(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vi(Au),Vi(ql),Vi(Vc))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let YE=!0,QE=!1;function pD(){return QE=!0,YE}function gD(){if(QE)throw new Error("Cannot enable prod mode after platform setup.");YE=!1}let mD=(()=>{class n{}return n.__NG_ELEMENT_ID__=yD,n})();function yD(n){return function vD(n,r,o){if(Xr(n)&&!o){const u=ti(n.index,r);return new Hd(u,u)}return 47&n.type?new Hd(r[16],r):null}(Pr(),Dt(),16==(16&n))}class tw{constructor(){}supports(r){return zd(r)}create(r){return new CD(r)}}const DD=(n,r)=>r;class CD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const m=!u||o&&o.currentIndex<rw(u,l,f)?o:u,C=rw(m,l,f),S=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{f||(f=[]);const V=C-l,Y=S-l;if(V!=Y){for(let Ae=0;Ae<V;Ae++){const Qe=Ae<f.length?f[Ae]:f[Ae]=0,Tt=Qe+Ae;Y<=Tt&&Tt<V&&(f[Ae]=Qe+1)}f[m.previousIndex]=Y-V}}C!==S&&r(m,C,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!zd(r))throw new We(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,f,m,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)f=r[C],m=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,f,m,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,C),u=!0),o=o._next}else l=0,function jp(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[fc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,C=>{m=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,C,m,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,l){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,l)):r=this._addAfter(new bD(o,u),f,l),r}_verifyReinsertion(r,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?r=this._reinsertAfter(f,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,f=r._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new nw),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class nw{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new TD,this.map.set(o,u)),u.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rw(n,r,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+r+l}class iw{constructor(){}supports(r){return r instanceof Map||Wd(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Wd(r)))throw new We(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const f=l._prev,m=l._next;return f&&(f._next=m),m&&(m._prev=f),l._next=null,l._prev=null,l}const u=new SD(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sw(){return new P_([new tw])}let P_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||sw()),deps:[[n,new vi,new Dr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new We(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:sw}),n})();function ow(){return new O_([new iw])}let O_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||ow()),deps:[[n,new vi,new Dr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new We(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:ow}),n})();const RD=$E(null,"core",[]);let PD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vi(by))},n.\u0275mod=de({type:n}),n.\u0275inj=nn({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Ut,ke,R)=>{R.d(ke,{EJ:()=>us,F:()=>Ni,Fd:()=>pr,Fj:()=>ze,JJ:()=>xt,JL:()=>Mn,Kr:()=>qi,NI:()=>Kr,On:()=>wo,Q7:()=>ho,UX:()=>Us,Wl:()=>ne,YN:()=>Vo,_Y:()=>Fs,j3:()=>jo,kI:()=>ge,qQ:()=>ls,sg:()=>kn,u:()=>di,u5:()=>Fr,wV:()=>dr});var d=R(4650),F=R(6895),U=R(8996),ce=R(4128),ae=R(4004);let we=(()=>{class k{constructor(M,q){this._renderer=M,this._elementRef=q,this.onChange=it=>{},this.onTouched=()=>{}}setProperty(M,q){this._renderer.setProperty(this._elementRef.nativeElement,M,q)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(d.Qsj),d.Y36(d.SBq))},k.\u0275dir=d.lG2({type:k}),k})(),De=(()=>{class k extends we{}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,features:[d.qOj]}),k})();const ee=new d.OlP("NgValueAccessor"),Pe={provide:ee,useExisting:(0,d.Gpc)(()=>ne),multi:!0};let ne=(()=>{class k extends De{writeValue(M){this.setProperty("checked",M)}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,q){1&M&&d.NdJ("change",function(on){return q.onChange(on.target.checked)})("blur",function(){return q.onTouched()})},features:[d._Bn([Pe]),d.qOj]}),k})();const ue={provide:ee,useExisting:(0,d.Gpc)(()=>ze),multi:!0},qe=new d.OlP("CompositionEventMode");let ze=(()=>{class k extends we{constructor(M,q,it){super(M,q),this._compositionMode=it,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const k=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qe,8))},k.\u0275dir=d.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,q){1&M&&d.NdJ("input",function(on){return q._handleInput(on.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(on){return q._compositionEnd(on.target.value)})},features:[d._Bn([ue]),d.qOj]}),k})();function wt(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function Ue(k){return null!=k&&"number"==typeof k.length}const Se=new d.OlP("NgValidators"),bt=new d.OlP("NgAsyncValidators"),mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(P){return st(P)}static max(P){return at(P)}static required(P){return Et(P)}static requiredTrue(P){return function Fe(k){return!0===k.value?null:{required:!0}}(P)}static email(P){return function Ce(k){return wt(k.value)||mt.test(k.value)?null:{email:!0}}(P)}static minLength(P){return function Me(k){return P=>wt(P.value)||!Ue(P.value)?null:P.value.length<k?{minlength:{requiredLength:k,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function pt(k){return P=>Ue(P.value)&&P.value.length>k?{maxlength:{requiredLength:k,actualLength:P.value.length}}:null}(P)}static pattern(P){return function ft(k){if(!k)return Bt;let P,M;return"string"==typeof k?(M="","^"!==k.charAt(0)&&(M+="^"),M+=k,"$"!==k.charAt(k.length-1)&&(M+="$"),P=new RegExp(M)):(M=k.toString(),P=k),q=>{if(wt(q.value))return null;const it=q.value;return P.test(it)?null:{pattern:{requiredPattern:M,actualValue:it}}}}(P)}static nullValidator(P){return null}static compose(P){return tt(P)}static composeAsync(P){return Ct(P)}}function st(k){return P=>{if(wt(P.value)||wt(k))return null;const M=parseFloat(P.value);return!isNaN(M)&&M<k?{min:{min:k,actual:P.value}}:null}}function at(k){return P=>{if(wt(P.value)||wt(k))return null;const M=parseFloat(P.value);return!isNaN(M)&&M>k?{max:{max:k,actual:P.value}}:null}}function Et(k){return wt(k.value)?{required:!0}:null}function Bt(k){return null}function Pt(k){return null!=k}function ur(k){return(0,d.QGY)(k)?(0,U.D)(k):k}function je(k){let P={};return k.forEach(M=>{P=null!=M?{...P,...M}:P}),0===Object.keys(P).length?null:P}function Be(k,P){return P.map(M=>M(k))}function $e(k){return k.map(P=>function Je(k){return!k.validate}(P)?P:M=>P.validate(M))}function tt(k){if(!k)return null;const P=k.filter(Pt);return 0==P.length?null:function(M){return je(Be(M,P))}}function _t(k){return null!=k?tt($e(k)):null}function Ct(k){if(!k)return null;const P=k.filter(Pt);return 0==P.length?null:function(M){const q=Be(M,P).map(ur);return(0,ce.D)(q).pipe((0,ae.U)(je))}}function At(k){return null!=k?Ct($e(k)):null}function Ht(k,P){return null===k?[P]:Array.isArray(k)?[...k,P]:[k,P]}function Nt(k){return k._rawValidators}function nn(k){return k._rawAsyncValidators}function ln(k){return k?Array.isArray(k)?k:[k]:[]}function un(k,P){return Array.isArray(k)?k.includes(P):k===P}function Ln(k,P){const M=ln(P);return ln(k).forEach(it=>{un(M,it)||M.push(it)}),M}function rr(k,P){return ln(P).filter(M=>!un(k,M))}class Gt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=At(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P){this.control&&this.control.reset(P)}hasError(P,M){return!!this.control&&this.control.hasError(P,M)}getError(P,M){return this.control?this.control.getError(P,M):null}}class cn extends Gt{get formDirective(){return null}get path(){return null}}class xn extends Gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vn{constructor(P){this._cd=P}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xt=(()=>{class k extends Vn{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(xn,2))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,q){2&M&&d.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[d.qOj]}),k})(),Mn=(()=>{class k extends Vn{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(cn,10))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,q){2&M&&d.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[d.qOj]}),k})();const Zt="VALID",Jt="INVALID",Pn="PENDING",Zn="DISABLED";function Xe(k){return(He(k)?k.validators:k)||null}function L(k){return Array.isArray(k)?_t(k):k||null}function X(k,P){return(He(P)?P.asyncValidators:k)||null}function de(k){return Array.isArray(k)?At(k):k||null}function He(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function re(k,P,M){const q=k.controls;if(!(P?Object.keys(q):q).length)throw new d.vHH(1e3,"");if(!q[M])throw new d.vHH(1001,"")}function oe(k,P,M){k._forEachChild((q,it)=>{if(void 0===M[it])throw new d.vHH(1002,"")})}class z{constructor(P,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=P,this._rawAsyncValidators=M,this._composedValidatorFn=L(this._rawValidators),this._composedAsyncValidatorFn=de(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===Jt}get pending(){return this.status==Pn}get disabled(){return this.status===Zn}get enabled(){return this.status!==Zn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._rawValidators=P,this._composedValidatorFn=L(P)}setAsyncValidators(P){this._rawAsyncValidators=P,this._composedAsyncValidatorFn=de(P)}addValidators(P){this.setValidators(Ln(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Ln(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(rr(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(rr(P,this._rawAsyncValidators))}hasValidator(P){return un(this._rawValidators,P)}hasAsyncValidator(P){return un(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=Pn,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=Zn,this.errors=null,this._forEachChild(q=>{q.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:M}),this._onDisabledChange.forEach(q=>q(!0))}enable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=Zt,this._forEachChild(q=>{q.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:M}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zt||this.status===Pn)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zn:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=Pn,this._hasOwnPendingAsyncValidator=!0;const M=ur(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,M={}){this.errors=P,this._updateControlsErrors(!1!==M.emitEvent)}get(P){let M=P;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((q,it)=>q&&q._find(it),this)}getError(P,M){const q=M?this.get(M):this;return q&&q.errors?q.errors[P]:null}hasError(P,M){return!!this.getError(P,M)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Zn:this.errors?Jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pn)?Pn:this._anyControlsHaveStatus(Jt)?Jt:Zt}_anyControlsHaveStatus(P){return this._anyControls(M=>M.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){He(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}}class Z extends z{constructor(P,M,q){super(Xe(M),X(q,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,M){return this.controls[P]?this.controls[P]:(this.controls[P]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(P,M,q={}){this.registerControl(P,M),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(P,M={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(P,M,q={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],M&&this.registerControl(P,M),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,M={}){oe(this,0,P),Object.keys(P).forEach(q=>{re(this,!0,q),this.controls[q].setValue(P[q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(Object.keys(P).forEach(q=>{const it=this.controls[q];it&&it.patchValue(P[q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P={},M={}){this._forEachChild((q,it)=>{q.reset(P[it],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(P,M,q)=>(P[q]=M.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(M,q)=>!!q._syncPendingControls()||M);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(M=>{const q=this.controls[M];q&&P(q,M)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[M,q]of Object.entries(this.controls))if(this.contains(M)&&P(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,q,it)=>((q.enabled||this.disabled)&&(M[it]=q.value),M))}_reduceChildren(P,M){let q=P;return this._forEachChild((it,on)=>{q=M(q,it,on)}),q}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}class dt extends Z{}function sn(k,P){return[...P.path,k]}function se(k,P){Ke(k,P),P.valueAccessor.writeValue(k.value),k.disabled&&P.valueAccessor.setDisabledState?.(!0),function yn(k,P){P.valueAccessor.registerOnChange(M=>{k._pendingValue=M,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Le(k,P)})}(k,P),function St(k,P){const M=(q,it)=>{P.valueAccessor.writeValue(q),it&&P.viewToModelUpdate(q)};k.registerOnChange(M),P._registerOnDestroy(()=>{k._unregisterOnChange(M)})}(k,P),function Ve(k,P){P.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Le(k,P),"submit"!==k.updateOn&&k.markAsTouched()})}(k,P),function Oe(k,P){if(P.valueAccessor.setDisabledState){const M=q=>{P.valueAccessor.setDisabledState(q)};k.registerOnDisabledChange(M),P._registerOnDestroy(()=>{k._unregisterOnDisabledChange(M)})}}(k,P)}function he(k,P,M=!0){const q=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(q),P.valueAccessor.registerOnTouched(q)),Vt(k,P),k&&(P._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function te(k,P){k.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(P)})}function Ke(k,P){const M=Nt(k);null!==P.validator?k.setValidators(Ht(M,P.validator)):"function"==typeof M&&k.setValidators([M]);const q=nn(k);null!==P.asyncValidator?k.setAsyncValidators(Ht(q,P.asyncValidator)):"function"==typeof q&&k.setAsyncValidators([q]);const it=()=>k.updateValueAndValidity();te(P._rawValidators,it),te(P._rawAsyncValidators,it)}function Vt(k,P){let M=!1;if(null!==k){if(null!==P.validator){const it=Nt(k);if(Array.isArray(it)&&it.length>0){const on=it.filter(Yn=>Yn!==P.validator);on.length!==it.length&&(M=!0,k.setValidators(on))}}if(null!==P.asyncValidator){const it=nn(k);if(Array.isArray(it)&&it.length>0){const on=it.filter(Yn=>Yn!==P.asyncValidator);on.length!==it.length&&(M=!0,k.setAsyncValidators(on))}}}const q=()=>{};return te(P._rawValidators,q),te(P._rawAsyncValidators,q),M}function Le(k,P){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function It(k,P){Ke(k,P)}function Rr(k,P){if(!k.hasOwnProperty("model"))return!1;const M=k.model;return!!M.isFirstChange()||!Object.is(P,M.currentValue)}function Wr(k,P){k._syncPendingControls(),P.forEach(M=>{const q=M.control;"submit"===q.updateOn&&q._pendingChange&&(M.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}function Or(k,P){if(!P)return null;let M,q,it;return Array.isArray(P),P.forEach(on=>{on.constructor===ze?M=on:function Gr(k){return Object.getPrototypeOf(k.constructor)===De}(on)?q=on:it=on}),it||q||M||null}const ui={provide:cn,useExisting:(0,d.Gpc)(()=>Ni)},ks=(()=>Promise.resolve())();let Ni=(()=>{class k extends cn{constructor(M,q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Z({},_t(M),At(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){ks.then(()=>{const q=this._findContainer(M.path);M.control=q.registerControl(M.name,M.control),se(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){ks.then(()=>{const q=this._findContainer(M.path);q&&q.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){ks.then(()=>{const q=this._findContainer(M.path),it=new Z({});It(it,M),q.registerControl(M.name,it),it.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){ks.then(()=>{const q=this._findContainer(M.path);q&&q.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,q){ks.then(()=>{this.form.get(M.path).setValue(q)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,Wr(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(Se,10),d.Y36(bt,10))},k.\u0275dir=d.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,q){1&M&&d.NdJ("submit",function(on){return q.onSubmit(on)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ui]),d.qOj]}),k})();function Tr(k,P){const M=k.indexOf(P);M>-1&&k.splice(M,1)}function Ki(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const Kr=class extends z{constructor(P=null,M,q){super(Xe(M),X(q,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),He(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=Ki(P)?P.value:P)}setValue(P,M={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(P,M={}){this.setValue(P,M)}reset(P=this.defaultValue,M={}){this._applyFormState(P),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Tr(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Tr(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){Ki(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},Bi={provide:xn,useExisting:(0,d.Gpc)(()=>wo)},Zs=(()=>Promise.resolve())();let wo=(()=>{class k extends xn{constructor(M,q,it,on,Yn){super(),this._changeDetectorRef=Yn,this.control=new Kr,this._registered=!1,this.update=new d.vpe,this._parent=M,this._setValidators(q),this._setAsyncValidators(it),this.valueAccessor=Or(0,on)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const q=M.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),Rr(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){se(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Zs.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const q=M.isDisabled.currentValue,it=0!==q&&(0,d.D6c)(q);Zs.then(()=>{it&&!this.control.disabled?this.control.disable():!it&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?sn(M,this._parent):[M]}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(cn,9),d.Y36(Se,10),d.Y36(bt,10),d.Y36(ee,10),d.Y36(d.sBO,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Bi]),d.qOj,d.TTD]}),k})(),Fs=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275dir=d.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const ma={provide:ee,useExisting:(0,d.Gpc)(()=>dr),multi:!0};let dr=(()=>{class k extends De{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=q=>{M(""==q?null:parseFloat(q))}}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,q){1&M&&d.NdJ("input",function(on){return q.onChange(on.target.value)})("blur",function(){return q.onTouched()})},features:[d._Bn([ma]),d.qOj]}),k})(),lo=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({}),k})();const Lt=new d.OlP("NgModelWithFormControlWarning"),Xn={provide:cn,useExisting:(0,d.Gpc)(()=>kn)};let kn=(()=>{class k extends cn{constructor(M,q){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(M),this._setAsyncValidators(q)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const q=this.form.get(M.path);return se(q,M),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),q}getControl(M){return this.form.get(M.path)}removeControl(M){he(M.control||null,M,!1),function Ns(k,P){const M=k.indexOf(P);M>-1&&k.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,q){this.form.get(M.path).setValue(q)}onSubmit(M){return this.submitted=!0,Wr(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const q=M.control,it=this.form.get(M.path);q!==it&&(he(q||null,M),(k=>k instanceof Kr)(it)&&(se(it,M),M.control=it))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const q=this.form.get(M.path);It(q,M),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const q=this.form.get(M.path);q&&function wn(k,P){return Vt(k,P)}(q,M)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ke(this.form,this),this._oldForm&&Vt(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(Se,10),d.Y36(bt,10))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(M,q){1&M&&d.NdJ("submit",function(on){return q.onSubmit(on)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Xn]),d.qOj,d.TTD]}),k})();const ci={provide:xn,useExisting:(0,d.Gpc)(()=>di)};let di=(()=>{class k extends xn{constructor(M,q,it,on,Yn){super(),this._ngModelWarningConfig=Yn,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(q),this._setAsyncValidators(it),this.valueAccessor=Or(0,on)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),Rr(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return sn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(M){return new(M||k)(d.Y36(cn,13),d.Y36(Se,10),d.Y36(bt,10),d.Y36(ee,10),d.Y36(Lt,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ci]),d.qOj,d.TTD]}),k})();const ea={provide:ee,useExisting:(0,d.Gpc)(()=>us),multi:!0};function as(k,P){return null==k?`${P}`:(P&&"object"==typeof P&&(P="Object"),`${k}: ${P}`.slice(0,50))}let us=(()=>{class k extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const it=as(this._getOptionId(M),M);this.setProperty("value",it)}registerOnChange(M){this.onChange=q=>{this.value=this._getOptionValue(q),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q),M))return q;return null}_getOptionValue(M){const q=function Lo(k){return k.split(":")[0]}(M);return this._optionMap.has(q)?this._optionMap.get(q):M}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,q){1&M&&d.NdJ("change",function(on){return q.onChange(on.target.value)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([ea]),d.qOj]}),k})(),Vo=(()=>{class k{constructor(M,q,it){this._element=M,this._renderer=q,this._select=it,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(as(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(us,9))},k.\u0275dir=d.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();const Co={provide:ee,useExisting:(0,d.Gpc)(()=>kr),multi:!0};function Ls(k,P){return null==k?`${P}`:("string"==typeof P&&(P=`'${P}'`),P&&"object"==typeof P&&(P="Object"),`${k}: ${P}`.slice(0,50))}let kr=(()=>{class k extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let q;if(this.value=M,Array.isArray(M)){const it=M.map(on=>this._getOptionId(on));q=(on,Yn)=>{on._setSelected(it.indexOf(Yn.toString())>-1)}}else q=(it,on)=>{it._setSelected(!1)};this._optionMap.forEach(q)}registerOnChange(M){this.onChange=q=>{const it=[],on=q.selectedOptions;if(void 0!==on){const Yn=on;for(let Xs=0;Xs<Yn.length;Xs++){const mi=this._getOptionValue(Yn[Xs].value);it.push(mi)}}else{const Yn=q.options;for(let Xs=0;Xs<Yn.length;Xs++){const ws=Yn[Xs];if(ws.selected){const mi=this._getOptionValue(ws.value);it.push(mi)}}}this.value=it,M(it)}}_registerOption(M){const q=(this._idCounter++).toString();return this._optionMap.set(q,M),q}_getOptionId(M){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q)._value,M))return q;return null}_getOptionValue(M){const q=function Zi(k){return k.split(":")[0]}(M);return this._optionMap.has(q)?this._optionMap.get(q)._value:M}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,q){1&M&&d.NdJ("change",function(on){return q.onChange(on.target)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Co]),d.qOj]}),k})(),qi=(()=>{class k{constructor(M,q,it){this._element=M,this._renderer=q,this._select=it,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(Ls(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(Ls(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(M){return new(M||k)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(kr,9))},k.\u0275dir=d.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();function _s(k){return"number"==typeof k?k:parseFloat(k)}let co=(()=>{class k{constructor(){this._validator=Bt}ngOnChanges(M){if(this.inputName in M){const q=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Bt,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275dir=d.lG2({type:k,features:[d.TTD]}),k})();const ta={provide:Se,useExisting:(0,d.Gpc)(()=>pr),multi:!0};let pr=(()=>{class k extends co{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=M=>_s(M),this.createValidator=M=>at(M)}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,q){2&M&&d.uIk("max",q._enabled?q.max:null)},inputs:{max:"max"},features:[d._Bn([ta]),d.qOj]}),k})();const Ys={provide:Se,useExisting:(0,d.Gpc)(()=>ls),multi:!0};let ls=(()=>{class k extends co{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=M=>_s(M),this.createValidator=M=>st(M)}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,q){2&M&&d.uIk("min",q._enabled?q.min:null)},inputs:{min:"min"},features:[d._Bn([Ys]),d.qOj]}),k})();const ji={provide:Se,useExisting:(0,d.Gpc)(()=>ho),multi:!0};let ho=(()=>{class k extends co{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=M=>Et}enabled(M){return M}}return k.\u0275fac=function(){let P;return function(q){return(P||(P=d.n5z(k)))(q||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,q){2&M&&d.uIk("required",q._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([ji]),d.qOj]}),k})(),Ei=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[lo]}),k})(),Fr=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[Ei]}),k})(),Us=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:Lt,useValue:M.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[Ei]}),k})();class To extends z{constructor(P,M,q){super(Xe(M),X(q,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[this._adjustIndex(P)]}push(P,M={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(P,M,q={}){this.controls.splice(P,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(P,M={}){let q=this._adjustIndex(P);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(P,M,q={}){let it=this._adjustIndex(P);it<0&&(it=0),this.controls[it]&&this.controls[it]._registerOnCollectionChange(()=>{}),this.controls.splice(it,1),M&&(this.controls.splice(it,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,M={}){oe(this,0,P),P.forEach((q,it)=>{re(this,!1,it),this.at(it).setValue(q,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(P.forEach((q,it)=>{this.at(it)&&this.at(it).patchValue(q,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P=[],M={}){this._forEachChild((q,it)=>{q.reset(P[it],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(P=>P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_adjustIndex(P){return P<0?P+this.length:P}_syncPendingControls(){let P=this.controls.reduce((M,q)=>!!q._syncPendingControls()||M,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){this.controls.forEach((M,q)=>{P(M,q)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(M=>M.enabled&&P(M))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}_find(P){return this.at(P)??null}}function Dt(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let Jn=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new k;return M.useNonNullable=!0,M}group(M,q=null){const it=this._reduceControls(M);let on={};return Dt(q)?on=q:null!==q&&(on.validators=q.validator,on.asyncValidators=q.asyncValidator),new Z(it,on)}record(M,q=null){const it=this._reduceControls(M);return new dt(it,q)}control(M,q,it){let on={};return this.useNonNullable?(Dt(q)?on=q:(on.validators=q,on.asyncValidators=it),new Kr(M,{...on,nonNullable:!0})):new Kr(M,q,it)}array(M,q,it){const on=M.map(Yn=>this._createControl(Yn));return new To(on,q,it)}_reduceControls(M){const q={};return Object.keys(M).forEach(it=>{q[it]=this._createControl(M[it])}),q}_createControl(M){return M instanceof Kr||M instanceof z?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:Us}),k})(),jo=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275prov=d.Yz7({token:k,factory:function(){return(0,d.f3M)(Jn).nonNullable},providedIn:Us}),k})()},1481:(Ut,ke,R)=>{R.d(ke,{Dx:()=>rt,b2:()=>jn,q6:()=>Ar});var d=R(6895),F=R(4650);class U extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends U{static makeCurrent(){(0,d.HT)(new ce)}onAndCancel(he,te,Oe){return he.addEventListener(te,Oe,!1),()=>{he.removeEventListener(te,Oe,!1)}}dispatchEvent(he,te){he.dispatchEvent(te)}remove(he){he.parentNode&&he.parentNode.removeChild(he)}createElement(he,te){return(te=te||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,te){return"window"===te?window:"document"===te?he:"body"===te?he.body:null}getBaseHref(he){const te=function we(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==te?null:function ee(se){De=De||document.createElement("a"),De.setAttribute("href",se);const he=De.pathname;return"/"===he.charAt(0)?he:`/${he}`}(te)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,d.Mx)(document.cookie,he)}}let De,ae=null;const Pe=new F.OlP("TRANSITION_ID"),ue=[{provide:F.ip1,useFactory:function ne(se,he,te){return()=>{te.get(F.CZH).donePromise.then(()=>{const Oe=(0,d.q)(),Ke=he.querySelectorAll(`style[ng-transition="${se}"]`);for(let Vt=0;Vt<Ke.length;Vt++)Oe.remove(Ke[Vt])})}},deps:[Pe,d.K0,F.zs3],multi:!0}];let qe=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(te){return new(te||se)},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const ze=new F.OlP("EventManagerPlugins");let We=(()=>{class se{constructor(te,Oe){this._zone=Oe,this._eventNameToPlugin=new Map,te.forEach(Ke=>Ke.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,Oe,Ke){return this._findPluginFor(Oe).addEventListener(te,Oe,Ke)}addGlobalEventListener(te,Oe,Ke){return this._findPluginFor(Oe).addGlobalEventListener(te,Oe,Ke)}getZone(){return this._zone}_findPluginFor(te){const Oe=this._eventNameToPlugin.get(te);if(Oe)return Oe;const Ke=this._plugins;for(let Vt=0;Vt<Ke.length;Vt++){const yn=Ke[Vt];if(yn.supports(te))return this._eventNameToPlugin.set(te,yn),yn}throw new Error(`No event manager plugin found for event ${te}`)}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(ze),F.LFG(F.R0b))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();class wt{constructor(he){this._doc=he}addGlobalEventListener(he,te,Oe){const Ke=(0,d.q)().getGlobalEventTarget(this._doc,he);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${te}`);return this.addEventListener(Ke,te,Oe)}}let Ue=(()=>{class se{constructor(){this._stylesSet=new Set}addStyles(te){const Oe=new Set;te.forEach(Ke=>{this._stylesSet.has(Ke)||(this._stylesSet.add(Ke),Oe.add(Ke))}),this.onStylesAdded(Oe)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return se.\u0275fac=function(te){return new(te||se)},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})(),Se=(()=>{class se extends Ue{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,Oe,Ke){te.forEach(Vt=>{const yn=this._doc.createElement("style");yn.textContent=Vt,Ke.push(Oe.appendChild(yn))})}addHost(te){const Oe=[];this._addStylesToHost(this._stylesSet,te,Oe),this._hostNodes.set(te,Oe)}removeHost(te){const Oe=this._hostNodes.get(te);Oe&&Oe.forEach(bt),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((Oe,Ke)=>{this._addStylesToHost(te,Ke,Oe)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(bt))}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(d.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();function bt(se){(0,d.q)().remove(se)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g;function pt(se,he,te){for(let Oe=0;Oe<he.length;Oe++){let Ke=he[Oe];Array.isArray(Ke)?pt(se,Ke,te):(Ke=Ke.replace(ge,se),te.push(Ke))}return te}function ft(se){return he=>{if("__ngUnwrap__"===he)return se;!1===se(he)&&(he.preventDefault(),he.returnValue=!1)}}let Pt=(()=>{class se{constructor(te,Oe,Ke){this.eventManager=te,this.sharedStylesHost=Oe,this.appId=Ke,this.rendererByCompId=new Map,this.defaultRenderer=new ur(te)}createRenderer(te,Oe){if(!te||!Oe)return this.defaultRenderer;switch(Oe.encapsulation){case F.ifc.Emulated:{let Ke=this.rendererByCompId.get(Oe.id);return Ke||(Ke=new $e(this.eventManager,this.sharedStylesHost,Oe,this.appId),this.rendererByCompId.set(Oe.id,Ke)),Ke.applyToHost(te),Ke}case 1:case F.ifc.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,te,Oe);default:if(!this.rendererByCompId.has(Oe.id)){const Ke=pt(Oe.id,Oe.styles,[]);this.sharedStylesHost.addStyles(Ke),this.rendererByCompId.set(Oe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(We),F.LFG(Se),F.LFG(F.AFp))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();class ur{constructor(he){this.eventManager=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(he,te){return te?document.createElementNS(mt[te]||te,he):document.createElement(he)}createComment(he){return document.createComment(he)}createText(he){return document.createTextNode(he)}appendChild(he,te){(Je(he)?he.content:he).appendChild(te)}insertBefore(he,te,Oe){he&&(Je(he)?he.content:he).insertBefore(te,Oe)}removeChild(he,te){he&&he.removeChild(te)}selectRootElement(he,te){let Oe="string"==typeof he?document.querySelector(he):he;if(!Oe)throw new Error(`The selector "${he}" did not match any elements`);return te||(Oe.textContent=""),Oe}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,te,Oe,Ke){if(Ke){te=Ke+":"+te;const Vt=mt[Ke];Vt?he.setAttributeNS(Vt,te,Oe):he.setAttribute(te,Oe)}else he.setAttribute(te,Oe)}removeAttribute(he,te,Oe){if(Oe){const Ke=mt[Oe];Ke?he.removeAttributeNS(Ke,te):he.removeAttribute(`${Oe}:${te}`)}else he.removeAttribute(te)}addClass(he,te){he.classList.add(te)}removeClass(he,te){he.classList.remove(te)}setStyle(he,te,Oe,Ke){Ke&(F.JOm.DashCase|F.JOm.Important)?he.style.setProperty(te,Oe,Ke&F.JOm.Important?"important":""):he.style[te]=Oe}removeStyle(he,te,Oe){Oe&F.JOm.DashCase?he.style.removeProperty(te):he.style[te]=""}setProperty(he,te,Oe){he[te]=Oe}setValue(he,te){he.nodeValue=te}listen(he,te,Oe){return"string"==typeof he?this.eventManager.addGlobalEventListener(he,te,ft(Oe)):this.eventManager.addEventListener(he,te,ft(Oe))}}function Je(se){return"TEMPLATE"===se.tagName&&void 0!==se.content}class $e extends ur{constructor(he,te,Oe,Ke){super(he),this.component=Oe;const Vt=pt(Ke+"-"+Oe.id,Oe.styles,[]);te.addStyles(Vt),this.contentAttr=function Ce(se){return"_ngcontent-%COMP%".replace(ge,se)}(Ke+"-"+Oe.id),this.hostAttr=function Me(se){return"_nghost-%COMP%".replace(ge,se)}(Ke+"-"+Oe.id)}applyToHost(he){super.setAttribute(he,this.hostAttr,"")}createElement(he,te){const Oe=super.createElement(he,te);return super.setAttribute(Oe,this.contentAttr,""),Oe}}class tt extends ur{constructor(he,te,Oe,Ke){super(he),this.sharedStylesHost=te,this.hostEl=Oe,this.shadowRoot=Oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vt=pt(Ke.id,Ke.styles,[]);for(let yn=0;yn<Vt.length;yn++){const Ve=document.createElement("style");Ve.textContent=Vt[yn],this.shadowRoot.appendChild(Ve)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(he,te){return super.appendChild(this.nodeOrShadowRoot(he),te)}insertBefore(he,te,Oe){return super.insertBefore(this.nodeOrShadowRoot(he),te,Oe)}removeChild(he,te){return super.removeChild(this.nodeOrShadowRoot(he),te)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}}let _t=(()=>{class se extends wt{constructor(te){super(te)}supports(te){return!0}addEventListener(te,Oe,Ke){return te.addEventListener(Oe,Ke,!1),()=>this.removeEventListener(te,Oe,Ke)}removeEventListener(te,Oe,Ke){return te.removeEventListener(Oe,Ke)}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(d.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const Ct=["alt","control","meta","shift"],At={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let Nt=(()=>{class se extends wt{constructor(te){super(te)}supports(te){return null!=se.parseEventName(te)}addEventListener(te,Oe,Ke){const Vt=se.parseEventName(Oe),yn=se.eventCallback(Vt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(te,Vt.domEventName,yn))}static parseEventName(te){const Oe=te.toLowerCase().split("."),Ke=Oe.shift();if(0===Oe.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const Vt=se._normalizeKey(Oe.pop());let yn="",Ve=Oe.indexOf("code");if(Ve>-1&&(Oe.splice(Ve,1),yn="code."),Ct.forEach(St=>{const It=Oe.indexOf(St);It>-1&&(Oe.splice(It,1),yn+=St+".")}),yn+=Vt,0!=Oe.length||0===Vt.length)return null;const Le={};return Le.domEventName=Ke,Le.fullKey=yn,Le}static matchEventFullKeyCode(te,Oe){let Ke=At[te.key]||te.key,Vt="";return Oe.indexOf("code.")>-1&&(Ke=te.code,Vt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Ct.forEach(yn=>{yn!==Ke&&(0,Ht[yn])(te)&&(Vt+=yn+".")}),Vt+=Ke,Vt===Oe)}static eventCallback(te,Oe,Ke){return Vt=>{se.matchEventFullKeyCode(Vt,te)&&Ke.runGuarded(()=>Oe(Vt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(d.K0))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac}),se})();const Ar=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:d.bD},{provide:F.g9A,useValue:function Gt(){ce.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function xn(){return(0,F.RDi)(document),document},deps:[]}]),_r=new F.OlP(""),xt=[{provide:F.rWj,useClass:class ye{addToWindow(he){F.dqk.getAngularTestability=(Oe,Ke=!0)=>{const Vt=he.findTestabilityInTree(Oe,Ke);if(null==Vt)throw new Error("Could not find testability for element.");return Vt},F.dqk.getAllAngularTestabilities=()=>he.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>he.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Oe=>{const Ke=F.dqk.getAllAngularTestabilities();let Vt=Ke.length,yn=!1;const Ve=function(Le){yn=yn||Le,Vt--,0==Vt&&Oe(yn)};Ke.forEach(function(Le){Le.whenStable(Ve)})})}findTestabilityInTree(he,te,Oe){return null==te?null:he.getTestability(te)??(Oe?(0,d.q)().isShadowRoot(te)?this.findTestabilityInTree(he,te.host,!0):this.findTestabilityInTree(he,te.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Mn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function cn(){return new F.qLn},deps:[]},{provide:ze,useClass:_t,multi:!0,deps:[d.K0,F.R0b,F.Lbi]},{provide:ze,useClass:Nt,multi:!0,deps:[d.K0]},{provide:Pt,useClass:Pt,deps:[We,Se,F.AFp]},{provide:F.FYo,useExisting:Pt},{provide:Ue,useExisting:Se},{provide:Se,useClass:Se,deps:[d.K0]},{provide:We,useClass:We,deps:[ze,F.R0b]},{provide:d.JF,useClass:qe,deps:[]},[]];let jn=(()=>{class se{constructor(te){}static withServerTransition(te){return{ngModule:se,providers:[{provide:F.AFp,useValue:te.appId},{provide:Pe,useExisting:F.AFp},ue]}}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(_r,12))},se.\u0275mod=F.oAB({type:se}),se.\u0275inj=F.cJS({providers:[...Mn,...xt],imports:[d.ez,F.hGG]}),se})(),rt=(()=>{class se{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return se.\u0275fac=function(te){return new(te||se)(F.LFG(d.K0))},se.\u0275prov=F.Yz7({token:se,factory:function(te){let Oe=null;return Oe=te?new te:function Kn(){return new rt((0,F.LFG)(d.K0))}(),Oe},providedIn:"root"}),se})();typeof window<"u"&&window},2827:(Ut,ke,R)=>{R.d(ke,{F0:()=>ii,rH:()=>bs,yS:()=>ja,Bz:()=>iu,lC:()=>hi});var d=R(4650),F=R(8996),U=R(9646),ce=R(1135),ae=R(6805),we=R(9751),De=R(4742),ee=R(4671),Pe=R(3268),ne=R(3269),ue=R(1810),ye=R(5403),qe=R(9672);function ze(..._){const E=(0,ne.yG)(_),y=(0,ne.jO)(_),{args:A,keys:O}=(0,De.D)(_);if(0===A.length)return(0,F.D)([],E);const W=new we.y(function We(_,E,y=ee.y){return A=>{wt(E,()=>{const{length:O}=_,W=new Array(O);let fe=O,ve=O;for(let lt=0;lt<O;lt++)wt(E,()=>{const Wt=(0,F.D)(_[lt],E);let Hn=!1;Wt.subscribe((0,ye.x)(A,hn=>{W[lt]=hn,Hn||(Hn=!0,ve--),ve||A.next(y(W.slice()))},()=>{--fe||A.complete()}))},A)},A)}}(A,E,O?fe=>(0,ue.n)(O,fe):ee.y));return y?W.pipe((0,Pe.Z)(y)):W}function wt(_,E,y){_?(0,qe.f)(y,_,E):E()}var Ue=R(1350),Se=R(9770),bt=R(9635),mt=R(2843),ge=R(515),st=R(4033),at=R(7579),Et=R(6895),Fe=R(4004),Ce=R(3900),Me=R(5698),pt=R(8675),ft=R(9300),Bt=R(5577),Pt=R(590),ur=R(4351),je=R(8505),Be=R(8421),Je=R(4482);function $e(_){return(0,Je.e)((E,y)=>{let W,A=null,O=!1;A=E.subscribe((0,ye.x)(y,void 0,void 0,fe=>{W=(0,Be.Xf)(_(fe,$e(_)(E))),A?(A.unsubscribe(),A=null,W.subscribe(y)):O=!0})),O&&(A.unsubscribe(),A=null,W.subscribe(y))})}var tt=R(5026);function _t(_){return _<=0?()=>ge.E:(0,Je.e)((E,y)=>{let A=[];E.subscribe((0,ye.x)(y,O=>{A.push(O),_<A.length&&A.shift()},()=>{for(const O of A)y.next(O);y.complete()},void 0,()=>{A=null}))})}var Ct=R(8068),At=R(6590);function Ht(_,E){const y=arguments.length>=2;return A=>A.pipe(_?(0,ft.h)((O,W)=>_(O,W,A)):ee.y,_t(1),y?(0,At.d)(E):(0,Ct.T)(()=>new ae.K))}var nn=R(9718);function ln(_){return(0,Je.e)((E,y)=>{try{E.subscribe(y)}finally{y.add(_)}})}var un=R(8343),Ln=R(8189),rr=R(1481);const Gt="primary",cn=Symbol("RouteTitle");class xn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Vn(_){return new xn(_)}function Ar(_,E,y){const A=y.path.split("/");if(A.length>_.length||"full"===y.pathMatch&&(E.hasChildren()||A.length<_.length))return null;const O={};for(let W=0;W<A.length;W++){const fe=A[W],ve=_[W];if(fe.startsWith(":"))O[fe.substring(1)]=ve;else if(fe!==ve.path)return null}return{consumed:_.slice(0,A.length),posParams:O}}function xt(_,E){const y=_?Object.keys(_):void 0,A=E?Object.keys(E):void 0;if(!y||!A||y.length!=A.length)return!1;let O;for(let W=0;W<y.length;W++)if(O=y[W],!Mn(_[O],E[O]))return!1;return!0}function Mn(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const y=[..._].sort(),A=[...E].sort();return y.every((O,W)=>A[W]===O)}return _===E}function jn(_){return Array.prototype.concat.apply([],_)}function ir(_){return _.length>0?_[_.length-1]:null}function Un(_,E){for(const y in _)_.hasOwnProperty(y)&&E(_[y],y)}function Kn(_){return(0,d.CqO)(_)?_:(0,d.QGY)(_)?(0,F.D)(Promise.resolve(_)):(0,U.of)(_)}const pe={exact:function mn(_,E,y){if(!Pn(_.segments,E.segments)||!dn(_.segments,E.segments,y)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const A in E.children)if(!_.children[A]||!mn(_.children[A],E.children[A],y))return!1;return!0},subset:Ot},nt={exact:function Xt(_,E){return xt(_,E)},subset:function Cn(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(y=>Mn(_[y],E[y]))},ignored:()=>!0};function ut(_,E,y){return pe[y.paths](_.root,E.root,y.matrixParams)&&nt[y.queryParams](_.queryParams,E.queryParams)&&!("exact"===y.fragment&&_.fragment!==E.fragment)}function Ot(_,E,y){return On(_,E,E.segments,y)}function On(_,E,y,A){if(_.segments.length>y.length){const O=_.segments.slice(0,y.length);return!(!Pn(O,y)||E.hasChildren()||!dn(O,y,A))}if(_.segments.length===y.length){if(!Pn(_.segments,y)||!dn(_.segments,y,A))return!1;for(const O in E.children)if(!_.children[O]||!Ot(_.children[O],E.children[O],A))return!1;return!0}{const O=y.slice(0,_.segments.length),W=y.slice(_.segments.length);return!!(Pn(_.segments,O)&&dn(_.segments,O,A)&&_.children[Gt])&&On(_.children[Gt],E,W,A)}}function dn(_,E,y){return E.every((A,O)=>nt[y](_[O].parameters,A.parameters))}class tr{constructor(E,y,A){this.root=E,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return X.serialize(this)}}class kt{constructor(E,y){this.segments=E,this.children=y,this.parent=null,Un(y,(A,O)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return de(this)}}class Zt{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return dt(this)}}function Pn(_,E){return _.length===E.length&&_.every((y,A)=>y.path===E[A].path)}let Xe=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=d.Yz7({token:_,factory:function(){return new L},providedIn:"root"}),_})();class L{parse(E){const y=new yn(E);return new tr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${He(E.root,!0)}`,A=function sn(_){const E=Object.keys(_).map(y=>{const A=_[y];return Array.isArray(A)?A.map(O=>`${oe(y)}=${oe(O)}`).join("&"):`${oe(y)}=${oe(A)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${A}${"string"==typeof E.fragment?`#${function z(_){return encodeURI(_)}(E.fragment)}`:""}`}}const X=new L;function de(_){return _.segments.map(E=>dt(E)).join("/")}function He(_,E){if(!_.hasChildren())return de(_);if(E){const y=_.children[Gt]?He(_.children[Gt],!1):"",A=[];return Un(_.children,(O,W)=>{W!==Gt&&A.push(`${W}:${He(O,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function Zn(_,E){let y=[];return Un(_.children,(A,O)=>{O===Gt&&(y=y.concat(E(A,O)))}),Un(_.children,(A,O)=>{O!==Gt&&(y=y.concat(E(A,O)))}),y}(_,(A,O)=>O===Gt?[He(_.children[Gt],!1)]:[`${O}:${He(A,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Gt]?`${de(_)}/${y[0]}`:`${de(_)}/(${y.join("//")})`}}function re(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(_){return re(_).replace(/%3B/gi,";")}function Z(_){return re(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function G(_){return decodeURIComponent(_)}function be(_){return G(_.replace(/\+/g,"%20"))}function dt(_){return`${Z(_.path)}${function jt(_){return Object.keys(_).map(E=>`;${Z(E)}=${Z(_[E])}`).join("")}(_.parameters)}`}const se=/^[^\/()?;=#]+/;function he(_){const E=_.match(se);return E?E[0]:""}const te=/^[^=?&#]+/,Ke=/^[^&#]+/;class yn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(A[Gt]=new kt(E,y)),A}parseSegment(){const E=he(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(E),new Zt(G(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=he(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const O=he(this.remaining);O&&(A=O,this.capture(A))}E[G(y)]=G(A)}parseQueryParam(E){const y=function Oe(_){const E=_.match(te);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const fe=function Vt(_){const E=_.match(Ke);return E?E[0]:""}(this.remaining);fe&&(A=fe,this.capture(A))}const O=be(y),W=be(A);if(E.hasOwnProperty(O)){let fe=E[O];Array.isArray(fe)||(fe=[fe],E[O]=fe),fe.push(W)}else E[O]=W}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=he(this.remaining),O=this.remaining[A.length];if("/"!==O&&")"!==O&&";"!==O)throw new d.vHH(4010,!1);let W;A.indexOf(":")>-1?(W=A.slice(0,A.indexOf(":")),this.capture(W),this.capture(":")):E&&(W=Gt);const fe=this.parseChildren();y[W]=1===Object.keys(fe).length?fe[Gt]:new kt([],fe),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new d.vHH(4011,!1)}}function Ve(_){return _.segments.length>0?new kt([],{[Gt]:_}):_}function Le(_){const E={};for(const A of Object.keys(_.children)){const W=Le(_.children[A]);(W.segments.length>0||W.hasChildren())&&(E[A]=W)}return function St(_){if(1===_.numberOfChildren&&_.children[Gt]){const E=_.children[Gt];return new kt(_.segments.concat(E.segments),E.children)}return _}(new kt(_.segments,E))}function It(_){return _ instanceof tr}function Bn(_,E,y,A,O){if(0===y.length)return Wr(E.root,E.root,E.root,A,O);const W=function Qn(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Ns(!0,0,_);let E=0,y=!1;const A=_.reduce((O,W,fe)=>{if("object"==typeof W&&null!=W){if(W.outlets){const ve={};return Un(W.outlets,(lt,Wt)=>{ve[Wt]="string"==typeof lt?lt.split("/"):lt}),[...O,{outlets:ve}]}if(W.segmentPath)return[...O,W.segmentPath]}return"string"!=typeof W?[...O,W]:0===fe?(W.split("/").forEach((ve,lt)=>{0==lt&&"."===ve||(0==lt&&""===ve?y=!0:".."===ve?E++:""!=ve&&O.push(ve))}),O):[...O,W]},[]);return new Ns(y,E,A)}(y);return W.toRoot()?Wr(E.root,E.root,new kt([],{}),A,O):function fe(lt){const Wt=function Ni(_,E,y,A){if(_.isAbsolute)return new ui(E.root,!0,0);if(-1===A)return new ui(y,y===E.root,0);return function Tr(_,E,y){let A=_,O=E,W=y;for(;W>O;){if(W-=O,A=A.parent,!A)throw new d.vHH(4005,!1);O=A.segments.length}return new ui(A,!1,O-W)}(y,A+(Rr(_.commands[0])?0:1),_.numberOfDoubleDots)}(W,E,_.snapshot?._urlSegment,lt),Hn=Wt.processChildren?Mi(Wt.segmentGroup,Wt.index,W.commands):Kr(Wt.segmentGroup,Wt.index,W.commands);return Wr(E.root,Wt.segmentGroup,Hn,A,O)}(_.snapshot?._lastPathIndex)}function Rr(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Gr(_){return"object"==typeof _&&null!=_&&_.outlets}function Wr(_,E,y,A,O){let fe,W={};A&&Un(A,(lt,Wt)=>{W[Wt]=Array.isArray(lt)?lt.map(Hn=>`${Hn}`):`${lt}`}),fe=_===E?y:Or(_,E,y);const ve=Ve(Le(fe));return new tr(ve,W,O)}function Or(_,E,y){const A={};return Un(_.children,(O,W)=>{A[W]=O===E?y:Or(O,E,y)}),new kt(_.segments,A)}class Ns{constructor(E,y,A){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=A,E&&A.length>0&&Rr(A[0]))throw new d.vHH(4003,!1);const O=A.find(Gr);if(O&&O!==ir(A))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ui{constructor(E,y,A){this.segmentGroup=E,this.processChildren=y,this.index=A}}function Kr(_,E,y){if(_||(_=new kt([],{})),0===_.segments.length&&_.hasChildren())return Mi(_,E,y);const A=function jr(_,E,y){let A=0,O=E;const W={match:!1,pathIndex:0,commandIndex:0};for(;O<_.segments.length;){if(A>=y.length)return W;const fe=_.segments[O],ve=y[A];if(Gr(ve))break;const lt=`${ve}`,Wt=A<y.length-1?y[A+1]:null;if(O>0&&void 0===lt)break;if(lt&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!Ks(lt,Wt,fe))return W;A+=2}else{if(!Ks(lt,{},fe))return W;A++}O++}return{match:!0,pathIndex:O,commandIndex:A}}(_,E,y),O=y.slice(A.commandIndex);if(A.match&&A.pathIndex<_.segments.length){const W=new kt(_.segments.slice(0,A.pathIndex),{});return W.children[Gt]=new kt(_.segments.slice(A.pathIndex),_.children),Mi(W,0,O)}return A.match&&0===O.length?new kt(_.segments,{}):A.match&&!_.hasChildren()?ss(_,E,y):A.match?Mi(_,0,O):ss(_,E,y)}function Mi(_,E,y){if(0===y.length)return new kt(_.segments,{});{const A=function Ki(_){return Gr(_[0])?_[0].outlets:{[Gt]:_}}(y),O={};return Un(A,(W,fe)=>{"string"==typeof W&&(W=[W]),null!==W&&(O[fe]=Kr(_.children[fe],E,W))}),Un(_.children,(W,fe)=>{void 0===A[fe]&&(O[fe]=W)}),new kt(_.segments,O)}}function ss(_,E,y){const A=_.segments.slice(0,E);let O=0;for(;O<y.length;){const W=y[O];if(Gr(W)){const lt=Zr(W.outlets);return new kt(A,lt)}if(0===O&&Rr(y[0])){A.push(new Zt(_.segments[E].path,$r(y[0]))),O++;continue}const fe=Gr(W)?W.outlets[Gt]:`${W}`,ve=O<y.length-1?y[O+1]:null;fe&&ve&&Rr(ve)?(A.push(new Zt(fe,$r(ve))),O+=2):(A.push(new Zt(fe,{})),O++)}return new kt(A,{})}function Zr(_){const E={};return Un(_,(y,A)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[A]=ss(new kt([],{}),0,y))}),E}function $r(_){const E={};return Un(_,(y,A)=>E[A]=`${y}`),E}function Ks(_,E,y){return _==y.path&&xt(E,y.parameters)}class Xr{constructor(E,y){this.id=E,this.url=y}}class os extends Xr{constructor(E,y,A="imperative",O=null){super(E,y),this.type=0,this.navigationTrigger=A,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nr extends Xr{constructor(E,y,A){super(E,y),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bi extends Xr{constructor(E,y,A,O){super(E,y),this.reason=A,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zs extends Xr{constructor(E,y,A,O){super(E,y),this.error=A,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends Xr{constructor(E,y,A,O){super(E,y),this.urlAfterRedirects=A,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends Xr{constructor(E,y,A,O){super(E,y),this.urlAfterRedirects=A,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ma extends Xr{constructor(E,y,A,O,W){super(E,y),this.urlAfterRedirects=A,this.state=O,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dr extends Xr{constructor(E,y,A,O){super(E,y),this.urlAfterRedirects=A,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends Xr{constructor(E,y,A,O){super(E,y),this.urlAfterRedirects=A,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lo{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Re{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(E,y,A){this.routerEvent=E,this.position=y,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sr{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=Xn(E,this._root);return y?y.children.map(A=>A.value):[]}firstChild(E){const y=Xn(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=kn(E,this._root);return y.length<2?[]:y[y.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return kn(E,this._root).map(y=>y.value)}}function Xn(_,E){if(_===E.value)return E;for(const y of E.children){const A=Xn(_,y);if(A)return A}return null}function kn(_,E){if(_===E.value)return[E];for(const y of E.children){const A=kn(_,y);if(A.length)return A.unshift(E),A}return[]}class ei{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function li(_){const E={};return _&&_.children.forEach(y=>E[y.value.outlet]=y),E}class pi extends sr{constructor(E,y){super(E),this.snapshot=y,us(this,E)}toString(){return this.snapshot.toString()}}function cr(_,E){const y=function ys(_,E){const fe=new as([],{},{},"",{},Gt,E,null,_.root,-1,{});return new Lo("",new ei(fe,[]))}(_,E),A=new ce.X([new Zt("",{})]),O=new ce.X({}),W=new ce.X({}),fe=new ce.X({}),ve=new ce.X(""),lt=new ci(A,O,fe,ve,W,Gt,E,y.root);return lt.snapshot=y.root,new pi(new ei(lt,[]),y)}class ci{constructor(E,y,A,O,W,fe,ve,lt){this.url=E,this.params=y,this.queryParams=A,this.fragment=O,this.data=W,this.outlet=fe,this.component=ve,this.title=this.data?.pipe((0,Fe.U)(Wt=>Wt[cn]))??(0,U.of)(void 0),this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(E=>Vn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(E=>Vn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function di(_,E="emptyOnly"){const y=_.pathFromRoot;let A=0;if("always"!==E)for(A=y.length-1;A>=1;){const O=y[A],W=y[A-1];if(O.routeConfig&&""===O.routeConfig.path)A--;else{if(W.component)break;A--}}return function ea(_){return _.reduce((E,y)=>({params:{...E.params,...y.params},data:{...E.data,...y.data},resolve:{...y.data,...E.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(A))}class as{constructor(E,y,A,O,W,fe,ve,lt,Wt,Hn,hn,hr){this.url=E,this.params=y,this.queryParams=A,this.fragment=O,this.data=W,this.outlet=fe,this.component=ve,this.title=this.data?.[cn],this.routeConfig=lt,this._urlSegment=Wt,this._lastPathIndex=Hn,this._correctedLastPathIndex=hr??Hn,this._resolve=hn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lo extends sr{constructor(E,y){super(y),this.url=E,us(this,y)}toString(){return Vo(this._root)}}function us(_,E){E.value._routerState=_,E.children.forEach(y=>us(_,y))}function Vo(_){const E=_.children.length>0?` { ${_.children.map(Vo).join(", ")} } `:"";return`${_.value}${E}`}function Co(_){if(_.snapshot){const E=_.snapshot,y=_._futureSnapshot;_.snapshot=y,xt(E.queryParams,y.queryParams)||_.queryParams.next(y.queryParams),E.fragment!==y.fragment&&_.fragment.next(y.fragment),xt(E.params,y.params)||_.params.next(y.params),function _r(_,E){if(_.length!==E.length)return!1;for(let y=0;y<_.length;++y)if(!xt(_[y],E[y]))return!1;return!0}(E.url,y.url)||_.url.next(y.url),xt(E.data,y.data)||_.data.next(y.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Ls(_,E){const y=xt(_.params,E.params)&&function Jt(_,E){return Pn(_,E)&&_.every((y,A)=>xt(y.parameters,E[A].parameters))}(_.url,E.url);return y&&!(!_.parent!=!E.parent)&&(!_.parent||Ls(_.parent,E.parent))}function qs(_,E,y){if(y&&_.shouldReuseRoute(E.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=E.value;const O=function kr(_,E,y){return E.children.map(A=>{for(const O of y.children)if(_.shouldReuseRoute(A.value,O.value.snapshot))return qs(_,A,O);return qs(_,A)})}(_,E,y);return new ei(A,O)}{if(_.shouldAttach(E.value)){const W=_.retrieve(E.value);if(null!==W){const fe=W.route;return fe.value._futureSnapshot=E.value,fe.children=E.children.map(ve=>qs(_,ve)),fe}}const A=function qi(_){return new ci(new ce.X(_.url),new ce.X(_.params),new ce.X(_.queryParams),new ce.X(_.fragment),new ce.X(_.data),_.outlet,_.component,_)}(E.value),O=E.children.map(W=>qs(_,W));return new ei(A,O)}}const vs="ngNavigationCancelingError";function _s(_,E){const{redirectTo:y,navigationBehaviorOptions:A}=It(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,O=co(!1,0,E);return O.url=y,O.navigationBehaviorOptions=A,O}function co(_,E,y){const A=new Error("NavigationCancelingError: "+(_||""));return A[vs]=!0,A.cancellationCode=E,y&&(A.url=y),A}function ta(_){return pr(_)&&It(_.url)}function pr(_){return _&&_[vs]}class Ys{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ls,this.attachRef=null}}let ls=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(y,A){const O=this.getOrCreateContext(y);O.outlet=A,this.contexts.set(y,O)}onChildOutletDestroyed(y){const A=this.getContext(y);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let A=this.getContext(y);return A||(A=new Ys,this.contexts.set(y,A)),A}getContext(y){return this.contexts.get(y)||null}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ji=!1;let hi=(()=>{class _{constructor(y,A,O,W,fe){this.parentContexts=y,this.location=A,this.changeDetector=W,this.environmentInjector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=O||Gt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ji);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ji);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ji);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new d.vHH(4013,ji);this._activatedRoute=y;const O=this.location,fe=y._futureSnapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,lt=new ho(y,ve,O.injector);if(A&&function bo(_){return!!_.resolveComponentFactory}(A)){const Wt=A.resolveComponentFactory(fe);this.activated=O.createComponent(Wt,O.length,lt)}else this.activated=O.createComponent(fe,{index:O.length,injector:lt,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(y){return new(y||_)(d.Y36(ls),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},_.\u0275dir=d.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class ho{constructor(E,y,A){this.route=E,this.childContexts=y,this.parent=A}get(E,y){return E===ci?this.route:E===ls?this.childContexts:this.parent.get(E,y)}}let ki=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=d.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(y,A){1&y&&d._UZ(0,"router-outlet")},dependencies:[hi],encapsulation:2}),_})();function ti(_,E){return _.providers&&!_._injector&&(_._injector=(0,d.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}function Vs(_){const E=_.children&&_.children.map(Vs),y=E?{..._,children:E}:{..._};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==Gt&&(y.component=ki),y}function Ei(_){return _.outlet||Gt}function Fr(_,E){const y=_.filter(A=>Ei(A)===E);return y.push(..._.filter(A=>Ei(A)!==E)),y}function Us(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class cs{constructor(E,y,A,O){this.routeReuseStrategy=E,this.futureState=y,this.currState=A,this.forwardEvent=O}activate(E){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,E),Co(this.futureState.root),this.activateChildRoutes(y,A,E)}deactivateChildRoutes(E,y,A){const O=li(y);E.children.forEach(W=>{const fe=W.value.outlet;this.deactivateRoutes(W,O[fe],A),delete O[fe]}),Un(O,(W,fe)=>{this.deactivateRouteAndItsChildren(W,A)})}deactivateRoutes(E,y,A){const O=E.value,W=y?y.value:null;if(O===W)if(O.component){const fe=A.getContext(O.outlet);fe&&this.deactivateChildRoutes(E,y,fe.children)}else this.deactivateChildRoutes(E,y,A);else W&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const A=y.getContext(E.value.outlet),O=A&&E.value.component?A.children:y,W=li(E);for(const fe of Object.keys(W))this.deactivateRouteAndItsChildren(W[fe],O);if(A&&A.outlet){const fe=A.outlet.detach(),ve=A.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:fe,route:E,contexts:ve})}}deactivateRouteAndOutlet(E,y){const A=y.getContext(E.value.outlet),O=A&&E.value.component?A.children:y,W=li(E);for(const fe of Object.keys(W))this.deactivateRouteAndItsChildren(W[fe],O);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(E,y,A){const O=li(y);E.children.forEach(W=>{this.activateRoutes(W,O[W.value.outlet],A),this.forwardEvent(new yt(W.value.snapshot))}),E.children.length&&this.forwardEvent(new Te(E.value.snapshot))}activateRoutes(E,y,A){const O=E.value,W=y?y.value:null;if(Co(O),O===W)if(O.component){const fe=A.getOrCreateContext(O.outlet);this.activateChildRoutes(E,y,fe.children)}else this.activateChildRoutes(E,y,A);else if(O.component){const fe=A.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ve=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),fe.children.onOutletReAttached(ve.contexts),fe.attachRef=ve.componentRef,fe.route=ve.route.value,fe.outlet&&fe.outlet.attach(ve.componentRef,ve.route.value),Co(ve.route.value),this.activateChildRoutes(E,null,fe.children)}else{const ve=Us(O.snapshot),lt=ve?.get(d._Vd)??null;fe.attachRef=null,fe.route=O,fe.resolver=lt,fe.injector=ve,fe.outlet&&fe.outlet.activateWith(O,fe.injector),this.activateChildRoutes(E,null,fe.children)}}else this.activateChildRoutes(E,null,A)}}class Bo{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Dt{constructor(E,y){this.component=E,this.route=y}}function Jn(_,E,y){const A=_._root;return Pr(A,E?E._root:null,y,[A.value])}function Yi(_,E){const y=Symbol(),A=E.get(_,y);return A===y?"function"!=typeof _||(0,d.Z0I)(_)?E.get(_):_:A}function Pr(_,E,y,A,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=li(E);return _.children.forEach(fe=>{(function k(_,E,y,A,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=_.value,fe=E?E.value:null,ve=y?y.getContext(_.value.outlet):null;if(fe&&W.routeConfig===fe.routeConfig){const lt=function P(_,E,y){if("function"==typeof y)return y(_,E);switch(y){case"pathParamsChange":return!Pn(_.url,E.url);case"pathParamsOrQueryParamsChange":return!Pn(_.url,E.url)||!xt(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ls(_,E)||!xt(_.queryParams,E.queryParams);default:return!Ls(_,E)}}(fe,W,W.routeConfig.runGuardsAndResolvers);lt?O.canActivateChecks.push(new Bo(A)):(W.data=fe.data,W._resolvedData=fe._resolvedData),Pr(_,E,W.component?ve?ve.children:null:y,A,O),lt&&ve&&ve.outlet&&ve.outlet.isActivated&&O.canDeactivateChecks.push(new Dt(ve.outlet.component,fe))}else fe&&M(E,ve,O),O.canActivateChecks.push(new Bo(A)),Pr(_,null,W.component?ve?ve.children:null:y,A,O)})(fe,W[fe.value.outlet],y,A.concat([fe.value]),O),delete W[fe.value.outlet]}),Un(W,(fe,ve)=>M(fe,y.getContext(ve),O)),O}function M(_,E,y){const A=li(_),O=_.value;Un(A,(W,fe)=>{M(W,O.component?E?E.children.getContext(fe):null:E,y)}),y.canDeactivateChecks.push(new Dt(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}function q(_){return"function"==typeof _}function Bs(_){return _ instanceof ae.K||"EmptyError"===_?.name}const ni=Symbol("INITIAL_VALUE");function Is(){return(0,Ce.w)(_=>ze(_.map(E=>E.pipe((0,Me.q)(1),(0,pt.O)(ni)))).pipe((0,Fe.U)(E=>{for(const y of E)if(!0!==y){if(y===ni)return ni;if(!1===y||y instanceof tr)return y}return!0}),(0,ft.h)(E=>E!==ni),(0,Me.q)(1)))}function eo(_){return(0,bt.z)((0,je.b)(E=>{if(It(E))throw _s(0,E)}),(0,Fe.U)(E=>!0===E))}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function So(_,E,y,A,O){const W=xi(_,E,y);return W.matched?function zo(_,E,y,A){const O=E.canMatch;if(!O||0===O.length)return(0,U.of)(!0);const W=O.map(fe=>{const ve=Yi(fe,_);return Kn(function mi(_){return _&&q(_.canMatch)}(ve)?ve.canMatch(E,y):_.runInContext(()=>ve(E,y)))});return(0,U.of)(W).pipe(Is(),eo())}(A=ti(E,A),E,y).pipe((0,Fe.U)(fe=>!0===fe?W:{...fo})):(0,U.of)(W)}function xi(_,E,y){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||y.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const O=(E.matcher||Ar)(y,_,E);if(!O)return{...fo};const W={};Un(O.posParams,(ve,lt)=>{W[lt]=ve.path});const fe=O.consumed.length>0?{...W,...O.consumed[O.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:O.consumed,remainingSegments:y.slice(O.consumed.length),parameters:fe,positionalParamSegments:O.posParams??{}}}function ds(_,E,y,A,O="corrected"){if(y.length>0&&function gr(_,E,y){return y.some(A=>vr(_,E,A)&&Ei(A)!==Gt)}(_,y,A)){const fe=new kt(E,function na(_,E,y,A){const O={};O[Gt]=A,A._sourceSegment=_,A._segmentIndexShift=E.length;for(const W of y)if(""===W.path&&Ei(W)!==Gt){const fe=new kt([],{});fe._sourceSegment=_,fe._segmentIndexShift=E.length,O[Ei(W)]=fe}return O}(_,E,A,new kt(y,_.children)));return fe._sourceSegment=_,fe._segmentIndexShift=E.length,{segmentGroup:fe,slicedSegments:[]}}if(0===y.length&&function Ii(_,E,y){return y.some(A=>vr(_,E,A))}(_,y,A)){const fe=new kt(_.segments,function Ua(_,E,y,A,O,W){const fe={};for(const ve of A)if(vr(_,y,ve)&&!O[Ei(ve)]){const lt=new kt([],{});lt._sourceSegment=_,lt._segmentIndexShift="legacy"===W?_.segments.length:E.length,fe[Ei(ve)]=lt}return{...O,...fe}}(_,E,y,A,_.children,O));return fe._sourceSegment=_,fe._segmentIndexShift=E.length,{segmentGroup:fe,slicedSegments:y}}const W=new kt(_.segments,_.children);return W._sourceSegment=_,W._segmentIndexShift=E.length,{segmentGroup:W,slicedSegments:y}}function vr(_,E,y){return(!(_.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function Er(_,E,y,A){return!!(Ei(_)===A||A!==Gt&&vr(E,y,_))&&("**"===_.path||xi(E,_,y).matched)}function ra(_,E,y){return 0===E.length&&!_.children[y]}const Mo=!1;class Ri{constructor(E){this.segmentGroup=E||null}}class Ea{constructor(E){this.urlTree=E}}function Ds(_){return(0,mt._)(new Ri(_))}function Cs(_){return(0,mt._)(new Ea(_))}class $i{constructor(E,y,A,O,W){this.injector=E,this.configLoader=y,this.urlSerializer=A,this.urlTree=O,this.config=W,this.allowRedirects=!0}apply(){const E=ds(this.urlTree.root,[],[],this.config).segmentGroup,y=new kt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,y,Gt).pipe((0,Fe.U)(W=>this.createUrlTree(Le(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe($e(W=>{if(W instanceof Ea)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof Ri?this.noMatchError(W):W}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Gt).pipe((0,Fe.U)(O=>this.createUrlTree(Le(O),E.queryParams,E.fragment))).pipe($e(O=>{throw O instanceof Ri?this.noMatchError(O):O}))}noMatchError(E){return new d.vHH(4002,Mo)}createUrlTree(E,y,A){const O=Ve(E);return new tr(O,y,A)}expandSegmentGroup(E,y,A,O){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(E,y,A).pipe((0,Fe.U)(W=>new kt([],W))):this.expandSegment(E,A,y,A.segments,O,!0)}expandChildren(E,y,A){const O=[];for(const W of Object.keys(A.children))"primary"===W?O.unshift(W):O.push(W);return(0,F.D)(O).pipe((0,ur.b)(W=>{const fe=A.children[W],ve=Fr(y,W);return this.expandSegmentGroup(E,ve,fe,W).pipe((0,Fe.U)(lt=>({segment:lt,outlet:W})))}),(0,tt.R)((W,fe)=>(W[fe.outlet]=fe.segment,W),{}),Ht())}expandSegment(E,y,A,O,W,fe){return(0,F.D)(A).pipe((0,ur.b)(ve=>this.expandSegmentAgainstRoute(E,y,A,ve,O,W,fe).pipe($e(Wt=>{if(Wt instanceof Ri)return(0,U.of)(null);throw Wt}))),(0,Pt.P)(ve=>!!ve),$e((ve,lt)=>{if(Bs(ve))return ra(y,O,W)?(0,U.of)(new kt([],{})):Ds(y);throw ve}))}expandSegmentAgainstRoute(E,y,A,O,W,fe,ve){return Er(O,y,W,fe)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,y,O,W,fe):ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,A,O,W,fe):Ds(y):Ds(y)}expandSegmentAgainstRouteUsingRedirect(E,y,A,O,W,fe){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,A,O,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,A,O,W,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,A,O){const W=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Cs(W):this.lineralizeSegments(A,W).pipe((0,Bt.z)(fe=>{const ve=new kt(fe,{});return this.expandSegment(E,ve,y,fe,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,A,O,W,fe){const{matched:ve,consumedSegments:lt,remainingSegments:Wt,positionalParamSegments:Hn}=xi(y,O,W);if(!ve)return Ds(y);const hn=this.applyRedirectCommands(lt,O.redirectTo,Hn);return O.redirectTo.startsWith("/")?Cs(hn):this.lineralizeSegments(O,hn).pipe((0,Bt.z)(hr=>this.expandSegment(E,y,A,hr.concat(Wt),fe,!1)))}matchSegmentAgainstRoute(E,y,A,O,W){return"**"===A.path?(E=ti(A,E),A.loadChildren?(A._loadedRoutes?(0,U.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(E,A)).pipe((0,Fe.U)(ve=>(A._loadedRoutes=ve.routes,A._loadedInjector=ve.injector,new kt(O,{})))):(0,U.of)(new kt(O,{}))):So(y,A,O,E).pipe((0,Ce.w)(({matched:fe,consumedSegments:ve,remainingSegments:lt})=>fe?this.getChildConfig(E=A._injector??E,A,O).pipe((0,Bt.z)(Hn=>{const hn=Hn.injector??E,hr=Hn.routes,{segmentGroup:As,slicedSegments:fi}=ds(y,ve,lt,hr),oo=new kt(As.segments,As.children);if(0===fi.length&&oo.hasChildren())return this.expandChildren(hn,hr,oo).pipe((0,Fe.U)(Aa=>new kt(ve,Aa)));if(0===hr.length&&0===fi.length)return(0,U.of)(new kt(ve,{}));const Qr=Ei(A)===W;return this.expandSegment(hn,oo,hr,fi,Qr?Gt:W,!0).pipe((0,Fe.U)(Ta=>new kt(ve.concat(Ta.segments),Ta.children)))})):Ds(y)))}getChildConfig(E,y,A){return y.children?(0,U.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,U.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function _a(_,E,y,A){const O=E.canLoad;if(void 0===O||0===O.length)return(0,U.of)(!0);const W=O.map(fe=>{const ve=Yi(fe,_);return Kn(function on(_){return _&&q(_.canLoad)}(ve)?ve.canLoad(E,y):_.runInContext(()=>ve(E,y)))});return(0,U.of)(W).pipe(Is(),eo())}(E,y,A).pipe((0,Bt.z)(O=>O?this.configLoader.loadChildren(E,y).pipe((0,je.b)(W=>{y._loadedRoutes=W.routes,y._loadedInjector=W.injector})):function ia(_){return(0,mt._)(co(Mo,3))}())):(0,U.of)({routes:[],injector:E})}lineralizeSegments(E,y){let A=[],O=y.root;for(;;){if(A=A.concat(O.segments),0===O.numberOfChildren)return(0,U.of)(A);if(O.numberOfChildren>1||!O.children[Gt])return(0,mt._)(new d.vHH(4e3,Mo));O=O.children[Gt]}}applyRedirectCommands(E,y,A){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,A)}applyRedirectCreateUrlTree(E,y,A,O){const W=this.createSegmentGroup(E,y.root,A,O);return new tr(W,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const A={};return Un(E,(O,W)=>{if("string"==typeof O&&O.startsWith(":")){const ve=O.substring(1);A[W]=y[ve]}else A[W]=O}),A}createSegmentGroup(E,y,A,O){const W=this.createSegments(E,y.segments,A,O);let fe={};return Un(y.children,(ve,lt)=>{fe[lt]=this.createSegmentGroup(E,ve,A,O)}),new kt(W,fe)}createSegments(E,y,A,O){return y.map(W=>W.path.startsWith(":")?this.findPosParam(E,W,O):this.findOrReturn(W,A))}findPosParam(E,y,A){const O=A[y.path.substring(1)];if(!O)throw new d.vHH(4001,Mo);return O}findOrReturn(E,y){let A=0;for(const O of y){if(O.path===E.path)return y.splice(A),O;A++}return E}}class no{}class po{constructor(E,y,A,O,W,fe,ve,lt){this.injector=E,this.rootComponentType=y,this.config=A,this.urlTree=O,this.url=W,this.paramsInheritanceStrategy=fe,this.relativeLinkResolution=ve,this.urlSerializer=lt}recognize(){const E=ds(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Gt).pipe((0,Fe.U)(y=>{if(null===y)return null;const A=new as([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new ei(A,y),W=new Lo(this.url,O);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(E){const y=E.value,A=di(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,y,A,O){return 0===A.segments.length&&A.hasChildren()?this.processChildren(E,y,A):this.processSegment(E,y,A,A.segments,O)}processChildren(E,y,A){return(0,F.D)(Object.keys(A.children)).pipe((0,ur.b)(O=>{const W=A.children[O],fe=Fr(y,O);return this.processSegmentGroup(E,fe,W,O)}),(0,tt.R)((O,W)=>O&&W?(O.push(...W),O):null),function Nt(_,E=!1){return(0,Je.e)((y,A)=>{let O=0;y.subscribe((0,ye.x)(A,W=>{const fe=_(W,O++);(fe||E)&&A.next(W),!fe&&A.complete()}))})}(O=>null!==O),(0,At.d)(null),Ht(),(0,Fe.U)(O=>{if(null===O)return null;const W=B(O);return function xo(_){_.sort((E,y)=>E.value.outlet===Gt?-1:y.value.outlet===Gt?1:E.value.outlet.localeCompare(y.value.outlet))}(W),W}))}processSegment(E,y,A,O,W){return(0,F.D)(y).pipe((0,ur.b)(fe=>this.processSegmentAgainstRoute(fe._injector??E,fe,A,O,W)),(0,Pt.P)(fe=>!!fe),$e(fe=>{if(Bs(fe))return ra(A,O,W)?(0,U.of)([]):(0,U.of)(null);throw fe}))}processSegmentAgainstRoute(E,y,A,O,W){if(y.redirectTo||!Er(y,A,O,W))return(0,U.of)(null);let fe;if("**"===y.path){const ve=O.length>0?ir(O).parameters:{},lt=Ie(A)+O.length,Wt=new as(O,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vt(y),Ei(y),y.component??y._loadedComponent??null,y,K(A),lt,vn(y),lt);fe=(0,U.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]})}else fe=So(A,y,O,E).pipe((0,Fe.U)(({matched:ve,consumedSegments:lt,remainingSegments:Wt,parameters:Hn})=>{if(!ve)return null;const hn=Ie(A)+lt.length;return{snapshot:new as(lt,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vt(y),Ei(y),y.component??y._loadedComponent??null,y,K(A),hn,vn(y),hn),consumedSegments:lt,remainingSegments:Wt}}));return fe.pipe((0,Ce.w)(ve=>{if(null===ve)return(0,U.of)(null);const{snapshot:lt,consumedSegments:Wt,remainingSegments:Hn}=ve;E=y._injector??E;const hn=y._loadedInjector??E,hr=function ru(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(y),{segmentGroup:As,slicedSegments:fi}=ds(A,Wt,Hn,hr.filter(Qr=>void 0===Qr.redirectTo),this.relativeLinkResolution);if(0===fi.length&&As.hasChildren())return this.processChildren(hn,hr,As).pipe((0,Fe.U)(Qr=>null===Qr?null:[new ei(lt,Qr)]));if(0===hr.length&&0===fi.length)return(0,U.of)([new ei(lt,[])]);const oo=Ei(y)===W;return this.processSegment(hn,hr,As,fi,oo?Gt:W).pipe((0,Fe.U)(Qr=>null===Qr?null:[new ei(lt,Qr)]))}))}}function b(_){const E=_.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function B(_){const E=[],y=new Set;for(const A of _){if(!b(A)){E.push(A);continue}const O=E.find(W=>A.value.routeConfig===W.value.routeConfig);void 0!==O?(O.children.push(...A.children),y.add(O)):E.push(A)}for(const A of y){const O=B(A.children);E.push(new ei(A.value,O))}return E.filter(A=>!y.has(A))}function K(_){let E=_;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Ie(_){let E=_,y=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift??0;return y-1}function vt(_){return _.data||{}}function vn(_){return _.resolve||{}}function Yr(_){return"string"==typeof _.title||null===_.title}function fs(_){return(0,Ce.w)(E=>{const y=_(E);return y?(0,F.D)(y).pipe((0,Fe.U)(()=>E)):(0,U.of)(E)})}let Mt=(()=>{class _{buildTitle(y){let A,O=y.root;for(;void 0!==O;)A=this.getResolvedTitleForRoute(O)??A,O=O.children.find(W=>W.outlet===Gt);return A}getResolvedTitleForRoute(y){return y.data[cn]}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=d.Yz7({token:_,factory:function(){return(0,d.f3M)(Ir)},providedIn:"root"}),_})(),Ir=(()=>{class _ extends Mt{constructor(y){super(),this.title=y}updateTitle(y){const A=this.buildTitle(y);void 0!==A&&this.title.setTitle(A)}}return _.\u0275fac=function(y){return new(y||_)(d.LFG(rr.Dx))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class go{}class pn extends class tn{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const qt=new d.OlP("",{providedIn:"root",factory:()=>({})}),Rt=new d.OlP("ROUTES");let ri=(()=>{class _{constructor(y,A){this.injector=y,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,U.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const A=Kn(y.loadComponent()).pipe((0,je.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=W}),ln(()=>{this.componentLoaders.delete(y)})),O=new st.c(A,()=>new at.x).pipe((0,un.x)());return this.componentLoaders.set(y,O),O}loadChildren(y,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,U.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const W=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Fe.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(A);let lt,Wt,Hn=!1;Array.isArray(ve)?Wt=ve:(lt=ve.create(y).injector,Wt=jn(lt.get(Rt,[],d.XFs.Self|d.XFs.Optional)));return{routes:Wt.map(Vs),injector:lt}}),ln(()=>{this.childrenLoaders.delete(A)})),fe=new st.c(W,()=>new at.x).pipe((0,un.x)());return this.childrenLoaders.set(A,fe),fe}loadModuleFactoryOrRoutes(y){return Kn(y()).pipe((0,Bt.z)(A=>A instanceof d.YKP||Array.isArray(A)?(0,U.of)(A):(0,F.D)(this.compiler.compileModuleAsync(A))))}}return _.\u0275fac=function(y){return new(y||_)(d.LFG(d.zs3),d.LFG(d.Sil))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class Su{}class Mu{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function tl(_){throw _}function Ba(_,E,y){return E.parse("/")}const oa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ko(){const _=(0,d.f3M)(Xe),E=(0,d.f3M)(ls),y=(0,d.f3M)(Et.Ye),A=(0,d.f3M)(d.zs3),O=(0,d.f3M)(d.Sil),W=(0,d.f3M)(Rt,{optional:!0})??[],fe=(0,d.f3M)(qt,{optional:!0})??{},ve=(0,d.f3M)(Ir),lt=(0,d.f3M)(Mt,{optional:!0}),Wt=(0,d.f3M)(Su,{optional:!0}),Hn=(0,d.f3M)(go,{optional:!0}),hn=new ii(null,_,E,y,A,O,jn(W));return Wt&&(hn.urlHandlingStrategy=Wt),Hn&&(hn.routeReuseStrategy=Hn),hn.titleStrategy=lt??ve,function Nl(_,E){_.errorHandler&&(E.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(E.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(E.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(E.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(E.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(E.canceledNavigationResolution=_.canceledNavigationResolution)}(fe,hn),hn}let ii=(()=>{class _{constructor(y,A,O,W,fe,ve,lt){this.rootComponentType=y,this.urlSerializer=A,this.rootContexts=O,this.location=W,this.config=lt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new at.x,this.errorHandler=tl,this.malformedUriErrorHandler=Ba,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,U.of)(void 0),this.urlHandlingStrategy=new Mu,this.routeReuseStrategy=new pn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=fe.get(ri),this.configLoader.onLoadEndListener=hr=>this.triggerEvent(new lo(hr)),this.configLoader.onLoadStartListener=hr=>this.triggerEvent(new Do(hr)),this.ngModule=fe.get(d.h0i),this.console=fe.get(d.c2e);const hn=fe.get(d.R0b);this.isNgZoneEnabled=hn instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(lt),this.currentUrlTree=function me(){return new tr(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cr(this.currentUrlTree,this.rootComponentType),this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const A=this.events;return y.pipe((0,ft.h)(O=>0!==O.id),(0,Fe.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Ce.w)(O=>{let W=!1,fe=!1;return(0,U.of)(O).pipe((0,je.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ce.w)(ve=>{const lt=this.browserUrlTree.toString(),Wt=!this.navigated||ve.extractedUrl.toString()!==lt||lt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Wt)&&this.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return Nn(ve.source)&&(this.browserUrlTree=ve.extractedUrl),(0,U.of)(ve).pipe((0,Ce.w)(hn=>{const hr=this.transitions.getValue();return A.next(new os(hn.id,this.serializeUrl(hn.extractedUrl),hn.source,hn.restoredState)),hr!==this.transitions.getValue()?ge.E:Promise.resolve(hn)}),function Di(_,E,y,A){return(0,Ce.w)(O=>function hs(_,E,y,A,O){return new $i(_,E,y,A,O).apply()}(_,E,y,O.extractedUrl,A).pipe((0,Fe.U)(W=>({...O,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,je.b)(hn=>{this.currentNavigation={...this.currentNavigation,finalUrl:hn.urlAfterRedirects},O.urlAfterRedirects=hn.urlAfterRedirects}),function mr(_,E,y,A,O,W){return(0,Bt.z)(fe=>function ro(_,E,y,A,O,W,fe="emptyOnly",ve="legacy"){return new po(_,E,y,A,O,fe,ve,W).recognize().pipe((0,Ce.w)(lt=>null===lt?function Wo(_){return new we.y(E=>E.error(_))}(new no):(0,U.of)(lt)))}(_,E,y,fe.urlAfterRedirects,A.serialize(fe.urlAfterRedirects),A,O,W).pipe((0,Fe.U)(ve=>({...fe,targetSnapshot:ve}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,je.b)(hn=>{if(O.targetSnapshot=hn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!hn.extras.skipLocationChange){const As=this.urlHandlingStrategy.merge(hn.urlAfterRedirects,hn.rawUrl);this.setBrowserUrl(As,hn)}this.browserUrlTree=hn.urlAfterRedirects}const hr=new wo(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);A.next(hr)}));if(Wt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:hr,extractedUrl:As,source:fi,restoredState:oo,extras:Qr}=ve,Ou=new os(hr,this.serializeUrl(As),fi,oo);A.next(Ou);const Ta=cr(As,this.rootComponentType).snapshot;return O={...ve,targetSnapshot:Ta,urlAfterRedirects:As,extras:{...Qr,skipLocationChange:!1,replaceUrl:!1}},(0,U.of)(O)}return this.rawUrlTree=ve.rawUrl,ve.resolve(null),ge.E}),(0,je.b)(ve=>{const lt=new Fs(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot);this.triggerEvent(lt)}),(0,Fe.U)(ve=>O={...ve,guards:Jn(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function Va(_,E){return(0,Bt.z)(y=>{const{targetSnapshot:A,currentSnapshot:O,guards:{canActivateChecks:W,canDeactivateChecks:fe}}=y;return 0===fe.length&&0===W.length?(0,U.of)({...y,guardsResult:!0}):function va(_,E,y,A){return(0,F.D)(_).pipe((0,Bt.z)(O=>function js(_,E,y,A,O){const W=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,U.of)(!0);const fe=W.map(ve=>{const lt=Us(E)??O,Wt=Yi(ve,lt);return Kn(function ws(_){return _&&q(_.canDeactivate)}(Wt)?Wt.canDeactivate(_,E,y,A):lt.runInContext(()=>Wt(_,E,y,A))).pipe((0,Pt.P)())});return(0,U.of)(fe).pipe(Is())}(O.component,O.route,y,E,A)),(0,Pt.P)(O=>!0!==O,!0))}(fe,A,O,_).pipe((0,Bt.z)(ve=>ve&&function it(_){return"boolean"==typeof _}(ve)?function $o(_,E,y,A){return(0,F.D)(E).pipe((0,ur.b)(O=>(0,Ue.z)(function Go(_,E){return null!==_&&E&&E(new Re(_)),(0,U.of)(!0)}(O.route.parent,A),function Ho(_,E){return null!==_&&E&&E(new Ge(_)),(0,U.of)(!0)}(O.route,A),function Fi(_,E,y){const A=E[E.length-1],W=E.slice(0,E.length-1).reverse().map(fe=>function jo(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(fe)).filter(fe=>null!==fe).map(fe=>(0,Se.P)(()=>{const ve=fe.guards.map(lt=>{const Wt=Us(fe.node)??y,Hn=Yi(lt,Wt);return Kn(function Xs(_){return _&&q(_.canActivateChild)}(Hn)?Hn.canActivateChild(A,_):Wt.runInContext(()=>Hn(A,_))).pipe((0,Pt.P)())});return(0,U.of)(ve).pipe(Is())}));return(0,U.of)(W).pipe(Is())}(_,O.path,y),function Ao(_,E,y){const A=E.routeConfig?E.routeConfig.canActivate:null;if(!A||0===A.length)return(0,U.of)(!0);const O=A.map(W=>(0,Se.P)(()=>{const fe=Us(E)??y,ve=Yi(W,fe);return Kn(function Yn(_){return _&&q(_.canActivate)}(ve)?ve.canActivate(E,_):fe.runInContext(()=>ve(E,_))).pipe((0,Pt.P)())}));return(0,U.of)(O).pipe(Is())}(_,O.route,y))),(0,Pt.P)(O=>!0!==O,!0))}(A,W,_,E):(0,U.of)(ve)),(0,Fe.U)(ve=>({...y,guardsResult:ve})))})}(this.ngModule.injector,ve=>this.triggerEvent(ve)),(0,je.b)(ve=>{if(O.guardsResult=ve.guardsResult,It(ve.guardsResult))throw _s(0,ve.guardsResult);const lt=new ma(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.triggerEvent(lt)}),(0,ft.h)(ve=>!!ve.guardsResult||(this.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),fs(ve=>{if(ve.guards.canActivateChecks.length)return(0,U.of)(ve).pipe((0,je.b)(lt=>{const Wt=new dr(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Wt)}),(0,Ce.w)(lt=>{let Wt=!1;return(0,U.of)(lt).pipe(function nr(_,E){return(0,Bt.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:O}}=y;if(!O.length)return(0,U.of)(y);let W=0;return(0,F.D)(O).pipe((0,ur.b)(fe=>function wr(_,E,y,A){const O=_.routeConfig,W=_._resolve;return void 0!==O?.title&&!Yr(O)&&(W[cn]=O.title),function In(_,E,y,A){const O=function Sr(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===O.length)return(0,U.of)({});const W={};return(0,F.D)(O).pipe((0,Bt.z)(fe=>function $n(_,E,y,A){const O=Us(E)??A,W=Yi(_,O);return Kn(W.resolve?W.resolve(E,y):O.runInContext(()=>W(E,y)))}(_[fe],E,y,A).pipe((0,Pt.P)(),(0,je.b)(ve=>{W[fe]=ve}))),_t(1),(0,nn.h)(W),$e(fe=>Bs(fe)?ge.E:(0,mt._)(fe)))}(W,_,E,A).pipe((0,Fe.U)(fe=>(_._resolvedData=fe,_.data=di(_,y).resolve,O&&Yr(O)&&(_.data[cn]=O.title),null)))}(fe.route,A,_,E)),(0,je.b)(()=>W++),_t(1),(0,Bt.z)(fe=>W===O.length?(0,U.of)(y):ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,je.b)({next:()=>Wt=!0,complete:()=>{Wt||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,"",2))}}))}),(0,je.b)(lt=>{const Wt=new Io(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Wt)}))}),fs(ve=>{const lt=Wt=>{const Hn=[];Wt.routeConfig?.loadComponent&&!Wt.routeConfig._loadedComponent&&Hn.push(this.configLoader.loadComponent(Wt.routeConfig).pipe((0,je.b)(hn=>{Wt.component=hn}),(0,Fe.U)(()=>{})));for(const hn of Wt.children)Hn.push(...lt(hn));return Hn};return ze(lt(ve.targetSnapshot.root)).pipe((0,At.d)(),(0,Me.q)(1))}),fs(()=>this.afterPreactivation()),(0,Fe.U)(ve=>{const lt=function Zi(_,E,y){const A=qs(_,E._root,y?y._root:void 0);return new pi(A,E)}(this.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return O={...ve,targetRouterState:lt}}),(0,je.b)(ve=>{this.currentUrlTree=ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),this.routerState=ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ve),this.browserUrlTree=ve.urlAfterRedirects)}),((_,E,y)=>(0,Fe.U)(A=>(new cs(E,A.targetRouterState,A.currentRouterState,y).activate(_),A)))(this.rootContexts,this.routeReuseStrategy,ve=>this.triggerEvent(ve)),(0,je.b)({next(){W=!0},complete(){W=!0}}),ln(()=>{W||fe||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),$e(ve=>{if(fe=!0,pr(ve)){ta(ve)||(this.navigated=!0,this.restoreHistory(O,!0));const lt=new Bi(O.id,this.serializeUrl(O.extractedUrl),ve.message,ve.cancellationCode);if(A.next(lt),ta(ve)){const Wt=this.urlHandlingStrategy.merge(ve.url,this.rawUrlTree),Hn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nn(O.source)};this.scheduleNavigation(Wt,"imperative",null,Hn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const lt=new Zs(O.id,this.serializeUrl(O.extractedUrl),ve,O.targetSnapshot??void 0);A.next(lt);try{O.resolve(this.errorHandler(ve))}catch(Wt){O.reject(Wt)}}return ge.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const O={replaceUrl:!0},W=y.state?.navigationId?y.state:null;if(W){const ve={...W};delete ve.navigationId,delete ve.\u0275routerPageId,0!==Object.keys(ve).length&&(O.state=ve)}const fe=this.parseUrl(y.url);this.scheduleNavigation(fe,A,W,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,A={}){const{relativeTo:O,queryParams:W,fragment:fe,queryParamsHandling:ve,preserveFragment:lt}=A,Wt=O||this.routerState.root,Hn=lt?this.currentUrlTree.fragment:fe;let hn=null;switch(ve){case"merge":hn={...this.currentUrlTree.queryParams,...W};break;case"preserve":hn=this.currentUrlTree.queryParams;break;default:hn=W||null}return null!==hn&&(hn=this.removeEmptyProps(hn)),Bn(Wt,this.currentUrlTree,y,hn,Hn??null)}navigateByUrl(y,A={skipLocationChange:!1}){const O=It(y)?y:this.parseUrl(y),W=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,A)}navigate(y,A={skipLocationChange:!1}){return function yi(_){for(let E=0;E<_.length;E++){if(null==_[E])throw new d.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(O){A=this.malformedUriErrorHandler(O,this.urlSerializer,y)}return A}isActive(y,A){let O;if(O=!0===A?{...oa}:!1===A?{...Ol}:A,It(y))return ut(this.currentUrlTree,y,O);const W=this.parseUrl(y);return ut(this.currentUrlTree,W,O)}removeEmptyProps(y){return Object.keys(y).reduce((A,O)=>{const W=y[O];return null!=W&&(A[O]=W),A},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Nr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,A,O,W,fe){if(this.disposed)return Promise.resolve(!1);let ve,lt,Wt;fe?(ve=fe.resolve,lt=fe.reject,Wt=fe.promise):Wt=new Promise((hr,As)=>{ve=hr,lt=As});const Hn=++this.navigationId;let hn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),hn=O&&O.\u0275routerPageId?O.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):hn=0,this.setTransition({id:Hn,targetPageId:hn,source:A,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:W,resolve:ve,reject:lt,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(hr=>Promise.reject(hr))}setBrowserUrl(y,A){const O=this.urlSerializer.serialize(y),W={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(O)||A.extras.replaceUrl?this.location.replaceState(O,"",W):this.location.go(O,"",W)}restoreHistory(y,A=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,A,O){const W=new Bi(y.id,this.serializeUrl(y.extractedUrl),A,O);this.triggerEvent(W),y.resolve(!1)}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}}return _.\u0275fac=function(y){d.$Z()},_.\u0275prov=d.Yz7({token:_,factory:function(){return Ko()},providedIn:"root"}),_})();function Nn(_){return"imperative"!==_}let bs=(()=>{class _{constructor(y,A,O,W,fe){this.router=y,this.route=A,this.tabIndexAttribute=O,this.renderer=W,this.el=fe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new at.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const A=this.renderer,O=this.el.nativeElement;null!==y?A.setAttribute(O,"tabindex",y):A.removeAttribute(O,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(y){return new(y||_)(d.Y36(ii),d.Y36(ci),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},_.\u0275dir=d.lG2({type:_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,A){1&y&&d.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),_})(),ja=(()=>{class _{constructor(y,A,O){this.router=y,this.route=A,this.locationStrategy=O,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new at.x,this.subscription=y.events.subscribe(W=>{W instanceof Nr&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,A,O,W,fe){return!!(0!==y||A||O||W||fe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(y){return new(y||_)(d.Y36(ii),d.Y36(ci),d.Y36(Et.S$))},_.\u0275dir=d.lG2({type:_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,A){1&y&&d.NdJ("click",function(W){return A.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&y&&d.uIk("target",A.target)("href",A.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),_})();class Ts{}let or=(()=>{class _{constructor(y,A,O,W,fe){this.router=y,this.injector=O,this.preloadingStrategy=W,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(y=>y instanceof Nr),(0,ur.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const O=[];for(const W of A){W.providers&&!W._injector&&(W._injector=(0,d.MMx)(W.providers,y,`Route: ${W.path}`));const fe=W._injector??y,ve=W._loadedInjector??fe;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?O.push(this.preloadConfig(fe,W)):(W.children||W._loadedRoutes)&&O.push(this.processRoutes(ve,W.children??W._loadedRoutes))}return(0,F.D)(O).pipe((0,Ln.J)())}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>{let O;O=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(y,A):(0,U.of)(null);const W=O.pipe((0,Bt.z)(fe=>null===fe?(0,U.of)(void 0):(A._loadedRoutes=fe.routes,A._loadedInjector=fe.injector,this.processRoutes(fe.injector??y,fe.routes))));if(A.loadComponent&&!A._loadedComponent){const fe=this.loader.loadComponent(A);return(0,F.D)([W,fe]).pipe((0,Ln.J)())}return W})}}return _.\u0275fac=function(y){return new(y||_)(d.LFG(ii),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ts),d.LFG(ri))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Yt=new d.OlP("");let Ji=(()=>{class _{constructor(y,A,O={}){this.router=y,this.viewportScroller=A,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Nr&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Lt&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.router.triggerEvent(new Lt(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(y){d.$Z()},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac}),_})();function Ro(_,E){return{\u0275kind:_,\u0275providers:E}}function Da(_){return[{provide:Rt,multi:!0,useValue:_}]}function Ca(){const _=(0,d.f3M)(d.zs3);return E=>{const y=_.get(d.z2F);if(E!==y.components[0])return;const A=_.get(ii),O=_.get(Ru);1===_.get(ps)&&A.initialNavigation(),_.get(qo,null,d.XFs.Optional)?.setUpPreloading(),_.get(Yt,null,d.XFs.Optional)?.init(),A.resetRootComponentType(y.componentTypes[0]),O.closed||(O.next(),O.unsubscribe())}}const Ru=new d.OlP("",{factory:()=>new at.x}),ps=new d.OlP("",{providedIn:"root",factory:()=>1});const qo=new d.OlP("");function si(_){return Ro(0,[{provide:qo,useExisting:or},{provide:Ts,useExisting:_}])}const Ga=new d.OlP("ROUTER_FORROOT_GUARD"),Ci=[Et.Ye,{provide:Xe,useClass:L},{provide:ii,useFactory:Ko},ls,{provide:ci,useFactory:function Mr(_){return _.routerState.root},deps:[ii]},ri];function Li(){return new d.PXZ("Router",ii)}let iu=(()=>{class _{constructor(y){}static forRoot(y,A){return{ngModule:_,providers:[Ci,[],Da(y),{provide:Ga,useFactory:Pu,deps:[[ii,new d.FiY,new d.tp0]]},{provide:qt,useValue:A||{}},A?.useHash?{provide:Et.S$,useClass:Et.Do}:{provide:Et.S$,useClass:Et.b0},{provide:Yt,useFactory:()=>{const _=(0,d.f3M)(ii),E=(0,d.f3M)(Et.EM),y=(0,d.f3M)(qt);return y.scrollOffset&&E.setOffset(y.scrollOffset),new Ji(_,E,y)}},A?.preloadingStrategy?si(A.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Li},A?.initialNavigation?kl(A):[],[{provide:Xi,useFactory:Ca},{provide:d.tb,multi:!0,useExisting:Xi}]]}}static forChild(y){return{ngModule:_,providers:[Da(y)]}}}return _.\u0275fac=function(y){return new(y||_)(d.LFG(Ga,8))},_.\u0275mod=d.oAB({type:_}),_.\u0275inj=d.cJS({imports:[ki]}),_})();function Pu(_){return"guarded"}function kl(_){return["disabled"===_.initialNavigation?Ro(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const E=(0,d.f3M)(ii);return()=>{E.setUpLocationChangeListener()}}},{provide:ps,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ro(2,[{provide:ps,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:E=>{const y=E.get(Et.V_,Promise.resolve());let A=!1;return()=>y.then(()=>new Promise(W=>{const fe=E.get(ii),ve=E.get(Ru);(function O(W){E.get(ii).events.pipe((0,ft.h)(ve=>ve instanceof Nr||ve instanceof Bi||ve instanceof Zs),(0,Fe.U)(ve=>ve instanceof Nr||ve instanceof Bi&&(0===ve.code||1===ve.code)&&null),(0,ft.h)(ve=>null!==ve),(0,Me.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),A=!0}),fe.afterPreactivation=()=>(W(!0),A||ve.closed?(0,U.of)(void 0):ve),fe.initialNavigation()}))}}]).\u0275providers:[]]}const Xi=new d.OlP("")},3942:(Ut,ke,R)=>{R.d(ke,{Z:()=>We});var d=R(2090),F=R(4859),U=R(6881),ce=R(1877);class ae{constructor(Ue,Se){this._delegate=Ue,this.firebase=Se,(0,U._addComponent)(Ue,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ue,Se=U._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Ue);return!mt.isInitialized()&&"EXPLICIT"===(null===(bt=mt.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Se})}_removeServiceInstance(Ue,Se=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(Se)}_addComponent(Ue){(0,U._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,U._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Pe(){const wt=function ee(wt){const Ue={},Se={__esModule:!0,initializeApp:function ge(Fe,Ce={}){const Me=U.initializeApp(Fe,Ce);if((0,d.r3)(Ue,Me.name))return Ue[Me.name];const pt=new wt(Me,Se);return Ue[Me.name]=pt,pt},app:mt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function at(Fe){const Ce=Fe.name,Me=Ce.replace("-compat","");if(U._registerComponent(Fe)&&"PUBLIC"===Fe.type){const pt=(ft=mt())=>{if("function"!=typeof ft[Me])throw De.create("invalid-app-argument",{appName:Ce});return ft[Me]()};void 0!==Fe.serviceProps&&(0,d.ZB)(pt,Fe.serviceProps),Se[Me]=pt,wt.prototype[Me]=function(...ft){return this._getService.bind(this,Ce).apply(this,Fe.multipleInstances?ft:[])}}return"PUBLIC"===Fe.type?Se[Me]:null},removeApp:function bt(Fe){delete Ue[Fe]},useAsService:function Et(Fe,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:U}};function mt(Fe){if(!(0,d.r3)(Ue,Fe=Fe||U._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Fe});return Ue[Fe]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function st(){return Object.keys(Ue).map(Fe=>Ue[Fe])}}),mt.App=wt,Se}(ae);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Ue(Se){(0,d.ZB)(wt,Se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),wt}(),ue=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const wt=self.firebase.SDK_VERSION;wt&&wt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=ne;!function ze(wt){(0,U.registerVersion)("@firebase/app-compat","0.2.13",wt)}()},6881:(Ut,ke,R)=>{R.r(ke),R.d(ke,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>pe,_addOrOverwriteComponent:()=>nt,_apps:()=>rt,_clearComponents:()=>Cn,_components:()=>me,_getProvider:()=>Xt,_registerComponent:()=>ut,_removeServiceInstance:()=>mn,deleteApp:()=>Pn,getApp:()=>Zt,getApps:()=>Jt,initializeApp:()=>kt,onLog:()=>L,registerVersion:()=>Xe,setLogLevel:()=>X});var d=R(5861),F=R(4859),U=R(1877),ce=R(2090);let we,De;const ne=new WeakMap,ue=new WeakMap,ye=new WeakMap,qe=new WeakMap,ze=new WeakMap;let Ue={get(Ve,Le,St){if(Ve instanceof IDBTransaction){if("done"===Le)return ue.get(Ve);if("objectStoreNames"===Le)return Ve.objectStoreNames||ye.get(Ve);if("store"===Le)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return ge(Ve[Le])},set:(Ve,Le,St)=>(Ve[Le]=St,!0),has:(Ve,Le)=>Ve instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in Ve};function mt(Ve){return"function"==typeof Ve?function bt(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Le){return Ve.apply(st(this),Le),ge(ne.get(this))}:function(...Le){return ge(Ve.apply(st(this),Le))}:function(Le,...St){const It=Ve.call(st(this),Le,...St);return ye.set(It,Le.sort?Le.sort():[Le]),ge(It)}}(Ve):(Ve instanceof IDBTransaction&&function wt(Ve){if(ue.has(Ve))return;const Le=new Promise((St,It)=>{const wn=()=>{Ve.removeEventListener("complete",Fn),Ve.removeEventListener("error",qn),Ve.removeEventListener("abort",qn)},Fn=()=>{St(),wn()},qn=()=>{It(Ve.error||new DOMException("AbortError","AbortError")),wn()};Ve.addEventListener("complete",Fn),Ve.addEventListener("error",qn),Ve.addEventListener("abort",qn)});ue.set(Ve,Le)}(Ve),((Ve,Le)=>Le.some(St=>Ve instanceof St))(Ve,function ee(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,Ue):Ve)}function ge(Ve){if(Ve instanceof IDBRequest)return function We(Ve){const Le=new Promise((St,It)=>{const wn=()=>{Ve.removeEventListener("success",Fn),Ve.removeEventListener("error",qn)},Fn=()=>{St(ge(Ve.result)),wn()},qn=()=>{It(Ve.error),wn()};Ve.addEventListener("success",Fn),Ve.addEventListener("error",qn)});return Le.then(St=>{St instanceof IDBCursor&&ne.set(St,Ve)}).catch(()=>{}),ze.set(Le,Ve),Le}(Ve);if(qe.has(Ve))return qe.get(Ve);const Le=mt(Ve);return Le!==Ve&&(qe.set(Ve,Le),ze.set(Le,Ve)),Le}const st=Ve=>ze.get(Ve),Fe=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Me=new Map;function pt(Ve,Le){if(!(Ve instanceof IDBDatabase)||Le in Ve||"string"!=typeof Le)return;if(Me.get(Le))return Me.get(Le);const St=Le.replace(/FromIndex$/,""),It=Le!==St,wn=Ce.includes(St);if(!(St in(It?IDBIndex:IDBObjectStore).prototype)||!wn&&!Fe.includes(St))return;const Fn=function(){var qn=(0,d.Z)(function*(br,...Bn){const Rr=this.transaction(br,wn?"readwrite":"readonly");let Gr=Rr.store;return It&&(Gr=Gr.index(Bn.shift())),(yield Promise.all([Gr[St](...Bn),wn&&Rr.done]))[0]});return function(Bn){return qn.apply(this,arguments)}}();return Me.set(Le,Fn),Fn}!function Se(Ve){Ue=Ve(Ue)}(Ve=>({...Ve,get:(Le,St,It)=>pt(Le,St)||Ve.get(Le,St,It),has:(Le,St)=>!!pt(Le,St)||Ve.has(Le,St)}));class ft{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Bt(Ve){return"VERSION"===Ve.getComponent()?.type}(St)){const It=St.getImmediate();return`${It.library}/${It.version}`}return null}).filter(St=>St).join(" ")}}const Pt="@firebase/app",je=new U.Yd("@firebase/app"),Un="[DEFAULT]",Kn={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,me=new Map;function pe(Ve,Le){try{Ve.container.addComponent(Le)}catch(St){je.debug(`Component ${Le.name} failed to register with FirebaseApp ${Ve.name}`,St)}}function nt(Ve,Le){Ve.container.addOrOverwriteComponent(Le)}function ut(Ve){const Le=Ve.name;if(me.has(Le))return je.debug(`There were multiple attempts to register component ${Le}.`),!1;me.set(Le,Ve);for(const St of rt.values())pe(St,Ve);return!0}function Xt(Ve,Le){const St=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),Ve.container.getProvider(Le)}function mn(Ve,Le,St=Un){Xt(Ve,Le).clearInstance(St)}function Cn(){me.clear()}const On=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dn{constructor(Le,St,It){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const tr="9.23.0";function kt(Ve,Le={}){let St=Ve;"object"!=typeof Le&&(Le={name:Le});const It=Object.assign({name:Un,automaticDataCollectionEnabled:!1},Le),wn=It.name;if("string"!=typeof wn||!wn)throw On.create("bad-app-name",{appName:String(wn)});if(St||(St=(0,ce.aH)()),!St)throw On.create("no-options");const Fn=rt.get(wn);if(Fn){if((0,ce.vZ)(St,Fn.options)&&(0,ce.vZ)(It,Fn.config))return Fn;throw On.create("duplicate-app",{appName:wn})}const qn=new F.H0(wn);for(const Bn of me.values())qn.addComponent(Bn);const br=new dn(St,It,qn);return rt.set(wn,br),br}function Zt(Ve=Un){const Le=rt.get(Ve);if(!Le&&Ve===Un&&(0,ce.aH)())return kt();if(!Le)throw On.create("no-app",{appName:Ve});return Le}function Jt(){return Array.from(rt.values())}function Pn(Ve){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(Ve){const Le=Ve.name;rt.has(Le)&&(rt.delete(Le),yield Promise.all(Ve.container.getProviders().map(St=>St.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function Xe(Ve,Le,St){var It;let wn=null!==(It=Kn[Ve])&&void 0!==It?It:Ve;St&&(wn+=`-${St}`);const Fn=wn.match(/\s|\//),qn=Le.match(/\s|\//);if(Fn||qn){const br=[`Unable to register library "${wn}" with version "${Le}":`];return Fn&&br.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Fn&&qn&&br.push("and"),qn&&br.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void je.warn(br.join(" "))}ut(new F.wA(`${wn}-version`,()=>({library:wn,version:Le}),"VERSION"))}function L(Ve,Le){if(null!==Ve&&"function"!=typeof Ve)throw On.create("invalid-log-argument");(0,U.Am)(Ve,Le)}function X(Ve){(0,U.Ub)(Ve)}const re="firebase-heartbeat-store";let oe=null;function z(){return oe||(oe=function at(Ve,Le,{blocked:St,upgrade:It,blocking:wn,terminated:Fn}={}){const qn=indexedDB.open(Ve,Le),br=ge(qn);return It&&qn.addEventListener("upgradeneeded",Bn=>{It(ge(qn.result),Bn.oldVersion,Bn.newVersion,ge(qn.transaction),Bn)}),St&&qn.addEventListener("blocked",Bn=>St(Bn.oldVersion,Bn.newVersion,Bn)),br.then(Bn=>{Fn&&Bn.addEventListener("close",()=>Fn()),wn&&Bn.addEventListener("versionchange",Rr=>wn(Rr.oldVersion,Rr.newVersion,Rr))}).catch(()=>{}),br}("firebase-heartbeat-database",1,{upgrade:(Ve,Le)=>{0===Le&&Ve.createObjectStore(re)}}).catch(Ve=>{throw On.create("idb-open",{originalErrorMessage:Ve.message})})),oe}function G(){return(G=(0,d.Z)(function*(Ve){try{return yield(yield z()).transaction(re).objectStore(re).get(jt(Ve))}catch(Le){if(Le instanceof ce.ZR)je.warn(Le.message);else{const St=On.create("idb-get",{originalErrorMessage:Le?.message});je.warn(St.message)}}})).apply(this,arguments)}function be(Ve,Le){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(Ve,Le){try{const It=(yield z()).transaction(re,"readwrite");yield It.objectStore(re).put(Le,jt(Ve)),yield It.done}catch(St){if(St instanceof ce.ZR)je.warn(St.message);else{const It=On.create("idb-set",{originalErrorMessage:St?.message});je.warn(It.message)}}})).apply(this,arguments)}function jt(Ve){return`${Ve.name}!${Ve.options.appId}`}class he{constructor(Le){this.container=Le,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Ke(St),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Le=this;return(0,d.Z)(function*(){const It=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=te();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==wn&&!Le._heartbeatsCache.heartbeats.some(Fn=>Fn.date===wn))return Le._heartbeatsCache.heartbeats.push({date:wn,agent:It}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(Fn=>{const qn=new Date(Fn.date).valueOf();return Date.now()-qn<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,d.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const St=te(),{heartbeatsToSend:It,unsentEntries:wn}=function Oe(Ve,Le=1024){const St=[];let It=Ve.slice();for(const wn of Ve){const Fn=St.find(qn=>qn.agent===wn.agent);if(Fn){if(Fn.dates.push(wn.date),Vt(St)>Le){Fn.dates.pop();break}}else if(St.push({agent:wn.agent,dates:[wn.date]}),Vt(St)>Le){St.pop();break}It=It.slice(1)}return{heartbeatsToSend:St,unsentEntries:It}}(Le._heartbeatsCache.heartbeats),Fn=(0,ce.L)(JSON.stringify({version:2,heartbeats:It}));return Le._heartbeatsCache.lastSentHeartbeatDate=St,wn.length>0?(Le._heartbeatsCache.heartbeats=wn,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),Fn})()}}function te(){return(new Date).toISOString().substring(0,10)}class Ke{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,d.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function Z(Ve){return G.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var St=this;return(0,d.Z)(function*(){var It;if(yield St._canUseIndexedDBPromise){const Fn=yield St.read();return be(St.app,{lastSentHeartbeatDate:null!==(It=Le.lastSentHeartbeatDate)&&void 0!==It?It:Fn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var St=this;return(0,d.Z)(function*(){var It;if(yield St._canUseIndexedDBPromise){const Fn=yield St.read();return be(St.app,{lastSentHeartbeatDate:null!==(It=Le.lastSentHeartbeatDate)&&void 0!==It?It:Fn.lastSentHeartbeatDate,heartbeats:[...Fn.heartbeats,...Le.heartbeats]})}})()}}function Vt(Ve){return(0,ce.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function yn(Ve){ut(new F.wA("platform-logger",Le=>new ft(Le),"PRIVATE")),ut(new F.wA("heartbeat",Le=>new he(Le),"PRIVATE")),Xe(Pt,"0.9.13",Ve),Xe(Pt,"0.9.13","esm2017"),Xe("fire-js","")}("")},4859:(Ut,ke,R)=>{R.d(ke,{H0:()=>ee,wA:()=>U});var d=R(5861),F=R(2090);class U{constructor(ne,ue,ye){this.name=ne,this.instanceFactory=ue,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ce="[DEFAULT]";class ae{constructor(ne,ue){this.name=ne,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ue=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ue)){const ye=new F.BH;if(this.instancesDeferred.set(ue,ye),this.isInitialized(ue)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ue});qe&&ye.resolve(qe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ne){var ue;const ye=this.normalizeInstanceIdentifier(ne?.identifier),qe=null!==(ue=ne?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(ze){if(qe)return null;throw ze}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function De(Pe){return"EAGER"===Pe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[ue,ye]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ue);try{const ze=this.getOrInitializeService({instanceIdentifier:qe});ye.resolve(ze)}catch{}}}}clearInstance(ne=ce){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,d.Z)(function*(){const ue=Array.from(ne.instances.values());yield Promise.all([...ue.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ue.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ce){return this.instances.has(ne)}getOptions(ne=ce){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ue={}}=ne,ye=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ye,options:ue});for(const[ze,We]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(ze)&&We.resolve(qe);return qe}onInit(ne,ue){var ye;const qe=this.normalizeInstanceIdentifier(ue),ze=null!==(ye=this.onInitCallbacks.get(qe))&&void 0!==ye?ye:new Set;ze.add(ne),this.onInitCallbacks.set(qe,ze);const We=this.instances.get(qe);return We&&ne(We,qe),()=>{ze.delete(ne)}}invokeOnInitCallbacks(ne,ue){const ye=this.onInitCallbacks.get(ue);if(ye)for(const qe of ye)try{qe(ne,ue)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ue={}}){let ye=this.instances.get(ne);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=ne,Pe===ce?void 0:Pe),options:ue}),this.instances.set(ne,ye),this.instancesOptions.set(ne,ue),this.invokeOnInitCallbacks(ye,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ye)}catch{}var Pe;return ye||null}normalizeInstanceIdentifier(ne=ce){return this.component?this.component.multipleInstances?ne:ce:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ue=this.getProvider(ne.name);if(ue.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ue.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ue=new ae(ne,this);return this.providers.set(ne,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Ut,ke,R)=>{R.d(ke,{Am:()=>Pe,Ub:()=>ee,Yd:()=>De,in:()=>F});const d=[];var F=(()=>{return(ne=F||(F={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",F;var ne})();const U={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ce=F.INFO,ae={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},we=(ne,ue,...ye)=>{if(ue<ne.logLevel)return;const qe=(new Date).toISOString(),ze=ae[ue];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[ze](`[${qe}]  ${ne.name}:`,...ye)};class De{constructor(ue){this.name=ue,this._logLevel=ce,this._logHandler=we,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in F))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?U[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...ue),this._logHandler(this,F.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...ue),this._logHandler(this,F.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,F.INFO,...ue),this._logHandler(this,F.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,F.WARN,...ue),this._logHandler(this,F.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...ue),this._logHandler(this,F.ERROR,...ue)}}function ee(ne){d.forEach(ue=>{ue.setLogLevel(ne)})}function Pe(ne,ue){for(const ye of d){let qe=null;ue&&ue.level&&(qe=U[ue.level]),ye.userLogHandler=null===ne?null:(ze,We,...wt)=>{const Ue=wt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");We>=(qe??ze.logLevel)&&ne({level:F[We].toLowerCase(),message:Ue,args:wt,type:ze.name})}}}},259:(Ut,ke,R)=>{R.d(ke,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=R(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(Ut,ke,R)=>{R.d(ke,{Z:()=>d.Z});var d=R(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Ut,ke,R)=>{R.r(ke);var d=R(5861),F=R(3942),U=R(1389),ce=R(2090),De=(R(6881),R(1877),R(4859));function ee(){return window}function ue(){return(ue=(0,d.Z)(function*(z,Z,G){var be;const{BuildInfo:dt}=ee();(0,U.as)(Z.sessionId,"AuthEvent did not contain a session ID");const jt=yield Se(Z.sessionId),sn={};return(0,U.at)()?sn.ibi=dt.packageName:(0,U.au)()?sn.apn=dt.packageName:(0,U.av)(z,"operation-not-supported-in-this-environment"),dt.displayName&&(sn.appDisplayName=dt.displayName),sn.sessionId=jt,(0,U.aw)(z,G,Z.type,void 0,null!==(be=Z.eventId)&&void 0!==be?be:void 0,sn)})).apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(z){const{BuildInfo:Z}=ee(),G={};(0,U.at)()?G.iosBundleId=Z.packageName:(0,U.au)()?G.androidPackageName=Z.packageName:(0,U.av)(z,"operation-not-supported-in-this-environment"),yield(0,U.ax)(z,G)})).apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(z,Z,G){const{cordova:be}=ee();let dt=()=>{};try{yield new Promise((jt,sn)=>{let se=null;function he(){var Ke;jt();const Vt=null===(Ke=be.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof Vt&&Vt(),"function"==typeof G?.close&&G.close()}function te(){se||(se=window.setTimeout(()=>{sn((0,U.az)(z,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&te()}Z.addPassiveListener(he),document.addEventListener("resume",te,!1),(0,U.au)()&&document.addEventListener("visibilitychange",Oe,!1),dt=()=>{Z.removePassiveListener(he),document.removeEventListener("resume",te,!1),document.removeEventListener("visibilitychange",Oe,!1),se&&window.clearTimeout(se)}})}finally{dt()}})).apply(this,arguments)}function Se(z){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(z){const Z=mt(z),G=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(G)).map(dt=>dt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mt(z){if((0,U.as)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const Z=new ArrayBuffer(z.length),G=new Uint8Array(Z);for(let be=0;be<z.length;be++)G[be]=z.charCodeAt(be);return G}class st extends U.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,d.Z)(function*(){yield Z.initPromise})()}}function Fe(z){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(z){const Z=yield ft()._get(Bt(z));return Z&&(yield ft()._remove(Bt(z))),Z})).apply(this,arguments)}function pt(){const z=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let G=0;G<20;G++){const be=Math.floor(Math.random()*Z.length);z.push(Z.charAt(be))}return z.join("")}function ft(){return(0,U.aC)(U.b)}function Bt(z){return(0,U.aD)("authEvent",z.config.apiKey,z.name)}function je(z){if(!z?.includes("?"))return{};const[Z,...G]=z.split("?");return(0,ce.zd)(G.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.az)("no-auth-event")}}function Nt(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function ln(z=(0,ce.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()&&"capacitor:"!==Nt()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const z=self.localStorage,Z=U.aL();if(z)return z.setItem(Z,"1"),z.removeItem(Z),!function Gt(z=(0,ce.z$)()){return function Ln(){return(0,ce.w1)()&&11===document?.documentMode}()||function rr(z=(0,ce.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,ce.hl)()}catch{return xn()&&(0,ce.hl)()}return!1}function xn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function nn(){return"http:"===Nt()||"https:"===Nt()}()||(0,ce.ru)()||ln())&&!function un(){return(0,ce.b$)()||(0,ce.UG)()}()&&cn()&&!xn()}function Ar(){return ln()&&typeof document<"u"}function xt(){return(xt=(0,d.Z)(function*(){return!!Ar()&&new Promise(z=>{const Z=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),z(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},ir=U.aA,Br="persistence";function Kn(z){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(z){yield z._initializationPromise;const Z=pe(),G=U.aD(Br,z.config.apiKey,z.name);Z&&Z.setItem(G,z._getPersistence())})).apply(this,arguments)}function pe(){var z;try{return(null===(z=function Mn(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const nt=U.aA;class ut{constructor(){this.browserResolver=U.aC(U.k),this.cordovaResolver=U.aC(class Je{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(Z){var G=this;return(0,d.Z)(function*(){const be=Z._key();let dt=G.eventManagers.get(be);return dt||(dt=new st(Z),G.eventManagers.set(be,dt),G.attachCallbackListeners(Z,dt)),dt})()}_openPopup(Z){(0,U.av)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,G,be,dt){var jt=this;return(0,d.Z)(function*(){!function Ue(z){var Z,G,be,dt,jt,sn,se,he,te,Oe;const Ke=ee();(0,U.aA)("function"==typeof(null===(Z=Ke?.universalLinks)||void 0===Z?void 0:Z.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aA)(typeof(null===(G=Ke?.BuildInfo)||void 0===G?void 0:G.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aA)("function"==typeof(null===(jt=null===(dt=null===(be=Ke?.cordova)||void 0===be?void 0:be.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===jt?void 0:jt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(he=null===(se=null===(sn=Ke?.cordova)||void 0===sn?void 0:sn.plugins)||void 0===se?void 0:se.browsertab)||void 0===he?void 0:he.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(Oe=null===(te=Ke?.cordova)||void 0===te?void 0:te.InAppBrowser)||void 0===Oe?void 0:Oe.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const sn=yield jt._initialize(Z);yield sn.initialized(),sn.resetRedirect(),(0,U.aG)(),yield jt._originValidation(Z);const se=function at(z,Z,G=null){return{type:Z,eventId:G,urlResponse:null,sessionId:pt(),postBody:null,tenantId:z.tenantId,error:(0,U.az)(z,"no-auth-event")}}(Z,be,dt);yield function Et(z,Z){return ft()._set(Bt(z),Z)}(Z,se);const he=yield function ne(z,Z,G){return ue.apply(this,arguments)}(Z,se,G),te=yield function ze(z){const{cordova:Z}=ee();return new Promise(G=>{Z.plugins.browsertab.isAvailable(be=>{let dt=null;be?Z.plugins.browsertab.openUrl(z):dt=Z.InAppBrowser.open(z,(0,U.ay)()?"_blank":"_system","location=yes"),G(dt)})})}(he);return function We(z,Z,G){return wt.apply(this,arguments)}(Z,sn,te)})()}_isIframeWebStorageSupported(Z,G){throw new Error("Method not implemented.")}_originValidation(Z){const G=Z._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function ye(z){return qe.apply(this,arguments)}(Z)),this.originValidationPromises[G]}attachCallbackListeners(Z,G){const{universalLinks:be,handleOpenURL:dt,BuildInfo:jt}=ee(),sn=setTimeout((0,d.Z)(function*(){yield Fe(Z),G.onEvent(tt())}),500),se=function(){var Oe=(0,d.Z)(function*(Ke){clearTimeout(sn);const Vt=yield Fe(Z);let yn=null;Vt&&Ke?.url&&(yn=function Me(z,Z){var G,be;const dt=function ur(z){const Z=je(z),G=Z.link?decodeURIComponent(Z.link):void 0,be=je(G).link,dt=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return je(dt).link||dt||be||G||z}(Z);if(dt.includes("/__/auth/callback")){const jt=je(dt),sn=jt.firebaseError?function Pt(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(jt.firebaseError)):null,se=null===(be=null===(G=sn?.code)||void 0===G?void 0:G.split("auth/"))||void 0===be?void 0:be[1],he=se?(0,U.az)(se):null;return he?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:he,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:dt,postBody:null}}return null}(Vt,Ke.url)),G.onEvent(yn||tt())});return function(Vt){return Oe.apply(this,arguments)}}();typeof be<"u"&&"function"==typeof be.subscribe&&be.subscribe(null,se);const he=dt,te=`${jt.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var Oe=(0,d.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(te)&&se({url:Ke}),"function"==typeof he)try{he(Ke)}catch(Vt){console.error(Vt)}});return function(Ke){return Oe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(Z){var G=this;return(0,d.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,G,be,dt){var jt=this;return(0,d.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(Z,G,be,dt)})()}_openRedirect(Z,G,be,dt){var jt=this;return(0,d.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(Z,G,be,dt)})()}_isIframeWebStorageSupported(Z,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,G)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return Ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,d.Z)(function*(){if(Z.underlyingResolver)return;const G=yield function _r(){return xt.apply(this,arguments)}();Z.underlyingResolver=G?Z.cordovaResolver:Z.browserResolver})()}}function Xt(z){return z.unwrap()}function Cn(z){return On(z)}function On(z){const{_tokenResponse:Z}=z instanceof ce.ZR?z.customData:z;if(!Z)return null;if(!(z instanceof ce.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return U.P.credentialFromResult(z);const G=Z.providerId;if(!G||G===U.p.PASSWORD)return null;let be;switch(G){case U.p.GOOGLE:be=U.V;break;case U.p.FACEBOOK:be=U.U;break;case U.p.GITHUB:be=U.W;break;case U.p.TWITTER:be=U.Z;break;default:const{oauthIdToken:dt,oauthAccessToken:jt,oauthTokenSecret:sn,pendingToken:se,nonce:he}=Z;return jt||sn||dt||se?se?G.startsWith("saml.")?U.aO._create(G,se):U.L._fromParams({providerId:G,signInMethod:G,pendingToken:se,idToken:dt,accessToken:jt}):new U.X(G).credential({idToken:dt,accessToken:jt,rawNonce:he}):null}return z instanceof ce.ZR?be.credentialFromError(z):be.credentialFromResult(z)}function dn(z,Z){return Z.catch(G=>{throw G instanceof ce.ZR&&function Ot(z,Z){var G;const be=null===(G=Z.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===Z?.code)Z.resolver=new Zt(z,U.aq(z,Z));else if(be){const dt=On(Z),jt=Z;dt&&(jt.credential=dt,jt.tenantId=be.tenantId||void 0,jt.email=be.email||void 0,jt.phoneNumber=be.phoneNumber||void 0)}}(z,G),G}).then(G=>{const dt=G.user;return{operationType:G.operationType,credential:Cn(G),additionalUserInfo:U.ao(G),user:Jt.getOrCreate(dt)}})}function tr(z,Z){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(z,Z){const G=yield Z;return{verificationId:G.verificationId,confirm:be=>dn(z,G.confirm(be))}})).apply(this,arguments)}class Zt{constructor(Z,G){this.resolver=G,this.auth=function mn(z){return z.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return dn(Xt(this.auth),this.resolver.resolveSignIn(Z))}}class Jt{constructor(Z){this._delegate=Z,this.multiFactor=U.ar(Z)}static getOrCreate(Z){return Jt.USER_MAP.has(Z)||Jt.USER_MAP.set(Z,new Jt(Z)),Jt.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var G=this;return(0,d.Z)(function*(){return dn(G.auth,U.a0(G._delegate,Z))})()}linkWithPhoneNumber(Z,G){var be=this;return(0,d.Z)(function*(){return tr(be.auth,U.l(be._delegate,Z,G))})()}linkWithPopup(Z){var G=this;return(0,d.Z)(function*(){return dn(G.auth,U.d(G._delegate,Z,ut))})()}linkWithRedirect(Z){var G=this;return(0,d.Z)(function*(){return yield Kn(U.aH(G.auth)),U.g(G._delegate,Z,ut)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var G=this;return(0,d.Z)(function*(){return dn(G.auth,U.a1(G._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,G){return tr(this.auth,U.r(this._delegate,Z,G))}reauthenticateWithPopup(Z){return dn(this.auth,U.e(this._delegate,Z,ut))}reauthenticateWithRedirect(Z){var G=this;return(0,d.Z)(function*(){return yield Kn(U.aH(G.auth)),U.h(G._delegate,Z,ut)})()}sendEmailVerification(Z){return U.ae(this._delegate,Z)}unlink(Z){var G=this;return(0,d.Z)(function*(){return yield U.an(G._delegate,Z),G})()}updateEmail(Z){return U.aj(this._delegate,Z)}updatePassword(Z){return U.ak(this._delegate,Z)}updatePhoneNumber(Z){return U.u(this._delegate,Z)}updateProfile(Z){return U.ai(this._delegate,Z)}verifyBeforeUpdateEmail(Z,G){return U.af(this._delegate,Z,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jt.USER_MAP=new WeakMap;const Pn=U.aA;let Zn=(()=>{class z{constructor(G,be){if(this.app=G,be.isInitialized())return this._delegate=be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:dt}=G.options;Pn(dt,"invalid-api-key",{appName:G.name}),Pn(dt,"invalid-api-key",{appName:G.name});const jt=typeof window<"u"?ut:void 0;this._delegate=be.initialize({options:{persistence:L(dt,G.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(U.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,be){U.I(this._delegate,G,be)}applyActionCode(G){return U.a5(this._delegate,G)}checkActionCode(G){return U.a6(this._delegate,G)}confirmPasswordReset(G,be){return U.a4(this._delegate,G,be)}createUserWithEmailAndPassword(G,be){var dt=this;return(0,d.Z)(function*(){return dn(dt._delegate,U.a8(dt._delegate,G,be))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return U.ad(this._delegate,G)}isSignInWithEmailLink(G){return U.ab(this._delegate,G)}getRedirectResult(){var G=this;return(0,d.Z)(function*(){Pn(Vn(),G._delegate,"operation-not-supported-in-this-environment");const be=yield U.j(G._delegate,ut);return be?dn(G._delegate,Promise.resolve(be)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function _t(z,Z){(0,U.aH)(z)._logFramework(Z)}(this._delegate,G)}onAuthStateChanged(G,be,dt){const{next:jt,error:sn,complete:se}=Xe(G,be,dt);return this._delegate.onAuthStateChanged(jt,sn,se)}onIdTokenChanged(G,be,dt){const{next:jt,error:sn,complete:se}=Xe(G,be,dt);return this._delegate.onIdTokenChanged(jt,sn,se)}sendSignInLinkToEmail(G,be){return U.aa(this._delegate,G,be)}sendPasswordResetEmail(G,be){return U.a3(this._delegate,G,be||void 0)}setPersistence(G){var be=this;return(0,d.Z)(function*(){let dt;switch(function Un(z,Z){ir(Object.values(jn).includes(Z),z,"invalid-persistence-type"),(0,ce.b$)()?ir(Z!==jn.SESSION,z,"unsupported-persistence-type"):(0,ce.UG)()?ir(Z===jn.NONE,z,"unsupported-persistence-type"):xn()?ir(Z===jn.NONE||Z===jn.LOCAL&&(0,ce.hl)(),z,"unsupported-persistence-type"):ir(Z===jn.NONE||cn(),z,"unsupported-persistence-type")}(be._delegate,G),G){case jn.SESSION:dt=U.a;break;case jn.LOCAL:dt=(yield U.aC(U.i)._isAvailable())?U.i:U.b;break;case jn.NONE:dt=U.N;break;default:return U.av("argument-error",{appName:be._delegate.name})}return be._delegate.setPersistence(dt)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return dn(this._delegate,U._(this._delegate))}signInWithCredential(G){return dn(this._delegate,U.$(this._delegate,G))}signInWithCustomToken(G){return dn(this._delegate,U.a2(this._delegate,G))}signInWithEmailAndPassword(G,be){return dn(this._delegate,U.a9(this._delegate,G,be))}signInWithEmailLink(G,be){return dn(this._delegate,U.ac(this._delegate,G,be))}signInWithPhoneNumber(G,be){return tr(this._delegate,U.s(this._delegate,G,be))}signInWithPopup(G){var be=this;return(0,d.Z)(function*(){return Pn(Vn(),be._delegate,"operation-not-supported-in-this-environment"),dn(be._delegate,U.c(be._delegate,G,ut))})()}signInWithRedirect(G){var be=this;return(0,d.Z)(function*(){return Pn(Vn(),be._delegate,"operation-not-supported-in-this-environment"),yield Kn(be._delegate),U.f(be._delegate,G,ut)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return U.a7(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=jn,z})();function Xe(z,Z,G){let be=z;"function"!=typeof z&&({next:be,error:Z,complete:G}=z);const dt=be;return{next:sn=>dt(sn&&Jt.getOrCreate(sn)),error:Z,complete:G}}function L(z,Z){const G=function me(z,Z){const G=pe();if(!G)return[];const be=U.aD(Br,z,Z);switch(G.getItem(be)){case jn.NONE:return[U.N];case jn.LOCAL:return[U.i,U.a];case jn.SESSION:return[U.a];default:return[]}}(z,Z);if(typeof self<"u"&&!G.includes(U.i)&&G.push(U.i),typeof window<"u")for(const be of[U.b,U.a])G.includes(be)||G.push(be);return G.includes(U.N)||G.push(U.N),G}class X{constructor(){this.providerId="phone",this._delegate=new U.P(Xt(F.Z.auth()))}static credential(Z,G){return U.P.credential(Z,G)}verifyPhoneNumber(Z,G){return this._delegate.verifyPhoneNumber(Z,G)}unwrap(){return this._delegate}}X.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,X.PROVIDER_ID=U.P.PROVIDER_ID;const de=U.aA;class He{constructor(Z,G,be=F.Z.app()){var dt;de(null===(dt=be.options)||void 0===dt?void 0:dt.apiKey,"invalid-api-key",{appName:be.name}),this._delegate=new U.R(Z,G,be.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(z){z.INTERNAL.registerComponent(new De.wA("auth-compat",Z=>{const G=Z.getProvider("app-compat").getImmediate(),be=Z.getProvider("auth");return new Zn(G,be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.Q,FacebookAuthProvider:U.U,GithubAuthProvider:U.W,GoogleAuthProvider:U.V,OAuthProvider:U.X,SAMLAuthProvider:U.Y,PhoneAuthProvider:X,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:He,TwitterAuthProvider:U.Z,Auth:Zn,AuthCredential:U.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.4.2")}(F.Z)},8179:(Ut,ke,R)=>{R.d(ke,{EK:()=>d.EK});var d=R(2810)},5861:(Ut,ke,R)=>{function d(U,ce,ae,we,De,ee,Pe){try{var ne=U[ee](Pe),ue=ne.value}catch(ye){return void ae(ye)}ne.done?ce(ue):Promise.resolve(ue).then(we,De)}function F(U){return function(){var ce=this,ae=arguments;return new Promise(function(we,De){var ee=U.apply(ce,ae);function Pe(ue){d(ee,we,De,Pe,ne,"next",ue)}function ne(ue){d(ee,we,De,Pe,ne,"throw",ue)}Pe(void 0)})}}R.d(ke,{Z:()=>F})},7582:(Ut,ke,R)=>{function ce(je,Be){var Je={};for(var $e in je)Object.prototype.hasOwnProperty.call(je,$e)&&Be.indexOf($e)<0&&(Je[$e]=je[$e]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for($e=Object.getOwnPropertySymbols(je);tt<$e.length;tt++)Be.indexOf($e[tt])<0&&Object.prototype.propertyIsEnumerable.call(je,$e[tt])&&(Je[$e[tt]]=je[$e[tt]])}return Je}function ye(je,Be,Je,$e){return new(Je||(Je=Promise))(function(_t,Ct){function At(nn){try{Nt($e.next(nn))}catch(ln){Ct(ln)}}function Ht(nn){try{Nt($e.throw(nn))}catch(ln){Ct(ln)}}function Nt(nn){nn.done?_t(nn.value):function tt(_t){return _t instanceof Je?_t:new Je(function(Ct){Ct(_t)})}(nn.value).then(At,Ht)}Nt(($e=$e.apply(je,Be||[])).next())})}function ge(je){return this instanceof ge?(this.v=je,this):new ge(je)}function st(je,Be,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,$e=Je.apply(je,Be||[]),_t=[];return tt={},Ct("next"),Ct("throw"),Ct("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ct(un){$e[un]&&(tt[un]=function(Ln){return new Promise(function(rr,Gt){_t.push([un,Ln,rr,Gt])>1||At(un,Ln)})})}function At(un,Ln){try{!function Ht(un){un.value instanceof ge?Promise.resolve(un.value.v).then(Nt,nn):ln(_t[0][2],un)}($e[un](Ln))}catch(rr){ln(_t[0][3],rr)}}function Nt(un){At("next",un)}function nn(un){At("throw",un)}function ln(un,Ln){un(Ln),_t.shift(),_t.length&&At(_t[0][0],_t[0][1])}}function Et(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Be=je[Symbol.asyncIterator];return Be?Be.call(je):(je=function wt(je){var Be="function"==typeof Symbol&&Symbol.iterator,Je=Be&&je[Be],$e=0;if(Je)return Je.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&$e>=je.length&&(je=void 0),{value:je&&je[$e++],done:!je}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),Je={},$e("next"),$e("throw"),$e("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function $e(_t){Je[_t]=je[_t]&&function(Ct){return new Promise(function(At,Ht){!function tt(_t,Ct,At,Ht){Promise.resolve(Ht).then(function(Nt){_t({value:Nt,done:At})},Ct)}(At,Ht,(Ct=je[_t](Ct)).done,Ct.value)})}}}R.d(ke,{FC:()=>st,KL:()=>Et,_T:()=>ce,mG:()=>ye,qq:()=>ge})}},Ut=>{Ut(Ut.s=5877)}]);